(function(){d3.scale.ordinal_ori=d3.scale.ordinal;d3.scale.ordinal=function(){return a([],{t:"range",x:[]})};function d(b){var s=b[0],c=b[b.length-1];return s<c?[s,c]:[c,s]}function a(b,r){var c,e,f;function s(x){return e[((c.get(x)||c.set(x,b.push(x)))-1)%e.length]}function g(h,j){return d3.range(b.length).map(function(i){return h+j*i})}s.domain=function(x){if(!arguments.length)return b;c=d3.map();var i=-1,n=x.length,h;while(++i<n)if(!c.has(h=x[i])){c.set(h,h)}b=c.values();var j=0;c.forEach(function(k,v){this.set(k,++j)});return s[r.t](r.x,r.p)};s.range=function(x){if(!arguments.length)return e;e=x;f=0;r={t:"range",x:x};return s};s.rangePoints=function(x,p){if(arguments.length<2)p=0;var h=x[0],i=x[1],j=(i-h)/(b.length-1+p);e=g(b.length<2?(h+i)/2:h+j*p/2,j);f=0;r={t:"rangePoints",x:x,p:p};return s};s.rangeBands=function(x,p){if(arguments.length<2)p=0;var h=x[1]<x[0],i=x[h-0],j=x[1-h],k=(j-i)/(b.length+p);e=g(i+k*p,k);if(h)e.reverse();f=k*(1-p);r={t:"rangeBands",x:x,p:p};return s};s.rangeRoundBands=function(x,p){if(arguments.length<2)p=0;var h=x[1]<x[0],i=x[h-0],j=x[1-h],k=Math.floor((j-i)/(b.length+p)),l=j-i-(b.length-p)*k;e=g(i+Math.round(l/2),k);if(h)e.reverse();f=Math.round(k*(1-p));r={t:"rangeRoundBands",x:x,p:p};return s};s.rangeBand=function(){return f};s.rangeExtent=function(){return d(r.x)};s.copy=function(){return a(b,r)};return s.domain(b)}})();
