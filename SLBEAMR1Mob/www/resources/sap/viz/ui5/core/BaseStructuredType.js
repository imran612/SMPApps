/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.viz.ui5.core.BaseStructuredType");jQuery.sap.require("sap.viz.library");jQuery.sap.require("sap.ui.core.Element");sap.ui.core.Element.extend("sap.viz.ui5.core.BaseStructuredType",{metadata:{"abstract":true,library:"sap.viz"}});
sap.viz.ui5.core.BaseStructuredType.prototype._getOrCreate=function(n){var o=this.getAggregation(n);if(!o){var a=this.getMetadata().getAggregations()[n];jQuery.sap.require(a.type);var F=jQuery.sap.getObject(a.type);o=new F();this.setAggregation(n,o)}return o};
sap.viz.ui5.core.BaseStructuredType.prototype._getOptions=function(i){var m=this.getMetadata(),o={},p,d,a,n,v;function t(n){n=(n==='toolTip'?'tooltip':n);return n}function b(n){var r=n;switch(n){case'triangleUp':r='triangle-up';break;case'triangleDown':r='triangle-down';break;case'triangleLeft':r='triangle-left';break;case'triangleRight':r='triangle-right';break}return r}m.getJSONKeys();var p=m.getAllProperties();var d=m.getPropertyDefaults();for(n in p){if(p[n]._oParent===m){v=this.getProperty(n);if(v instanceof Array){if(i||!d[n]||v.toString()!==d[n].toString()){o[t(n)]=b(v)}}else{if(i||v!==d[n]){o[t(n)]=b(v)}}}}var a=m.getAllAggregations();for(n in a){if(a[n]._oParent==m){v=this.getAggregation(n,null);if(v!==null){o[t(n)]=v._getOptions(i)}}}return o};
sap.viz.ui5.core.BaseStructuredType._convertAggregatedObject=function(a,o,m){if(o!=null){var A=this.getMetadata().getAllAggregations()[a];var c=o.getMetadata&&o.getMetadata().getName();if(A&&c!==A.type){jQuery.sap.require(A.type);var C=jQuery.sap.getObject(A.type);o=new C(o._getOptions(true));jQuery.sap.log.warning("[Deprecated] Type of aggregation '"+this.getMetadata().getName()+"."+a+" has been changed from '"+c+"' to '"+A.type+"'.")}}return o};
sap.viz.ui5.core.BaseStructuredType.prototype.validateProperty=function(p,v){if(/^(lineSize|size)$/.test(p)){var P=this.getMetadata().getAllProperties()[p];if(P&&P.type==="int"&&typeof v!=="number"){v=v?parseInt(v,10):null}}return sap.ui.core.Element.prototype.validateProperty.call(this,p,v)};
sap.viz.ui5.core.BaseStructuredType.prototype.validateAggregation=function(a,o,m){if(a==="selectability"){o=sap.viz.ui5.core.BaseStructuredType._convertAggregatedObject.call(this,a,o,m)}return sap.ui.core.Element.prototype.validateAggregation.call(this,a,o,m)};
