/* SAP CVOM 4.0 Â© <2012-2014> SAP AG. All rights reserved. Build Version PI_bycheckin.1506 */
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version='2.1.5',commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=='undefined'&&navigator&&document),isWebWorker=!isBrowser&&typeof importScripts!=='undefined',readyRegExp=isBrowser&&navigator.platform==='PLAYSTATION 3'?/^complete$/:/^(complete|loaded)$/,defContextName='_',isOpera=typeof opera!=='undefined'&&opera.toString()==='[object Opera]',contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(i){return ostring.call(i)==='[object Function]'}function isArray(i){return ostring.call(i)==='[object Array]'}function each(a,f){if(a){var i;for(i=0;i<a.length;i+=1){if(a[i]&&f(a[i],i,a)){break}}}}function eachReverse(a,f){if(a){var i;for(i=a.length-1;i>-1;i-=1){if(a[i]&&f(a[i],i,a)){break}}}}function hasProp(o,p){return hasOwn.call(o,p)}function getOwn(o,p){return hasProp(o,p)&&o[p]}function eachProp(o,f){var p;for(p in o){if(hasProp(o,p)){if(f(o[p],p)){break}}}}function mixin(t,a,f,d){if(a){eachProp(a,function(v,p){if(f||!hasProp(t,p)){if(d&&typeof v!=='string'){if(!t[p]){t[p]={}}mixin(t[p],v,f,d)}else{t[p]=v}}})}return t}function bind(o,f){return function(){return f.apply(o,arguments)}}function scripts(){return document.getElementsByTagName('script')}function getGlobal(v){if(!v){return v}var g=global;each(v.split('.'),function(p){g=g[p]});return g}function makeError(i,m,a,r){var e=new Error(m+'\nhttp://requirejs.org/docs/errors.html#'+i);e.requireType=i;e.requireModules=r;if(a){e.originalError=a}return e}if(typeof define!=='undefined'){return}if(typeof requirejs!=='undefined'){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=='undefined'&&!isFunction(require)){cfg=require;require=undefined}function newContext(c){var a,M,b,h,d,f={waitSeconds:7,baseUrl:'./',paths:{},pkgs:{},shim:{},config:{}},r={},g={},u={},k=[],l={},m={},n=1,o=1;function t(e){var i,j;for(i=0;e[i];i+=1){j=e[i];if(j==='.'){e.splice(i,1);i-=1}else if(j==='..'){if(i===1&&(e[2]==='..'||e[0]==='..')){break}else if(i>0){e.splice(i-1,2);i-=2}}}}function p(e,J,K){var L,N,O,P,i,j,Q,R,S,T,U,V=J&&J.split('/'),W=V,X=f.map,Y=X&&X['*'];if(e&&e.charAt(0)==='.'){if(J){if(getOwn(f.pkgs,J)){W=V=[J]}else{W=V.slice(0,V.length-1)}e=W.concat(e.split('/'));t(e);N=getOwn(f.pkgs,(L=e[0]));e=e.join('/');if(N&&e===L+'/'+N.main){e=L}}else if(e.indexOf('./')===0){e=e.substring(2)}}if(K&&X&&(V||Y)){P=e.split('/');for(i=P.length;i>0;i-=1){Q=P.slice(0,i).join('/');if(V){for(j=V.length;j>0;j-=1){O=getOwn(X,V.slice(0,j).join('/'));if(O){O=getOwn(O,Q);if(O){R=O;S=i;break}}}}if(R){break}if(!T&&Y&&getOwn(Y,Q)){T=getOwn(Y,Q);U=i}}if(!R&&T){R=T;S=U}if(R){P.splice(0,S,R);e=P.join('/')}}return e}function q(e){if(isBrowser){each(scripts(),function(i){if(i.getAttribute('data-requiremodule')===e&&i.getAttribute('data-requirecontext')===b.contextName){i.parentNode.removeChild(i);return true}})}}function v(i){var e=getOwn(f.paths,i);if(e&&isArray(e)&&e.length>1){q(i);e.shift();b.require.undef(i);b.require([i]);return true}}function w(e){var i,j=e?e.indexOf('!'):-1;if(j>-1){i=e.substring(0,j);e=e.substring(j+1,e.length)}return[i,e]}function x(e,i,j,J){var K,L,N,O,P=null,Q=i?i.name:null,R=e,S=true,T='';if(!e){S=false;e='_@r'+(n+=1)}O=w(e);P=O[0];e=O[1];if(P){P=p(P,Q,J);L=getOwn(l,P)}if(e){if(P){if(L&&L.normalize){T=L.normalize(e,function(e){return p(e,Q,J)})}else{T=p(e,Q,J)}}else{T=p(e,Q,J);O=w(T);P=O[0];T=O[1];j=true;K=b.nameToUrl(T)}}N=P&&!L&&!j?'_unnormalized'+(o+=1):'';return{prefix:P,name:T,parentMap:i,unnormalized:!!N,url:K,originalName:R,isDefine:S,id:(P?P+'!'+T:T)+N}}function y(e){var i=e.id,j=getOwn(r,i);if(!j){j=r[i]=new b.Module(e)}return j}function z(e,i,j){var J=e.id,K=getOwn(r,J);if(hasProp(l,J)&&(!K||K.defineEmitComplete)){if(i==='defined'){j(l[J])}}else{y(e).on(i,j)}}function A(e,i){var j=e.requireModules,J=false;if(i){i(e)}else{each(j,function(K){var L=getOwn(r,K);if(L){L.error=e;if(L.events.error){J=true;L.emit('error',e)}}});if(!J){req.onError(e)}}}function B(){if(globalDefQueue.length){apsp.apply(k,[k.length-1,0].concat(globalDefQueue));globalDefQueue=[]}}h={'require':function(e){if(e.require){return e.require}else{return(e.require=b.makeRequire(e.map))}},'exports':function(e){e.usingExports=true;if(e.map.isDefine){if(e.exports){return e.exports}else{return(e.exports=l[e.map.id]={})}}},'module':function(e){if(e.module){return e.module}else{return(e.module={id:e.map.id,uri:e.map.url,config:function(){return(f.config&&getOwn(f.config,e.map.id))||{}},exports:l[e.map.id]})}}};function C(i){delete r[i];delete g[i]}function D(e,j,J){var K=e.map.id;if(e.error){e.emit('error',e.error)}else{j[K]=true;each(e.depMaps,function(L,i){var N=L.id,O=getOwn(r,N);if(O&&!e.depMatched[i]&&!J[N]){if(getOwn(j,N)){e.defineDep(i,l[N]);e.check()}else{D(O,j,J)}}});J[K]=true}}function E(){var e,i,j,J,K=f.waitSeconds*1000,L=K&&(b.startTime+K)<new Date().getTime(),N=[],O=[],P=false,Q=true;if(a){return}a=true;eachProp(g,function(R){e=R.map;i=e.id;if(!R.enabled){return}if(!e.isDefine){O.push(R)}if(!R.error){if(!R.inited&&L){if(v(i)){J=true;P=true}else{N.push(i);q(i)}}else if(!R.inited&&R.fetched&&e.isDefine){P=true;if(!e.prefix){return(Q=false)}}}});if(L&&N.length){j=makeError('timeout','Load timeout for modules: '+N,null,N);j.contextName=b.contextName;return A(j)}if(Q){each(O,function(R){D(R,{},{})})}if((!L||J)&&P){if((isBrowser||isWebWorker)&&!d){d=setTimeout(function(){d=0;E()},50)}}a=false}M=function(e){this.events=getOwn(u,e.id)||{};this.map=e;this.shim=getOwn(f.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};M.prototype={init:function(e,i,j,J){J=J||{};if(this.inited){return}this.factory=i;if(j){this.on('error',j)}else if(this.events.error){j=bind(this,function(K){this.emit('error',K)})}this.depMaps=e&&e.slice(0);this.errback=j;this.inited=true;this.ignore=J.ignore;if(J.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,e){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=e}},fetch:function(){if(this.fetched){return}this.fetched=true;b.startTime=(new Date()).getTime();var e=this.map;if(this.shim){b.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}else{return e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;if(!m[e]){m[e]=true;b.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling){return}var i,j,J=this.map.id,K=this.depExports,L=this.exports,N=this.factory;if(!this.inited){this.fetch()}else if(this.error){this.emit('error',this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(N)){if(this.events.error){try{L=b.execCb(J,N,K,L)}catch(e){i=e}}else{L=b.execCb(J,N,K,L)}if(this.map.isDefine){j=this.module;if(j&&j.exports!==undefined&&j.exports!==this.exports){L=j.exports}else if(L===undefined&&this.usingExports){L=this.exports}}if(i){i.requireMap=this.map;i.requireModules=[this.map.id];i.requireType='define';return A((this.error=i))}}else{L=N}this.exports=L;if(this.map.isDefine&&!this.ignore){l[J]=L;if(req.onResourceLoad){req.onResourceLoad(b,this.map,this.depMaps)}}C(J);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit('defined',this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var i=this.map,j=i.id,J=x(i.prefix);this.depMaps.push(J);z(J,'defined',bind(this,function(K){var L,N,O,P=this.map.name,Q=this.map.parentMap?this.map.parentMap.name:null,R=b.makeRequire(i.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(K.normalize){P=K.normalize(P,function(P){return p(P,Q,true)})||''}N=x(i.prefix+'!'+P,this.map.parentMap);z(N,'defined',bind(this,function(e){this.init([],function(){return e},null,{enabled:true,ignore:true})}));O=getOwn(r,N.id);if(O){this.depMaps.push(N);if(this.events.error){O.on('error',bind(this,function(e){this.emit('error',e)}))}O.enable()}return}L=bind(this,function(e){this.init([],function(){return e},null,{enabled:true})});L.error=bind(this,function(e){this.inited=true;this.error=e;e.requireModules=[j];eachProp(r,function(S){if(S.map.id.indexOf(j+'_unnormalized')===0){C(S.map.id)}});A(e)});L.fromText=bind(this,function(S,T){var U=i.name,V=x(U),W=useInteractive;if(T){S=T}if(W){useInteractive=false}y(V);if(hasProp(f.config,j)){f.config[U]=f.config[j]}try{req.exec(S)}catch(e){return A(makeError('fromtexteval','fromText eval for '+j+' failed: '+e,e,[j]))}if(W){useInteractive=true}this.depMaps.push(V);b.completeLoad(U);R([U],L)});K.load(i.name,R,L,f)}));b.enable(J,this);this.pluginMaps[J.id]=J},enable:function(){g[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(e,i){var j,J,K;if(typeof e==='string'){e=x(e,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=e;K=getOwn(h,e.id);if(K){this.depExports[i]=K(this);return}this.depCount+=1;z(e,'defined',bind(this,function(L){this.defineDep(i,L);this.check()}));if(this.errback){z(e,'error',this.errback)}}j=e.id;J=r[j];if(!hasProp(h,j)&&J&&!J.enabled){b.enable(e,this)}}));eachProp(this.pluginMaps,bind(this,function(e){var i=getOwn(r,e.id);if(i&&!i.enabled){b.enable(e,this)}}));this.enabling=false;this.check()},on:function(e,i){var j=this.events[e];if(!j){j=this.events[e]=[]}j.push(i)},emit:function(e,i){each(this.events[e],function(j){j(i)});if(e==='error'){delete this.events[e]}}};function F(e){if(!hasProp(l,e[0])){y(x(e[0],null,true)).init(e[1],e[2])}}function G(e,i,j,J){if(e.detachEvent&&!isOpera){if(J){e.detachEvent(J,i)}}else{e.removeEventListener(j,i,false)}}function H(e){var i=e.currentTarget||e.srcElement;G(i,b.onScriptLoad,'load','onreadystatechange');G(i,b.onScriptError,'error');return{node:i,id:i&&i.getAttribute('data-requiremodule')}}function I(){var e;B();while(k.length){e=k.shift();if(e[0]===null){return A(makeError('mismatch','Mismatched anonymous define() module: '+e[e.length-1]))}else{F(e)}}}b={config:f,contextName:c,registry:r,defined:l,urlFetched:m,defQueue:k,Module:M,makeModuleMap:x,nextTick:req.nextTick,onError:A,configure:function(e){if(e.baseUrl){if(e.baseUrl.charAt(e.baseUrl.length-1)!=='/'){e.baseUrl+='/'}}var i=f.pkgs,j=f.shim,J={paths:true,config:true,map:true};eachProp(e,function(K,L){if(J[L]){if(L==='map'){if(!f.map){f.map={}}mixin(f[L],K,true,true)}else{mixin(f[L],K,true)}}else{f[L]=K}});if(e.shim){eachProp(e.shim,function(K,L){if(isArray(K)){K={deps:K}}if((K.exports||K.init)&&!K.exportsFn){K.exportsFn=b.makeShimExports(K)}j[L]=K});f.shim=j}if(e.packages){each(e.packages,function(K){var L;K=typeof K==='string'?{name:K}:K;L=K.location;i[K.name]={name:K.name,location:L||K.name,main:(K.main||'main').replace(currDirRegExp,'').replace(jsSuffixRegExp,'')}});f.pkgs=i}eachProp(r,function(K,L){if(!K.inited&&!K.map.unnormalized){K.map=x(L)}});if(e.deps||e.callback){b.require(e.deps||[],e.callback)}},makeShimExports:function(e){function i(){var j;if(e.init){j=e.init.apply(global,arguments)}return j||(e.exports&&getGlobal(e.exports))}return i},makeRequire:function(e,i){i=i||{};function j(J,K,L){var N,O,P;if(i.enableBuildCallback&&K&&isFunction(K)){K.__requireJsBuild=true}if(typeof J==='string'){if(isFunction(K)){return A(makeError('requireargs','Invalid require call'),L)}if(e&&hasProp(h,J)){return h[J](r[e.id])}if(req.get){return req.get(b,J,e,j)}O=x(J,e,false,true);N=O.id;if(!hasProp(l,N)){return A(makeError('notloaded','Module name "'+N+'" has not been loaded yet for context: '+c+(e?'':'. Use require([])')))}return l[N]}I();b.nextTick(function(){I();P=y(x(null,e));P.skipMap=i.skipMap;P.init(J,K,L,{enabled:true});E()});return j}mixin(j,{isBrowser:isBrowser,toUrl:function(J){var K,L=J.lastIndexOf('.'),N=J.split('/')[0],O=N==='.'||N==='..';if(L!==-1&&(!O||L>1)){K=J.substring(L,J.length);J=J.substring(0,L)}return b.nameToUrl(p(J,e&&e.id,true),K,true)},defined:function(J){return hasProp(l,x(J,e,false,true).id)},specified:function(J){J=x(J,e,false,true).id;return hasProp(l,J)||hasProp(r,J)}});if(!e){j.undef=function(J){B();var K=x(J,e,true),L=getOwn(r,J);delete l[J];delete m[K.url];delete u[J];if(L){if(L.events.defined){u[J]=L.events}C(J)}}}return j},enable:function(e){var i=getOwn(r,e.id);if(i){y(e).enable()}},completeLoad:function(e){var i,j,J,K=getOwn(f.shim,e)||{},L=K.exports;B();while(k.length){j=k.shift();if(j[0]===null){j[0]=e;if(i){break}i=true}else if(j[0]===e){i=true}F(j)}J=getOwn(r,e);if(!i&&!hasProp(l,e)&&J&&!J.inited){if(f.enforceDefine&&(!L||!getGlobal(L))){if(v(e)){return}else{return A(makeError('nodefine','No define call for '+e,null,[e]))}}else{F([e,(K.deps||[]),K.exportsFn])}}E()},nameToUrl:function(e,j,J){var K,L,N,O,P,i,Q,R,S;if(req.jsExtRegExp.test(e)){R=e+(j||'')}else{K=f.paths;L=f.pkgs;P=e.split('/');for(i=P.length;i>0;i-=1){Q=P.slice(0,i).join('/');N=getOwn(L,Q);S=getOwn(K,Q);if(S){if(isArray(S)){S=S[0]}P.splice(0,i,S);break}else if(N){if(e===N.name){O=N.location+'/'+N.main}else{O=N.location}P.splice(0,i,O);break}}R=P.join('/');R+=(j||(/\?/.test(R)||J?'':'.js'));R=(R.charAt(0)==='/'||R.match(/^[\w\+\.\-]+:/)?'':f.baseUrl)+R}return f.urlArgs?R+((R.indexOf('?')===-1?'?':'&')+f.urlArgs):R},load:function(i,e){req.load(b,i,e)},execCb:function(e,i,j,J){return i.apply(J,j)},onScriptLoad:function(e){if(e.type==='load'||(readyRegExp.test((e.currentTarget||e.srcElement).readyState))){interactiveScript=null;var i=H(e);b.completeLoad(i.id)}},onScriptError:function(e){var i=H(e);if(!v(i.id)){return A(makeError('scripterror','Script error',e,[i.id]))}}};b.require=b.makeRequire();return b}req=requirejs=function(d,c,e,o){var a,b,f=defContextName;if(!isArray(d)&&typeof d!=='string'){b=d;if(isArray(c)){d=c;c=e;e=o}else{d=[]}}if(b&&b.context){f=b.context}a=getOwn(contexts,f);if(!a){a=contexts[f]=req.s.newContext(f)}if(b){a.configure(b)}return a.require(d,c,e)};req.config=function(c){return req(c)};req.nextTick=typeof setTimeout!=='undefined'?function(f){setTimeout(f,4)}:function(f){f()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(['toUrl','undef','defined','specified'],function(p){req[p]=function(){var c=contexts[defContextName];return c.require[p].apply(c,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName('head')[0];baseElement=document.getElementsByTagName('base')[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=function(e){throw e};req.load=function(c,m,u){var a=(c&&c.config)||{},n;if(isBrowser){n=a.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');n.type=a.scriptType||'text/javascript';n.charset='utf-8';n.async=true;n.setAttribute('data-requirecontext',c.contextName);n.setAttribute('data-requiremodule',m);if(n.attachEvent&&!(n.attachEvent.toString&&n.attachEvent.toString().indexOf('[native code')<0)&&!isOpera){useInteractive=true;n.attachEvent('onreadystatechange',c.onScriptLoad)}else{n.addEventListener('load',c.onScriptLoad,false);n.addEventListener('error',c.onScriptError,false)}n.src=u;currentlyAddingScript=n;if(baseElement){head.insertBefore(n,baseElement)}else{head.appendChild(n)}currentlyAddingScript=null;return n}else if(isWebWorker){try{importScripts(u);c.completeLoad(m)}catch(e){c.onError(makeError('importscripts','importScripts failed for '+m+' at '+u,e,[m]))}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==='interactive'){return interactiveScript}eachReverse(scripts(),function(a){if(a.readyState==='interactive'){return(interactiveScript=a)}});return interactiveScript}if(isBrowser){eachReverse(scripts(),function(a){if(!head){head=a.parentNode}dataMain=a.getAttribute('data-main');if(dataMain){if(!cfg.baseUrl){src=dataMain.split('/');mainScript=src.pop();subPath=src.length?src.join('/')+'/':'./';cfg.baseUrl=subPath;dataMain=mainScript}dataMain=dataMain.replace(jsSuffixRegExp,'');cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain];return true}})}define=function(n,d,c){var a,b;if(typeof n!=='string'){c=d;d=n;n=null}if(!isArray(d)){c=d;d=[]}if(!d.length&&isFunction(c)){if(c.length){c.toString().replace(commentRegExp,'').replace(cjsRequireRegExp,function(m,e){d.push(e)});d=(c.length===1?['require']:['require','exports','module']).concat(d)}}if(useInteractive){a=currentlyAddingScript||getInteractiveScript();if(a){if(!n){n=a.getAttribute('data-requiremodule')}b=contexts[a.getAttribute('data-requirecontext')]}}(b?b.defQueue:globalDefQueue).push([n,d,c])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)}(this));if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){window.__sap_viz_internal_requirejs_nextTick__=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(f){f()}}(function(){var a;if(window){sap=window.sap||{}}else{sap=sap||{}}if(sap){sap.common=sap.common||{}}if(sap.common){sap.common.globalization=sap.common.globalization||{}}sap.common.globalization.VERSION=function(){return"6.2.0"};sap.common.globalization.BUILD=function(){return 1};sap.common.globalization.declare=function(c){if(!c){throw new Error("name required")}if(typeof(c)!="string"){throw new Error("name has to be a string")}if(c.charAt(0)=="."||c.charAt(c.length-1)=="."||c.indexOf("..")!=-1){throw new Error("illegal name: "+c)}c=c.split(".");var d=window;for(var b=0;b<c.length;b++){d[c[b]]=d[c[b]]||{};d=d[c[b]]}return d};sap.common.globalization.require=function(b){};sap.common.globalization.extend=function(f,b){var c=f.prototype;f.superclass=b.prototype;var d=function(){};d.prototype=b.prototype;f.prototype=new d();for(var e in c){if(c.hasOwnProperty(e)){f.prototype[e]=c[e]}}f.prototype.constructor=f;if(b.prototype.constructor==Object.prototype.constructor){b.prototype.constructor=b}return f}})();(function(){sap.common.globalization.declare("sap.common.globalization.NumericFormatManager");sap.common.globalization.require("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");var a=sap.common.globalization.NumericFormatManager;a.DEFAULT_FORMAT_DATE_TIME="SAP_FORMAT_DEFAULT_DATE_TIME";a.DEFAULT_FORMAT_TIME="SAP_FORMAT_DEFAULT_TIME";a.DEFAULT_FORMAT_SHORT_DATE="SAP_FORMAT_DEFAULT_SHORT_DATE";a.DEFAULT_FORMAT_LONG_DATE="SAP_FORMAT_DEFAULT_LONG_DATE";a.DEFAULT_FORMAT_NUMBER="SAP_DEFAULT_NUMBER_FORMAT";a.DEFAULT_FORMAT_BOOLEAN="SAP_DEFAULT_BOOLEAN_FORMAT";a._formatsCache={};a.resetFormatsCache=function(){a._formatsCache={}};a.setPVL=function(e,d){var b=sap.common.globalization.GlobalizationPreference.getInstance().pvl();sap.common.globalization.GlobalizationPreference.getInstance().setPvl(e);var c=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(!b||c!=b){a._formatsCache={};if(!d){a.setCustomizedLocaleInfo(null)}}};a.getPVL=function(){return sap.common.globalization.GlobalizationPreference.getInstance().pvl()};a.setCustomizedLocaleInfo=function(c,b){if(b){delete c.dayStrings;delete c.shortDayStrings;delete c.monthStrings;delete c.shortMonthStrings;delete c.amPms}sap.common.globalization.numericFormat.FLocalization.getInstance().setCustomizedLocaleInfo(c)};a.getThousandSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayThousandSeparator()};a.getDecimalSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayDecimalSeparator()};a.formatToText=function(e,b,d,c){return this._format(e,b,false,d,c)};a.formatToTextWithColor=function(e,b,d,c){return this._format(e,b,true,d,c)};a.getFormattedColor=function(c){var b=undefined;if(c&&c.hasOwnProperty("color")){b=c.color}return b};a.getFormattedText=function(b){var c=b;if(b&&b.hasOwnProperty("text")){c=b.text}return c};a.getFormat=function(f){if((f==null)||(f=="")){return null}if(!a._formatsCache){a._formatsCache=new Object()}var k=a._formatsCache[f];var b=sap.common.globalization.defaultFormat;if(k==null){if(f==a.DEFAULT_FORMAT_SHORT_DATE||f==a.DEFAULT_FORMAT_LONG_DATE||f==a.DEFAULT_FORMAT_DATE_TIME||f==a.DEFAULT_FORMAT_TIME){var f;var m=b.CustomNumericFormatLocaleFactory.getInstance();switch(f){case a.DEFAULT_FORMAT_SHORT_DATE:var j=new b.DefaultShortDateFormatLocaleFactory();k=new sap.common.globalization.numericFormat.FT(j,m);f=j.getDefaultDateFormat();break;case a.DEFAULT_FORMAT_LONG_DATE:var c=new b.DefaultDateFormatLocaleFactory();k=new sap.common.globalization.numericFormat.FT(c,m);f=c.getDefaultDateFormat();break;case a.DEFAULT_FORMAT_DATE_TIME:var e=new b.DefaultDateTimeFormatLocaleFactory();k=new sap.common.globalization.numericFormat.FT(e,m);f=e.getDefaultDateFormat();break;case a.DEFAULT_FORMAT_TIME:default:var i=new b.DefaultTimeFormatLocaleFactory();k=new sap.common.globalization.numericFormat.FT(i,m);f=i.getDefaultDateFormat()}k.parse(f)}else{if(f==a.DEFAULT_FORMAT_NUMBER){var g=new b.DefaultNumericFormatLocaleFactory();var g;var l=g.getDefaultNumericFormat();k=new sap.common.globalization.numericFormat.FT(b.CustomDateFormatLocaleFactory.getInstance(),g);k.parse(l)}else{if(b.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(f)){var h=new b.DefaultCurrencyFormatLocaleFactory(f);var d=h.getDefaultCurrencyFormat();k=new sap.common.globalization.numericFormat.FT(b.CustomDateFormatLocaleFactory.getInstance(),h);k.parse(d)}else{if(f==a.DEFAULT_FORMAT_BOOLEAN){k=new sap.common.globalization.numericFormat.FTBoolean();k.parse(f)}else{k=new sap.common.globalization.numericFormat.FT();k.parse(f)}}}}a._formatsCache[f]=k}return k};a._format=function(i,f,h,j,m){var k=i==null?"":i;var g=a.getFormat(f);var d=false;var e=NaN;var j=j==undefined?true:j;var l;var b=String(k);if(g){if(g.isParsedSuccess()==false&&m==true){b=i}else{g.color=undefined;var c=false;if(j){if(sap.common.globalization.utils.NumberUtil.isNumericValue(k)){c=true}}else{if(sap.common.globalization.utils.BaseUtils.isNumber(k)){c=true}}if(c){b=g.display(Number(k));e=Number(g.color)}else{if(sap.common.globalization.utils.BooleanUtil.isBooleanValue(k)&&sap.common.globalization.numericFormat.FTUtil.isBooleanFT(g)){b=g.display(k)}else{if(k instanceof Date){b=g.display(k)}}}}}if(h&&!isNaN(e)){if(!l){l={}}l.color=e;l.text=b}else{l=b}return l};a.format=function(c,b){var d=a.getFormat(b);if(d==null){return c}return d.display(c)};a.SAP_PARAMETERS={};a.resetParameters=function(){a.SAP_PARAMETERS={}};a.setBooleanDisplayString=function(b,c){sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_TRUE=b;sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_FALSE=c}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.GlobalizationPreference=function(){this.__className="sap.common.globalization.GlobalizationPreference";this._preferredViewingLocale=null};var a=sap.common.globalization.GlobalizationPreference;a._instance=null;a.DOCUMENT_LOCALE="en";a.getInstance=function(){if(!a._instance){a._instance=new sap.common.globalization.GlobalizationPreference()}return a._instance};a.resetInstance=function(){a._instance=new sap.common.globalization.GlobalizationPreference()};a.prototype.pvl=function(){return this._preferredViewingLocale};a.prototype.setPvl=function(b){if(b!=this._preferredViewingLocale){this._preferredViewingLocale=b}};a.prototype.pvlIsoLanguageCode=function(){return this._getIsoLanguageCode(this.pvl())};a.prototype.documentLocale=function(){return a.DOCUMENT_LOCALE};a.prototype.documentIsoLanguageCode=function(){return this._getIsoLanguageCode(a.DOCUMENT_LOCALE)};a.prototype._getIsoLanguageCode=function(b){if(b){return String(b).split("_")[0]}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationBooleanConstant");var a=sap.common.globalization.GlobalizationBooleanConstant;a.BOOLEAN_STRING_TRUE="TRUE";a.BOOLEAN_STRING_FALSE="FALSE";a.getBooleanStrings=function(){return[a.BOOLEAN_STRING_TRUE,a.BOOLEAN_STRING_FALSE]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationNumericConstant=function(){this.__className="sap.common.globalization.GlobalizationNumericConstant"};var a=sap.common.globalization.GlobalizationNumericConstant;a._FORMAT_TYPE_NUMBER="number";a._FORMAT_TYPE_CURRENCY="currency";a._KEY_TYPE_NUMERIC="numeric";a._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR="displayThousandsSeparator";a._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR="displayDecimalSeparator";a._DEFAULT_FORMAT_STRING={af:{number:"#,##0.###",currency:"¤#,##0.00"},af_ZA:{},ar:{number:"#,##0.###",currency:"¤ #,##0.00"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{currency:"¤#0.00"},ar_SA:{currency:"¤#0.00"},ar_SY:{currency:"¤#0.00"},ar_TN:{currency:"¤#0.00"},ar_YE:{currency:"¤#0.00"},az:{number:"#,##0.###",currency:"¤ #,##0.00"},az_AZ:{},be:{number:"#,##0.###",currency:"¤#,##0.00"},be_BY:{},bg:{number:"#,##0.###",currency:"#,##0.00 ¤"},bg_BG:{},bn:{number:"#,##,##0.###",currency:"#,##,##0.00¤;(#,##,##0.00¤)"},bn_IN:{},br:{number:"#,##0.###",currency:"¤#,##0.00"},bs:{number:"#,##0.###",currency:"¤ #,##0.00"},bs_BA:{},ca:{number:"#,##0.###",currency:"#,##0.00 ¤"},ca_ES:{},cs:{number:"#,##0.###",currency:"#,##0.00 ¤"},cs_CZ:{},cy:{number:"#,##0.###",currency:"¤#,##0.00"},cy_GB:{},da:{number:"#,##0.###",currency:"#,##0.00 ¤"},da_DK:{},de:{number:"#,##0.###",currency:"#,##0.00 ¤"},de_AT:{currency:"¤ #,##0.00"},de_BE:{},de_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},de_DE:{},de_LI:{currency:"¤ #,##0.00"},de_LU:{},el:{number:"#,##0.###",currency:"#,##0.00 ¤"},el_CY:{currency:"¤#,##0.00"},el_GR:{},en:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},en_AU:{currency:"¤#,##0.00"},en_BZ:{currency:"¤#,##0.00"},en_CA:{},en_GB:{currency:"¤#,##0.00"},en_HK:{},en_IE:{currency:"¤#,##0.00"},en_IN:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},en_JM:{currency:"¤#,##0.00"},en_NZ:{currency:"¤#,##0.00"},en_PH:{},en_SG:{},en_TT:{currency:"¤#,##0.00"},en_US:{},en_VI:{},en_ZA:{currency:"¤#,##0.00"},en_ZW:{currency:"¤#,##0.00"},es:{number:"#,##0.###",currency:"¤ #,##0.00"},es_AR:{},es_BO:{},es_CL:{currency:"¤#,##0.00;¤-#,##0.00"},es_CO:{},es_CR:{},es_DO:{},es_EC:{currency:"¤#,##0.00;¤-#,##0.00"},es_ES:{},es_GT:{},es_HN:{},es_MX:{},es_NI:{},es_PA:{},es_PE:{},es_PR:{},es_PY:{currency:"¤ #,##0.00;¤ -#,##0.00"},es_SV:{},es_UY:{currency:"¤ #,##0.00;(¤ #,##0.00)"},es_VE:{currency:"¤#,##0.00;¤-#,##0.00"},et:{number:"#,##0.###",currency:"#,##0.00 ¤"},et_EE:{},eu:{number:"#,##0.###",currency:"#,##0.00 ¤"},eu_ES:{},fa:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤;'-#,##0.00' ¤"},fa_IR:{},fi:{number:"#,##0.###",currency:"#,##0.00 ¤"},fi_FI:{},fo:{number:"#,##0.###",currency:"¤#,##0.00;¤-#,##0.00"},fo_FO:{},fr:{number:"#,##0.###",currency:"#,##0.00 ¤"},fr_BE:{},fr_CA:{currency:"#,##0.00 ¤;(#,##0.00 ¤)"},fr_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{number:"#,##0.###",currency:"#,##0.00 ¤"},gl_ES:{},gu:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},gu_IN:{},he:{number:"#,##0.###",currency:"#,##0.00 ¤"},he_IL:{},hi:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},hi_IN:{},hr:{number:"#,##0.###",currency:"#,##0.00 ¤"},hr_HR:{},hu:{number:"#,##0.###",currency:"#,##0.00 ¤"},hu_HU:{},hy:{number:"#0.###",currency:"#0.00 ¤"},hy_AM:{},id:{number:"#,##0.###",currency:"¤#,##0.00"},id_ID:{},is:{number:"#,##0.###",currency:"#,##0.00 ¤"},is_IS:{},it:{number:"#,##0.###",currency:"¤ #,##0.00"},it_CH:{currency:"¤ #,##0.00;¤-#,##0.00"},it_IT:{},ja:{number:"#,##0.###",currency:"¤#,##0.00"},ja_JP:{},ka:{number:"#,##0.###",currency:"¤ #,##0.00"},ka_GE:{},kk:{number:"#,##0.###",currency:"#,##0.00 ¤"},kk_KZ:{},kn:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},kn_IN:{},ko:{number:"#,##0.###",currency:"¤#,##0.00"},ko_KR:{},kok:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},kok_IN:{},lt:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},lt_LT:{},lv:{number:"#,##0.###",currency:"#,##0.00 ¤"},lv_LV:{},mk:{number:"#,##0.###;(#,##0.###)",currency:"¤ #,##0.00"},mk_MK:{},ml:{number:"#,##,##0.###",currency:"#,##,##0.00¤"},ml_IN:{},mn:{number:"#,##0.###",currency:"¤ #,##0.00"},mn_MN:{},mr:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},mr_IN:{},ms:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},ms_BN:{currency:"¤ #,##0.00"},ms_MY:{},mt:{number:"#,##0.###",currency:"¤#,##0.00"},mt_MT:{},nb:{number:"#,##0.###",currency:"¤ #,##0.00"},nb_NO:{},nl:{number:"#,##0.###",currency:"¤ #,##0.00;¤ #,##0.00-"},nl_BE:{currency:"#,##0.00 ¤"},nl_NL:{},nn:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},nn_NO:{},pa:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},pa_IN:{},pl:{number:"#,##0.###",currency:"#,##0.00 ¤"},pl_PL:{},pt:{number:"#,##0.###",currency:"¤#,##0.00;(¤#,##0.00)"},pt_BR:{},pt_PT:{currency:"#,##0.00 ¤"},ro:{number:"#,##0.###",currency:"#,##0.00 ¤"},ro_RO:{},ru:{number:"#,##0.###",currency:"#,##0.00 ¤"},ru_RU:{},ru_UA:{},se:{number:"#,##0.###",currency:"¤ #,##0.00"},se_NO:{},sk:{number:"#,##0.###",currency:"#,##0.00 ¤"},sk_SK:{},sl:{number:"#,##0.###",currency:"#,##0.00 ¤"},sl_SI:{},sq:{number:"#,##0.###",currency:"¤#,##0.00"},sq_AL:{},sr:{number:"#,##0.###",currency:"#,##0.00 ¤"},sr_BA:{},sr_CS:{},sv:{number:"#,##0.###;−#,##0.###",currency:"#,##0.00 ¤"},sv_FI:{},sv_SE:{},sw:{number:"#,##0.###",currency:"#,##0.00 ¤"},sw_KE:{currency:"¤#,##0.00"},syr:{number:"#,##0.###",currency:"¤ #,##0.00"},syr_SY:{},ta:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},ta_IN:{},te:{number:"#,##,##0.###",currency:"¤ #,##,##0.00"},te_IN:{},th:{number:"#,##0.###",currency:"¤#,##0.00;¤-#,##0.00"},th_TH:{},tn:{number:"#,##0.###",currency:"¤#,##0.00"},tn_ZA:{},tr:{number:"#,##0.###",currency:"#,##0.00 ¤"},tr_TR:{},uk:{number:"#,##0.###",currency:"#,##0.00 ¤"},uk_UA:{},uz:{number:"#,##0.###",currency:"¤ #,##0.00"},uz_UZ:{},vi:{number:"#,##0.###",currency:"#,##0.00 ¤"},vi_VN:{},xh:{number:"#,##0.###",currency:"¤#,##0.00"},xh_ZA:{},zh:{number:"#,##0.###",currency:"¤#,##0.00"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{number:"#,##0.###",currency:"¤#,##0.00"},zu_ZA:{}};a._RESOURCE_MAP={af:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},af_ZA:{numeric:{}},ar:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ar_AE:{numeric:{}},ar_BH:{numeric:{}},ar_DZ:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_EG:{numeric:{}},ar_IQ:{numeric:{}},ar_JO:{numeric:{}},ar_KW:{numeric:{}},ar_LB:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_LY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_MA:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_OM:{numeric:{}},ar_QA:{numeric:{}},ar_SA:{numeric:{}},ar_SY:{numeric:{}},ar_TN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_YE:{numeric:{}},az:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},az_AZ:{numeric:{}},be:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},be_BY:{numeric:{}},bg:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},bg_BG:{numeric:{}},bn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bn_IN:{numeric:{}},br:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},bs:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bs_BA:{numeric:{}},ca:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ca_ES:{numeric:{}},cs:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},cs_CZ:{numeric:{}},cy:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},cy_GB:{numeric:{}},da:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},da_DK:{numeric:{}},de:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},de_AT:{numeric:{}},de_BE:{},de_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_DE:{numeric:{}},de_LI:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_LU:{numeric:{}},el:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},el_CY:{numeric:{}},el_GR:{numeric:{}},en:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},en_AU:{numeric:{}},en_BZ:{numeric:{}},en_CA:{numeric:{}},en_GB:{numeric:{}},en_HK:{numeric:{}},en_IE:{numeric:{}},en_IN:{numeric:{}},en_JM:{numeric:{}},en_NZ:{numeric:{}},en_PH:{numeric:{}},en_SG:{numeric:{}},en_TT:{numeric:{}},en_US:{numeric:{}},en_VI:{numeric:{}},en_ZA:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},en_ZW:{numeric:{}},es:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},es_AR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_BO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CL:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_DO:{numeric:{}},es_EC:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_ES:{numeric:{}},es_GT:{numeric:{}},es_HN:{numeric:{}},es_MX:{numeric:{}},es_NI:{numeric:{}},es_PA:{numeric:{}},es_PE:{numeric:{}},es_PR:{numeric:{}},es_PY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_SV:{numeric:{}},es_UY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_VE:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},et:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},et_EE:{numeric:{}},eu:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},eu_ES:{numeric:{}},fa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},fa_IR:{numeric:{}},fi:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},fi_FI:{numeric:{}},fo:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},fo_FO:{numeric:{}},fr:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},fr_BE:{numeric:{displayThousandsSeparator:"."}},fr_CA:{numeric:{}},fr_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},fr_FR:{numeric:{}},fr_LU:{numeric:{displayThousandsSeparator:"."}},fr_MC:{numeric:{}},gl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},gl_ES:{numeric:{}},gu:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},gu_IN:{numeric:{}},he:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},he_IL:{numeric:{}},hi:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},hi_IN:{numeric:{}},hr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hr_HR:{numeric:{}},hu:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},hu_HU:{numeric:{}},hy:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hy_AM:{numeric:{}},id:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},id_ID:{numeric:{}},is:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},is_IS:{numeric:{}},it:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},it_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},it_IT:{numeric:{}},ja:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ja_JP:{numeric:{}},ka:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ka_GE:{numeric:{}},kk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},kk_KZ:{numeric:{}},kn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kn_IN:{numeric:{}},ko:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ko_KR:{numeric:{}},kok:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kok_IN:{numeric:{}},lt:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},lt_LT:{numeric:{}},lv:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},lv_LV:{numeric:{}},mk:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},mk_MK:{numeric:{}},ml:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ml_IN:{numeric:{}},mn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mn_MN:{numeric:{}},mr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mr_IN:{numeric:{}},ms:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ms_BN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ms_MY:{numeric:{}},mt:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mt_MT:{numeric:{}},nb:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},nb_NO:{numeric:{}},nl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},nl_BE:{numeric:{}},nl_NL:{numeric:{}},nn:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},nn_NO:{numeric:{}},pa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},pa_IN:{numeric:{}},pl:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},pl_PL:{numeric:{}},pt:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},pt_BR:{numeric:{}},pt_PT:{numeric:{displayThousandsSeparator:" "}},ro:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ro_RO:{numeric:{}},ru:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},ru_RU:{numeric:{}},ru_UA:{numeric:{}},se:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},se_NO:{numeric:{}},sk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},sk_SK:{numeric:{}},sl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sl_SI:{numeric:{}},sq:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sq_AL:{numeric:{}},sr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sr_BA:{numeric:{}},sr_CS:{numeric:{}},sv:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},sv_FI:{numeric:{}},sv_SE:{numeric:{}},sw:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},sw_KE:{numeric:{}},syr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},syr_SY:{numeric:{}},ta:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ta_IN:{numeric:{}},te:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},te_IN:{numeric:{}},th:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},th_TH:{numeric:{}},tn:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},tn_ZA:{numeric:{}},tr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},tr_TR:{numeric:{}},uk:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},uk_UA:{numeric:{}},uz:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},uz_UZ:{numeric:{}},vi:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},vi_VN:{numeric:{}},xh:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},xh_ZA:{numeric:{}},zh:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},zh_CN:{numeric:{}},zh_HK:{numeric:{}},zh_MO:{numeric:{}},zh_SG:{numeric:{}},zh_TW:{numeric:{}},zu:{numeric:{displayThousandsSeparator:" ",displayDecimalSeparator:","}},zu_ZA:{numeric:{}}};a.getParseThousandSeparator=function(b){return","};a.getDisplayThousandSeparator=function(b){var b=b||null;if(b){if(a._resourceExist(b,a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)){return a.getNumericResource(b,a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)}else{return null}}return a._getAppropriateNumericResource(a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)};a.getParseDecimalSeparator=function(b){return"."};a.getDisplayDecimalSeparator=function(b){var b=b||null;if(b){if(a._resourceExist(b,a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)){return a.getNumericResource(b,a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)}else{return null}}return a._getAppropriateNumericResource(a._KEY_TYPE_NUMERIC,a._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)};a.getParseCurrencySymbol=function(){return"¤"};a.getDefaultNumberFormat=function(b){var b=b||null;if(b){if(a._formatExist(b,a._FORMAT_TYPE_NUMBER)){return a._getNumericFormat(b,a._FORMAT_TYPE_NUMBER)}else{return null}}return a._getAppropriateNumericFormat(a._FORMAT_TYPE_NUMBER)};a.getDefaultCurrencyFormat=function(b){var b=b||null;if(b){if(a._formatExist(b,a._FORMAT_TYPE_CURRENCY)){return a._getNumericFormat(b,a._FORMAT_TYPE_CURRENCY)}else{return null}}return a._getAppropriateNumericFormat(a._FORMAT_TYPE_CURRENCY)};a.getActualLocaleForDefaultCurrencyFormat=function(){return a.getActualLocaleForNumerFormat(a._FORMAT_TYPE_CURRENCY)};a.getActualLocaleForDefaultNumberFormat=function(){return a.getActualLocaleForNumerFormat(a._FORMAT_TYPE_NUMBER)};a.getActualLocaleForNumerFormat=function(d){var e=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(a._formatExist(e,d)){return e}var c=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(a._formatExist(c,d)){return c}var f=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(a._formatExist(f,d)){return f}var b=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(a._formatExist(b,d)){return b}return"en"};a._getAppropriateNumericFormat=function(b){return a._getNumericFormat(a.getActualLocaleForNumerFormat(b),b)};a._formatExist=function(b,c){return(b&&c&&a._DEFAULT_FORMAT_STRING[b]&&a._DEFAULT_FORMAT_STRING[b][c])};a._getNumericFormat=function(b,c){return a._DEFAULT_FORMAT_STRING[b][c]};a._getAppropriateNumericResource=function(e,b){var f=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(a._resourceExist(f,e,b)){return a.getNumericResource(f,e,b)}var d=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(a._resourceExist(d,e,b)){return a.getNumericResource(d,e,b)}var g=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(a._resourceExist(g,e,b)){return a.getNumericResource(g,e,b)}var c=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(a._resourceExist(c,e,b)){return a.getNumericResource(c,e,b)}return a.getNumericResource("en",e,b)};a._resourceExist=function(b,d,c){return(b&&d&&c&&a._RESOURCE_MAP[b]&&a._RESOURCE_MAP[b][d]&&a._RESOURCE_MAP[b][d][c])};a.getNumericResource=function(b,d,c){return a._RESOURCE_MAP[b][d][c]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationDateConstant=function(){this.__className="sap.common.globalization.defaultFormat.GlobalizationDateConstant"};var a=sap.common.globalization.GlobalizationDateConstant;a.FORMAT_TYPE_SHORTDATE="shortDate",a.FORMAT_TYPE_LONGDATE="longDate",a.FORMAT_TYPE_DATE_TIME="dateTime",a.FORMAT_TYPE_TIME="timeFormat",a.KEY_TYPE_DATE="date",a.KEY_TYPE_TIME="time",a.KEY_TOKEN_SHORT_DAY="shortDay",a.KEY_TOKEN_LONG_DAY="longDay",a.KEY_TOKEN_SHORT_MONTH="shortMonth",a.KEY_TOKEN_LONG_MONTH="longMonth",a.KEY_TOKEN_AM_PM="amPm",a.KEY_DATE_SEPARATOR="dateSeparator",a.KEY_TIME_SEPARATOR="timeSeparator",a.KEY_TOKEN_ABBREV_ERA="eraAbbr",a.DEFAULT_FORMAT_STRING={af:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},af_ZA:{},ar:{longDate:"dddd، d MMMM، yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{},ar_SA:{},ar_SY:{},ar_TN:{},ar_YE:{},az:{longDate:"dddd, d, MMMM, yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},az_AZ:{},be:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},be_BY:{},bg:{longDate:"dd MMMM yyyy, dddd;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bg_BG:{},bn:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d/M/yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},bn_IN:{},bs:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bs_BA:{},ca:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ca_ES:{},cs:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},cs_CZ:{},cy:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},cy_GB:{},da:{longDate:'dddd "den" d. MMMM yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},da_DK:{},de:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},de_AT:{longDate:"dddd, dd. MMMM yyyy;@"},de_CH:{},de_DE:{},de_LI:{},de_LU:{},el:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},el_GR:{},en:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"M/d/yy;@",dateTime:"MMM d, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},en_AU:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@"},en_BZ:{dateTime:"dd-MMM-yyyy h:mm:ss AM/PM;@"},en_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h:mm:ss AM/PM;@"},en_GB:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_IE:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_JM:{},en_NZ:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy h:mm:ss AM/PM;@"},en_PH:{},en_TT:{},en_US:{},en_VI:{},en_ZA:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy/MM/dd;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@"},en_ZW:{longDate:"dddd dd MMMM yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd MMM, yyyy h:mm:ss AM/PM;@"},es:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_AR:{},es_BO:{},es_CL:{shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CO:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CR:{},es_DO:{},es_EC:{dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_ES:{},es_GT:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_HN:{longDate:'dddd dd "de" MMMM "de" yyyy;@'},es_MX:{},es_NI:{},es_PA:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PE:{shortDate:"d/MM/yy;@"},es_PR:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PY:{},es_SV:{},es_UY:{},es_VE:{},et:{longDate:"dddd, d, MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},et_EE:{},eu:{longDate:'dddd, yyyy"eko" MMMM"ren" dd"a";@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},eu_ES:{},fa:{longDate:"dddd d MMMM yyyy;@",shortDate:"yy/M/d;@",dateTime:"yyyy/M/d، H:mm:ss;@",timeFormat:"H:mm:ss;@"},fa_IR:{},fi:{longDate:"dddd d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H.mm.ss;@",timeFormat:"H.mm.ss;@"},fi_FI:{},fo:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fo_FO:{},fr:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fr_BE:{shortDate:"d/MM/yy;@"},fr_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd HH:mm:ss;@"},fr_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},gl_ES:{},gu:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-MM-yy;@",dateTime:"d MMM, yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},gu_IN:{},he:{longDate:"dddd, d בMMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},he_IL:{},hi:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"dd-MM-yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},hi_IN:{},hr:{longDate:"dddd, d. MMMM yyyy.;@",shortDate:"dd.MM.yyyy.;@",dateTime:"d.M.yyyy. HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hr_HR:{},hu:{longDate:"yyyy. MMMM d., dddd;@",shortDate:"yyyy.MM.dd.;@",dateTime:"yyyy.MM.dd. H:mm:ss;@",timeFormat:"H:mm:ss;@"},hu_HU:{},hy:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"MM/dd/yy;@",dateTime:"MMM d, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hy_AM:{},id:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},id_ID:{},is:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},is_IS:{},it:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MMM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},it_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d-MMM-yyyy HH.mm.ss;@"},it_IT:{},ja:{longDate:"yyyy年M月d日dddd;@",shortDate:"yy/MM/dd;@",dateTime:"yyyy/MM/dd H:mm:ss;@",timeFormat:"H:mm:ss;@"},ja_JP:{},ka:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ka_GE:{},kk:{longDate:'dddd, d MMMM yyyy "ж".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kk_KZ:{},kn:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},kn_IN:{},ko:{longDate:"yyyy년 M월 d일 dddd;@",shortDate:"yy. M. d.;@",dateTime:"yyyy. M. d. AM/PM h:mm:ss;@",timeFormat:"AM/PM h:mm:ss;@"},ko_KR:{},kok:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kok_IN:{},lt:{longDate:'yyyy "m". MMMM d "d".,dddd;@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy.MM.dd HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},lt_LT:{},lv:{longDate:'dddd, yyyy. "gada" d. MMMM;@',shortDate:"dd.MM.yy;@",dateTime:'yyyy. "gada" d. MMM HH:mm:ss;@',timeFormat:"HH:mm:ss;@"},lv_LV:{},mk:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd.M.yy;@",dateTime:"dd.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mk_MK:{},ml:{longDate:"yyyy, MMMM d, dddd;@",shortDate:"dd/MM/yy;@",dateTime:"yyyy, MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ml_IN:{},mn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mn_MN:{},mr:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy h-mm-ss AM/PM;@",timeFormat:"h-mm-ss AM/PM;@"},mr_IN:{},ms:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ms_BN:{longDate:"dd MMMM yyyy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ms_MY:{},mt:{longDate:'dddd, d "ta"’ MMMM yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mt_MT:{},nb:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nb_NO:{},nl:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},nl_BE:{shortDate:"d/MM/yy;@",dateTime:"d-MMM-yyyy HH:mm:ss;@"},nl_NL:{},nn:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM. yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nn_NO:{},pa:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},pa_IN:{},pl:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pl_PL:{},pt:{longDate:'dddd, d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pt_BR:{},pt_PT:{dateTime:'d "de" MMM "de" yyyy HH:mm:ss;@'},ro:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd.MM.yyyy, HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ro_RO:{},ru:{longDate:'dddd, d MMMM yyyy "г".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ru_RU:{},se:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},se_NO:{},sk:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},sk_SK:{},sl:{longDate:"dddd, dd. MMMM yyyy;@",shortDate:"d. MM. yy;@",dateTime:"d. MMM. yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sl_SI:{},sq:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h.mm.ss.AM/PM;@",timeFormat:"h.mm.ss.AM/PM;@"},sq_AL:{},sr:{longDate:"dddd, dd. MMMM yyyy.;@",shortDate:"d.M.yy.;@",dateTime:"dd.MM.yyyy. HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sr_BA:{},sr_CS:{},sv:{longDate:"dddd d MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sv_FI:{},sv_SE:{},sw:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sw_KE:{},syr:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"y MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},syr_SY:{},ta:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ta_IN:{},te:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},te_IN:{},th:{longDate:"ddddที่ d MMMM G yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"d MMM yyyy, H:mm:ss;@",timeFormat:"H:mm:ss;@"},th_TH:{},tn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tn_ZA:{},tr:{longDate:"dd MMMM yyyy dddd;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tr_TR:{},uk:{longDate:'dddd, d MMMM yyyy "р".;@',shortDate:"dd.MM.yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uk_UA:{},uz:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uz_UZ:{},vi:{longDate:'dddd, "ngày" dd MMMM "năm" yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"HH:mm:ss dd-MM-yyyy;@",timeFormat:"HH:mm:ss;@"},vi_VN:{},xh:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},xh_ZA:{},zh:{longDate:"yyyy年M月d日dddd;@",shortDate:"yy-M-d;@",dateTime:"yyyy-M-d AM/PMhh:mm:ss;@",timeFormat:"AM/PMhh:mm:ss;@"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},zu_ZA:{}},a.RESOURCE_MAP={af:{date:{dateSeparator:"-",era:["voor Christus","na Christus"],eraAbbr:["v.C.","n.C."],shortDay:["So","Ma","Di","Wo","Do","Vr","Sa"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longDay:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],longMonth:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["vm.","nm."]}},af_ZA:{date:{},time:{}},ar:{date:{dateSeparator:"/",era:["قبل الميلاد","ميلادي"],eraAbbr:["ق.م","م"],shortDay:["أحد","إثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],shortMonth:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],longDay:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],longMonth:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},time:{timeSeparator:":",amPm:["ص","م"]}},ar_AE:{date:{},time:{}},ar_BH:{date:{},time:{}},ar_DZ:{date:{},time:{}},ar_EG:{date:{},time:{}},ar_IQ:{date:{},time:{}},ar_JO:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_KW:{date:{},time:{}},ar_LB:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_LY:{date:{},time:{}},ar_MA:{date:{},time:{}},ar_OM:{date:{},time:{}},ar_QA:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_SA:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_SY:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],shortMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],longMonth:["كانون الثاني","شباط","آذار","نيسان","نوار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"]},time:{}},ar_TN:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},ar_YE:{date:{shortDay:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},time:{}},az:{date:{dateSeparator:"-",era:["eramızdan əvvəl","bizim eramızın"],eraAbbr:["e.ə.","b.e."],shortDay:["B.","B.E.","Ç.A.","Ç.","C.A.","C","Ş."],shortMonth:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],longDay:["bazar","bazar ertəsi","çərşənbə axşamı","çərşənbə","cümə axşamı","cümə","şənbə"],longMonth:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},az_AZ:{date:{},time:{}},be:{date:{dateSeparator:".",era:["да н.э.","н.э."],eraAbbr:["да н.е.","н.е."],eraNarrow:["да н.э.","н.э."],shortDay:["нд","пн","аў","ср","чц","пт","сб"],shortMonth:["сту","лют","сак","кра","май","чэр","ліп","жні","вер","кас","ліс","сне"],longDay:["нядзеля","панядзелак","аўторак","серада","чацвер","пятніца","субота"],longMonth:["студзень","люты","сакавік","красавік","май","чэрвень","ліпень","жнівень","верасень","кастрычнік","лістапад","снежань"]},time:{timeSeparator:".",amPm:["да палудня","пасля палудня"]}},be_BY:{date:{},time:{}},bg:{date:{dateSeparator:".",era:["пр.Хр.","сл.Хр."],eraAbbr:["пр. н. е.","от н. е."],eraNarrow:["сл.н.е."],shortDay:["нд","пн","вт","ср","чт","пт","сб"],shortMonth:["ян.","февр.","март","апр.","май","юни","юли","авг.","септ.","окт.","ноем.","дек."],longDay:["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],longMonth:["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"]},time:{timeSeparator:":",amPm:["пр. об.","сл. об."]}},bg_BG:{date:{},time:{}},bn:{date:{dateSeparator:"/",eraAbbr:["খৃষ্টপূর্ব","খৃষ্টাব্দ"],shortDay:["রবি","সোম","মঙ্গল","বুধ","বৃহস্পতি","শুক্র","শনি"],shortMonth:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"],longDay:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহষ্পতিবার","শুক্রবার","শনিবার"],longMonth:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"]},time:{timeSeparator:":",amPm:["পূর্বাহ্ণ","অপরাহ্ণ"]}},bn_IN:{date:{},time:{}},bs:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["7","1","2","3","4","5","6"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["7","1","2","3","4","5","6"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},bs_BA:{date:{},time:{}},ca:{date:{dateSeparator:"/",eraAbbr:["aC","dC"],shortDay:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],shortMonth:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],longDay:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],longMonth:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},ca_ES:{date:{},time:{}},cs:{date:{dateSeparator:".",eraAbbr:["př.Kr.","po Kr."],shortDay:["ne","po","út","st","čt","pá","so"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12",],longDay:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],longMonth:["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"]},time:{timeSeparator:":",amPm:["dop.","odp."]}},cs_CZ:{date:{},time:{}},cy:{date:{dateSeparator:"-",era:["Cyn Crist","Oed Crist"],eraAbbr:["CC","OC"],eraNarrow:["C","O"],shortDay:["Sul","Llun","Maw","Mer","Iau","Gwen","Sad"],shortMonth:["Ion","Chwef","Mawrth","Ebrill","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longDay:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],longMonth:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffenaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},cy_GB:{date:{},time:{}},da:{date:{dateSeparator:"/",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["søn","man","tir","ons","tor","fre","lør"],shortMonth:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],longMonth:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["f.m.","e.m."]}},da_DK:{date:{},time:{}},de:{date:{dateSeparator:".",era:["v. Chr.","n. Chr."],eraAbbr:["v. Chr.","n. Chr."],shortDay:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],shortMonth:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longDay:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],longMonth:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{timeSeparator:":",amPm:["vorm.","nachm."]}},de_AT:{date:{shortMonth:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longMonth:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{}},de_CH:{date:{},time:{}},de_DE:{date:{},time:{}},de_LI:{date:{},time:{}},de_LU:{date:{},time:{}},el:{date:{dateSeparator:"/",era:["π.Χ.","μ.Χ."],eraAbbr:["π.Χ.","μ.Χ."],shortDay:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],shortMonth:["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],longDay:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],longMonth:["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"]},time:{timeSeparator:":",amPm:["π.μ.","μ.μ."]}},el_GR:{date:{},time:{}},en:{date:{dateSeparator:"/",era:["Before Christ","Anno Domini"],eraAbbr:["BC","AD"],eraNarrow:["B","A"],shortDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"]},time:{timeSeparator:":",amPm:["AM","PM"]}},en_AU:{date:{dateSeparator:"/"},time:{}},en_BZ:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_CA:{date:{dateSeparator:"-"},time:{}},en_GB:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_IE:{date:{dateSeparator:"/"},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},en_JM:{date:{},time:{}},en_NZ:{date:{dateSeparator:"/"},time:{}},en_PH:{date:{},time:{}},en_TT:{date:{},time:{}},en_US:{date:{},time:{}},en_VI:{date:{},time:{}},en_ZA:{date:{dateSeparator:"/"},time:{}},en_ZW:{date:{dateSeparator:"/"},time:{}},es:{date:{dateSeparator:"/",era:["antes de Cristo","anno Dómini"],eraAbbr:["a.C.","d.C."],shortDay:["dom","lun","mar","mié","jue","vie","sáb"],shortMonth:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],longDay:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],longMonth:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},es_AR:{date:{},time:{amPm:["a.m.","p.m."]}},es_BO:{date:{},time:{}},es_CL:{date:{dateSeparator:"-"},time:{timeSeparator:":"}},es_CO:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},es_CR:{date:{},time:{}},es_DO:{date:{},time:{}},es_EC:{date:{},time:{timeSeparator:":"}},es_ES:{date:{},time:{}},es_GT:{date:{dateSeparator:"/"},time:{}},es_HN:{date:{},time:{}},es_MX:{date:{},time:{}},es_NI:{date:{},time:{}},es_PA:{date:{dateSeparator:"/"},time:{}},es_PE:{date:{dateSeparator:"/"},time:{}},es_PR:{date:{dateSeparator:"/"},time:{}},es_PY:{date:{},time:{}},es_SV:{date:{},time:{}},es_UY:{date:{},time:{}},es_VE:{date:{},time:{}},et:{date:{dateSeparator:".",era:["enne meie aega","meie aja järgi"],eraAbbr:["e.m.a.","m.a.j."],shortDay:["P","E","T","K","N","R","L"],shortMonth:["jaan","veebr","märts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],longDay:["pühapäev","esmaspäev","teisipäev","kolmapäev","neljapäev","reede","laupäev"],longMonth:["jaanuar","veebruar","märts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},et_EE:{date:{},time:{}},eu:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["ig","al","as","az","og","or","lr"],shortMonth:["urt","ots","mar","api","mai","eka","uzt","abu","ira","urr","aza","abe"],longDay:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],longMonth:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"]},time:{timeSeparator:":",amPm:["AM","PM"]}},eu_ES:{date:{},time:{}},fa:{date:{dateSeparator:"/",era:["قبل از میلاد","میلادی"],eraAbbr:["ق.م.","م."],eraNarrow:["ق","م"],shortDay:["یکشنبه","دوشنبه","سهشنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],shortMonth:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],longDay:["یکشنبه","دوشنبه","سهشنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],longMonth:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"]},time:{timeSeparator:":",amPm:["قبل از ظهر","بعد از ظهر"]}},fa_IR:{date:{},time:{}},fi:{date:{dateSeparator:".",era:["ennen Kristuksen syntymää","jälkeen Kristuksen syntymän"],eraAbbr:["eKr.","jKr."],shortDay:["su","ma","ti","ke","to","pe","la"],shortMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],longDay:["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],longMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]},time:{timeSeparator:".",amPm:["ap.","ip."]}},fi_FI:{date:{},time:{}},fo:{date:{dateSeparator:"-",era:["fyrir Krist","eftir Krist"],eraAbbr:["BCE","CE"],eraNarrow:["f.Kr.","e.Kr."],shortDay:["sun","mán","týs","mik","hós","frí","ley"],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["sunnudagur","mánadagur","týsdagur","mikudagur","hósdagur","fríggjadagur","leygardagur"],longMonth:["januar","februar","mars","apríl","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fo_FO:{date:{},time:{}},fr:{date:{dateSeparator:"/",era:["avant Jésus-Christ","après Jésus-Christ"],eraAbbr:["av. J.-C.","ap. J.-C."],shortDay:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],shortMonth:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],longDay:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],longMonth:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fr_BE:{date:{dateSeparator:"/"},time:{}},fr_CA:{date:{dateSeparator:"-"},time:{}},fr_CH:{date:{dateSeparator:"."},time:{}},fr_FR:{date:{},time:{}},fr_LU:{date:{},time:{}},fr_MC:{date:{},time:{}},gl:{date:{dateSeparator:"/",era:["antes de Cristo","despois de Cristo"],eraAbbr:["a.C.","d.C."],shortDay:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb"],shortMonth:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],longDay:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"],longMonth:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},gl_ES:{date:{},time:{}},gu:{date:{dateSeparator:"-",era:["ઈસવીસન પૂર્વે","ઇસવીસન"],eraAbbr:["BCE","CE"],eraNarrow:["ઇ સ પુ","ઇસ"],shortDay:["રવિ","સોમ","મંગળ","બુધ","ગુરુ","શુક્ર","શનિ"],shortMonth:["જાન્યુ","ફેબ્રુ","માર્ચ","એપ્રિલ","મે","જૂન","જુલાઈ","ઑગસ્ટ","સપ્ટે","ઑક્ટો","નવે","ડિસે"],longDay:["રવિવાર","સોમવાર","મંગળવાર","બુધવાર","ગુરુવાર","શુક્રવાર","શનિવાર"],longMonth:["જાન્યુઆરી","ફેબ્રુઆરી","માર્ચ","એપ્રિલ","મે","જૂન","જુલાઈ","ઑગસ્ટ","સપ્ટેમ્બર","ઑક્ટ્બર","નવેમ્બર","ડિસેમ્બર"]},time:{timeSeparator:":",amPm:["am","pm"]}},gu_IN:{date:{},time:{}},he:{date:{dateSeparator:"/",era:["לפני הספירה","לספירה"],eraAbbr:["לפנה״ס","לסה״נ"],shortDay:["יום א'","יום ב'","יום ג'","יום ד'","יום ה'","יום ו'","שבת"],shortMonth:["ינו","פבר","מרס","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],longDay:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"],longMonth:["ינואר","פברואר","מרס","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},time:{timeSeparator:":",amPm:['לפנה"צ','אחה"צ']}},he_IL:{date:{},time:{}},hi:{date:{dateSeparator:"-",eraAbbr:["ईसापूर्व","सन"],shortDay:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],shortMonth:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर"],longDay:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर"]},time:{timeSeparator:":",amPm:["AM","PM"]}},hi_IN:{date:{},time:{}},hr:{date:{dateSeparator:".",era:["Prije Krista","Poslije Krista"],eraAbbr:["pr.n.e.","AD"],shortDay:["ned","pon","uto","sri","čet","pet","sub"],shortMonth:["01.","02.","03.","04.","05.","06.","07.","08.","09.","10.","11.","12."],longDay:["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],longMonth:["siječnja","veljače","ožujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"]},time:{timeSeparator:":",amPm:["AM","PM"]}},hr_HR:{date:{},time:{}},hu:{date:{dateSeparator:".",era:["időszámításunk előtt","időszámításunk szerint"],eraAbbr:["i. e.","i. sz."],shortDay:["V","H","K","Sze","Cs","P","Szo"],shortMonth:["jan.","febr.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],longDay:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],longMonth:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"]},time:{timeSeparator:":",amPm:["de.","du."]}},hu_HU:{date:{},time:{}},hy:{date:{dateSeparator:"/",eraAbbr:["Ք․Ա․","Ք․Ե․"],shortDay:["Կիր","Երկ","Երք","Չոր","Հնգ","Ուր","Շաբ"],shortMonth:["Յնր","Փտր","Մրտ","Ապր","Մյս","Յնս","Յլս","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],longDay:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"],longMonth:["Յունուար","Փետրուար","Մարտ","Ապրիլ","Մայիս","Յունիս","Յուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"]},time:{timeSeparator:":",amPm:["Առ․","Եր․"]}},hy_AM:{date:{},time:{}},id:{date:{dateSeparator:"/",eraAbbr:["BCE","CE"],shortDay:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longDay:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],longMonth:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},id_ID:{date:{},time:{}},is:{date:{dateSeparator:".",eraAbbr:["fyrir Krist","eftir Krist",],eraNarrow:["f.k.","e.k."],shortDay:["sun","mán","þri","mið","fim","fös","lau"],shortMonth:["jan","feb","mar","apr","maí","jún","júl","ágú","sep","okt","nóv","des"],longDay:["sunnudagur","mánudagur","þriðjudagur","miðvikudagur","fimmtudagur","föstudagur","laugardagur"],longMonth:["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"]},time:{timeSeparator:":",amPm:["f.h.","e.h."]}},is_IS:{date:{},time:{}},it:{date:{dateSeparator:"/",era:["a.C.","d.C"],eraAbbr:["aC","dC"],shortDay:["dom","lun","mar","mer","gio","ven","sab"],shortMonth:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],longDay:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],longMonth:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},time:{timeSeparator:".",amPm:["m.","p."]}},it_CH:{date:{dateSeparator:"."},time:{}},it_IT:{date:{},time:{}},ja:{date:{dateSeparator:"/",era:["紀元前","西暦"],eraAbbr:["紀元前","西暦"],shortDay:["日","月","火","水","木","金","土"],shortMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longDay:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],longMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time:{timeSeparator:":",amPm:["午前","午後"]}},ja_JP:{date:{},time:{}},ka:{date:{dateSeparator:"-",era:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],eraAbbr:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],eraNarrow:["ჩვენს წელთაღრიცხვამდე","ჩვენი წელთაღრიცხვით"],shortDay:["კვი","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],shortMonth:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],longDay:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],longMonth:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"]},time:{timeSeparator:":",amPm:["დილის","საღამოს"]}},ka_GE:{date:{},time:{}},kk:{date:{dateSeparator:".",eraAbbr:["BCE","CE"],shortDay:["жс.","дс.","сс.","ср.","бс.","жм.","сһ."],shortMonth:["қаң.","ақп.","нау.","сәу.","мам.","мау.","шіл.","там.","қыр.","қаз.","қар.","желт."],longDay:["жексені","дуйсенбі","сейсенбі","сәренбі","бейсенбі","жұма","сенбі"],longMonth:["қаңтар","ақпан","наурыз","сәуір","мамыр","маусым","шілде","тамыз","қыркүйек","қазан","қараша","желтоқсан"]},time:{timeSeparator:":",amPm:["AM","PM"]}},kk_KZ:{date:{},time:{}},kn:{date:{dateSeparator:"-",era:["ಈಸಪೂವ೯.","ಕ್ರಿಸ್ತ ಶಕ"],eraAbbr:["BCE","CE"],shortDay:["ರ.","ಸೋ.","ಮಂ.","ಬು.","ಗು.","ಶು.","ಶನಿ."],shortMonth:["ಜನವರೀ","ಫೆಬ್ರವರೀ","ಮಾರ್ಚ್","ಎಪ್ರಿಲ್","ಮೆ","ಜೂನ್","ಜುಲೈ","ಆಗಸ್ಟ್","ಸಪ್ಟೆಂಬರ್","ಅಕ್ಟೋಬರ್","ನವೆಂಬರ್","ಡಿಸೆಂಬರ್"],longDay:["ರವಿವಾರ","ಸೋಮವಾರ","ಮಂಗಳವಾರ","ಬುಧವಾರ","ಗುರುವಾರ","ಶುಕ್ರವಾರ","ಶನಿವಾರ"],longMonth:["ಜನವರೀ","ಫೆಬ್ರವರೀ","ಮಾರ್ಚ್","ಎಪ್ರಿಲ್","ಮೆ","ಜೂನ್","ಜುಲೈ","ಆಗಸ್ಟ್","ಸಪ್ಟೆಂಬರ್","ಅಕ್ಟೋಬರ್","ನವೆಂಬರ್","ಡಿಸೆಂಬರ್"]},time:{timeSeparator:":",amPm:["am","pm"]}},kn_IN:{date:{},time:{}},ko:{date:{dateSeparator:". ",era:["서력기원전","서력기원"],eraAbbr:["기원전","서기"],shortDay:["일","월","화","수","목","금","토"],shortMonth:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longDay:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],longMonth:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},time:{timeSeparator:":",amPm:["오전","오후"]}},ko_KR:{date:{},time:{}},kok:{date:{dateSeparator:"-",eraAbbr:["क्रिस्तपूर्व","क्रिस्तशखा"],shortDay:["रवि","सोम","मंगळ","बुध","गुरु","शुक्र","शनि"],shortMonth:["जानेवारी","फेबृवारी","मार्च","एप्रिल","मे","जून","जुलै","ओगस्ट","सेप्टेंबर","ओक्टोबर","नोव्हेंबर","डिसेंबर"],longDay:["आदित्यवार","सोमवार","मंगळार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ओगस्ट","सेप्टेंबर","ओक्टोबर","नोव्हेंबर","डिसेंबर"]},time:{timeSeparator:":",amPm:["म.पू.","म.नं."]}},kok_IN:{date:{},time:{}},lt:{date:{dateSeparator:"-",era:["prieš Kristų","po Kristaus"],eraAbbr:["pr. Kr.","po Kr."],shortDay:["Sk","Pr","An","Tr","Kt","Pn","Št"],shortMonth:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longDay:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],longMonth:["sausio","vasario","kovo","balandžio","gegužės","birželio","liepos","rugpjūčio","rugsėjo","spalio","lapkričio","gruodžio"]},time:{timeSeparator:":",amPm:["priešpiet","popiet"]}},lt_LT:{date:{},time:{}},lv:{date:{dateSeparator:".",era:["pirms mūsu ēras","mūsu ērā"],eraAbbr:["p.m.ē.","m.ē."],eraNarrow:["p.m.ē.","m.ē."],shortDay:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],shortMonth:["janv.","febr.","marts","apr.","maijs","jūn.","jūl.","aug.","sept.","okt.","nov.","dec."],longDay:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],longMonth:["janvāris","februāris","marts","aprīlis","maijs","jūnijs","jūlijs","augusts","septembris","oktobris","novembris","decembris"]},time:{timeSeparator:":",amPm:["AM","PM"]}},lv_LV:{date:{},time:{}},mk:{date:{dateSeparator:".",eraAbbr:["пр.н.е.","ае."],shortDay:["нед.","пон.","вт.","сре.","чет.","пет.","саб."],shortMonth:["јан.","фев.","мар.","апр.","мај","јун.","јул.","авг.","септ.","окт.","ноем.","декем."],longDay:["недела","понеделник","вторник","среда","четврток","петок","сабота"],longMonth:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"]},time:{timeSeparator:":",amPm:["претпладне","попладне"]}},mk_MK:{date:{},time:{}},ml:{date:{dateSeparator:"/",era:["ക്രിസ്തുവിനു് മുമ്പ്","ക്രിസ്തുവിന് പിന്പ്"],eraAbbr:["ക്രി.മു.","ക്രി.പി."],eraNarrow:["ക്രി.മു.","ക്രി.പി."],shortDay:["ഞായര്","തിങ്കള്","ചൊവ്വ","ബുധന്","വ്യാഴം","വെള്ളി","ശനി"],shortMonth:["ജനു","ഫെബ്രു","മാര്","ഏപ്രി","മേയ്","ജൂണ്","ജൂലൈ","ഓഗ","സെപ്റ്റം","ഒക്ടോ","നവം","ഡിസം"],longDay:["ഞായറാഴ്ച","തിങ്കളാഴ്ച","ചൊവ്വാഴ്ച","ബുധനാഴ്ച","വ്യാഴാഴ്ച","വെള്ളിയാഴ്ച","ശനിയാഴ്ച"],longMonth:["ജനുവരി","ഫെബ്രുവരി","മാര്ച്ച്","ഏപ്രില്","മേയ്","ജൂണ്","ജൂലൈ","ഓഗസ്റ്റ്","സെപ്റ്റംബര്","ഒക്ടോബര്","നവംബര്","ഡിസംബര്"]},time:{timeSeparator:":",amPm:["am","pm"]}},ml_IN:{date:{},time:{}},mn:{date:{dateSeparator:"-",era:["манай эриний өмнөх","манай эриний"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},mn_MN:{date:{},time:{}},mr:{date:{dateSeparator:"-",era:["ईसवीसनपूर्व","ईसवीसन"],eraAbbr:["ई.स.पू.","ई.स."],shortDay:["रवि","सोम","मंगळ","बुध","गुरु","शुक्र","शनि"],shortMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ऑगस्ट","सप्टेंबर","ऑक्टोबर","नोव्हेंबर","डिसेंबर"],longDay:["रविवार","सोमवार","मंगळवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],longMonth:["जानेवारी","फेब्रुवारी","मार्च","एप्रिल","मे","जून","जुलै","ऑगस्ट","सप्टेंबर","ऑक्टोबर","नोव्हेंबर","डिसेंबर"]},time:{timeSeparator:"-",amPm:["am","pm"]}},mr_IN:{date:{},time:{}},ms:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sep","Okt","Nov","Dis"],longDay:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],longMonth:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ms_BN:{date:{},time:{timeSeparator:":"}},ms_MY:{date:{},time:{}},mt:{date:{dateSeparator:"/",era:["Qabel Kristu","Wara Kristu"],eraAbbr:["QK","WK"],shortDay:["Ħad","Tne","Tli","Erb","Ħam","Ġim","Sib"],shortMonth:["Jan","Fra","Mar","Apr","Mej","Ġun","Lul","Aww","Set","Ott","Nov","Diċ"],longDay:["Il-Ħadd","It-Tnejn","It-Tlieta","L-Erbgħa","Il-Ħamis","Il-Ġimgħa","Is-Sibt"],longMonth:["Jannar","Frar","Marzu","April","Mejju","Ġunju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Diċembru"]},time:{timeSeparator:":",amPm:["QN","WN"]}},mt_MT:{date:{},time:{}},nb:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["søn.","man.","tir.","ons.","tor.","fre.","lør."],shortMonth:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],longDay:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["AM","PM"]}},nb_NO:{date:{},time:{}},nl:{date:{dateSeparator:"-",era:["Voor Christus","Anno Domini"],eraAbbr:["v. Chr.","n. Chr."],shortDay:["zo","ma","di","wo","do","vr","za"],shortMonth:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],longMonth:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["AM","PM"]}},nl_BE:{date:{dateSeparator:"/"},time:{}},nl_NL:{date:{},time:{}},nn:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sø.","må.","ty.","on.","to.","fr.","la."],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["formiddag","ettermiddag"]}},nn_NO:{date:{},time:{}},pa:{date:{dateSeparator:"/",era:["ਈਸਾਪੂਰਵ","ਸੰਨ"],eraAbbr:["BCE","CE"],shortDay:["ਐਤ.","ਸੋਮ.","ਮੰਗਲ.","ਬੁਧ.","ਵੀਰ.","ਸ਼ੁਕਰ.","ਸ਼ਨੀ."],shortMonth:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"],longDay:["ਐਤਵਾਰ","ਸੋਮਵਾਰ","ਮੰਗਲਵਾਰ","ਬੁਧਵਾਰ","ਵੀਰਵਾਰ","ਸ਼ੁੱਕਰਵਾਰ","ਸ਼ਨੀਚਰਵਾਰ"],longMonth:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"]},time:{timeSeparator:":",amPm:["ਸਵੇਰੇ","ਸ਼ਾਮ"]}},pa_IN:{date:{},time:{}},pl:{date:{dateSeparator:"-",era:["p.n.e.","n.e."],eraAbbr:["p.n.e.","n.e."],shortDay:["niedz.","pon.","wt.","śr.","czw.","pt.","sob."],shortMonth:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],longDay:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],longMonth:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pl_PL:{date:{},time:{}},pt:{date:{dateSeparator:"/",era:["Antes de Cristo","Ano do Senhor"],eraAbbr:["a.C.","d.C."],shortDay:["dom","seg","ter","qua","qui","sex","sáb"],shortMonth:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],longDay:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],longMonth:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pt_BR:{date:{},time:{}},pt_PT:{date:{shortMonth:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longMonth:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},time:{amPm:["Antes do meio-dia","Depois do meio-dia"]}},ro:{date:{dateSeparator:".",era:["înainte de Hristos","după Hristos"],eraAbbr:["î.Hr.","d.Hr."],shortDay:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],shortMonth:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],longDay:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],longMonth:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ro_RO:{date:{},time:{}},ru:{date:{dateSeparator:".",era:["до н.э.","н.э."],eraAbbr:["до н.э.","н.э."],shortDay:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],shortMonth:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек."],longDay:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],longMonth:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ru_RU:{date:{},time:{}},se:{date:{dateSeparator:"-",era:["ovdal Kristtusa","maŋŋel Kristtusa"],eraAbbr:["BCE","CE"],eraNarrow:["o.Kr.","m.Kr."],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},se_NO:{date:{},time:{}},sk:{date:{dateSeparator:".",eraAbbr:["pred n.l.","n.l."],shortDay:["ne","po","ut","st","št","pi","so"],shortMonth:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],longDay:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],longMonth:["januára","februára","marca","apríla","mája","júna","júla","augusta","septembra","októbra","novembra","decembra"]},time:{timeSeparator:":",amPm:["dopoludnia","popoludní"]}},sk_SK:{date:{},time:{}},sl:{date:{dateSeparator:". ",era:["pred našim štetjem","naše štetje"],eraAbbr:["pr. n. št.","po Kr."],shortDay:["ned","pon","tor","sre","čet","pet","sob"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],longDay:["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"],longMonth:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["dop.","pop."]}},sl_SI:{date:{},time:{}},sq:{date:{dateSeparator:"-",eraAbbr:["p.e.r.","n.e.r."],shortDay:["Die","Hën","Mar","Mër","Enj","Pre","Sht"],shortMonth:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gsh","Sht","Tet","Nën","Dhj"],longDay:["e diel","e hënë","e martë","e mërkurë","e enjte","e premte","e shtunë"],longMonth:["janar","shkurt","mars","prill","maj","qershor","korrik","gusht","shtator","tetor","nëntor","dhjetor"]},time:{timeSeparator:".",amPm:["PD","MD"]}},sq_AL:{date:{},time:{}},sr:{date:{dateSeparator:".",era:["Пре нове ере","Нове ере"],eraAbbr:["п. н. е.","н. е"],eraNarrow:["п.н.е.","н.е."],shortDay:["нед","пон","уто","сре","чет","пет","суб"],shortMonth:["јан","феб","мар","апр","мај","јун","јул","авг","сеп","окт","нов","дец"],longDay:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],longMonth:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"]},time:{timeSeparator:".",amPm:["пре подне","поподне"]}},sr_BA:{date:{},time:{}},sr_CS:{date:{},time:{}},sv:{date:{dateSeparator:"-",era:["före Kristus","efter Kristus"],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sön","mån","tis","ons","tors","fre","lör"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longDay:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],longMonth:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["fm","em"]}},sv_FI:{date:{},time:{}},sv_SE:{date:{},time:{}},sw:{date:{dateSeparator:"-",era:["Kabla ya Kristo","Baada ya Kristo"],eraAbbr:["KK","BK"],shortDay:["Jpi","Jtt","Jnn","Jtn","Alh","Iju","Jmo"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],longDay:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],longMonth:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},sw_KE:{date:{},time:{}},syr:{date:{dateSeparator:"-",shortDay:["1","2","3","4","5","6","7"],shortMonth:["ܟܢ ܒ","ܫܒܛ","ܐܕܪ","ܢܝܣܢ","ܐܝܪ","ܚܙܝܪܢ","ܬܡܘܙ","ܐܒ","ܐܝܠܘܠ","ܬܫ ܐ","ܬܫ ܒ","ܟܢ ܐ"],longDay:["1","2","3","4","5","6","7"],longMonth:["ܟܢ ܒ","ܫܒܛ","ܐܕܪ","ܢܝܣܢ","ܐܝܪ","ܚܙܝܪܢ","ܬܡܘܙ","ܐܒ","ܐܝܠܘܠ","ܬܫ ܐ","ܬܫ ܒ","ܟܢ ܐ"]},time:{timeSeparator:":",amPm:["AM","PM"]}},syr_SY:{date:{},time:{}},ta:{date:{dateSeparator:"-",era:["கிறிஸ்துவுக்கு முன்","அனோ டோமினி"],eraAbbr:["கிமு","கிபி"],shortDay:["ஞா","தி","செ","பு","வி","வெ","ச"],shortMonth:["ஜன.","பிப்.","மார்.","ஏப்.","மே","ஜூன்","ஜூலை","ஆக.","செப்.","அக்.","நவ.","டிச."],longDay:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],longMonth:["ஜனவரி","பிப்ரவரி","மார்ச்","ஏப்ரல்","மே","ஜூன்","ஜூலை","ஆகஸ்ட்","செப்டம்பர்","அக்டோபர்","நவம்பர்","டிசம்பர்"]},time:{timeSeparator:":",amPm:["am","pm"]}},ta_IN:{date:{},time:{}},te:{date:{dateSeparator:"-",era:["ఈసాపూర్వ.","సన్."],eraAbbr:["BCE","CE"],shortDay:["ఆది","సోమ","మంగళ","బుధ","గురు","శుక్ర","శని"],shortMonth:["జనవరి","ఫిబ్రవరి","మార్చి","ఏప్రిల్","మే","జూన్","జూలై","ఆగస్టు","సెప్టెంబర్","అక్టోబర్","నవంబర్","డిసెంబర్"],longDay:["ఆదివారం","సోమవారం","మంగళవారం","బుధవారం","గురువారం","శుక్రవారం","శనివారం"],longMonth:["జనవరి","ఫిబ్రవరి","మార్చి","ఏప్రిల్","మే","జూన్","జూలై","ఆగస్టు","సెప్టెంబర్","అక్టోబర్","నవంబర్","డిసెంబర్"]},time:{timeSeparator:":",amPm:["am","pm"]}},te_IN:{date:{},time:{}},th:{date:{dateSeparator:"/",era:["ปีก่อนคริสต์ศักราช","คริสต์ศักราช"],eraAbbr:["ปีก่อน ค.ศ.","ค.ศ."],eraNarrow:["ก่อน ค.ศ."],shortDay:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],shortMonth:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],longDay:["วันอาทิตย์","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],longMonth:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]},time:{timeSeparator:":",amPm:["ก่อนเที่ยง","หลังเที่ยง"]}},th_TH:{date:{},time:{}},tn:{date:{dateSeparator:"-",era:["BC","AD"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tn_ZA:{date:{},time:{}},tr:{date:{dateSeparator:".",era:["Milattan Önce","Milattan Sonra"],eraAbbr:["MÖ","MS"],shortDay:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],shortMonth:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],longDay:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],longMonth:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tr_TR:{date:{},time:{}},uk:{date:{dateSeparator:".",era:["до нашої ери","нашої ери"],eraAbbr:["до н.е.","н.е."],shortDay:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],shortMonth:["січ.","лют.","бер.","квіт.","трав.","черв.","лип.","серп.","вер.","жовт.","лист.","груд."],longDay:["Неділя","Понеділок","Вівторок","Середа","Четвер","Пʼятниця","Субота"],longMonth:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"]},time:{timeSeparator:":",amPm:["дп","пп"]}},uk_UA:{date:{},time:{}},uz:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},uz_UZ:{date:{},time:{}},vi:{date:{dateSeparator:"/",eraAbbr:["tr. CN","sau CN"],shortDay:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],shortMonth:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],longDay:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"],longMonth:["tháng một","tháng hai","tháng ba","tháng tư","tháng năm","tháng sáu","tháng bảy","tháng tám","tháng chín","tháng mười","tháng mười một","tháng mười hai"]},time:{timeSeparator:":",amPm:["SA","CH"]}},vi_VN:{date:{},time:{}},xh:{date:{dateSeparator:"-",era:["BC","umnyaka wokuzalwa kukaYesu"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},xh_ZA:{date:{},time:{}},zh:{date:{dateSeparator:"-",era:["公元前","公元"],eraAbbr:["公元前","公元"],shortDay:["周日","周一","周二","周三","周四","周五","周六"],shortMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longDay:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],longMonth:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time:{timeSeparator:":",amPm:["上午","下午"]}},zh_CN:{date:{},time:{}},zh_HK:{date:{},time:{}},zh_MO:{date:{},time:{}},zh_SG:{date:{},time:{}},zh_TW:{date:{},time:{}},zu:{date:{dateSeparator:"-",eraAbbr:["BC","AD"],shortDay:["Son","Mso","Bil","Tha","Sin","Hla","Mgq"],shortMonth:["Jan","Feb","Mas","Apr","Mey","Jun","Jul","Aga","Sep","Okt","Nov","Dis"],longDay:["Sonto","Msombuluko","Lwesibili","Lwesithathu","uLwesine","Lwesihlanu","Mgqibelo"],longMonth:["Januwari","Februwari","Mashi","Apreli","Meyi","Juni","Julayi","Agasti","Septhemba","Okthoba","Novemba","Disemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},zu_ZA:{date:{},time:{}}};a.formatExist=function(b,c){return(b&&c&&a.DEFAULT_FORMAT_STRING[b]&&a.DEFAULT_FORMAT_STRING[b][c])};a.getDefaultDateFormat=function(b,c){return a.DEFAULT_FORMAT_STRING[b][c]};a.getShortDay=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_DAY)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_DAY)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_DAY)};a.getLongDay=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_DAY)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_DAY)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_DAY)};a.getShortMonth=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_MONTH)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_MONTH)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_TOKEN_SHORT_MONTH)};a.getLongMonth=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_MONTH)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_MONTH)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_TOKEN_LONG_MONTH)};a.getDateSeparator=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_DATE_SEPARATOR)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_DATE_SEPARATOR).toString()}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_DATE_SEPARATOR).toString()};a.getTimeSeparator=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_TIME,a.KEY_TIME_SEPARATOR)){return a.getDateResource(b,a.KEY_TYPE_TIME,a.KEY_TIME_SEPARATOR).toString()}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_TIME,a.KEY_TIME_SEPARATOR).toString()};a.getAmPmToken=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_TIME,a.KEY_TOKEN_AM_PM)){return a.getDateResource(b,a.KEY_TYPE_TIME,a.KEY_TOKEN_AM_PM)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_TIME,a.KEY_TOKEN_AM_PM)};a.getAbbrevEraString=function(b){if(b){if(a.resourceExist(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_ABBREV_ERA)){return a.getDateResource(b,a.KEY_TYPE_DATE,a.KEY_TOKEN_ABBREV_ERA)}else{return null}}return a.getAppropriateDateResource(a.KEY_TYPE_DATE,a.KEY_TOKEN_ABBREV_ERA)};a.getDefaultShorDateFormat=function(b){if(b){if(a.formatExist(b,a.FORMAT_TYPE_SHORTDATE)){return a.getDefaultDateFormat(b,a.FORMAT_TYPE_SHORTDATE).toString()}else{return""}}return a.getAppropriateDateFormat(a.FORMAT_TYPE_SHORTDATE).toString()};a.getDefaultLongDateFormat=function(b){if(b){if(a.formatExist(b,a.FORMAT_TYPE_LONGDATE)){return a.getDefaultDateFormat(b,a.FORMAT_TYPE_LONGDATE).toString()}else{return null}}return a.getAppropriateDateFormat(a.FORMAT_TYPE_LONGDATE)};a.getDefaultDateTimeFormat=function(b){if(b){if(a.formatExist(b,a.FORMAT_TYPE_DATE_TIME)){return a.getDefaultDateFormat(b,a.FORMAT_TYPE_DATE_TIME).toString()}else{return null}}return a.getAppropriateDateFormat(a.FORMAT_TYPE_DATE_TIME).toString()};a.getDefaultTimeFormat=function(b){if(b){if(a.formatExist(b,a.FORMAT_TYPE_TIME)){return a.getDefaultDateFormat(b,a.FORMAT_TYPE_TIME).toString()}else{return null}}return a.getAppropriateDateFormat(a.FORMAT_TYPE_TIME).toString()};a.getAppropriateDateFormat=function(d){var e=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(a.formatExist(e,d)){return a.getDefaultDateFormat(e,d).toString()}var c=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(a.formatExist(c,d)){return a.getDefaultDateFormat(c,d).toString()}var f=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(a.formatExist(f,d)){return a.getDefaultDateFormat(f,d).toString()}var b=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(a.formatExist(b,d)){return a.getDefaultDateFormat(b,d).toString()}return a.getDefaultDateFormat("en",d).toString()};a.getAppropriateDateResource=function(e,b){var f=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(a.resourceExist(f,e,b)){return a.getDateResource(f,e,b)}var d=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(a.resourceExist(d,e,b)){return a.getDateResource(d,e,b)}var g=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(a.resourceExist(g,e,b)){return a.getDateResource(g,e,b)}var c=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(a.resourceExist(c,e,b)){return a.getDateResource(c,e,b)}return a.getDateResource("en",e,b)};a.resourceExist=function(b,d,c){return(b&&d&&c&&a.RESOURCE_MAP[b]&&a.RESOURCE_MAP[b][d]&&a.RESOURCE_MAP[b][d][c])};a.getDateResource=function(b,d,c){return a.RESOURCE_MAP[b][d][c]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.GlobalizationNumericUtil=function(){this.__className="sap.common.globalization.GlobalizationNumericUtil"};sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry=function(a){switch(a){case"bn":case"bn_IN":case"en_IN":case"gu":case"gu_IN":case"hi":case"hi_IN":case"kn":case"kn_IN":case"kok":case"kok_IN":case"ml":case"ml_IN":case"mr":case"mr_IN":case"pa":case"pa_IN":case"ta":case"ta_IN":case"te":case"te_IN":return true;default:return false}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.numericFormat.FLocalization=function(){this.__className="sap.common.globalization.numericFormat.FLocalization";this._setDisplayLocaleInfo();this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};var a=sap.common.globalization.numericFormat.FLocalization;a._defaultLocale="en";a._DayStrings=null;a._shortDayStrings=null;a._MonthStrings=null;a._shortMonthStrings=null;a._DateTimeCodes=null;a._NumericStrings=null;a._DateTimeStrings=null;a._CurrencySymbol=null;a._SAPCurrencySymbol=null;a._SAPDateString=null;a._SAPTimeString=null;a._SAPThousandsSeparator=null;a._SAPDecimalSeparator=null;a._SAPLongDay=null;a._SAPShortDay=null;a._SAPLongMonth=null;a._SAPShortMonth=null;a._AmPms=null;a._singleton=null;sap.common.globalization.numericFormat.FLocalization.prototype.replaceNBSP=function(e){if(e){var f="";var c=160;for(var d=0;d<e.length;++d){if(e.charCodeAt(d)==c){f+=" "}else{f+=e.charAt(d)}}e=f}return e};a.getInstance=function(){if(!a._singleton){a._initStrings();a._initializePvlDateStrings();a._initSAPGlobilizationStrings();a._singleton=new sap.common.globalization.numericFormat.FLocalization();a._singleton.IMSABBREVDAYNAME1=a._shortDayStrings.en[1]}return a._singleton};a.resetInstance=function(){a._resetAllStaticVars();a._initStrings();a._initializePvlDateStrings();a._initSAPGlobilizationStrings();a._singleton=new sap.common.globalization.numericFormat.FLocalization();a._singleton.IMSABBREVDAYNAME1=a._shortDayStrings.en[1]};var b={monthStrings:"_MonthStrings",shortMonthStrings:"_shortMonthStrings",dayStrings:"_DayStrings",shortDayStrings:"_shortDayStrings",dateTimeCodes:"_DateTimeCodes",numericStrings:"_NumericStrings",dateTimeStrings:"_DateTimeStrings",currencySymbol:"_CurrencySymbol",amPms:"_AmPms"};a.prototype._setDisplayLocaleInfo=function(){this.IMDateSeparator=a._DateTimeStrings.en[1];this.IMDayCode=a._DateTimeCodes.en[5];this.IMDecimalSeparator=a._NumericStrings.en[1];this.IMGeneralFormatName="General";this.IMHourCode=a._DateTimeCodes.en[3];this.IMMinuteCode=a._DateTimeCodes.en[1];this.IMMonthCode=a._DateTimeCodes.en[4];this.IMSABBREVDAYNAME1=a._shortDayStrings.en[1];this.IMSABBREVDAYNAME2=a._shortDayStrings.en[2];this.IMSABBREVDAYNAME3=a._shortDayStrings.en[3];this.IMSABBREVDAYNAME4=a._shortDayStrings.en[4];this.IMSABBREVDAYNAME5=a._shortDayStrings.en[5];this.IMSABBREVDAYNAME6=a._shortDayStrings.en[6];this.IMSABBREVDAYNAME7=a._shortDayStrings.en[7];this.IMSABBREVMONTHNAME1=a._shortMonthStrings.en[1];this.IMSABBREVMONTHNAME10=a._shortMonthStrings.en[10];this.IMSABBREVMONTHNAME11=a._shortMonthStrings.en[11];this.IMSABBREVMONTHNAME12=a._shortMonthStrings.en[12];this.IMSABBREVMONTHNAME2=a._shortMonthStrings.en[2];this.IMSABBREVMONTHNAME3=a._shortMonthStrings.en[3];this.IMSABBREVMONTHNAME4=a._shortMonthStrings.en[4];this.IMSABBREVMONTHNAME5=a._shortMonthStrings.en[5];this.IMSABBREVMONTHNAME6=a._shortMonthStrings.en[6];this.IMSABBREVMONTHNAME7=a._shortMonthStrings.en[7];this.IMSABBREVMONTHNAME8=a._shortMonthStrings.en[8];this.IMSABBREVMONTHNAME9=a._shortMonthStrings.en[9];this.IMSDAYNAME1=a._DayStrings.en[1];this.IMSDAYNAME2=a._DayStrings.en[2];this.IMSDAYNAME3=a._DayStrings.en[3];this.IMSDAYNAME4=a._DayStrings.en[4];this.IMSDAYNAME5=a._DayStrings.en[5];this.IMSDAYNAME6=a._DayStrings.en[6];this.IMSDAYNAME7=a._DayStrings.en[7];this.IMSMONTHNAME1=a._MonthStrings.en[1];this.IMSMONTHNAME10=a._MonthStrings.en[10];this.IMSMONTHNAME11=a._MonthStrings.en[11];this.IMSMONTHNAME12=a._MonthStrings.en[12];this.IMSMONTHNAME2=a._MonthStrings.en[2];this.IMSMONTHNAME3=a._MonthStrings.en[3];this.IMSMONTHNAME4=a._MonthStrings.en[4];this.IMSMONTHNAME5=a._MonthStrings.en[5];this.IMSMONTHNAME6=a._MonthStrings.en[6];this.IMSMONTHNAME7=a._MonthStrings.en[7];this.IMSMONTHNAME8=a._MonthStrings.en[8];this.IMSMONTHNAME9=a._MonthStrings.en[9];this.IMSecondCode=a._DateTimeCodes.en[2];this.IMTimeSeparator=a._DateTimeStrings.en[2];this.IMYearCode=a._DateTimeCodes.en[6];this.IMCurrencySymbol=a._CurrencySymbol.en[1];this.SAPDateSeparator=a._SAPDateString;this.SAPTimeSeparator=a._SAPTimeString;this.SAPCurrencySymbol=a._SAPCurrencySymbol;this.SAPDecimalSeparator=a._SAPDecimalSeparator;this.SAPThousandsSeparator=a._SAPThousandsSeparator;this.SAPLongDay=a._SAPLongDay;this.SAPShortDay=a._SAPShortDay;this.SAPLongMonth=a._SAPLongMonth;this.SAPShortMonth=a._SAPShortMonth;this.IMAMTOKEN=a._AmPms.en[1];this.IMPMTOKEN=a._AmPms.en[2];this._IMThousandsSeparator=this.replaceNBSP(a._NumericStrings.en[2])};a.prototype.setCustomizedLocaleInfo=function(e){if(e){var d;for(d in b){if(e.hasOwnProperty(d)){var g=b[d];this._setCustomizedLocaleInfoByType(g,e[d])}}}else{var c=sap.common.globalization.GlobalizationDateConstant;var f=sap.common.globalization.GlobalizationNumericConstant;this._setCustomizedLocaleInfoByType(b.dayStrings,c.getLongDay());this._setCustomizedLocaleInfoByType(b.shortDayStrings,c.getShortDay());this._setCustomizedLocaleInfoByType(b.monthStrings,c.getLongMonth());this._setCustomizedLocaleInfoByType(b.shortMonthStrings,c.getShortMonth());this._setCustomizedLocaleInfoByType(b.amPms,c.getAmPmToken());this._setCustomizedLocaleInfoByType(b.dateTimeStrings,[c.getDateSeparator(),c.getTimeSeparator()]);this._setCustomizedLocaleInfoByType(b.numericStrings,[f.getDisplayDecimalSeparator(),f.getDisplayThousandSeparator()]);this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null;this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;a._initializePvlDayStrings()}this._setDisplayLocaleInfo()};a.prototype._setCustomizedLocaleInfoByType=function(e,f){if(f&&f.length>0){var c;for(var d=0;d<f.length;d++){c=d+1;a[e]["en"][c]=f[d]}}};a._initStrings=function(){a._DayStrings={en:{1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"}};a._shortDayStrings={en:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"}};a._MonthStrings={en:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}};a._shortMonthStrings={en:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}};a._DateTimeCodes={en:{1:"m",2:"s",3:"h",4:"M",5:"D",6:"Y"}};a._NumericStrings={en:{1:".",2:","}};a._DateTimeStrings={en:{1:"/",2:":"}};a._CurrencySymbol={en:{1:"$",2:"$"}};a._AmPms={en:{1:"AM",2:"PM"}}};a._initSAPGlobilizationStrings=function(){var d=sap.common.globalization.NumericFormatManager;var e=d.SAP_PARAMETERS["BICSWS_DECIMAL"];e=e?e:d.SAP_PARAMETERS["SAP_decimal"];var l=d.SAP_PARAMETERS["BICSWS_THOUSANDSEPARATOR"];l=l?l:d.SAP_PARAMETERS["SAP_thousandSeparator"];var f=d.SAP_PARAMETERS["BICSWS_MONTHSLONG"];f=f?f:d.SAP_PARAMETERS["SAP_monthsLong"];var g=d.SAP_PARAMETERS["BICSWS_MONTHSSHORT"];g=g?g:d.SAP_PARAMETERS["SAP_monthsShort"];var c=d.SAP_PARAMETERS["BICSWS_DAYSLONG"];c=c?c:d.SAP_PARAMETERS["SAP_daysLong"];var m=d.SAP_PARAMETERS["BICSWS_DAYSSHORT"];m=m?m:d.SAP_PARAMETERS["SAP_daysShort"];var k=d.SAP_PARAMETERS["BICSWS_DATESEPARATOR"];k=k?k:d.SAP_PARAMETERS["SAP_dateSeparator"];var j=d.SAP_PARAMETERS["BICSWS_TIMESEPARATOR"];j=j?j:d.SAP_PARAMETERS["SAP_timeSeparator"];var h=d.SAP_PARAMETERS["SAP_s_g_n_FLocalization._CurrencySymbol"];var i;if(c){i=c.split(",");a._SAPLongDay=i;a._DayStrings.en[1]=i[0];a._DayStrings.en[2]=i[1];a._DayStrings.en[3]=i[2];a._DayStrings.en[4]=i[3];a._DayStrings.en[5]=i[4];a._DayStrings.en[6]=i[5];a._DayStrings.en[7]=i[6]}if(m){i=m.split(",");a._SAPShortDay=i;a._shortDayStrings.en[1]=i[0];a._shortDayStrings.en[2]=i[1];a._shortDayStrings.en[3]=i[2];a._shortDayStrings.en[4]=i[3];a._shortDayStrings.en[5]=i[4];a._shortDayStrings.en[6]=i[5];a._shortDayStrings.en[7]=i[6]}if(f){i=f.split(",");a._SAPLongMonth=i;a._MonthStrings.en[1]=i[0];a._MonthStrings.en[2]=i[1];a._MonthStrings.en[3]=i[2];a._MonthStrings.en[4]=i[3];a._MonthStrings.en[5]=i[4];a._MonthStrings.en[6]=i[5];a._MonthStrings.en[7]=i[6];a._MonthStrings.en[8]=i[7];a._MonthStrings.en[9]=i[8];a._MonthStrings.en[10]=i[9];a._MonthStrings.en[11]=i[10];a._MonthStrings.en[12]=i[11]}if(g){i=g.split(",");a._SAPShortMonth=i;a._shortMonthStrings.en[1]=i[0];a._shortMonthStrings.en[2]=i[1];a._shortMonthStrings.en[3]=i[2];a._shortMonthStrings.en[4]=i[3];a._shortMonthStrings.en[5]=i[4];a._shortMonthStrings.en[6]=i[5];a._shortMonthStrings.en[7]=i[6];a._shortMonthStrings.en[8]=i[7];a._shortMonthStrings.en[9]=i[8];a._shortMonthStrings.en[10]=i[9];a._shortMonthStrings.en[11]=i[10];a._shortMonthStrings.en[12]=i[11]}if(e){a._SAPDecimalSeparator=e}if(l){a._SAPThousandsSeparator=l}if(k){a._SAPDateString=k}if(j){a._SAPTimeString=j}if(h){a._SAPCurrencySymbol=h}};a.prototype.IMThousandsSeparator=function(c){if(arguments.length>=1){this._IMThousandsSeparator=this.replaceNBSP(c);return this}else{return this._IMThousandsSeparator}};a.prototype.getDateParseLocaleInfo=function(){if(!this._dateParseLocaleInfo){this._dateParseLocaleInfo=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl();this._dateParseLocaleInfo.IMDateSeparator(this.IMDateSeparator);this._dateParseLocaleInfo.IMTimeSeparator(this.IMTimeSeparator)}return this._dateParseLocaleInfo};a.prototype.getDateDisplayLocaleInfo=function(){if(!this._dateDisplayLocaleInfo){this._dateDisplayLocaleInfo=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl();this._dateDisplayLocaleInfo.IMDateSeparator(this.SAPDateSeparator);this._dateDisplayLocaleInfo.IMSDAYNAME1(this.IMSDAYNAME1);this._dateDisplayLocaleInfo.IMSDAYNAME2(this.IMSDAYNAME2);this._dateDisplayLocaleInfo.IMSDAYNAME3(this.IMSDAYNAME3);this._dateDisplayLocaleInfo.IMSDAYNAME4(this.IMSDAYNAME4);this._dateDisplayLocaleInfo.IMSDAYNAME5(this.IMSDAYNAME5);this._dateDisplayLocaleInfo.IMSDAYNAME6(this.IMSDAYNAME6);this._dateDisplayLocaleInfo.IMSDAYNAME7(this.IMSDAYNAME7);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME1(this.IMSABBREVDAYNAME1);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME2(this.IMSABBREVDAYNAME2);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME3(this.IMSABBREVDAYNAME3);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME4(this.IMSABBREVDAYNAME4);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME5(this.IMSABBREVDAYNAME5);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME6(this.IMSABBREVDAYNAME6);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME7(this.IMSABBREVDAYNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME1(this.IMSMONTHNAME1);this._dateDisplayLocaleInfo.IMSMONTHNAME2(this.IMSMONTHNAME2);this._dateDisplayLocaleInfo.IMSMONTHNAME3(this.IMSMONTHNAME3);this._dateDisplayLocaleInfo.IMSMONTHNAME4(this.IMSMONTHNAME4);this._dateDisplayLocaleInfo.IMSMONTHNAME5(this.IMSMONTHNAME5);this._dateDisplayLocaleInfo.IMSMONTHNAME6(this.IMSMONTHNAME6);this._dateDisplayLocaleInfo.IMSMONTHNAME7(this.IMSMONTHNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME8(this.IMSMONTHNAME8);this._dateDisplayLocaleInfo.IMSMONTHNAME9(this.IMSMONTHNAME9);this._dateDisplayLocaleInfo.IMSMONTHNAME10(this.IMSMONTHNAME10);this._dateDisplayLocaleInfo.IMSMONTHNAME11(this.IMSMONTHNAME11);this._dateDisplayLocaleInfo.IMSMONTHNAME12(this.IMSMONTHNAME12);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME1(this.IMSABBREVMONTHNAME1);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME2(this.IMSABBREVMONTHNAME2);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME3(this.IMSABBREVMONTHNAME3);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME4(this.IMSABBREVMONTHNAME4);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME5(this.IMSABBREVMONTHNAME5);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME6(this.IMSABBREVMONTHNAME6);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME7(this.IMSABBREVMONTHNAME7);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME8(this.IMSABBREVMONTHNAME8);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME9(this.IMSABBREVMONTHNAME9);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME10(this.IMSABBREVMONTHNAME10);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME11(this.IMSABBREVMONTHNAME11);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME12(this.IMSABBREVMONTHNAME12);this._dateDisplayLocaleInfo.IMTimeSeparator(this.SAPTimeSeparator);this._dateDisplayLocaleInfo.IMAMTOKEN(this.IMAMTOKEN);this._dateDisplayLocaleInfo.IMPMTOKEN(this.IMPMTOKEN)}return this._dateDisplayLocaleInfo};a.prototype.numericParseLocaleInfo=function(){if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl(this._IMThousandsSeparator,this.IMDecimalSeparator,this.IMCurrencySymbol)}return this._numericParseLocaleInfo};a.prototype.numericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var c=(this.SAPThousandsSeparator?this.SAPThousandsSeparator:this._IMThousandsSeparator);var e=(this.SAPDecimalSeparator?this.SAPDecimalSeparator:this.IMDecimalSeparator);var d=(this.SAPCurrencySymbol?this.SAPCurrencySymbol:this.IMCurrencySymbol);this._numericDisplayLocaleInfo=new sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl(c,e,d)}return this._numericDisplayLocaleInfo};a._initializePvlDayStrings=function(){var d=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(d){a._DayStrings.en[1]=d[1];a._DayStrings.en[2]=d[2];a._DayStrings.en[3]=d[3];a._DayStrings.en[4]=d[4];a._DayStrings.en[5]=d[5];a._DayStrings.en[6]=d[6];a._DayStrings.en[7]=d[0]}var c=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(c){a._shortDayStrings.en[1]=c[1];a._shortDayStrings.en[2]=c[2];a._shortDayStrings.en[3]=c[3];a._shortDayStrings.en[4]=c[4];a._shortDayStrings.en[5]=c[5];a._shortDayStrings.en[6]=c[6];a._shortDayStrings.en[7]=c[0]}};a._initializePvlDateStrings=function(){var e=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e&&!sap.common.globalization.utils.StringUtil.isBlankString(e)){a._initializePvlDayStrings();var f=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(f){a._MonthStrings.en[1]=f[0];a._MonthStrings.en[2]=f[1];a._MonthStrings.en[3]=f[2];a._MonthStrings.en[4]=f[3];a._MonthStrings.en[5]=f[4];a._MonthStrings.en[6]=f[5];a._MonthStrings.en[7]=f[6];a._MonthStrings.en[8]=f[7];a._MonthStrings.en[9]=f[8];a._MonthStrings.en[10]=f[9];a._MonthStrings.en[11]=f[10];a._MonthStrings.en[12]=f[11]}var d=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(d){a._shortMonthStrings.en[1]=d[0];a._shortMonthStrings.en[2]=d[1];a._shortMonthStrings.en[3]=d[2];a._shortMonthStrings.en[4]=d[3];a._shortMonthStrings.en[5]=d[4];a._shortMonthStrings.en[6]=d[5];a._shortMonthStrings.en[7]=d[6];a._shortMonthStrings.en[8]=d[7];a._shortMonthStrings.en[9]=d[8];a._shortMonthStrings.en[10]=d[9];a._shortMonthStrings.en[11]=d[10];a._shortMonthStrings.en[12]=d[11]}var c=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(c){a._AmPms.en[1]=c[0];a._AmPms.en[2]=c[1]}}};a._resetAllStaticVars=function(){a._DayStrings=null;a._shortDayStrings=null;a._MonthStrings=null;a._shortMonthStrings=null;a._DateTimeCodes=null;a._NumericStrings=null;a._DateTimeStrings=null;a._CurrencySymbol=null;a._SAPCurrencySymbol=null;a._SAPDateString=null;a._SAPTimeString=null;a._SAPThousandsSeparator=null;a._SAPDecimalSeparator=null;a._SAPLongDay=null;a._SAPShortDay=null;a._SAPLongMonth=null;a._SAPShortMonth=null;a._AmPms=null}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BaseUtils");var b=sap.common.globalization.utils.BaseUtils;var a=0;sap.common.globalization.utils.BaseUtils.genUID=function(){if(!a){a=0}return"xgen_"+(a++)};var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};sap.common.globalization.utils.BaseUtils.applyProperties=function(g,f){if(f!=null){var d=f.length;for(var e=0;e<d;e++){var h=f[e];if(h&&h!=null){this.applyObjectProperty(g,h.name,h.value)}}}};sap.common.globalization.utils.BaseUtils.applyObjectProperty=function(g,f,d){try{if(b.isFunction(g[f])){g[f](d)}else{if(g.hasOwnProperty(f)){g[f]=d}}}catch(h){if(console){console.log(h)}}};sap.common.globalization.utils.BaseUtils.getObjectProperty=function(f,d){try{if(b.isFunction(f[d])){return f[d]()}else{if(f.hasOwnProperty(d)){return f[d]}}}catch(g){if(console){console.log(g)}}};sap.common.globalization.utils.BaseUtils.type=function(d){return d==null?String(d):c[Object.prototype.toString.call(d)]||"object"};sap.common.globalization.utils.BaseUtils.isFunction=function(d){return b.type(d)==="function"};sap.common.globalization.utils.BaseUtils.isBoolean=function(d){return b.type(d)==="boolean"};sap.common.globalization.utils.BaseUtils.isString=function(d){return b.type(d)==="string"};sap.common.globalization.utils.BaseUtils.isArray=function(d){return b.type(d)==="array"};sap.common.globalization.utils.BaseUtils.isNumber=function(d){return b.type(d)==="number"};sap.common.globalization.utils.BaseUtils.isRegExp=function(d){return b.type(d)==="regexp"};sap.common.globalization.utils.BaseUtils.sortArrayOn=function(d,f,e){if(b.isArray(d)&&b.isString(f)){d.sort(function(h,g){return e?(h[f]<g[f])-(h[f]>g[f]):(h[f]>g[f])-(h[f]<g[f])})}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.UnitAbbreviations=function(){this.__className="sap.common.globalization.utils.UnitAbbreviations";this.thousands="K";this.millions="M";this.billions="B";this.trillions="T"};sap.common.globalization.utils.UnitAbbreviations.prototype.toObject=function(){return{thousands:this.thousands,millions:this.millions,billions:this.billions,trillions:this.trillions}};sap.common.globalization.utils.UnitAbbreviations.prototype.copyFromObject=function(a){if(!a){a={thousands:"K",millions:"M",billions:"B",trillions:"T"}}var b=false;for(attr in["thousands","millions","billions","trillions"]){if(sap.common.globalization.utils.BaseUtils.isString(a[attr])&&a[attr]!=this[attr]){this[attr]=a[attr];b=true}}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.BooleanUtil.isBooleanValue=function(a){if(sap.common.globalization.utils.BaseUtils.isBoolean(a)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(a)){return String(a).toLowerCase()=="true"||String(a).toLowerCase()=="false"}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.ColorUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.ColorUtil.convertToHexString=function(c){if(c==null||!sap.common.globalization.utils.BaseUtils.isNumber(c)||isNaN(c)){return null}var h="#",b=["r","g","b"],d=sap.common.globalization.utils.ColorUtil.convertToRGBObject(c);for(var f=0,a=b.length;f<a;f++){var g=b[f],e=d[g].toString(16);if(e.length==1){h+="0"}h+=e}return h};sap.common.globalization.utils.ColorUtil.convertToRGBObject=function(a){if(a==null||!sap.common.globalization.utils.BaseUtils.isNumber(a)||isNaN(a)){return null}return{r:(a&16711680)>>16,g:(a&65280)>>8,b:a&255}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.ColorUtil");sap.common.globalization.utils.DataFormatUtils.decorateColorHTML=function(b,a){if(!isNaN(a)){return'<FONT COLOR="'+sap.common.globalization.utils.ColorUtil.convertToHexString(a)+'"/>'+b+"</FONT>"}return b};sap.common.globalization.utils.DataFormatUtils.DataFormatUtils=function(){throw new Error("Should not initialize DataFormatUtils.")}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.utils.NumberUtil.checkEquality=function(d,c,a){a=a||-5;if(d==c){return true}var b=Math.pow(10,a-1);var e=d-c;return e<b&&e>-b};sap.common.globalization.utils.NumberUtil.lessThanEqual=function(b,c,a){a=a||-5;return((b<c)||sap.common.globalization.utils.NumberUtil.checkEquality(b,c,a))};sap.common.globalization.utils.NumberUtil.greaterThanEqual=function(b,c,a){a=a||-5;return((b>c)||sap.common.globalization.utils.NumberUtil.checkEquality(b,c,a))};sap.common.globalization.utils.NumberUtil.getPrecision=function(d){var c=String(d);var e=c.length;var b=c.indexOf(".");var a=e-(b+1);return a};sap.common.globalization.utils.NumberUtil.roundToPrecision=function(e,c){var f=e.toString(10);var d=f.split(".");var a=(d&&d.length>1?d[1].length:0);if(a<=c){return e}var b=Math.pow(10,c);return Math.round(e*b)/b};sap.common.globalization.utils.NumberUtil.roundToNearest=function(b,a,c){a=a||1;c=c||0;return Math.round((b+c)/a)*a-c};sap.common.globalization.utils.NumberUtil.abbreviate=function(f,g,c){var h=1000;var d=1000000;var b=1000000000;var a=1000000000000;g=g||null;c=c||1;if(!g){g=new sap.common.globalization.utils.UnitAbbreviations()}var i="";var e=Math.abs(f);if(e>=a){f/=a;i=g.trillions}else{if(e>=b){f/=b;i=g.billions}else{if(e>=d){f/=d;i=g.millions}else{if(e>=h){f/=h;i=g.thousands}}}}f=sap.common.globalization.utils.NumberUtil.roundToPrecision(f,c);return String(f)+i};sap.common.globalization.utils.NumberUtil.parseNumber=function(c,b){var a=b;if(c!=null){var d=Number(c);if(isNaN(d)==false){a=d}}return a};sap.common.globalization.utils.NumberUtil.isNumericValue=function(a){if(sap.common.globalization.utils.BaseUtils.isNumber(a)&&!isNaN(a)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(a)){return sap.common.globalization.utils.StringUtil.isNumber(String(a))}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.StringUtil.escapeEntities=function(a){if(a){a=a.split("&").join("&amp;");a=a.split("<").join("&lt;");a=a.split(">").join("&gt;");a=a.split('"').join("&quot;");a=a.split("'").join("&apos;")}return a};sap.common.globalization.utils.StringUtil.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")};sap.common.globalization.utils.StringUtil.isBlankString=function(a){if(a==null||!(sap.common.globalization.utils.BaseUtils.isString(a))){return false}return sap.common.globalization.utils.StringUtil.trim(a)===""};sap.common.globalization.utils.StringUtil.isNumber=function(a){if(isNaN(Number(a))){return false}else{if(sap.common.globalization.utils.StringUtil.isBlankString(a)){return false}else{return true}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.");sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory";this._parseLocaleInfo=null;this._displayLocaleInfo=null};var a=sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory;a.prototype.getDateParseLocaleInfo=function(){if(!this._parseLocaleInfo){this._parseLocaleInfo=this.getPredefinedDateParseLocaleString()}return this._parseLocaleInfo};a.prototype.getDateDisplayLocaleInfo=function(){if(!this._displayLocaleInfo){this._displayLocaleInfo=this.getPredefinedDateDisplayLocaleString();this.applySAPDateTokensAndSeparators(this._displayLocaleInfo)}return this._displayLocaleInfo};a.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultLongDateFormat()};a.prototype.createFDate=function(){return new sap.common.globalization.numericFormat.FDefaultDate(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())};a.prototype.getPredefinedDateParseLocaleString=function(){return new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl()};a.prototype.getPredefinedDateDisplayLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl();var f=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(f){e.IMSDAYNAME1(f[1]);e.IMSDAYNAME2(f[2]);e.IMSDAYNAME3(f[3]);e.IMSDAYNAME4(f[4]);e.IMSDAYNAME5(f[5]);e.IMSDAYNAME6(f[6]);e.IMSDAYNAME7(f[0])}var c=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(c){e.IMSABBREVDAYNAME1(c[1]);e.IMSABBREVDAYNAME2(c[2]);e.IMSABBREVDAYNAME3(c[3]);e.IMSABBREVDAYNAME4(c[4]);e.IMSABBREVDAYNAME5(c[5]);e.IMSABBREVDAYNAME6(c[6]);e.IMSABBREVDAYNAME7(c[0])}var g=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(g){e.IMSMONTHNAME1(g[0]);e.IMSMONTHNAME2(g[1]);e.IMSMONTHNAME3(g[2]);e.IMSMONTHNAME4(g[3]);e.IMSMONTHNAME5(g[4]);e.IMSMONTHNAME6(g[5]);e.IMSMONTHNAME7(g[6]);e.IMSMONTHNAME8(g[7]);e.IMSMONTHNAME9(g[8]);e.IMSMONTHNAME10(g[9]);e.IMSMONTHNAME11(g[10]);e.IMSMONTHNAME12(g[11])}var d=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(d){e.IMSABBREVMONTHNAME1(d[0]);e.IMSABBREVMONTHNAME2(d[1]);e.IMSABBREVMONTHNAME3(d[2]);e.IMSABBREVMONTHNAME4(d[3]);e.IMSABBREVMONTHNAME5(d[4]);e.IMSABBREVMONTHNAME6(d[5]);e.IMSABBREVMONTHNAME7(d[6]);e.IMSABBREVMONTHNAME8(d[7]);e.IMSABBREVMONTHNAME9(d[8]);e.IMSABBREVMONTHNAME10(d[9]);e.IMSABBREVMONTHNAME11(d[10]);e.IMSABBREVMONTHNAME12(d[11])}var b=sap.common.globalization.GlobalizationDateConstant.getAbbrevEraString();if(b&&b[1]){e.IMEraToken(b[1])}return e};a.prototype.applySAPDateTokensAndSeparators=function(c){var b=sap.common.globalization.numericFormat.FLocalization.getInstance();if(b.SAPShortDay){c.IMSABBREVDAYNAME1(b.SAPShortDay[0]);c.IMSABBREVDAYNAME2(b.SAPShortDay[1]);c.IMSABBREVDAYNAME3(b.SAPShortDay[2]);c.IMSABBREVDAYNAME4(b.SAPShortDay[3]);c.IMSABBREVDAYNAME5(b.SAPShortDay[4]);c.IMSABBREVDAYNAME6(b.SAPShortDay[5]);c.IMSABBREVDAYNAME7(b.SAPShortDay[6])}if(b.SAPLongDay){c.IMSDAYNAME1(b.SAPLongDay[0]);c.IMSDAYNAME2(b.SAPLongDay[1]);c.IMSDAYNAME3(b.SAPLongDay[2]);c.IMSDAYNAME4(b.SAPLongDay[3]);c.IMSDAYNAME5(b.SAPLongDay[4]);c.IMSDAYNAME6(b.SAPLongDay[5]);c.IMSDAYNAME7(b.SAPLongDay[6])}if(b.SAPShortMonth){c.IMSABBREVMONTHNAME1(b.SAPShortMonth[0]);c.IMSABBREVMONTHNAME2(b.SAPShortMonth[1]);c.IMSABBREVMONTHNAME3(b.SAPShortMonth[2]);c.IMSABBREVMONTHNAME4(b.SAPShortMonth[3]);c.IMSABBREVMONTHNAME5(b.SAPShortMonth[4]);c.IMSABBREVMONTHNAME6(b.SAPShortMonth[5]);c.IMSABBREVMONTHNAME7(b.SAPShortMonth[6]);c.IMSABBREVMONTHNAME8(b.SAPShortMonth[7]);c.IMSABBREVMONTHNAME9(b.SAPShortMonth[8]);c.IMSABBREVMONTHNAME10(b.SAPShortMonth[9]);c.IMSABBREVMONTHNAME11(b.SAPShortMonth[10]);c.IMSABBREVMONTHNAME12(b.SAPShortMonth[11])}if(b.SAPLongMonth){c.IMSMONTHNAME1(b.SAPLongMonth[0]);c.IMSMONTHNAME2(b.SAPLongMonth[1]);c.IMSMONTHNAME3(b.SAPLongMonth[2]);c.IMSMONTHNAME4(b.SAPLongMonth[3]);c.IMSMONTHNAME5(b.SAPLongMonth[4]);c.IMSMONTHNAME6(b.SAPLongMonth[5]);c.IMSMONTHNAME7(b.SAPLongMonth[6]);c.IMSMONTHNAME8(b.SAPLongMonth[7]);c.IMSMONTHNAME9(b.SAPLongMonth[8]);c.IMSMONTHNAME10(b.SAPLongMonth[9]);c.IMSMONTHNAME11(b.SAPLongMonth[10]);c.IMSMONTHNAME12(b.SAPLongMonth[11])}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var a=sap.common.globalization.defaultFormat;a.DefaultDateTimeFormatLocaleFactory=function(){a.DefaultDateTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory"};a.DefaultDateTimeFormatLocaleFactory=sap.common.globalization.extend(a.DefaultDateTimeFormatLocaleFactory,a.DefaultDateFormatLocaleFactory);a.DefaultDateTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultDateTimeFormat()};a.DefaultDateTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(c){a.DefaultDateTimeFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(c);var b=sap.common.globalization.numericFormat.FLocalization.getInstance();if(c&&b&&b.SAPTimeSeparator){c.IMTimeSeparator(b.SAPTimeSeparator)}};a.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var c=a.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var b=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(b&&c){c.IMTimeSeparator(b)}return c};a.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var d=a.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var b=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(b&&d){d.IMTimeSeparator(b)}var c=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(c&&d){d.IMAMTOKEN(c[0]);d.IMPMTOKEN(c[1])}return d}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var a=sap.common.globalization.defaultFormat;a.DefaultShortDateFormatLocaleFactory=function(){a.DefaultShortDateFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory"};a.DefaultShortDateFormatLocaleFactory=sap.common.globalization.extend(a.DefaultShortDateFormatLocaleFactory,a.DefaultDateFormatLocaleFactory);a.DefaultShortDateFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultShorDateFormat()};a.DefaultShortDateFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(c){a.DefaultShortDateFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(c);var b=sap.common.globalization.numericFormat.FLocalization.getInstance();if(c&&b&&b.SAPDateSeparator){c.IMDateSeparator(b.SAPDateSeparator)}};a.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var b=a.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var c=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(c&&b){b.IMDateSeparator(c)}return b};a.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var b=a.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var c=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(c&&b){b.IMDateSeparator(c)}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo=function(){this.__className="sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo";this._trueString="";this._falseString=""};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.trueString=function(a){if(arguments.length>=1){this._trueString=a;return this}else{return this._trueString}};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.falseString=function(a){if(arguments.length>=1){this._falseString=a;return this}else{return this._falseString}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");var a=sap.common.globalization.defaultFormat;a.CustomDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory";this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};a.CustomDateFormatLocaleFactory._instance=null;a.CustomDateFormatLocaleFactory.getInstance=function(){if(!a.CustomDateFormatLocaleFactory._instance){a.CustomDateFormatLocaleFactory._instance=new a.CustomDateFormatLocaleFactory()}return a.CustomDateFormatLocaleFactory._instance};a.CustomDateFormatLocaleFactory.prototype.getDateParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateParseLocaleInfo()};a.CustomDateFormatLocaleFactory.prototype.getDateDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateDisplayLocaleInfo()};a.CustomDateFormatLocaleFactory.prototype.createFDate=function(){var b=sap.common.globalization.GlobalizationPreference.getInstance().pvl()&&!sap.common.globalization.utils.StringUtil.isBlankString(sap.common.globalization.GlobalizationPreference.getInstance().pvl());if(b){return new sap.common.globalization.numericFormat.FDateForPVL(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())}else{return new sap.common.globalization.numericFormat.FDate(null,this.getDateDisplayLocaleInfo())}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory"};var a=sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory;a._instance=null;a.getInstance=function(){if(!a._instance){a._instance=new sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory()}return a._instance};a.prototype.getNumericParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericParseLocaleInfo()};a.prototype.getNumericDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericDisplayLocaleInfo()};a.prototype.createFNumber=function(){return new sap.common.globalization.numericFormat.FNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo())}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl";this._IMDateSeparator=null;this._IMSMONTHNAME1=null;this._IMSMONTHNAME2=null;this._IMSMONTHNAME3=null;this._IMSMONTHNAME4=null;this._IMSMONTHNAME5=null;this._IMSMONTHNAME6=null;this._IMSMONTHNAME7=null;this._IMSMONTHNAME8=null;this._IMSMONTHNAME9=null;this._IMSMONTHNAME10=null;this._IMSMONTHNAME11=null;this._IMSMONTHNAME12=null;this._IMSABBREVMONTHNAME1=null;this._IMSABBREVMONTHNAME2=null;this._IMSABBREVMONTHNAME3=null;this._IMSABBREVMONTHNAME4=null;this._IMSABBREVMONTHNAME5=null;this._IMSABBREVMONTHNAME6=null;this._IMSABBREVMONTHNAME7=null;this._IMSABBREVMONTHNAME8=null;this._IMSABBREVMONTHNAME9=null;this._IMSABBREVMONTHNAME10=null;this._IMSABBREVMONTHNAME11=null;this._IMSABBREVMONTHNAME12=null;this._IMSDAYNAME1=null;this._IMSDAYNAME2=null;this._IMSDAYNAME3=null;this._IMSDAYNAME4=null;this._IMSDAYNAME5=null;this._IMSDAYNAME6=null;this._IMSDAYNAME7=null;this._IMSABBREVDAYNAME1=null;this._IMSABBREVDAYNAME2=null;this._IMSABBREVDAYNAME3=null;this._IMSABBREVDAYNAME4=null;this._IMSABBREVDAYNAME5=null;this._IMSABBREVDAYNAME6=null;this._IMSABBREVDAYNAME7=null;this._IMTimeSeparator=null;this._IMAMToken=null;this._IMPMToken=null;this._IMEraToken=null};var a=sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;a.prototype.IMDateSeparator=function(b){if(arguments.length>=1){this._IMDateSeparator=b}else{return this._IMDateSeparator}};a.prototype.IMSMONTHNAME1=function(b){if(arguments.length>=1){this._IMSMONTHNAME1=b}else{return this._IMSMONTHNAME1}};a.prototype.IMSMONTHNAME2=function(b){if(arguments.length>=1){this._IMSMONTHNAME2=b}else{return this._IMSMONTHNAME2}};a.prototype.IMSMONTHNAME3=function(b){if(arguments.length>=1){this._IMSMONTHNAME3=b}else{return this._IMSMONTHNAME3}};a.prototype.IMSMONTHNAME4=function(b){if(arguments.length>=1){this._IMSMONTHNAME4=b}else{return this._IMSMONTHNAME4}};a.prototype.IMSMONTHNAME5=function(b){if(arguments.length>=1){this._IMSMONTHNAME5=b}else{return this._IMSMONTHNAME5}};a.prototype.IMSMONTHNAME6=function(b){if(arguments.length>=1){this._IMSMONTHNAME6=b}else{return this._IMSMONTHNAME6}};a.prototype.IMSMONTHNAME7=function(b){if(arguments.length>=1){this._IMSMONTHNAME7=b}else{return this._IMSMONTHNAME7}};a.prototype.IMSMONTHNAME8=function(b){if(arguments.length>=1){this._IMSMONTHNAME8=b}else{return this._IMSMONTHNAME8}};a.prototype.IMSMONTHNAME9=function(b){if(arguments.length>=1){this._IMSMONTHNAME9=b}else{return this._IMSMONTHNAME9}};a.prototype.IMSMONTHNAME10=function(b){if(arguments.length>=1){this._IMSMONTHNAME10=b}else{return this._IMSMONTHNAME10}};a.prototype.IMSMONTHNAME11=function(b){if(arguments.length>=1){this._IMSMONTHNAME11=b}else{return this._IMSMONTHNAME11}};a.prototype.IMSMONTHNAME12=function(b){if(arguments.length>=1){this._IMSMONTHNAME12=b}else{return this._IMSMONTHNAME12}};a.prototype.IMSABBREVMONTHNAME1=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME1=b}else{return this._IMSABBREVMONTHNAME1}};a.prototype.IMSABBREVMONTHNAME2=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME2=b}else{return this._IMSABBREVMONTHNAME2}};a.prototype.IMSABBREVMONTHNAME3=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME3=b}else{return this._IMSABBREVMONTHNAME3}};a.prototype.IMSABBREVMONTHNAME4=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME4=b}else{return this._IMSABBREVMONTHNAME4}};a.prototype.IMSABBREVMONTHNAME5=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME5=b}else{return this._IMSABBREVMONTHNAME5}};a.prototype.IMSABBREVMONTHNAME6=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME6=b}else{return this._IMSABBREVMONTHNAME6}};a.prototype.IMSABBREVMONTHNAME7=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME7=b}else{return this._IMSABBREVMONTHNAME7}};a.prototype.IMSABBREVMONTHNAME8=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME8=b}else{return this._IMSABBREVMONTHNAME8}};a.prototype.IMSABBREVMONTHNAME9=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME9=b}else{return this._IMSABBREVMONTHNAME9}};a.prototype.IMSABBREVMONTHNAME10=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME10=b}else{return this._IMSABBREVMONTHNAME10}};a.prototype.IMSABBREVMONTHNAME11=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME11=b}else{return this._IMSABBREVMONTHNAME11}};a.prototype.IMSABBREVMONTHNAME12=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME12=b}else{return this._IMSABBREVMONTHNAME12}};a.prototype.IMSDAYNAME1=function(b){if(arguments.length>=1){this._IMSDAYNAME1=b}else{return this._IMSDAYNAME1}};a.prototype.IMSDAYNAME2=function(b){if(arguments.length>=1){this._IMSDAYNAME2=b}else{return this._IMSDAYNAME2}};a.prototype.IMSDAYNAME3=function(b){if(arguments.length>=1){this._IMSDAYNAME3=b}else{return this._IMSDAYNAME3}};a.prototype.IMSDAYNAME4=function(b){if(arguments.length>=1){this._IMSDAYNAME4=b}else{return this._IMSDAYNAME4}};a.prototype.IMSDAYNAME5=function(b){if(arguments.length>=1){this._IMSDAYNAME5=b}else{return this._IMSDAYNAME5}};a.prototype.IMSDAYNAME6=function(b){if(arguments.length>=1){this._IMSDAYNAME6=b}else{return this._IMSDAYNAME6}};a.prototype.IMSDAYNAME7=function(b){if(arguments.length>=1){this._IMSDAYNAME7=b}else{return this._IMSDAYNAME7}};a.prototype.IMSABBREVDAYNAME1=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME1=b}else{return this._IMSABBREVDAYNAME1}};a.prototype.IMSABBREVDAYNAME2=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME2=b}else{return this._IMSABBREVDAYNAME2}};a.prototype.IMSABBREVDAYNAME3=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME3=b}else{return this._IMSABBREVDAYNAME3}};a.prototype.IMSABBREVDAYNAME4=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME4=b}else{return this._IMSABBREVDAYNAME4}};a.prototype.IMSABBREVDAYNAME5=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME5=b}else{return this._IMSABBREVDAYNAME5}};a.prototype.IMSABBREVDAYNAME6=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME6=b}else{return this._IMSABBREVDAYNAME6}};a.prototype.IMSABBREVDAYNAME7=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME7=b}else{return this._IMSABBREVDAYNAME7}};a.prototype.IMTimeSeparator=function(b){if(arguments.length>=1){this._IMTimeSeparator=b}else{return this._IMTimeSeparator}};a.prototype.IMAMTOKEN=function(b){if(arguments.length>=1){this._IMAMToken=b}else{return this._IMAMToken}};a.prototype.IMPMTOKEN=function(b){if(arguments.length>=1){this._IMPMToken=b}else{return this._IMPMToken}};a.prototype.IMEraToken=function(b){if(arguments.length>=1){this._IMEraToken=b}else{return this._IMEraToken}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl";this._IMDateSeparator=null;this._IMTimeSeparator=null};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMDateSeparator=function(a){if(arguments.length>=1){this._IMDateSeparator=a}else{return this._IMDateSeparator}};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMTimeSeparator=function(a){if(arguments.length>=1){this._IMTimeSeparator=a}else{return this._IMTimeSeparator}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.require("sap.common.globalization.GlobalizationBooleanConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory=function(){this.className="sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory";this._displayLocale=null};var a=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory;a._instance=null;a.getInstance=function(){if(!a._instance){a._instance=new sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory()}return a._instance};a.prototype.getBooleanDisplayLocaleInfo=function(){if(!this._displayLocale){this._displayLocale=new sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo();var b=sap.common.globalization.GlobalizationBooleanConstant.getBooleanStrings();if(b){this._displayLocale.trueString(b[0]);this._displayLocale.falseString(b[1])}}return this._displayLocale}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory.DefaultNumericFormatLocaleFactory";this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null};var a=sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory;a.prototype.getNumericParseLocaleInfo=function(){var b=sap.common.globalization;if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new b.defaultFormat.NumericParseLocaleInfoImpl(b.GlobalizationNumericConstant.getParseThousandSeparator(),b.GlobalizationNumericConstant.getParseDecimalSeparator(),b.GlobalizationNumericConstant.getParseCurrencySymbol())}return this._numericParseLocaleInfo};a.prototype.getNumericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var e=",";var d=".";var b=sap.common.globalization;if(b.numericFormat.FLocalization.getInstance().SAPThousandsSeparator){e=b.numericFormat.FLocalization.getInstance().SAPThousandsSeparator}else{if(b.GlobalizationNumericConstant.getDisplayThousandSeparator()){e=b.GlobalizationNumericConstant.getDisplayThousandSeparator()}}if(b.numericFormat.FLocalization.getInstance().SAPDecimalSeparator){d=b.numericFormat.FLocalization.getInstance().SAPDecimalSeparator}else{if(b.GlobalizationNumericConstant.getDisplayDecimalSeparator()){d=b.GlobalizationNumericConstant.getDisplayDecimalSeparator()}}var c=(b.numericFormat.FLocalization.getInstance().SAPCurrencySymbol?b.numericFormat.FLocalization.getInstance().SAPCurrencySymbol:this.displayCurrencySymbol());this._numericDisplayLocaleInfo=new b.defaultFormat.NumericDisplayLocaleInfoImpl(e,d,c)}return this._numericDisplayLocaleInfo};a.prototype.createFNumber=function(){var b=new sap.common.globalization.numericFormat.FDefaultNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultNumberFormat())){b.groupingStrategy(sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance())}return b};a.prototype.getDefaultNumericFormat=function(){if(sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()){return sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()}return"#,##0.###"};a.prototype.displayCurrencySymbol=function(){return""}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var a=sap.common.globalization.defaultFormat;a.DefaultTimeFormatLocaleFactory=function(){a.DefaultTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory"};a.DefaultTimeFormatLocaleFactory=sap.common.globalization.extend(a.DefaultTimeFormatLocaleFactory,a.DefaultDateFormatLocaleFactory);a.DefaultTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultTimeFormat()};a.DefaultTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(c){var b=sap.common.globalization.numericFormat.FLocalization.getInstance();if(c&&b&&b.SAPTimeSeparator){c.IMTimeSeparator(b.SAPTimeSeparator)}};a.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var c=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl();var b=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(b&&c){c.IMTimeSeparator(b)}return c};a.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var d=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl();var b=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(b&&d){d.IMTimeSeparator(b)}var c=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(c&&d){d.IMAMTOKEN(c[0]);d.IMPMTOKEN(c[1])}return d}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl=function(a,b,c){if(a){this._thousandsSeparator=a}else{this._thousandsSeparator=","}if(b){this._decimalSeparator=b}else{this._decimalSeparator="."}if(c){this._currencySymbol=c}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl=function(a,b,c){if(a){this._thousandsSeparator=a}else{this._thousandsSeparator=","}if(b){this._decimalSeparator=b}else{this._decimalSeparator="."}if(c){this._currencySymbol=c}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateA");var a=sap.common.globalization.numericFormat;a.FDateA=function(b){this.__className="sap.common.globalization.numericFormat.FDateA";this._full=true;this._displayLocale=b};a.FDateA.prototype.parse=function(e,d){var c=0;var b=d.toLowerCase();if(b.substr(0,5)=="am/pm"){e.miltime=false;c=5}if(b.substr(0,3)=="a/p"){e.miltime=false;this._full=false;c=3}return c};a.FDateA.prototype.display=function(c){var b="";if(c.getHrs()>=12){if(this._full){b=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"PM"}else{b=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"P"}}else{if(this._full){b=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"AM"}else{b=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"A"}}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");var a=sap.common.globalization.numericFormat;a.FDateB=function(b){this.__className="sap.common.globalization.numericFormat.FDateB";this._displayLocaleInfo=b;this.mask=undefined;this.c="";this._tok={};this.initializeTokenMap()};a.FDateB.prototype.parse=function(f,e){var c=2;this.c=e.charAt(1);var d=this.createTokenFormatter(this._tok[this.c]);if(this.c=="M"||this.c=="m"){d.bminute=true}var b=d.parse(f,e.substring(1));if(b>0){this.mask=d;c+=b}return c};a.FDateB.prototype.display=function(c){var b;if(this.c=="S"||this.c=="s"){b=86400*c.serial}else{if(this.c=="M"||this.c=="m"){b=1440*c.serial}else{if(this.c=="H"||this.c=="h"){b=24*c.serial}}}this.mask.value=Math.floor(b);return this.mask.display(c)};a.FDateB.prototype.createTokenFormatter=function(b){var c=null;switch(b){case a.FDateM:c=new a.FDateM(this._displayLocaleInfo);break;case a.FDateH:c=new a.FDateH();break;case a.FDateS:c=new a.FDateS();break;default:}return c};a.FDateB.prototype.initializeTokenMap=function(){this._tok.M=a.FDateM;this._tok.H=a.FDateH;this._tok.S=a.FDateS;this._tok.m=a.FDateM;this._tok.h=a.FDateH;this._tok.s=a.FDateS}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateD");var a=sap.common.globalization.numericFormat;a.FDateD=function(b){this.__className="sap.common.globalization.numericFormat.FDateD";this._placeholders=0;this._displayLocaleInfo=b};a.FDateD.prototype.getPlaceholders=function(){return this._placeholders};a.FDateD.prototype.parse=function(d,c){var b=0;while(c.charAt(b)=="D"||c.charAt(b)=="d"){b++}if(b<=2){this._placeholders=b}else{if(b==3){this._placeholders=-1}else{if(b>=4){this._placeholders=-2}}}return b};a.FDateD.prototype.display=function(d){var c="";if(this._placeholders>=0){c+=d.getDate();while(c.length<this._placeholders){c="0"+c}}else{var b=d.getDay();if(this._placeholders==-1){c+=this.getShortDay(b)}else{c+=this.getDay(b)}}return c};a.FDateD.prototype.getDay=function(b){if(b==0){return this._displayLocaleInfo.IMSDAYNAME7()}if(b==1){return this._displayLocaleInfo.IMSDAYNAME1()}if(b==2){return this._displayLocaleInfo.IMSDAYNAME2()}if(b==3){return this._displayLocaleInfo.IMSDAYNAME3()}if(b==4){return this._displayLocaleInfo.IMSDAYNAME4()}if(b==5){return this._displayLocaleInfo.IMSDAYNAME5()}if(b==6||b==-1){return this._displayLocaleInfo.IMSDAYNAME6()}return this._displayLocaleInfo.IMSDAYNAME6()};a.FDateD.prototype.getShortDay=function(b){if(b==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7().split(".")[0]}if(b==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1().split(".")[0]}if(b==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2().split(".")[0]}if(b==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3().split(".")[0]}if(b==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4().split(".")[0]}if(b==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5().split(".")[0]}if(b==6||b==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateH");var a=sap.common.globalization.numericFormat;a.FDateH=function(){this.__className="sap.common.globalization.numericFormat.FDateH";this.placeholders=1;this.number=0;this.value=NaN};sap.common.globalization.numericFormat.FDateH.prototype.parse=function(d,c){var b=0;this.number=d.HNum+1;d.HBool=true;d.HNum=this.number;while(c.charAt(b)=="H"||c.charAt(b)=="h"){b++}if(b>1){this.placeholders=2}return b};a.FDateH.prototype.display=function(d){var b;if(isNaN(this.value)){b=d.getHrs()}else{b=this.value}if(!d.miltime){if(this.number==d.HNum){if(b>11){b=b-12}if(b==0){b=12}}}var c=""+b;while(this.placeholders>c.length){c="0"+c}return c}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateM");var a=sap.common.globalization.numericFormat;a.FDateM=function(b){this.__className="sap.common.globalization.numericFormat.FDateM";this.bminute=false;this.placeholders=0;this.value=undefined;this._displayLocaleInfo=b};a.FDateM.prototype.parse=function(d,c){var b=0;while(c.charAt(b)=="M"||c.charAt(b)=="m"){b++}if(b<=2){if(d.HBool){this.bminute=true}d.HBool=false;this.placeholders=b}else{if(b==3){this.placeholders=-1}else{if(b==4){this.placeholders=-2}else{if(b==5){this.placeholders=-3}}}}return b};a.FDateM.prototype.display=function(g){var f="";if(this.placeholders>=0&&this.bminute){if(this.value==undefined){f+=g.getMin()}else{f+=this.value}while(f.length<this.placeholders){f="0"+f}}else{var d=g.getMonth();if(this.placeholders>=0){d++;f+=d;while(f.length<this.placeholders){f="0"+f}}else{var e=new Array(this._displayLocaleInfo.IMSMONTHNAME1(),this._displayLocaleInfo.IMSMONTHNAME2(),this._displayLocaleInfo.IMSMONTHNAME3(),this._displayLocaleInfo.IMSMONTHNAME4(),this._displayLocaleInfo.IMSMONTHNAME5(),this._displayLocaleInfo.IMSMONTHNAME6(),this._displayLocaleInfo.IMSMONTHNAME7(),this._displayLocaleInfo.IMSMONTHNAME8(),this._displayLocaleInfo.IMSMONTHNAME9(),this._displayLocaleInfo.IMSMONTHNAME10(),this._displayLocaleInfo.IMSMONTHNAME11(),this._displayLocaleInfo.IMSMONTHNAME12());var c=new Array(this._displayLocaleInfo.IMSABBREVMONTHNAME1(),this._displayLocaleInfo.IMSABBREVMONTHNAME2(),this._displayLocaleInfo.IMSABBREVMONTHNAME3(),this._displayLocaleInfo.IMSABBREVMONTHNAME4(),this._displayLocaleInfo.IMSABBREVMONTHNAME5(),this._displayLocaleInfo.IMSABBREVMONTHNAME6(),this._displayLocaleInfo.IMSABBREVMONTHNAME7(),this._displayLocaleInfo.IMSABBREVMONTHNAME8(),this._displayLocaleInfo.IMSABBREVMONTHNAME9(),this._displayLocaleInfo.IMSABBREVMONTHNAME10(),this._displayLocaleInfo.IMSABBREVMONTHNAME11(),this._displayLocaleInfo.IMSABBREVMONTHNAME12());if(this.placeholders==-1){f+=c[d]}else{if(this.placeholders==-3){f+=e[d].substring(0,1)}else{f+=e[d]}}}}return f}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.FDateS=function(){this.__className="sap.common.globalization.numericFormat.FDateS";this.splaceholders=1;this.msplaceholders=0;this.value=undefined;this.IMDecimalSeparator=sap.common.globalization.numericFormat.FLocalization.getInstance().IMDecimalSeparator;this.ms=NaN};sap.common.globalization.numericFormat.FDateS.prototype.parse=function(g,f){var e=0;var c=g.mask;var b=c.length;for(var d=b-1;d>=0;d--){if(c[d].__className=="sap.common.globalization.numericFormat.FDateM"){c[d].bminute=true;break}}while(f.charAt(e)=="S"||f.charAt(e)=="s"){e++}if(e>1){this.splaceholders=2}if(f.charAt(e)==this.IMDecimalSeparator.charAt(0)&&f.charAt(e+1)=="0"){e++;while(f.charAt(e)=="0"){e++;this.msplaceholders++}if(this.msplaceholders>g.ms){g.ms=this.msplaceholders}}return e};sap.common.globalization.numericFormat.FDateS.prototype.display=function(d){var c;if(this.value==undefined){c=""+d.getSec()}else{c=""+this.value}while(this.splaceholders>c.length){c="0"+c}if(this.msplaceholders>0){var a=d.getMS()/Math.pow(10,(3-this.msplaceholders));if(this.msplaceholders<this.ms){a=Math.floor(a)}else{a=Math.round(a)}var b=""+a;while(b.length<this.msplaceholders){b="0"+b}c+=this.IMDecimalSeparator+b}return c}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.numericFormat.FDateSep=function(a,b){this.__className="sap.common.globalization.numericFormat.FDateSep";this._parseLocalInfo=a;this._displayLocaleInfo=b};sap.common.globalization.numericFormat.FDateSep.prototype.parse=function(c,b){var a=b.charAt(0);if(this._displayLocaleInfo.IMDateSeparator()!=null&&(a=="."||a=="/"||a=="-")){return 1}else{return 0}};sap.common.globalization.numericFormat.FDateSep.prototype.display=function(b){var a=this._displayLocaleInfo.IMDateSeparator();return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.numericFormat.FDateY=function(){this.__className="sap.common.globalization.numericFormat.FDateY";this.placeholders=2};sap.common.globalization.numericFormat.FDateY.prototype.parse=function(c,b){var a=0;while(b.charAt(a)=="Y"||b.charAt(a)=="y"){a++}if(a>2){this.placeholders=4}return a};sap.common.globalization.numericFormat.FDateY.prototype.display=function(b){var a=""+b.getYear();if(this.placeholders<4){a=a.substring(2)}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FText");sap.common.globalization.numericFormat.FText=function(){this.__className="sap.common.globalization.numericFormat.FText";this.color=NaN;this.format="";this.condnum=0;this.cond={};this.numAts=0;this.mask=new Array()};sap.common.globalization.numericFormat.FText.tokens="@";sap.common.globalization.numericFormat.FText.prototype.parse=function(b){var a=0;while(b.charAt(a)=="@"){a++}this.numAts=a;return a};sap.common.globalization.numericFormat.FText.prototype.display=function(a){var c="";for(var b=0;b<this.numAts;b++){c+=a.toString()}return c}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl";this._IMDateSeparator=null;this._IMSMONTHNAME1=null;this._IMSMONTHNAME2=null;this._IMSMONTHNAME3=null;this._IMSMONTHNAME4=null;this._IMSMONTHNAME5=null;this._IMSMONTHNAME6=null;this._IMSMONTHNAME7=null;this._IMSMONTHNAME8=null;this._IMSMONTHNAME9=null;this._IMSMONTHNAME10=null;this._IMSMONTHNAME11=null;this._IMSMONTHNAME12=null;this._IMSABBREVMONTHNAME1=null;this._IMSABBREVMONTHNAME2=null;this._IMSABBREVMONTHNAME3=null;this._IMSABBREVMONTHNAME4=null;this._IMSABBREVMONTHNAME5=null;this._IMSABBREVMONTHNAME6=null;this._IMSABBREVMONTHNAME7=null;this._IMSABBREVMONTHNAME8=null;this._IMSABBREVMONTHNAME9=null;this._IMSABBREVMONTHNAME10=null;this._IMSABBREVMONTHNAME11=null;this._IMSABBREVMONTHNAME12=null;this._IMSDAYNAME1=null;this._IMSDAYNAME2=null;this._IMSDAYNAME3=null;this._IMSDAYNAME4=null;this._IMSDAYNAME5=null;this._IMSDAYNAME6=null;this._IMSDAYNAME7=null;this._IMSABBREVDAYNAME1=null;this._IMSABBREVDAYNAME2=null;this._IMSABBREVDAYNAME3=null;this._IMSABBREVDAYNAME4=null;this._IMSABBREVDAYNAME5=null;this._IMSABBREVDAYNAME6=null;this._IMSABBREVDAYNAME7=null;this._IMTimeSeparator=null;this._IMAMToken=null;this._IMPMToken=null;this._IMEraToken=null};var a=sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;a.prototype.IMDateSeparator=function(b){if(arguments.length>=1){this._IMDateSeparator=b}else{return this._IMDateSeparator}};a.prototype.IMSMONTHNAME1=function(b){if(arguments.length>=1){this._IMSMONTHNAME1=b}else{return this._IMSMONTHNAME1}};a.prototype.IMSMONTHNAME2=function(b){if(arguments.length>=1){this._IMSMONTHNAME2=b}else{return this._IMSMONTHNAME2}};a.prototype.IMSMONTHNAME3=function(b){if(arguments.length>=1){this._IMSMONTHNAME3=b}else{return this._IMSMONTHNAME3}};a.prototype.IMSMONTHNAME4=function(b){if(arguments.length>=1){this._IMSMONTHNAME4=b}else{return this._IMSMONTHNAME4}};a.prototype.IMSMONTHNAME5=function(b){if(arguments.length>=1){this._IMSMONTHNAME5=b}else{return this._IMSMONTHNAME5}};a.prototype.IMSMONTHNAME6=function(b){if(arguments.length>=1){this._IMSMONTHNAME6=b}else{return this._IMSMONTHNAME6}};a.prototype.IMSMONTHNAME7=function(b){if(arguments.length>=1){this._IMSMONTHNAME7=b}else{return this._IMSMONTHNAME7}};a.prototype.IMSMONTHNAME8=function(b){if(arguments.length>=1){this._IMSMONTHNAME8=b}else{return this._IMSMONTHNAME8}};a.prototype.IMSMONTHNAME9=function(b){if(arguments.length>=1){this._IMSMONTHNAME9=b}else{return this._IMSMONTHNAME9}};a.prototype.IMSMONTHNAME10=function(b){if(arguments.length>=1){this._IMSMONTHNAME10=b}else{return this._IMSMONTHNAME10}};a.prototype.IMSMONTHNAME11=function(b){if(arguments.length>=1){this._IMSMONTHNAME11=b}else{return this._IMSMONTHNAME11}};a.prototype.IMSMONTHNAME12=function(b){if(arguments.length>=1){this._IMSMONTHNAME12=b}else{return this._IMSMONTHNAME12}};a.prototype.IMSABBREVMONTHNAME1=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME1=b}else{return this._IMSABBREVMONTHNAME1}};a.prototype.IMSABBREVMONTHNAME2=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME2=b}else{return this._IMSABBREVMONTHNAME2}};a.prototype.IMSABBREVMONTHNAME3=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME3=b}else{return this._IMSABBREVMONTHNAME3}};a.prototype.IMSABBREVMONTHNAME4=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME4=b}else{return this._IMSABBREVMONTHNAME4}};a.prototype.IMSABBREVMONTHNAME5=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME5=b}else{return this._IMSABBREVMONTHNAME5}};a.prototype.IMSABBREVMONTHNAME6=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME6=b}else{return this._IMSABBREVMONTHNAME6}};a.prototype.IMSABBREVMONTHNAME7=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME7=b}else{return this._IMSABBREVMONTHNAME7}};a.prototype.IMSABBREVMONTHNAME8=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME8=b}else{return this._IMSABBREVMONTHNAME8}};a.prototype.IMSABBREVMONTHNAME9=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME9=b}else{return this._IMSABBREVMONTHNAME9}};a.prototype.IMSABBREVMONTHNAME10=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME10=b}else{return this._IMSABBREVMONTHNAME10}};a.prototype.IMSABBREVMONTHNAME11=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME11=b}else{return this._IMSABBREVMONTHNAME11}};a.prototype.IMSABBREVMONTHNAME12=function(b){if(arguments.length>=1){this._IMSABBREVMONTHNAME12=b}else{return this._IMSABBREVMONTHNAME12}};a.prototype.IMSDAYNAME1=function(b){if(arguments.length>=1){this._IMSDAYNAME1=b}else{return this._IMSDAYNAME1}};a.prototype.IMSDAYNAME2=function(b){if(arguments.length>=1){this._IMSDAYNAME2=b}else{return this._IMSDAYNAME2}};a.prototype.IMSDAYNAME3=function(b){if(arguments.length>=1){this._IMSDAYNAME3=b}else{return this._IMSDAYNAME3}};a.prototype.IMSDAYNAME4=function(b){if(arguments.length>=1){this._IMSDAYNAME4=b}else{return this._IMSDAYNAME4}};a.prototype.IMSDAYNAME5=function(b){if(arguments.length>=1){this._IMSDAYNAME5=b}else{return this._IMSDAYNAME5}};a.prototype.IMSDAYNAME6=function(b){if(arguments.length>=1){this._IMSDAYNAME6=b}else{return this._IMSDAYNAME6}};a.prototype.IMSDAYNAME7=function(b){if(arguments.length>=1){this._IMSDAYNAME7=b}else{return this._IMSDAYNAME7}};a.prototype.IMSABBREVDAYNAME1=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME1=b}else{return this._IMSABBREVDAYNAME1}};a.prototype.IMSABBREVDAYNAME2=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME2=b}else{return this._IMSABBREVDAYNAME2}};a.prototype.IMSABBREVDAYNAME3=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME3=b}else{return this._IMSABBREVDAYNAME3}};a.prototype.IMSABBREVDAYNAME4=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME4=b}else{return this._IMSABBREVDAYNAME4}};a.prototype.IMSABBREVDAYNAME5=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME5=b}else{return this._IMSABBREVDAYNAME5}};a.prototype.IMSABBREVDAYNAME6=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME6=b}else{return this._IMSABBREVDAYNAME6}};a.prototype.IMSABBREVDAYNAME7=function(b){if(arguments.length>=1){this._IMSABBREVDAYNAME7=b}else{return this._IMSABBREVDAYNAME7}};a.prototype.IMTimeSeparator=function(b){if(arguments.length>=1){this._IMTimeSeparator=b}else{return this._IMTimeSeparator}};a.prototype.IMAMTOKEN=function(b){if(arguments.length>=1){this._IMAMToken=b}else{return this._IMAMToken}};a.prototype.IMPMTOKEN=function(b){if(arguments.length>=1){this._IMPMToken=b}else{return this._IMPMToken}};a.prototype.IMEraToken=function(b){if(arguments.length>=1){this._IMEraToken=b}else{return this._IMEraToken}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");var a=sap.common.globalization.numericFormat;a.FDate=function(c,b){this.__className="sap.common.globalization.numericFormat.FDate";this.date;this.color;this.condnum;this.cond;this.tok={};this.HBool=false;this.serial=37500;this.format="";this.HNum=0;this.miltime=true;this.ms=0;this.mask=new Array();this._parseLocaleInfo=c;this._displayLocaleInfo=b;this._inputIsDateType=false;this.initializeTokenMap()};a.FDate.tokens="MDYHSAmdyhsa";a.FDate.prototype.parse=function(f){var g=f.charAt(0);if(g=="."){g=f.substring(0,2)}var e=this.tok[g];if(e==undefined){return 0}var d=this.createTokenFormatter(e);var b=d.parse(this,f);if(b>0){this.mask.push(d)}else{b=0}return b};a.FDate.prototype.display=function(d){if(d<0){return"###########################################"}this.setNumber(d);var c=this.mask;var b=c.length;var f="";for(var e=0;e<b;e++){if((typeof c[e])=="object"){f+=c[e].display(this)}else{f+=c[e]}}return f};a.FDate.prototype.getMaskClone=function(){if(this.mask){return this.mask.slice()}return[]};a.FDate.prototype.getYear=function(){if(this._inputIsDateType){return this.date.getFullYear()}if(this.serial>=0&&this.serial<1){return 1900}return this.date.getUTCFullYear()};a.FDate.prototype.getMonth=function(){if(this._inputIsDateType){return this.date.getMonth()}if(this.serial>=0&&this.serial<1){return 0}return this.date.getUTCMonth()};a.FDate.prototype.getDate=function(){if(this._inputIsDateType){return this.date.getDate()}if(this.serial>=0&&this.serial<1){return 0}if(this.serial==60){return 29}return this.date.getUTCDate()};a.FDate.prototype.getDay=function(){var b=this.date.getUTCDay();if(this.serial<60){b--}if(this._inputIsDateType){b=this.date.getDay()}return b};a.FDate.prototype.getHrs=function(){if(this._inputIsDateType){return this.date.getHours()}return this.date.getUTCHours()};a.FDate.prototype.getMin=function(){if(this._inputIsDateType){return this.date.getMinutes()}return this.date.getUTCMinutes()};a.FDate.prototype.getSec=function(){if(this._inputIsDateType){return this.date.getSeconds()}return this.date.getUTCSeconds()};a.FDate.prototype.getMS=function(){if(this._inputIsDateType){return this.date.getMilliseconds()}return this.date.getUTCMilliseconds()};a.FDate.prototype.setNumber=function(b){if(b instanceof Date){var e=new Date();e.setTime(b.getTime());this.date=e;this._inputIsDateType=true;this.serial=37500;return}this._inputIsDateType=false;this.serial=b;if(b<60){b++}var d=b*86400*1000;var c=d-(2209161600*1000);this.date=new Date(c);if(this.date.getUTCMilliseconds()>=500){this.date.setUTCMilliseconds(this.date.getUTCMilliseconds()+500)}};a.FDate.prototype.createTokenFormatter=function(b){var c=null;switch(b){case a.FDateM:c=new a.FDateM(this._displayLocaleInfo);break;case a.FDateD:c=new a.FDateD(this._displayLocaleInfo);break;case a.FDateY:c=new a.FDateY();break;case a.FDateH:c=new a.FDateH();break;case a.FDateS:c=new a.FDateS();break;case a.FDateSep:c=new a.FDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case a.FTimeSep:c=new a.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case a.FDateA:c=new a.FDateA(this._displayLocaleInfo);break;case a.FDateB:c=new a.FDateB(this._displayLocaleInfo);break;default:}return c};a.FDate.prototype.initializeTokenMap=function(){this.tok.M=a.FDateM;this.tok.D=a.FDateD;this.tok.Y=a.FDateY;this.tok.H=a.FDateH;this.tok.S=a.FDateS;this.tok.A=a.FDateA;this.tok.m=a.FDateM;this.tok.d=a.FDateD;this.tok.y=a.FDateY;this.tok.h=a.FDateH;this.tok.s=a.FDateS;this.tok.a=a.FDateA;this.tok["["]=a.FDateB;this.tok["/"]=a.FDateSep;this.tok[".M"]=a.FDateSep;this.tok[".D"]=a.FDateSep;this.tok[".Y"]=a.FDateSep;this.tok["-"]=a.FDateSep;this.tok[".m"]=a.FTimeSep;this.tok[".h"]=a.FTimeSep;this.tok[".s"]=a.FTimeSep;this.tok[":"]=a.FTimeSep};a.FDate.prototype.toString=function(){var b="[FDate]\n";for(var c in this){b=b+c+" = "+this[c]+"\n"}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.numericFormat.FDateForPVL=function(c,b){sap.common.globalization.numericFormat.FDateForPVL.superclass.constructor.apply(this,[c,b]);this.__className="sap.common.globalization.numericFormat.FDateForPVL"};sap.common.globalization.numericFormat.FDateForPVL=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDateForPVL,sap.common.globalization.numericFormat.FDate);var a=sap.common.globalization.numericFormat.FDateForPVL;a.prototype.createTokenFormatter=function(b){var c=null;if(b==sap.common.globalization.numericFormat.FDefaultDateD){c=new sap.common.globalization.numericFormat.FDefaultDateD(this._displayLocaleInfo)}else{c=a.superclass.createTokenFormatter.call(this,b)}return c};a.prototype.initializeTokenMap=function(){a.superclass.initializeTokenMap.apply(this);this.tok.d=sap.common.globalization.numericFormat.FDefaultDateD;this.tok.D=sap.common.globalization.numericFormat.FDefaultDateD}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDateSep=function(b,a){sap.common.globalization.numericFormat.FDefaultDateSep.superclass.constructor.call(this,b,a);this.__className="sap.common.globalization.numericFormat.FDefaultDateSep"};sap.common.globalization.numericFormat.FDefaultDateSep=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateSep,sap.common.globalization.numericFormat.FDateSep);sap.common.globalization.numericFormat.FDefaultDateSep.prototype.parse=function(e,d){var a=this._parseLocalInfo.IMDateSeparator();if(a){var c=a.length;var b=d.substr(0,c);if(b==a){return c}else{return 0}}return 0}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.numericFormat.FDefaultDateH=function(){sap.common.globalization.numericFormat.FDefaultDateH.superclass.constructor.apply(this);this.__className="sap.common.globalization.numericFormat.FDefaultDateH";this._is12HourStyle=false};sap.common.globalization.numericFormat.FDefaultDateH=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateH,sap.common.globalization.numericFormat.FDateH);sap.common.globalization.numericFormat.FDefaultDateH.prototype.parse=function(c,b){var a=0;this.number=c.HNum+1;c.HBool=true;c.HNum=this.number;this._is12HourStyle=true;while(b.charAt(a)=="H"||b.charAt(a)=="h"){if(b.charAt(a)=="H"){this._is12HourStyle=false}a++}if(a>1){this.placeholders=2}return a};sap.common.globalization.numericFormat.FDefaultDateH.prototype.display=function(c){var a;if(isNaN(this.value)){a=c.getHrs()}else{a=this.value}if(this._is12HourStyle){if(this.number==c.HNum){if(a>11){a=a-12}if(a==0){a=12}}}var b=""+a;while(this.placeholders>b.length){b="0"+b}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.numericFormat.FDefaultDateG=function(a){this.__className="sap.common.globalization.numericFormat.FDefaultDateG";this._displayLocInfo=a;this._count=0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.parse=function(c,b){if(b&&!sap.common.globalization.utils.StringUtil.isBlankString(b)){if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){this._count=0;var a=b.charAt(this._count);while(a=="G"){this._count++;a=b.charAt(this._count)}return this._count}}return 0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.display=function(b){var a="";if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){switch(this._count){case 4:case 5:case 1:case 2:case 3:default:a=this._displayLocInfo.IMEraToken()}}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");var a=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultDateD=function(b){sap.common.globalization.numericFormat.FDefaultDateD.superclass.constructor.call(this,b);this.__className="sap.common.globalization.numericFormat.FDefaultDateD"};sap.common.globalization.numericFormat.FDefaultDateD=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateD,sap.common.globalization.numericFormat.FDateD);a.FDefaultDateD.prototype.getShortDay=function(b){if(b==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7()}if(b==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1()}if(b==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2()}if(b==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3()}if(b==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4()}if(b==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5()}if(b==6||b==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6()}return this._displayLocaleInfo.IMSABBREVDAYNAME6()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDate=function(b,a){sap.common.globalization.numericFormat.FDefaultDate.superclass.constructor.apply(this,[b,a]);this.__className="sap.common.globalization.numericFormat.FDefaultDate"};sap.common.globalization.numericFormat.FDefaultDate=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDate,sap.common.globalization.numericFormat.FDate);sap.common.globalization.numericFormat.FDefaultDate.prototype.createTokenFormatter=function(a){var c=sap.common.globalization.numericFormat;var b=null;switch(a){case c.FDateM:b=new c.FDateM(this._displayLocaleInfo);break;case c.FDefaultDateD:b=new c.FDefaultDateD(this._displayLocaleInfo);break;case c.FDateY:b=new c.FDateY();break;case c.FDefaultDateH:b=new c.FDefaultDateH();break;case c.FDateS:b=new c.FDateS();break;case c.FDefaultDateSep:b=new c.FDefaultDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case c.FTimeSep:b=new c.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case c.FDateA:b=new c.FDateA(this._displayLocaleInfo);break;case c.FDateB:b=new c.FDateB(this._displayLocaleInfo);break;case c.FDefaultDateG:b=new c.FDefaultDateG(this._displayLocaleInfo);break;default:}return b};sap.common.globalization.numericFormat.FDefaultDate.prototype.initializeTokenMap=function(){var a=sap.common.globalization.numericFormat;this.tok.M=a.FDateM;this.tok.Y=a.FDateY;this.tok.S=a.FDateS;this.tok.A=a.FDateA;this.tok.m=a.FDateM;this.tok.y=a.FDateY;this.tok.s=a.FDateS;this.tok.a=a.FDateA;this.tok["["]=a.FDateB;this.tok.D=a.FDefaultDateD;this.tok.d=a.FDefaultDateD;this.tok.H=a.FDefaultDateH;this.tok.h=a.FDefaultDateH;if(this._parseLocaleInfo&&this._parseLocaleInfo.IMDateSeparator){if(this._parseLocaleInfo.IMDateSeparator()=="."){this.tok[".M"]=a.FDefaultDateSep;this.tok[".D"]=a.FDefaultDateSep;this.tok[".d"]=a.FDefaultDateSep;this.tok[".Y"]=a.FDefaultDateSep;this.tok[".y"]=a.FDefaultDateSep}else{this.tok[this._parseLocaleInfo.IMDateSeparator()]=a.FDefaultDateSep}}if(this._parseLocaleInfo&&this._parseLocaleInfo.IMTimeSeparator()){if(this._parseLocaleInfo.IMDateSeparator=="."){this.tok[".m"]=a.FTimeSep;this.tok[".h"]=a.FTimeSep;this.tok[".H"]=a.FTimeSep;this.tok[".s"]=a.FTimeSep;this.tok[".S"]=a.FTimeSep}else{this.tok[this._parseLocaleInfo.IMTimeSeparator()]=a.FTimeSep}}this.tok.G=a.FDefaultDateG}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.numericFormat.DefaultGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.DefaultGroupingStrategy"};var a=sap.common.globalization.numericFormat.DefaultGroupingStrategy;a._instance=new sap.common.globalization.numericFormat.DefaultGroupingStrategy();a.prototype.nextGroupDigits=function(){return 2};a.instance=function(){return a._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.Helper");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.Helper.isThousandsSeparator=function(d,b,e){var e=e||null;var a=(e?e:sap.common.globalization.numericFormat.FLocalization.getInstance().IMThousandsSeparator());if(a.charAt(0)==" "){for(var c=b;c<d.length;++c){if(d.charAt(c)!=" "){break}}if(d.charAt(c)=="€"||d.charAt(c)=="г"||d.charAt(c)=="k"||d.charAt(c)=="S"||d.charAt(c)=="L"||d.charAt(c)=="m"||d.charAt(c)=="K"){return false}}return(d.charAt(b)==a.charAt(0))}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FCurr");sap.common.globalization.numericFormat.FCurr=function(b,a){this.__className="sap.common.globalization.numericFormat.FCurr";this.display="";this._parseLocaleInfo=b;this._displayLocaleInfo=a};sap.common.globalization.numericFormat.FCurr.prototype.parse=function(c,b){var a=this._parseLocaleInfo.currencySymbol();var d=this._displayLocaleInfo.currencySymbol();if(d!=null&&a!=null&&a!=d){c.currencyIndex=c.mask.length;this.display=d;return a.length}else{return 0}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNum0");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNum0=function(a){this.__className="sap.common.globalization.numericFormat.FNum0";this._parseLocaleInfo=a;this.display="0"};sap.common.globalization.numericFormat.FNum0.prototype.parse=function(e,d){var b=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,1,this._parseLocaleInfo.thousandsSeparator())){var f=d.charAt(2);if(f!="#"&&f!="?"&&f!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1000}else{e.scale=e.scale/1000000}}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,a++,this._parseLocaleInfo.thousandsSeparator())){b++}}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumP");sap.common.globalization.numericFormat.FNumP=function(){this.__className="sap.common.globalization.numericFormat.FNumP";this.display="%"};sap.common.globalization.numericFormat.FNumP.prototype.parse=function(b,a){b.scale=b.scale*100;return-1}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumQ");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumQ=function(a){this.__className="sap.common.globalization.numericFormat.FNumQ";this._parseLocaleInfo=a;this.display=" "};sap.common.globalization.numericFormat.FNumQ.prototype.parse=function(e,d){var b=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,1,this._parseLocaleInfo.thousandsSeparator())){var f=d.charAt(2);if(f!="#"&&f!="?"&&f!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1000}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,a++,this._parseLocaleInfo.thousandsSeparator())){b++}}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumS");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumS=function(a){this.__className="sap.common.globalization.numericFormat.FNumS";this._parseLocaleInfo=a;this.display=""};sap.common.globalization.numericFormat.FNumS.prototype.parse=function(e,d){var b=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,1,this._parseLocaleInfo.thousandsSeparator())){var f=d.charAt(2);if(f!="#"&&f!="?"&&f!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1000}else{e.scale=e.scale/1000000}}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,a++,this._parseLocaleInfo.thousandsSeparator())){b++}}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FPeriod=function(b,a){this.__className="sap.common.globalization.numericFormat.FPeriod";this._parseLocaleInfo=b;this.display=a.decimalSeparator()};sap.common.globalization.numericFormat.FPeriod.prototype.parse=function(e,d){var b=-1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,1,this._parseLocaleInfo.thousandsSeparator())){var f=d.charAt(2);if(f!="#"&&f!="?"&&f!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1000}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(d,a++,this._parseLocaleInfo.thousandsSeparator())){b++}}if(e.period==-1){e.period=e.mask.length}return b}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.numericFormat.FNumber=function(d,c){this.__className="sap.common.globalization.numericFormat.FNumber";this.scale=1;this.bcomma=false;this.bsign=true;this.period=-1;this.numfore=undefined;this.numaft=undefined;this.sign="";this.mask=new Array();this.mfore=new Array();this.maft=new Array();this.format=undefined;this.currencyIndex=-1;this._tok={};this._tok["#"]=sap.common.globalization.numericFormat.FNumS;this._tok["?"]=sap.common.globalization.numericFormat.FNumQ;this._tok["%"]=sap.common.globalization.numericFormat.FNumP;this._tok["0"]=sap.common.globalization.numericFormat.FNum0;this.condnum=0;this.cond={};var a=d.decimalSeparator();this._tok[a]=sap.common.globalization.numericFormat.FPeriod;this.IMDecimalSeparator=a;this.parseLocaleInfo=d;this.displayLocaleInfo=c;this.IMThousandsSeparator=c.thousandsSeparator();var b=this.parseLocaleInfo.currencySymbol();if(b){this._tok[b]=sap.common.globalization.numericFormat.FCurr}};sap.common.globalization.numericFormat.FNumber.tokens="#?%0";sap.common.globalization.numericFormat.FNumber.prototype.parse=function(f){if(this.format==null){this.format=f}var g=f.charAt(0);if(this._tok[g]==undefined||(g==this.IMDecimalSeparator&&(f.length>1&&f.charAt(1)!="#"&&f.charAt(1)!="0"))){return 0}var e=this.createTokenFormatter(this._tok[g]);var d=e.parse(this,f);if(this.period>1){var a=true}if(d>0){var b=this.mask.length;this.mask.push(e);if(this.currencyIndex!=b){if(this.period==-1){this.mfore.push(b)}else{this.maft.push(b)}}}else{if(d<0){this.mask.push(e);d=Math.abs(d)}else{d=0}}return d};sap.common.globalization.numericFormat.FNumber.prototype.display=function(k){if(typeof(k)!="number"){return k}if(isNaN(k)||!isFinite(k)){return k}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(k);var q=new Array();var e=this.mfore.length;var c=3;var m=this.period;var f=(m==-1)?(this.mask.length):m;var g;var o;var p;for(var h=e-1;h>=0;h--){m=this.mfore[h];for(var g=f-1;g>m;g--){p=this.mask[g];if((typeof p)=="object"){q.unshift(p.display)}else{q.unshift(p)}}if(this.numfore.length>0){if(this.bcomma){if(c--==0){q.unshift(this.IMThousandsSeparator);c=2}}o=this.numfore.length-1;q.unshift(this.numfore.charAt(o));this.numfore=this.numfore.substring(0,o)}else{var n=this.mask[m].display;if(n.length!=0){if(this.bcomma&&c--==0){q.unshift(this.IMThousandsSeparator);c=2}q.unshift(this.mask[m].display)}}f=m}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(c--==0){q.unshift(this.IMThousandsSeparator);c=2}o=this.numfore.length-1;q.unshift(this.numfore.charAt(o));this.numfore=this.numfore.substring(0,o)}}else{q.unshift(this.numfore)}}p=this.mask;if(this.currencyIndex!=-1){h=0}for(g=f-1;g>=0;g--){if((typeof p[h])=="object"){q.unshift(this.mask[g].display)}else{q.unshift(this.mask[g])}}e=this.mask.length;h=(this.period==-1)?(e):(this.period);m=0;for(;h<e;h++){if((typeof p[h])=="object"){if(this.maft[m]==h){m++;if(this.numaft.length>0){q.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{q.push(p[h].display)}}else{q.push(p[h].display)}}else{q.push(p[h])}}var b;if(this.bsign){b=this.sign+q.join("")}else{b=q.join("")}return b};sap.common.globalization.numericFormat.FNumber.prototype.setNumber=function(c){var a=this.maft.length;if(this.format.charAt(this.format.length-1)=="%"){var d=Math.pow(10,a+1+2);c=c*d;c=c/(d/this.scale)}else{c=c*this.scale}c=this.excel_round(c,a);var b=c.toString().split(".");this.numfore=b[0];if(this.numfore.charAt(0)=="-"){this.sign="-";this.numfore=this.numfore.substring(1)}else{this.sign=""}if(this.numfore.charAt(0)=="0"){this.numfore=this.numfore.substring(1)}this.numaft=undefined;if(b.length<2){this.numaft=""}else{this.numaft=b[1]}};sap.common.globalization.numericFormat.FNumber.prototype.createTokenFormatter=function(a){var b=null;var c=sap.common.globalization.numericFormat;switch(a){case c.FNumS:b=new sap.common.globalization.numericFormat.FNumS(this.parseLocaleInfo);break;case c.FNumQ:b=new sap.common.globalization.numericFormat.FNumQ(this.parseLocaleInfo);break;case c.FNumP:b=new sap.common.globalization.numericFormat.FNumP();break;case c.FNum0:b=new sap.common.globalization.numericFormat.FNum0(this.parseLocaleInfo);break;case c.FPeriod:b=new sap.common.globalization.numericFormat.FPeriod(this.parseLocaleInfo,this.displayLocaleInfo);break;case c.FCurr:b=new sap.common.globalization.numericFormat.FCurr(this.parseLocaleInfo,this.displayLocaleInfo);break;default:}return b};sap.common.globalization.numericFormat.FNumber.prototype.excel_round=function(a,f){var d=false;if(a<0){d=true;a=-a}var e,c;var b=0;var g=Math.pow(10,f);e=Math.floor(a*g);b=(e+0.5)/g;c=(e+1)/g;e/=g;a=(a<b)?e:c;if(d){a=-a}return a}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.require("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.numericFormat.FDefaultNumber=function(b,a){sap.common.globalization.numericFormat.FDefaultNumber.superclass.constructor.apply(this,[b,a]);this.__className="sap.common.globalization.numericFormat.FDefaultDateNumber";this._groupingStrategy=sap.common.globalization.numericFormat.DefaultGroupingStrategy.instance()};sap.common.globalization.numericFormat.FDefaultNumber=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultNumber,sap.common.globalization.numericFormat.FNumber);sap.common.globalization.numericFormat.FDefaultNumber.prototype.display=function(m){if(typeof(m)!="number"){return m}if(isNaN(m)||!isFinite(m)){return m}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(m);var r=new Array();var e=this.mfore.length;var c=3;var n=this.period;var g=(n==-1)?(this.mask.length):n;var h;var p;var q;for(var k=e-1;k>=0;k--){n=this.mfore[k];for(h=g-1;h>n;h--){q=this.mask[h];if((typeof q)=="object"){r.unshift(q.display)}else{r.unshift(q)}}if(this.numfore.length>0){if(this.bcomma){if(c--==0){r.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}}p=this.numfore.length-1;r.unshift(this.numfore.charAt(p));this.numfore=this.numfore.substring(0,p)}else{var o=this.mask[n].display;if(o.length!=0){if(this.bcomma&&c--==0){r.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}r.unshift(this.mask[n].display)}}g=n}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(c--==0){r.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}p=this.numfore.length-1;r.unshift(this.numfore.charAt(p));this.numfore=this.numfore.substring(0,p)}}else{r.unshift(this.numfore)}}q=this.mask;if(this.currencyIndex!=-1){k=0}for(h=g-1;h>=0;h--){if((typeof q[k])=="object"){r.unshift(this.mask[h].display)}else{r.unshift(this.mask[h])}}e=this.mask.length;k=(this.period==-1)?(e):(this.period);n=0;var f=false;for(;k<e;k++){if((typeof q[k])=="object"){if(q[k].__className=="sap.common.globalization.numericFormat.FPeriod"&&!this.numaft){f=true;continue}if(this.maft[n]==k){n++;if(this.numaft.length>0){if(!f){r.push(this.numaft.charAt(0))}this.numaft=this.numaft.substring(1)}else{r.push(q[k].display)}}else{r.push(q[k].display)}}else{r.push(q[k])}}var b;if(this.bsign){b=this.sign+r.join("")}else{b=r.join("")}return b};sap.common.globalization.numericFormat.FDefaultNumber.prototype.groupingStrategy=function(a){if(this._groupingStrategy!=a){this._groupingStrategy=a}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FText");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.numericFormat.FT=function(c,b){this.__className="sap.common.globalization.numericFormat.FT";this._hasCustomCondition=false;this.color=undefined;this.o=new Array();this._dateLocaleFactory=c?c:sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory.getInstance();this._numericLocaleFactory=b?b:sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory.getInstance();this._isParsedSuccess=false};var a=sap.common.globalization.numericFormat.FT;a.ftarr=new Array();a._CONDITION_TOKENS="=<>";a._equals=function(d,c){return(d==c)};a._neq=function(d,c){return(d!=c)};a._gthan=function(d,c){return(d>c)};a._gte=function(d,c){return(d>=c)};a._lthan=function(d,c){return(d<c)};a._lte=function(d,c){return(d<=c)};a._CONDITIONS={"=":sap.common.globalization.numericFormat.FT._equals,"<>":sap.common.globalization.numericFormat.FT._neq,"<":sap.common.globalization.numericFormat.FT._lthan,"<=":sap.common.globalization.numericFormat.FT._lte,">":sap.common.globalization.numericFormat.FT._gthan,">=":sap.common.globalization.numericFormat.FT._gte};a._COLORS={black:0,blue:255,cyan:65535,green:65280,magenta:16711935,red:16711680,white:16777215,yellow:16776960};a.prototype._isNumeric=function(e){var d="#?%";var b=d.length;for(var c=0;c<b;c++){if(e.indexOf(d.charAt(c))!=-1){return true}}return false};a.prototype.isParsedSuccess=function(){return this._isParsedSuccess};a.prototype.parse=function(x){this._isParsedSuccess=false;this._hasCustomCondition=false;var z=x;var t=x.length;var B;var d=0;for(var w=0;w<t;w++){B=z.charAt(w);if(B=='"'){while(w<t){if(z.charAt(++w)=='"'&&z.charAt(w-1)!="\\"){break}}continue}if(B=="\\"||B=="_"||B=="*"){w++;continue}if(B==";"){if(this.o[d]==undefined){this.o[d]=new sap.common.globalization.numericFormat.FText()}this.o[d].format=z.substring(0,w);d++;z=z.substring(w+1);t=z.length;w=-1;continue}if(B=="["){var r="";while(z.charAt(++w)!="]"&&(w<t)){r+=z.charAt(w)}var A=r.length;var n=r.charAt(0);if(n=="s"||n=="m"||n=="h"){for(var v=1;v<A;v++){var k=r.charAt(v);if(n!=k){break}}if(v==A){if(this.o[d]==undefined){this.o[d]=this._dateLocaleFactory.createFDate()}}}}var D=sap.common.globalization.numericFormat.FDate.tokens.indexOf(B);if(sap.common.globalization.numericFormat.FDate.tokens.indexOf(B)!=-1&&!this._isNumeric(x)){if(this.o[d]==undefined){this.o[d]=this._dateLocaleFactory.createFDate()}this.o[d]=this._dateLocaleFactory.createFDate()}else{if(sap.common.globalization.numericFormat.FNumber.tokens.indexOf(B)!=-1){if(this.o[d]==undefined){this.o[d]=this._numericLocaleFactory.createFNumber();if(d==1){this.o[d].bsign=false}}}else{if(sap.common.globalization.numericFormat.FText.tokens.indexOf(B)!=-1){if(this.o[d]==undefined){this.o[d]=new sap.common.globalization.numericFormat.FText()}}}}}if(this.o[d]==undefined){this.o[d]=this._numericLocaleFactory.createFNumber()}else{this._isParsedSuccess=true}this.o[d].format=z;var g=this.o.length;for(var s=0;s<g;s++){var m=this.o[s];m.condnum=0;if(s==0){m.cond=sap.common.globalization.numericFormat.FT._gthan}else{if(s==1){m.cond=sap.common.globalization.numericFormat.FT._lthan}else{if(s==2){m.cond=sap.common.globalization.numericFormat.FT._equals}}}var C=m.mask;var h=false;z=m.format;t=z.length;for(var v=0;v<t;v++){B=z.charAt(v);if(B=='"'){h=!h;continue}if(B=="\\"){v++;B=z.charAt(v);C.push(B);continue}if(h){C.push(B);continue}if(B=="*"){v++;continue}if(B=="_"){v++;C.push(" ");continue}if(B=="["){n=z.charAt(v+1);k=z.charAt(v+2);if(n=="$"&&k!="-"){var y=z.indexOf("]",v+1);if(y!=-1){var u=z.substring(v+1,y);if(r.indexOf("-")!=-1){u=r.substring(1,r.indexOf("-"))}else{u=r.substring(1)}for(var b=0;b<u.length;++b){C.push(u.charAt(b))}v=y;continue}}else{r=z.substring(v+1);r=r.substring(0,r.indexOf("]")).toLowerCase();if(sap.common.globalization.numericFormat.FT._COLORS[r]!=undefined){m.color=sap.common.globalization.numericFormat.FT._COLORS[r];v+=r.length+1;continue}else{if(r=="h"||r=="m"||r=="s"){}else{var e=1;while(r.charAt(e)!==""&&sap.common.globalization.numericFormat.FT._CONDITION_TOKENS.indexOf(r.charAt(e))!=-1){e++}var p=r.substring(0,e);if(sap.common.globalization.numericFormat.FT._CONDITIONS[p]!=undefined){m.cond=sap.common.globalization.numericFormat.FT._CONDITIONS[p];m.condnum=r.substring(e);v+=r.length+1;this._hasCustomCondition=true;continue}else{v+=r.length+1;continue}}}}}var E=m.parse(z.substring(v));if(E>0){v+=E-1}else{C.push(B)}}}};a.prototype.display=function(d){var f=this.o[0];var b=this.o.length;if(b>3&&sap.common.globalization.utils.BaseUtils.isString(d)){f=this.o[3]}else{if(this._hasCustomCondition&&b>0){if(b<=3){f=this.o[b-1]}else{f=this.o[2]}}for(var e=0;e<3&&e<b;e++){var c=this.o[e];if(c&&c.cond(d,c.condnum)){f=c;break}}}if(!isNaN(f.color)){this.color=f.color}else{this.color=undefined}return(f.display(d))};a.prototype.getNumericDisplayLoacleInfo=function(){return this._numericLocaleFactory.getNumericDisplayLocaleInfo()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTBoolean");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.NumericFormatManager;");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");var a=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FTBoolean=function(c,b){a.FTBoolean.superclass.constructor.apply(this,[c,b]);this.__className="sap.common.globalization.numericFormat.FTBoolean";c=c||null;b=b||null;this._booleanLocaleFactory=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory.getInstance()};a.FTBoolean.BOOLEAN_TOKEN="SAP_DEFAULT_BOOLEAN_FORMAT";a.FTBoolean=sap.common.globalization.extend(a.FTBoolean,a.FT);sap.common.globalization.numericFormat.FTBoolean.prototype.parse=function(b){if(b==a.FTBoolean.BOOLEAN_TOKEN){this.o[0]=this}else{this.o[0]=null}};sap.common.globalization.numericFormat.FTBoolean.prototype.display=function(b){var d=String(b);var c=this._booleanLocaleFactory.getBooleanDisplayLocaleInfo();if(c&&this.o[0].__className=="sap.common.globalization.numericFormat.FTBoolean"){if(sap.common.globalization.utils.BaseUtils.isBoolean(b)){d=b?c.trueString():c.falseString()}else{if(sap.common.globalization.utils.BaseUtils.isString(b)&&(String(b).toLowerCase()=="true"||String(b).toLowerCase()=="false")){d=String(b).toLowerCase()=="true"?c.trueString():c.falseString()}}}return d}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.numericFormat.FTimeSep=function(b,a){this._parseLocale=b;this._displayLocale=a};sap.common.globalization.numericFormat.FTimeSep.prototype.parse=function(c,b){var a=b.charAt(0);if(this._displayLocale.IMTimeSeparator()!=null&&(a==":"||a==".")){return 1}else{return 0}};sap.common.globalization.numericFormat.FTimeSep.prototype.display=function(a){return this._displayLocale.IMTimeSeparator()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.numericFormat.FTUtil.isBooleanFT=function(a){return a&&(a.__className=="sap.common.globalization.numericFormat.FTBoolean")};sap.common.globalization.numericFormat.FTUtil.isDate=function(a){return a&&a.o&&a.o.length>0&&(a.o[0].__className=="sap.common.globalization.numericFormat.FDate")}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.numericFormat.TwoDigitGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.TwoDigitGroupingStrategy"};var a=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy;a._instance=new sap.common.globalization.numericFormat.TwoDigitGroupingStrategy();a.prototype.nextGroupDigits=function(){return 1};a.instance=function(){return a._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");var a=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultCurrencyNumber=function(c,b){sap.common.globalization.numericFormat.FDefaultCurrencyNumber.superclass.constructor.apply(this,[c,b]);this.__className="sap.common.globalization.numericFormat.FDefaultCurrencyNumber";this._groupingStrategy=a.DefaultGroupingStrategy.instance()};a.FDefaultCurrencyNumber=sap.common.globalization.extend(a.FDefaultCurrencyNumber,a.FNumber);a.FDefaultCurrencyNumber.prototype.display=function(k){if(typeof(k)!="number"){return k}if(isNaN(k)||!isFinite(k)){return k}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(k);var q=new Array();var e=this.mfore.length;var c=3;var m=this.period;var f=(m==-1)?(this.mask.length):m;var g;var o;var p;for(var h=e-1;h>=0;h--){m=this.mfore[h];for(g=f-1;g>m;g--){p=this.mask[g];if((typeof p)=="object"){q.unshift(p.display)}else{q.unshift(p)}}if(this.numfore.length>0){if(this.bcomma){if(c--==0){q.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}}o=this.numfore.length-1;q.unshift(this.numfore.charAt(o));this.numfore=this.numfore.substring(0,o)}else{var n=this.mask[m].display;if(n.length!=0){if(this.bcomma&&c--==0){q.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}q.unshift(this.mask[m].display)}}f=m}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(c--==0){q.unshift(this.IMThousandsSeparator);c=this._groupingStrategy.nextGroupDigits()}o=this.numfore.length-1;q.unshift(this.numfore.charAt(o));this.numfore=this.numfore.substring(0,o)}}else{q.unshift(this.numfore)}}p=this.mask;if(this.currencyIndex!=-1){h=0}for(g=f-1;g>=0;g--){if((typeof this.mask[g])=="object"){q.unshift(this.mask[g].display)}else{q.unshift(this.mask[g])}}e=this.mask.length;h=(this.period==-1)?(e):(this.period);m=0;for(;h<e;h++){if((typeof p[h])=="object"){if(this.maft[m]==h){m++;if(this.numaft.length>0){q.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{q.push(p[h].display)}}else{q.push(p[h].display)}}else{q.push(p[h])}}var b;if(this.bsign){b=this.sign+q.join("")}else{b=q.join("")}return b};a.FDefaultCurrencyNumber.prototype.groupingStrategy=function(b){if(this._groupingStrategy!=b){this._groupingStrategy=b}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory=function(b){sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.superclass.constructor.apply(this,[b]);this.__className="sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory";this._displayCurrencySymbol=null;if(sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(b)){this._parseCurrencySymbol(b)}};var a=sap.common.globalization.defaultFormat;a.DefaultCurrencyFormatLocaleFactory=sap.common.globalization.extend(a.DefaultCurrencyFormatLocaleFactory,a.DefaultNumericFormatLocaleFactory);a.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT=new RegExp('^SAP_DEFAULT_CURRENCY_FORMAT(;".*")?$',"i");a.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat=function(b){return a.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT.test(b)};a.DefaultCurrencyFormatLocaleFactory.prototype.getDefaultCurrencyFormat=function(){return sap.common.globalization.GlobalizationNumericConstant.getDefaultCurrencyFormat()};a.DefaultCurrencyFormatLocaleFactory.prototype._parseCurrencySymbol=function(b){if("SAP_DEFAULT_CURRENCY_FORMAT"==b){this._displayCurrencySymbol=""}else{this._displayCurrencySymbol=b.slice(29,b.length-1)}};a.DefaultCurrencyFormatLocaleFactory.prototype.createFNumber=function(){var b=new sap.common.globalization.numericFormat.FDefaultCurrencyNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultCurrencyFormat())){b._groupingStrategy=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance()}return b};a.DefaultCurrencyFormatLocaleFactory.prototype.displayCurrencySymbol=function(){return this._displayCurrencySymbol}})();(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(s){"use strict";if(this==null){throw new TypeError()}var t=Object(this);var l=t.length>>>0;if(l===0){return-1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){n=0}else if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=l){return-1}var k=n>=0?n:Math.max(l-Math.abs(n),0);for(;k<l;k++){if(k in t&&t[k]===s){return k}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(s){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(l===0)return-1;var n=l;if(arguments.length>1){n=Number(arguments[1]);if(n!=n)n=0;else if(n!=0&&n!=(1/0)&&n!=-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n))}var k=n>=0?Math.min(n,l-1):l-Math.abs(n);for(;k>=0;k--){if(k in t&&t[k]===s)return k}return-1}}if(!Array.prototype.filter){Array.prototype.filter=function(f){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof f!="function")throw new TypeError();var r=[];var b=arguments[1];for(var i=0;i<l;i++){if(i in t){var v=t[i];if(f.call(b,v,i,t))r.push(v)}}return r}}if(!Array.prototype.forEach){Array.prototype.forEach=function(c,t){var T,k;if(this==null){throw new TypeError("this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(c)!="[object Function]"){throw new TypeError(c+" is not a function")}if(t){T=t}k=0;while(k<l){var b;if(k in O){b=O[k];c.call(T,b,k,O)}k++}}}if(!Array.prototype.every){Array.prototype.every=function(f){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof f!="function")throw new TypeError();var b=arguments[1];for(var i=0;i<l;i++){if(i in t&&!f.call(b,t[i],i,t))return false}return true}}if(!Array.prototype.map){Array.prototype.map=function(c,t){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(c)!="[object Function]"){throw new TypeError(c+" is not a function")}if(t){T=t}A=new Array(l);k=0;while(k<l){var b,m;if(k in O){b=O[k];m=c.call(T,b,k,O);A[k]=m}k++}return A}}if(!Array.prototype.some){Array.prototype.some=function(f){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof f!="function")throw new TypeError();var b=arguments[1];for(var i=0;i<l;i++){if(i in t&&f.call(b,t[i],i,t))return true}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(b){if(this===null||this===undefined)throw new TypeError("Object is null or undefined");var i=0,l=this.length>>0,c;if(typeof b!=="function")throw new TypeError("First argument is not callable");if(arguments.length<2){if(l===0)throw new TypeError("Array length is 0 and no second argument");c=this[0];i=1}else c=arguments[1];while(i<l){if(i in this)c=b.call(undefined,c,this[i],i,this);++i}return c}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(c){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof c!="function")throw new TypeError();if(l===0&&arguments.length===1)throw new TypeError();var k=l-1;var b;if(arguments.length>=2){b=arguments[1]}else{do{if(k in this){b=this[k--];break}if(--k<0)throw new TypeError()}while(true)}while(k>=0){if(k in t)b=c.call(undefined,b,t[k],k,t);k--}return b}}if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var A=Array.prototype.slice.call(arguments,1),T=this,n=function(){},b=function(){return T.apply(this instanceof n?this:t,A.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;b.prototype=new n();return b}}if(!Object.create){Object.create=function(o){if(arguments.length>1){throw new Error('Object.create implementation only accepts the first parameter.')}function F(){}F.prototype=o;return new F()}}function a(o,p){function c(e){function h(o,j){return Object.prototype.hasOwnProperty.call(o,j)}function f(v){return typeof v==="function"}if(typeof e!=="object"||e===null)throw new TypeError("bad desc");var d={};if(h(e,"enumerable"))d.enumerable=!!o.enumerable;if(h(e,"configurable"))d.configurable=!!o.configurable;if(h(e,"value"))d.value=o.value;if(h(e,"writable"))d.writable=!!e.writable;if(h(e,"get")){var g=e.get;if(!f(g)&&g!=="undefined")throw new TypeError("bad get");d.get=g}if(h(e,"set")){var s=e.set;if(!f(s)&&s!=="undefined")throw new TypeError("bad set");d.set=s}if(("get"in d||"set"in d)&&("value"in d||"writable"in d))throw new TypeError("identity-confused descriptor");return d}if(typeof o!=="object"||o===null)throw new TypeError("bad obj");p=Object(p);var k=Object.keys(p);var b=[];for(var i=0;i<k.length;i++)b.push([k[i],c(p[k[i]])]);for(var i=0;i<b.length;i++)Object.defineProperty(o,b[i][0],b[i][1]);return o}if(!Object.keys){Object.keys=(function(){var h=Object.prototype.hasOwnProperty,b=!({toString:null}).propertyIsEnumerable('toString'),d=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],c=d.length;return function(o){if(typeof o!=='object'&&typeof o!=='function'||o===null)throw new TypeError('Object.keys called on non-object');var r=[];for(var p in o){if(h.call(o,p))r.push(p)}if(b){for(var i=0;i<c;i++){if(h.call(o,d[i]))r.push(d[i])}}return r}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(o){return o.__proto__}}else{Object.getPrototypeOf=function(o){return o.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'')}}})();(function(g){function a(c){var t=g,n=c.split("."),i=0;while(i<n.length&&t!==undefined){t=t[n[i++]]}return t!==undefined}function b(q){var n=q.split("."),r=g;for(i=0;i<n.length;i++){r=r[n[i]]}return r}function d(h,j){var r=g,i,n=h.split("."),l=n.length;n.reduce(function(p,c,i){p[c]=p[c]||(i<l-1||!j?{}:j);return p[c]},g);return b(h)}d("sap.viz.extapi.manifest._queue",{viz:{registerList:[],unregisterList:[]},module:{registerList:[],unregisterList:[]},template:{registerList:[],unregisterList:[],configMap:{}},language:{registerList:[]}});var m=sap.viz.extapi.manifest._queue;function e(c,h,q){return function(j){if(a(c)){b(c)[h](j)}else{q&&q.push(j)}}}function f(q){return function(c){q&&q.push(c)}}d("sap.viz.extapi.env.Template",{register:function(t){var c=m.template.configMap;c[t.id]=c[t.id]||[];c[t.id].push(t)}});d("sap.viz.extapi.env.Language",{register:f(m.language.registerList)});d("sap.viz.extapi.manifest.Viz",{register:f(m.viz.registerList),unregister:f(m.viz.unregisterList)});d("sap.viz.extapi.manifest.Module",{register:f(m.module.registerList),unregister:f(m.module.unregisterList)});d("sap.viz.api");d("sap.viz.extapi.core")})(this);define('sap/viz/base/utils/TypeUtils',[],function Setup(){var c={'[object Boolean]':'boolean','[object Number]':'number','[object String]':'string','[object Function]':'function','[object Array]':'array','[object Date]':'date','[object RegExp]':'regexp','[object Object]':'object'};var h=Object.prototype.hasOwnProperty;var r=/\d/;var t=function(o){return o==null?String(o):c[Object.prototype.toString.call(o)]||"object"};var a={isFunction:function(o){return t(o)==="function"},isArray:Array.isArray||function(o){return t(o)==="array"},isString:function(o){return t(o)==="string"},isNonEmptyString:function(o){return this.isString(o)&&o.length!==0},isNaN:function(o){return o===null||o===undefined||!r.test(o)||isNaN(o)},isNumber:function(n){return!a.isNaN(parseFloat(n))&&isFinite(n)},isDefined:function(v){return typeof(v)!=='undefined'},isUndefined:function(v){return typeof(v)==='undefined'},isPlainObject:function(o){if(!o||t(o)!=="object"||o.nodeType||(o&&typeof o==="object"&&"setInterval"in o)){return false}if(o.constructor&&!h.call(o,"constructor")&&!h.call(o.constructor.prototype,"isPrototypeOf")){return false}var k;for(k in o){}return k===undefined||h.call(o,k)},isEmptyObject:function(o){for(var n in o){return false}return a.isPlainObject(o)},equals:function(x,y){var p;if(x===y){return true}if(!(x instanceof Object)||!(y instanceof Object)||(x.constructor!==y.constructor)){return false}for(p in x){if(!x.hasOwnProperty(p))continue;if(!y.hasOwnProperty(p))return false;if(x[p]===y[p])continue;if(typeof(x[p])!=="object"||!a.equals(x[p],y[p]))return false}for(p in y){if(y.hasOwnProperty(p)&&!x.hasOwnProperty(p)){return false}}return true},isExist:function(o){if((typeof(o)==='undefined')||(o===null)){return false}return true}};return a});define('sap/viz/base/Logger',[],function Setup(){var n=function(){};Date.now=Date.now||function(){return+new Date()};function g(){return this.threshold}function s(l){if(typeof l==="string")this.threshold=d(l);else if(typeof l==="number")this.threshold=l}var C=function(){this.threshold=L.LEVEL.INFO;this.layout=new L.DefaultLayout();this.print=typeof console!==undefined?function(a){console.log(a)}:n};C.prototype={doAppend:function(l,a,e,i){this.print(this.layout.format(l,a,e,i))},setLayout:function(l){l.format&&(this.layout=l)},getLevel:g,setLevel:s};var D=function(){};D.prototype.format=function(l,a,e,i){return"["+l+"]"+"["+c(a)+"]"+"["+(e||"main")+"]-"+i};var b=function(a){this.threshold=L.LEVEL.INFO;this.div=a;this.layout=new H()};b.prototype={getLevel:g,setLevel:s,doAppend:function(l,a,e,i){this.div.appendChild(this.layout.format(l,a,e,i))}};var H=function(){};H.prototype={getStyle:function(l){var a;if(l===L.LEVEL.ERROR){a='color:red'}else if(l===L.LEVEL.WARN){a='color:orange'}else if(l===L.LEVEL.DEBUG){a='color:green'}else if(l===L.LEVEL.TRACE){a='color:green'}else if(l===L.LEVEL.INFO){a='color:grey'}else{a='color:yellow'}return a},format:function(l,a,e,i){return"<div style=\""+this.getStyle(a)+"\">["+l+"]"+"["+c(a)+"]["+(e||"main")+"]-"+i+"</div>"}};var F=function(){this.array=[]};F.prototype={push:function(a){this.array[this.array.length]=a;return this.array.length},pull:function(){if(this.array.length>0){var a=this.array[0];for(var i=0;i<this.array.length-1;i++){this.array[i]=this.array[i+1]}this.array.length=this.array.length-1;return a}return null},length:function(){return this.array.length}};var A=function(a){this.loggingUrl=a;this.isInProgress=false;this.threshold=L.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new L.JSONLayout();this.httpRequest=null;this.timer=undefined};function t(){var a=this;if(this.isInProgress===true){setTimeout(function(){t.call(a)},100)}else{this.send()}}A.prototype={getLevel:g,setLevel:s,doAppend:function(l,a,e,i){this.loggingEventMap.push([l,a,e,i]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var w=this;if(this.timer===undefined){this.timer=setTimeout(function(){t.call(w)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined)clearTimeout(this.timer);this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var a=[];var l;for(var i=0,w=this.loggingEventMap.length;i<w&&i<this.bufferSize;i++){l=this.loggingEventMap.shift();a.push(this.layout.format(l[0],l[1],l[2],l[3]))}var x=this.layout.getHeader();x+=a.join(this.layout.getSeparator());x+=this.layout.getFooter();var y=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){y.onReadyStateChanged.call(y)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",x.length);this.httpRequest.send(x);y=this;try{setTimeout(function(){y.httpRequest.onreadystatechange=function(){};y.httpRequest.abort();y.isInProgress=false;if(y.loggingEventMap.length>0){y.send()}},this.timeout)}catch(e){}}},onReadyStateChanged:function(){var a=this.httpRequest;if(this.httpRequest.readyState!==4){return}var e=((typeof a.status==="undefined")||a.status===0||(a.status>=200&&a.status<300));if(e){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var a=false;try{if(window.XMLHttpRequest){a=new XMLHttpRequest();if(a.overrideMimeType){a.overrideMimeType(this.layout.getContentType())}}else if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){a=new ActiveXObject("Microsoft.XMLHTTP")}}}catch(e){a=false}if(!a){throw"browser don't support AJAX"}return a}};var J=function(){};J.prototype={format:function(l,a,e,i){var w="{\n \"LoggingEvent\": {\n";w+="\t\"category\": \""+(e||"main")+"\",\n";w+="\t\"level\": \""+c(a)+"\",\n";w+="\t\"message\": \""+i+"\",\n";w+="\t\"timestamp\": \""+l+"\"\n";w+="}\n}";return w},getContentType:function(){return"text/json"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"{"+"\"ClientInfo\" : {\n"+"\t\"useragent\": \""+a+"\",\n"+"\t\"referer\": \""+i+"\"\n},\n"+"\"VizLogger\": [\n"},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var X=function(){};X.prototype={format:function(l,a,e,i){var w="<vizLogger:event category=\"";w+=(e||"main")+"\" level=\"";w+=c(a)+"\" timestamp=\"";w+=l+"\">\n";w+="\t<vizLogger:message><![CDATA["+this.escapeCdata(i)+"]]></vizLogger:message>\n";w+="</vizLogger:event>";return w},getContentType:function(){return"text/xml"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"<vizLogger:eventSet useragent=\""+a+"\" referer=\""+i.replace(/&/g,"&amp;")+"\">\n"},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(a){return a.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function c(l){switch(l){case L.LEVEL.TRACE:return"TRACE";case L.LEVEL.DEBUG:return"DEBUG";case L.LEVEL.INFO:return"INFO";case L.LEVEL.WARN:return"WARN";case L.LEVEL.ERROR:return"ERROR"}}function d(l){switch(l.toLowerCase()){case"trace":return L.LEVEL.TRACE;case"debug":return L.LEVEL.DEBUG;case"info":return L.LEVEL.INFO;case"warn":return L.LEVEL.WARN;case"error":return L.LEVEL.ERROR}}var f=false;var p=false;var M=2000;var h=function(l,a,e,i){for(appenderKey in u){if(u.hasOwnProperty(appenderKey)){appender=u[appenderKey];var P=appender.hasOwnProperty('profiling')&&l<=v.DEBUG;if(P||(appender.threshold>=i&&l>=appender.threshold)){appender.doAppend(Date.now(),l,a,e)}}}};var j=function(l,a,e){r();h(l,a,e)};var k=n;var m=function(){p=true;k=j};var r=function(){p=false;k=h};var o=0;var q=function(){return o++};var u={};var v={TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE};var L={LEVEL:v,isEnabled:function(){return f},enable:function(){k=h;f=true},disable:function(){k=n;f=false},toggleEnable:function(){if(f)this.disable();else this.enable()},addAppender:function(){var _=q();var a,e;if(arguments.length===1){a=_;e=arguments[0]}else if(arguments.length>=2){a=arguments[0];e=arguments[1]}if(typeof e==="object"&&e.doAppend){if(u[a]!==undefined)return;u[a]=e;return a}},setAppenders:function(a){u=[];for(var i=0,l=a.length;i<l;i++){var e=a[i];if(e.appenderKey)this.addAppender(e.appenderKey,e.appender);else this.addAppender(e.appender)}},removeAppender:function(a){if(u[a]===undefined){return false}else{return(delete u[a])}},getAppender:function(a){return u[a]},getAppenders:function(){var a=[];if(u){for(var e in u){if(u.hasOwnProperty(e)){var i=u[e];a.push(i)}}}return a},ConsoleAppender:C,DivAppender:b,AjaxAppender:A,DefaultLayout:D,HTMLLayout:H,XMLLayout:X,JSONLayout:J,level:v.INFO,trace:function(a,e){k(L.LEVEL.TRACE,e,a,this.level)},debug:function(a,e){k(L.LEVEL.DEBUG,e,a,this.level)},info:function(a,e){k(L.LEVEL.INFO,e,a,this.level)},warn:function(a,e){k(L.LEVEL.WARN,e,a,this.level)},error:function(a,e){k(L.LEVEL.ERROR,e,a,this.level)}};u["[default]"]=new L.ConsoleAppender();return L});define('sap/viz/base/utils/FunctionUtils',['sap/viz/base/utils/TypeUtils','sap/viz/base/Logger'],function Setup(T,L){var c=/\{(\d+)\}/g;var A=Array.prototype.slice;function e(){}function d(a){var b=arguments;if(b[0]){var a=b[0].replace(c,function(m,n){return b[parseInt(n)+1]});L.error(a);throw a}else{L.error('Unknown error!');throw'Unknown error!'}}function f(){var a=[];function C(){for(var i=0,l=a.length;i<l;i++){a[i].apply(this,arguments)}}function b(){for(var i=0,l=arguments.length;i<l;i++){if(T.isFunction(arguments[i])){a.push(arguments[i])}else{L.error('Could not create call chain for non-function object');throw'Could not create call chain for non-function object'}}}C.chain=function(){return f.apply(null,[].concat(a,A.call(arguments)))};b.apply(null,arguments);return C}var g={noop:e,unsupported:function(m){if(arguments.length){return function(){throw new Error(m||'Unsupported function!')}}else throw new Error('Unsupported function!')},unimplemented:function(m){if(arguments.length){return function(){throw new Error(m||'Unimplemented function!')}}else throw new Error('Unimplemented function!')},error:d,ascending:function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},descending:function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},createCallChain:f};return g});define('sap/viz/base/Class',['sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils'],function Setup(F,T){var t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var c=F.createCallChain;function z(){}function e(a){var _=z.prototype=this.prototype;var s=this.chain?this.chain(a.constructor):c(this,a.constructor);var p=s.prototype=new z();p.constructor=s;delete a.constructor;var b;for(var f in a){b=a[f];p[f]=typeof b==='function'&&typeof _[f]==='function'&&t.test(b)?(function(n,g){return function(){this._super=_[n];var r=g.apply(this,arguments);return r}})(f,b):b}s.extend=e;return s}function d(a){if(typeof a==='function'){a.extend=e;return a}else{var b=a.constructor||function(){},p=b.prototype;for(var f in a){if(a.hasOwnProperty(f)){p[f]=a[f]}}b.extend=e;return b}}return{define:d,extend:e}});define('sap/viz/data/description/DataContainer',['sap/viz/base/Class'],function Setup(C){var D=C.define({constructor:function(u){this._uId=u;this._isFake=false;this._infos=null},getId:function(){return this._uId},fake:function(_){if(!arguments.length){return this._isFake}this._isFake=_},infos:function(_){if(!arguments.length){return this._infos}this._infos=_}});return D});define('sap/viz/base/utils/ObjectUtils',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils'],function Setup(T,F){rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g;var a={extend:function(){var o,n,s,c,b,d,t=arguments[0]||{},i=1,l=arguments.length,e=false;if(typeof t==="boolean"){e=t;t=arguments[1]||{};i=2}if(typeof t!=="object"&&!T.isFunction(t)){t={}}if(l===i){t=this;--i}for(;i<l;i++){if((o=arguments[i])!=null){for(n in o){s=t[n];c=o[n];if(t===c){continue}if(e&&c&&(T.isPlainObject(c)||(b=T.isArray(c)))){if(b){b=false;d=s&&T.isArray(s)?s:[]}else{d=s&&T.isPlainObject(s)?s:{}}t[n]=a.extend(e,d,c)}else if(c!==undefined){t[n]=c}}}}return t},each:function(o,c,b){var n,i=0,l=o.length,d=l===undefined||T.isFunction(o);if(b){if(d){for(n in o){if(c.apply(o[n],b)===false){break}}}else{for(;i<l;){if(c.apply(o[i++],b)===false){break}}}}else{if(d){for(n in o){if(c.call(o[n],n,o[n])===false){break}}}else{for(var v=o[0];i<l&&c.call(v,i,v)!==false;v=o[++i]){}}}return o},parseJSON:function(d){if(typeof d!=="string"||!d){return null}d=d.trim();if(rvalidchars.test(d.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(d):(new Function("return "+d))()}else{T.error("Invalid JSON: "+d)}},guid:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)})},clone:function(b){if(typeof(b)!=='object')return b;if(b===null)return b;var o=b.constructor===Array?[]:{};for(var i in b){o[i]=typeof b[i]==="object"?arguments.callee.call(null,b[i]):b[i]}return o},deepEqual:function(s,t){if(typeof s==='object'&&typeof t==='object'){var k=null;for(k in s){if(s.hasOwnProperty(k)){if(!t.hasOwnProperty(k)){return false}else if(!this.deepEqual(s[k],t[k])){return false}}}for(k in t){if(t.hasOwnProperty(k)){if(!s.hasOwnProperty(k)){return false}}}return true}else{return s===t}},leftEqual:function(s,t){if(typeof s==='object'&&typeof t==='object'){var k=null;for(k in s){if(s.hasOwnProperty(k)){if(!t.hasOwnProperty(k)){return false}else if(!this.leftEqual(s[k],t[k])){return false}}}return true}else{return s===t}},hasElement:function(b,e){for(var i=0;i<b.length;i++){if(this.deepEqual(b[i],e)){return true}}return false}};return a});define('sap/viz/data/description/MeasureValues',['sap/viz/base/utils/ObjectUtils','sap/viz/data/description/DataContainer'],function Setup(O,D){var M=D.extend({constructor:function(u,v){this._values=v},getValues:function(){return this._values}});return M});define('sap/viz/lang/LangMessageUtil',[],function Setup(){var n={50000:'IDS_ERROR_DIMENSION_NOT_ZERO',50001:'IDS_ERROR_DIMENSION_WRONG_COUNT',50002:'IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT',50003:'IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2',50004:'IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1',50005:'IDS_ERROR_NOT_MEET_NUMBER_OF_FEED',50006:'IDS_ERROR_WRONG_FEED_TYPE',50007:'IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION',50008:'IDS_ERROR_WRONG_AXIS_INDEX',50009:'IDS_ERROR_WRONG_MEASURE_AXIS_INDEX',50010:'IDS_ERROR_INVALID_FEEDING',50011:'IDS_ERROR_NO_FEED_ID',50012:'IDS_ERROR_INVALID_FEEDING_NUMBER',50013:'IDS_ERROR_NO_AXIS',50014:'IDS_ERROR_FEED_NOT_ACCEPT_DATA',50015:'IDS_ERROR_NOT_FIND_MEASURE_GROUP',50016:'IDS_ERROR_NOT_ACCEPT',50017:'IDS_ERROR_INVALID_BINDING',50018:'IDS_ERROR_NOT_FIND_FEED_DEFINITION',50019:'IDS_ERROR_WRONG_TYPE',50020:'IDS_ERROR_NOT_SUPPORTED',50021:'IDS_ERROR_NOT_DETERMINE_AXIS_INDEX',50022:'IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES',50023:'IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2',50024:'IDS_ERROR_NOT_DETERMINE_DEMENSION',50025:'IDS_ERROR_UNKNOWN_STATE',50026:'IDS_ERROR_INVALID_PATH_DEFINITION',50027:'IDS_ERROR_NODE_NOT_IN_SAME_ROOT',50028:'IDS_ERROR_NOT_ADD_SELF_AS_CHILD',50029:'IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD',50030:'IDS_ERROR_NOT_CHILD_NODE_INSERT',50031:'IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE',50032:'IDS_ERROR_SELECTOR_NOT_NULL',50033:'IDS_ERROR_NOT_FIND_JQUERY',50034:'IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE',50035:'IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION',50036:'IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER',50037:'IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME',50038:'IDS_ERROR_CATEGORY_NAME_NOT_EMPTY',50039:'IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION',50040:'IDS_ERROR_EXIST_CATEGORY_NAME',50041:'IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT',50042:'IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID',50043:'IDS_ERROR_UNKNOWN_ERROR',50044:'IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT',50045:'IDS_ERROR_AXIS_ALREADY_EXIST',50046:'IDS_ERROR_CAN_NOT_FIND_CATEGORY',50047:'IDS_ERROR_ALREADY_EXIST_IN_CATEGORY',50048:'IDS_ERROR_LOADING_TEMPLATE_FAIL',50049:'IDS_ERROR_PARSE_ERROR_EXPECT_TO',50050:'IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING',50051:'IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING',50052:'IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM',40000:'IDS_WARN_PARAMETER_NOT_CORRECT',40001:'IDS_WARN_LOCALE_NOT_CORRECT'};var I=null;function g(){if(I==null&&n){I={};for(var a in n){if(n.hasOwnProperty(a)){I[n[a]]=a}}}return I};var l={register:function(a,b){if(I===null){I=g()}if(n&&n.hasOwnProperty(a)===false&&I.hasOwnProperty(b)===false){n[a]=b;I[b]=a}else{}},getIDSByNumber:function(a){if(n&&n.hasOwnProperty(a)){return n[a]}else{return undefined}},getNumberByIDS:function(a){if(I===null){I=g()}if(I&&I.hasOwnProperty(a)){return I[a]}else{return undefined}}};return l});define('sap/viz/base/utils/ResouceBundleUtils',[],function Setup(){var R={substitute:function(s,r){if(s==null)return'';if(!r){r=[]}var l=r.length;for(var i=0;i<l;i++){s=s.replace(new RegExp("\\{"+i+"\\}","g"),r[i])}return s},};return R});define('sap/viz/lang/langManager',['sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/lang/LangMessageUtil','sap/viz/base/utils/ResouceBundleUtils'],function Setup(F,O,T,L,R){var l={};function a(u,n,p,q){var r=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var v=false;s.onload=s.onreadystatechange=function(){if(!v&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){v=true;s.onload=s.onreadystatechange=null;if(r&&s.parentNode){r.removeChild(s)}l[q]=l[q]-1;if(l[q]===0){n()}}};if(s.addEventListener){s.addEventListener('error',function(){s.onload=s.onreadystatechange=null;if(s.parentNode){s.parentNode.removeChild(s)}l[q]=l[q]-1;if(l[q]===0){n()}p()},true)}r.insertBefore(s,r.firstChild)}function b(n,p,q,r){var u=p+"_"+O.guid();var s=function(){setTimeout(function(){var w=g(p);if(w){q(w)}else{r()}},4)};var v=function(){};Array.prototype.forEach.call(n,function(w){l[u]=(l[u]||0)+1});Array.prototype.forEach.call(n,function(w){var x=w+'language_'+p+'.js';a(x,s,v,u)})}function i(){var n=d3.map();n.set("ar_AE","ar");n.set("ar_EG","ar");n.set("ar_SA","ar");n.set("bg_BG","bg");n.set("ca_ES","ca");n.set("cs_CZ","cs");n.set("da_DK","da");n.set("de_CH","de");n.set("de_AT","de");n.set("de_BE","de");n.set("de_LU","de");n.set("de_DE","de");n.set("el_CY","el");n.set("el_GR","el");n.set("en_AU","en");n.set("en_CA","en");n.set("en_GB","en");n.set("en_HK","en");n.set("en_ID","en");n.set("en_IE","en");n.set("en_IN","en");n.set("en_IS","en");n.set("en_MY","en");n.set("en_NZ","en");n.set("en_PH","en");n.set("en_SG","en");n.set("en_US","en");n.set("en_ZA","en");n.set("es_AR","es");n.set("es_BO","es");n.set("es_CL","es");n.set("es_CO","es");n.set("es_ES","es");n.set("es_MX","es");n.set("es_PE","es");n.set("es_UY","es");n.set("es_VE","es");n.set("et_EE","et");n.set("fa_IR","fa");n.set("fi_FI","fi");n.set("fr_BE","fr");n.set("fr_CA","fr");n.set("fr_CH","fr");n.set("fr_FR","fr");n.set("fr_LU","fr");n.set("he_IL","iw");n.set("hr_HR","hr");n.set("hu_HU","hu");n.set("it_CH","it");n.set("it_IT","it");n.set("ja_JP","ja");n.set("ko_KR","ko");n.set("lt_LT","lt");n.set("lv_LV","lv");n.set("nl_BE","nl");n.set("nl_NL","nl");n.set("nn_NO","no");n.set("pl_PL","pl");n.set("pt_BR","pt");n.set("pt_PT","pt");n.set("ro_RO","ro");n.set("ru_KZ","ru");n.set("ru_RU","ru");n.set("ru_UA","ru");n.set("sh_ME","sr");n.set("sh_RS","sr");n.set("sk_SK","sk");n.set("sl_SL","sl");n.set("sv_SE","sv");n.set("th_TH","th");n.set("tr_CY","tk");n.set("tr_TR","tk");n.set("uk_UA","uk");n.set("vi_VI","vi");n.set("zf_TW","zh_TW");n.set("zh_CN","zh_CN");n.set("zh_HK","zh_CN");n.set("ar","ar");n.set("bg","bg");n.set("ca","ca");n.set("cs","cs");n.set("da","da");n.set("de","de");n.set("el","el");n.set("en","en");n.set("es","es");n.set("et","et");n.set("fi","fi");n.set("fr","fr");n.set("iw","iw");n.set("hr","hr");n.set("hu","hu");n.set("it","it");n.set("ja","ja");n.set("ko","ko");n.set("lt","lt");n.set("lv","lv");n.set("nl","nl");n.set("no","no");n.set("pl","pl");n.set("pt","pt");n.set("ro","ro");n.set("ru","ru");n.set("sr","sr");n.set("sk","sk");n.set("sl","sl");n.set("sv","sv");n.set("th","th");n.set("tk","tk");n.set("uk","uk");n.set("vi","vi");n.set("zh_TW","zh_TW");var u={"ar_AE":"ar","ar_EG":"ar","ar_SA":"ar","ar":"ar","bg_BG":"bg","bg":"bg","br":"br","ca_ES":"ca","cs_CZ":"cs","cs":"cs","da_DK":"da","da":"da","de_AT":"de","de_BE":"de","de_CH":"de","de_DE":"de","de_LU":"de","de":"de","el_CY":"el","el_GR":"el","el":"el","en_AU":"en","en_CA":"en","en_GB":"en","en_HK":"en","en_IE":"en","en_IN":"en","en_NZ":"en","en_SG":"en","en_US":"en","en_ZA":"en","en":"en","es_AR":"es","es_BO":"es","es_CL":"es","es_CO":"es","es_ES":"es","es_MX":"es","es_PE":"es","es_UY":"es","es_VE":"es","es":"es","et_EE":"et","et":"et","fa_IR":"fa","fa":"fa","fi_FI":"fi","fi":"fi","fr_BE":"fr","fr_CA":"fr","fr_CH":"fr","fr_FR":"fr","fr_LU":"fr","fr":"fr","he_IL":"he","he":"he","hi_IN":"hi","hi":"hi","hr_HR":"hr","hr":"hr","hu_HU":"hu","hu":"hu","id_ID":"id","id":"id","it_CH":"it","it_IT":"it","it":"it","ja_JP":"ja","ja":"ja","ko_KR":"ko","ko":"ko","lt_LT":"lt","lt":"lt","lv_LV":"lv","lv":"lv","nb_NO":"nb","nb":"nb","nl_BE":"nl","nl_NL":"nl","nl":"nl","nn_NO":"nn","nn":"nn","pl_PL":"pl","pl":"pl","pt_BR":"pt","pt_PT":"pt","pt":"pt","ro_RO":"ro","ro":"ro","ru_RU":"ru","ru_UA":"ru","ru":"ru","sk_SK":"sk","sl_SI":"sl","sl":"sl","sr":"sr","sv_SE":"sv","sv":"sv","th_TH":"th","th":"th","tr_TR":"tr","tr":"tr","uk_UA":"uk","uk":"uk","vi_VN":"vi","vi":"vi","zh_CN":"zh_CN","zh_HK":"zh_HK","zh_SG":"zh_SG","zh_TW":"zh_TW","ar-AE":"ar","ar-EG":"ar","ar-SA":"ar","bg-BG":"bg","ca-ES":"ca","cs-CZ":"cs","da-DK":"da","de-AT":"de","de-BE":"de","de-CH":"de","de-DE":"de","de-LU":"de","el-CY":"el","el-GR":"el","en-AU":"en","en-CA":"en","en-GB":"en","en-HK":"en","en-IE":"en","en-IN":"en","en-NZ":"en","en-SG":"en","en-US":"en","en-ZA":"en","es-AR":"es","es-BO":"es","es-CL":"es","es-CO":"es","es-ES":"es","es-MX":"es","es-PE":"es","es-UY":"es","es-VE":"es","et-EE":"et","fa-IR":"fa","fi-FI":"fi","fr-BE":"fr","fr-CA":"fr","fr-CH":"fr","fr-FR":"fr","fr-LU":"fr","he-IL":"he","hi-IN":"hi","hr-HR":"hr","hu-HU":"hu","id-ID":"id","it-CH":"it","it-IT":"it","ja-JP":"ja","ko-KR":"ko","lt-LT":"lt","lv-LV":"lv","nb-NO":"nb","nl-BE":"nl","nl-NL":"nl","nn-NO":"nn","pl-PL":"pl","pt-BR":"pt","pt-PT":"pt","ro-RO":"ro","ru-RU":"ru","ru-UA":"ru","sk-SK":"sk","sl-SI":"sl","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-CN":"zh_CN","zh-HK":"zh_HK","zh-SG":"zh_SG","zh-TW":"zh_TW"};for(var p in u){if(u.hasOwnProperty(p)&&!n.has(p)){n.set(p,u[p])}}return n}var c=[];var d=i();function o(n,p){c.forEach(function(q){q.fn.apply(q.scope,[h])});if(n&&(p===undefined||p===false)){n(j)}}function e(n,p){j=n;h=f[n];o(p)}function g(n){return f[n]}function t(){if(!window.sap||!sap.viz||!sap.viz.extapi)return;var n=sap.viz.extapi.manifest._queue.language.registerList;if(!n){return}Array.prototype.forEach.call(n,function(p){m.register(p)})};var f={};var h=f['dev']={IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut with Depth Chart",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Donut with Depth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor"};var j='dev',k='en';var m={constructor:function(){return},loadPath:["../../../resources/langs/charts/","../../../resources/langs/sdk/"],current:function(){return j},register:function(n){f[n.id]=O.extend(true,f[n.id],n.value);if(j==='dev'&&n.id==='en'){j=n.id;h=f[n.id]}return m},apply:function(n,p,q){if(n){t();n=d.get(n);b(m.loadPath,n,function(){e(n,p)},function(){b(m.loadPath,k,function(){j=k;h=f[k];var r=false;if(q){q(j,'Loading language '+j+' failed.');r=true}o(p,r);F.error('Loading language {0} failed.',n)},function(){j='dev',h=f['dev'];var r=false;if(q){q(j,'Loading language '+j+' failed.');r=true}o(p,r);F.error('Loading language {0}, {1} failed.',n,k)})})}return m},get:function(n){if(h[n]){return h[n]}return f['dev'][n]},getLogMessage:function(){if(!arguments||arguments.length<1)return undefined;var n=arguments.length;if(n>=1){var p=arguments[0];var q=null;var r=null;if(L)r=L.getNumberByIDS(p);if(h[p]){q=h[p]}else{q=f['dev'][p]}if(n>1){q=R.substitute(q,Array.prototype.slice.call(arguments,1))}if(r===null){return q}else{return'['+r+'] - '+q}}},getLogMessageByID:function(n){var v=null;var p=null;if(L)p=L.getIDSByNumber(n);if(p){if(h[p]){v=h[p]}else{v=f['dev'][p]}}if(v===null)F.error('Not exist the log ID {0}.',n);return v},addLanguageFolder:function(n){m.loadPath.push(n);return m.loadPath},addListener:function(n){c.push(n);return m},removeListener:function(n){var p=c.indexOf(n);if(p!==-1){c.splice(p,1)}return m}};t();return m});define('sap/viz/data/description/MeasureValuesGroup',['sap/viz/data/description/MeasureValues','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager'],function Setup(M,F,l){var a=function(d){this._measureValues=[];this.init(d)};a.prototype.init=function(d){for(var i=0;i<d.length;i++){this._measureValues[i]=new M(d[i]["name"],d[i]["values"]);this._measureValues[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._measureValues[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(b){var m,v,i,j;if(!arguments.length){var c=[1,1];m=this.getMeasureValues();for(i=0;i<m.length;i++){v=m[i].getValues();if(i===0){if(v.length!==c[1]){F.error(l.getLogMessage('IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2',m[i].getId(),c[1]))}c[0]=v[0].length}else{if(v.length!==c[1]){F.error(l.getLogMessage('IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2',m[i].getId(),c[1]))}for(j=0;j<v.length;j++){if(v[j].length!==c[0]){F.error(l.getLogMessage('IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1',m[i].getId(),c[0]))}}}}return c}else{m=this.getMeasureValues();for(i=0;i<m.length;i++){v=m[i].getValues();if(v.length!==b[1]){F.error(l.getLogMessage('IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2',m[i].getId(),b[1]))}for(j=0;j<v.length;j++){if(v[j].length!==b[0]){F.error(l.getLogMessage('IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2',m[i].getId(),b[0]))}}}}};a.prototype.hasFakeData=function(){var m=this.getMeasureValues();for(var i=0;i<m.length;i++){if(m[i].fake()){return true}}return false};return a});define('sap/viz/data/description/DimensionLabels',['sap/viz/base/utils/ObjectUtils','sap/viz/data/description/DataContainer'],function Setup(O,D){var a=D.extend({constructor:function(u,t,v){this._type=t;this._values=v},getValues:function(){return this._values},getType:function(){return this._type}});return a});define('sap/viz/data/description/AnalysisAxis',['sap/viz/data/description/DimensionLabels','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/lang/langManager'],function Setup(D,F,T,l){var A=function(d){this._dimensionLabels=[];this.init(d)};A.prototype.init=function(d){for(var i=0;i<d.length;i++){this._dimensionLabels[i]=new D(d[i]["name"],d[i]["type"]?d[i]["type"]:"Dimension",d[i]["values"]);this._dimensionLabels[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._dimensionLabels[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};A.prototype.getDimensionLabels=function(){return this._dimensionLabels};A.prototype.getType=function(){return"analysisAxis"};A.prototype.validate=function(){var a=1;var d=this.getDimensionLabels();if(d.length===0){F.error(l.getLogMessage('IDS_ERROR_DIMENSION_NOT_ZERO'))}for(var i=0;i<d.length;i++){if(i===0){a=d[i].getValues().length;if(T.isExist(d[i].infos())&&a!==d[i].infos().length){F.error(l.getLogMessage('IDS_ERROR_DIMENSION_WRONG_COUNT',d[i].getId()))}}else{if(a!==d[i].getValues().length){F.error(l.getLogMessage('IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT',d[i].getId()))}if(T.isExist(d[i].infos())&&a!==d[i].infos().length){F.error(l.getLogMessage('IDS_ERROR_DIMENSION_WRONG_COUNT',d[i].getId()))}}}return a};A.prototype.hasFakeData=function(){var d=this.getDimensionLabels();for(var i=0;i<d.length;i++){if(d[i].fake()){return true}}return false};return A});define('sap/viz/data/feed/feed',['sap/viz/base/utils/FunctionUtils'],function Setup(F){return function(f,a,t,m,b,c,d,e,g,h){var j=f;var k=a;var l=t;var n=m;var o=b;var p=c;var q=d;var r=e;var s=g;var u=h;var v=[];function w(){return w}w.feedId=function(_){if(!arguments.length){return j}j=_;return w};w.feedName=function(_){if(!arguments.length){return k}k=_;return w};w.type=function(_){if(!arguments.length){return l}l=_;return w};w.min=function(_){if(!arguments.length){return n}n=_;return w};w.max=function(_){if(!arguments.length){return o}o=_;return w};w.analysisAxisIndex=function(_){if(!arguments.length){return p}p=_;return w};w.measureGroupIndex=function(_){if(!arguments.length){return r}r=_;return w};w.acceptMND=function(_){if(!arguments.length){return q}q=_;return w};w.maxStackedDims=function(_){if(!arguments.length){return s}s=_;return w};w.minStackedDims=function(_){if(!arguments.length){return u}u=_;return w};w.data=function(_){if(!arguments.length){return v}v=_;return w};w.addData=function(_){v.push(_);return w};w.getMeasureNames=function(){var e=r-1;var x=[];for(var i=0;i<v.length;i++){x.push({'val':v[i]['name'],'ctx':{'mg':e,'mi':i}})}return x};w.getMeasureValues=function(){var i=[];if(v.length>0){return v[0].getMeasureValues()}return i};w.getMeasureCount=function(){return v.length};w.hasMNDFeeded=function(){var x=w.data();for(var i=0;i<x.length;i++){if(x[i].getType()==="measureNamesDimension"){return true}}return false};w.hasFeeded=function(){return w.data().length>0?true:false};w.getIndex=function(){return w.analysisAxisIndex()?w.analysisAxisIndex():w.measureGroupIndex()};w.getDataCount=function(){if(w.type()==="Dimension"){return w.data().length}else{return w.data().length>0?w.data()[0].getMeasureValues().length:0}};return w}});define('sap/viz/data/feed/feeder',['sap/viz/data/feed/feed','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/data/description/DimensionLabels','sap/viz/lang/langManager'],function Setup(F,a,T,D,l){return function(f,c,b){var d='Dimension';var e='Measure';var g="feedId";var B="binding";var h="type";var I="index";var _=[];var k=[];var m=[];var n={};var o=[];function p(){return p}p.init=function(){q(f);if(c){if(b){t(c,b)}else{r(c)}p.checkValid()}};p.getFeeds=function(){return m};p.findFeed=function(i){return n[i]};p.getAnalysisAxisIndex=function(j){for(var i=0;i<_.length;i++){if(_[i]===j){return i}}};p.getMeasureValuesGroupIndex=function(j){for(var i=0;i<k.length;i++){if(k[i]===j){return i}}};p.getMeasureValuesGroupFeeds=function(){return k};p.checkValid=function(){for(var i=0;i<m.length;i++){var j=m[i];var u;if(j.type()==="Dimension"){u=j.getDataCount();if(u<j.min()||(j.max()!==Number.POSITIVE_INFINITY&&u>j.max())){a.error(l.getLogMessage('IDS_ERROR_NOT_MEET_NUMBER_OF_FEED',j.feedId()))}}else if(j.type()==="Measure"){u=j.getDataCount();if(u<j.min()||(j.max()!==Number.POSITIVE_INFINITY&&u>j.max())){a.error(l.getLogMessage('IDS_ERROR_NOT_MEET_NUMBER_OF_FEED',j.feedId()))}}else{a.error(l.getLogMessage('IDS_ERROR_WRONG_FEED_TYPE',j.feedId()))}}};p.getBindingInfo=function(){return o};function q(j){if(T.isArray(j)){var u=0;for(var i=0;i<j.length;i++){var v=j[i]['type'];var w=j[i]['aaIndex'];var x=j[i]['id'];if(v!==d&&v!==e){a.error(l.getLogMessage('IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION',j[i]['id']))}if(j[i]['type']===d){if(j[i]['aaIndex']<=0){a.error(l.getLogMessage('IDS_ERROR_WRONG_AXIS_INDEX',j[i]['id']))}u++}if(j[i]['type']===e){if(j[i]['mgIndex']<=0){a.error(l.getLogMessage('IDS_ERROR_WRONG_MEASURE_AXIS_INDEX',j[i]['id']))}}var y=m.push(F(x,j[i]['name'],v,j[i]['min'],j[i]['max'],w,j[i]['acceptMND'],j[i]['mgIndex'],j[i]['maxStackedDims'],j[i]['minStackedDims']));n[x]=m[y-1]}for(i=0;i<u;i++){o[i]=false}}}function r(j){var u=j.getAnalysisAxisCount();var v;for(var i=0;i<u;i++){v=s(m,d,i+1);if(v){var w=j.getAnalysisAxisByIdx(i);if(T.isExist(v.maxStackedDims())&&w.getDimensionLabels().length>v.maxStackedDims()){a.error(l.getLogMessage('IDS_ERROR_INVALID_FEEDING',v.feedId()))}if(T.isExist(v.minStackedDims())&&w.getDimensionLabels().length<v.minStackedDims()){a.error(l.getLogMessage('IDS_ERROR_INVALID_FEEDING',v.feedId()))}_[i]=v;o[i]=true;v.addData(w)}}var x=j.getMeasureValuesGroupCount();for(i=0;i<x;i++){v=s(m,e,i+1);if(v){k[i]=v;if(j.getMeasureValuesGroupByIdx(i)){v.addData(j.getMeasureValuesGroupByIdx(i))}}}}function s(j,u,v){for(var i=0;i<j.length;i++){if(j[i].type()===u&&j[i].getIndex()===v){return j[i]}}return null}function t(u,v){var w;for(var i=0;i<v.length;i++){var x=v[i];var y=x[g];if(!y){a.error(l.getLogMessage('IDS_ERROR_NO_FEED_ID'))}var z=n[y];if(!z){a.error(l.getLogMessage('IDS_ERROR_INVALID_FEEDING_NUMBER',y))}var A=x[B];for(var j=0;j<A.length;j++){var C=A[j][h];var E=A[j][I];if(C==="analysisAxis"){var G=u.getAnalysisAxisByIdx(E-1);if(!G){a.error(l.getLogMessage('IDS_ERROR_NO_AXIS',E,y))}if(T.isExist(z.maxStackedDims())&&G.getDimensionLabels().length>z.maxStackedDims()){a.error(l.getLogMessage('IDS_ERROR_INVALID_FEEDING',y))}if(T.isExist(z.minStackedDims())&&G.getDimensionLabels().length<z.minStackedDims()){a.error(l.getLogMessage('IDS_ERROR_INVALID_FEEDING',y))}w=z.getDataCount();if(z.max()!==Number.POSITIVE_INFINITY&&w>=z.max()){a.error(l.getLogMessage('IDS_ERROR_FEED_NOT_ACCEPT_DATA',y))}z.addData(G);_[E-1]=z;o[z.getIndex()-1]=true}else if(C==="measureValuesGroup"){var H=u.getMeasureValuesGroupByIdx(E-1);if(!H){a.error(l.getLogMessage('IDS_ERROR_NOT_FIND_MEASURE_GROUP',E,y))}w=z.getDataCount();if(z.max()!==Number.POSITIVE_INFINITY&&w>=z.max()){a.error(l.getLogMessage('IDS_ERROR_FEED_NOT_ACCEPT_DATA',y))}z.addData(H);k[z.getIndex()-1]=z}else if(C==="measureNamesDimension"){if(z.acceptMND()<0){a.error(l.getLogMessage('IDS_ERROR_NOT_ACCEPT')+" MeasureNamesDimension "+y+" "+l.get('IDS_FEED'))}w=z.getDataCount();if(z.max()!==Number.POSITIVE_INFINITY&&w>=z.max()){a.error(l.getLogMessage('IDS_ERROR_FEED_NOT_ACCEPT_DATA',y))}z.addData(new D("","measureNamesDimension",""))}else{a.error(l.getLogMessage('IDS_ERROR_INVALID_BINDING'))}}}}p.init();return p}});define('sap/viz/data/info/Handler',['sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils'],function Setup(O,T){var A="analysisAxis";var M="measureValuesGroup";var h={};var _={};function f(j,t){var i=j[A].concat(j[M]);var r=[];i.forEach(function(k,m){var n=k.data;n.forEach(function(d,o){if(d.name===t){r.push(d)}},this)},this);return r}var a={'type':'valueinfo','process':function(v,d){var i,L,j,n,k,o,m,p;var q,r,s,V,t=d[M];for(i=0,L=v.length;i<L;i++){q=v[i];if(q!==undefined){for(j=0,n=t.length;j<n;j++){s=t[j];r=s.data;for(k=0,o=r.length;k<o;k++){V=r[k];if(!V.infos){V.infos=[]}for(m=0,p=V.values.length;m<p;m++){if(!V.infos[m]){V.infos[m]=[]}if(!V.infos[m][i]){V.infos[m][i]={}}V.infos[m][i][a.type]=q}}}}}},'merge':function(j){},'remove':function(j){c(a.type,j)}};var b={'type':'defaultSelection','process':function(d,j){var k;var o,p,q;var r=(j[A]&&j[A][1])?true:false;var s=j[A]?j[A][0].data[0].values.length:j[M][0].data[0].values[0].length,t=r?j[A][1].data[0].values.length:1;var i,m,n;var u,v;for(i=0,q=d.length;i<q;i++){o=new Array(s),p=new Array(t);u=[];k=d[i];e(j,k,o,p);if(!r){p[0]=true}for(m=0;m<p.length;m++){v=[];for(n=0;n<o.length;n++){var w={'defaultSelection':{isSelected:false,index:i}};if(p[m]&&o[n]){w.defaultSelection.isSelected=true}v.push(w)}u.push(v)}g(j,k,u)}},'remove':function(j){c(b.type,j)},'merge':function(j){}};function c(n,o){var p,d,q,v=o[M];if(!v||!T.isArray(v)){return}var i,L,j,r,k,s,m,t;var u=false;for(i=0,L=v.length;i<L;i++){p=v[i].data;for(j=0,r=p.length;j<r;j++){d=p[j];if(d.infos){u=false;for(k=0,s=d.infos.length;k<s;k++){q=d.infos[k];for(m=0,t=q.length;m<t;m++){if(q[m]){delete q[m][n];if(T.isEmptyObject(q[m])){q[m]=undefined}else{u=true}}}}}if(!u){delete d.infos}}}}function e(j,t,k,m){var n=j[A];if(!n){for(var o=0;o<k.length;o++){k[o]=true}return}n.forEach(function(p,q){var r=p.data;r.forEach(function(d,s){var v=t[d.name];for(var i=0;i<d.values.length;i++){var u=(v==='*'||(v!==null&&d.values[i]===v));if(u){if(s===0){if(p.index===1){k[i]=true}else{m[i]=true}}else{if(p.index===1){if(k[i]!==true){k[i]=undefined}}else{if(m[i]!==true){m[i]=undefined}}}}else{if(p.index===1){k[i]=undefined}else{m[i]=undefined}}}},this)},this)}function g(k,t,o){var p=k[M];var u=[],q,m,n;for(m=0;m<o.length;m++){q=[];for(n=0;n<o[m].length;n++){var r={'defaultSelection':{isSelected:false}};q.push(r)}u.push(q)}p.forEach(function(s,v){var w=s.data;var i,j,x;w.forEach(function(d,y){if(d.name===t['Measure']){x=o}else{x=u}if(!d.infos){d.infos=x}else{for(i=0;i<x.length;i++){var z=x[i];var B=d.infos[i];for(j=0;j<z.length;j++){var C=B[j]['defaultSelection'].isSelected;if(!C){B[j]['defaultSelection']=z[j]['defaultSelection']}}}}},this)},this)}var l={'type':'customlabel','process':function(j,k){var n,o,p,q,m,r,s,t;for(var i=0,u=j.length;i<u;i++){n=j[i];o=n.name;p=f(k,o);p.forEach(function(d,w){s=false;if(!d.infos){t=true;d.infos=[]}r=d.values;q=n.mapping;r.forEach(function(v,x){if(q[v]){if(q[v].type==='string'&&q[v].val===v){if(d.infos[x]){delete d.infos[x][l.type];if(T.isEmptyObject(d.infos[x])){d.infos[x]=undefined}}else{d.infos[x]=undefined}}else{s=true;d.infos[x]=d.infos[x]?d.infos[x]:{};d.infos[x][l.type]=q[v]}}else{if(!d.infos[x]){d.infos[x]=undefined}}},this);if(t&&!s){delete d.infos}},this)}},'merge':function(j){var r={};r.type=l.type;r.value=[];var i=j[A];if(!i||!T.isArray(i)){return}var k;i.forEach(function(m,n){var o=m.data;o.forEach(function(d,p){if(d.infos){var q={};q.name=d.name;q.mapping={};k=false;d.infos.forEach(function(s,t){if(s&&s[l.type]){k=true;q.mapping[d.values[t]]=s[l.type]}},this);if(k){r.value.push(q)}}},this)},this);if(r.value.length>0){return r}},'remove':function(j){var i=j[A];var s=false;i.forEach(function(k,m){var n=k.data;n.forEach(function(d,o){if(d.infos){s=false;d.infos.forEach(function(p,q){if(p){delete p[l.type];if(T.isEmptyObject(p)){d.infos[q]=undefined}else{s=true}}},this);if(!s){delete d.infos}}},this)},this)}};h.register=function(d){_[d.type]=d};h.get=function(t){return _[t]};h.mergeInfo=function(j){var i,r=[],m;for(var t in _){if(_.hasOwnProperty(t)){i=_[t];m=i.merge(j);if(m){r.push(O.extend(true,{},m))}}}return r};h.register(l);h.register(b);h.register(a);return h});define('sap/viz/data/info/CrosstableHandler',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils'],function Setup(T,O){var A="analysisAxis";var M="measureValuesGroup";var h={};var a={};var e={};h.register=function(d,i){if(i){e[d.type]=d}else{a[d.type]=d}};h.get=function(t){if(e[t]){return e[t]}else{return a[t]}};h.getExternal=function(t){if(e[t]){return e[t]}};h.storeInfo=function(d,i){if(e[i.type]&&i.hasOwnProperty('info')){d[i.type]={'type':i.type,'info':i.info}}};h.mergeInfo=function(d){var i=[];for(var t in e){if(d.hasOwnProperty(t)){var j=d[t];var m={};m.type=j.type;m.info=j.info;if(m.info!=="undefined"){i.push(O.clone(m))}}}return i};var b={'type':"additionalData",'process':function(d,k,l,m){if(!d.hasOwnProperty('info')){return}var _=O.clone(d.info);if(_===undefined||(T.isArray(_)&&_.length===0)){r(b.type,k,l,m);return}else if(!T.isArray(_)){return}r(b.type,k,l,m);var n=false;for(var i=0;i<_.length;i++){n=false;for(var j=0;j<l.length;j++){if(l[j].name===_[i].name){var o=l[j].index;var p=l[j].location;if(!_[i].hasOwnProperty('infoValues')){break}else if(_[i].infoValues===undefined){_[i].infoValues=[]}else if(!T.isArray(_[i].infoValues)){break}s(k[A][o].data[p],_[i].infoValues,b.type);n=true;break}}if(n){continue}for(var j=0;j<m.length;j++){if(m[j].name===_[i].name){var o=m[j].index;var p=m[j].location;if(!_[i].hasOwnProperty('infoValues')){break}else if(_[i].infoValues===undefined){_[i].infoValues=[]}else if(!T.isArray(_[i].infoValues)){break}g(k[M][o].data[p],_[i].infoValues,b.type);break}}}}};var c={'type':"customlabel",'process':function(j,k){var _=j.info;if(_===undefined||!T.isArray(_)){return}if(k[A]===undefined){return}var l,n,o,p,m,q,t,u;for(var i=0,w=_.length;i<w;i++){l=_[i];n=l.name;o=f(k,n);o.forEach(function(d,x){t=false;if(!d.infos){u=true;d.infos=[]}q=d.values;p=l.infoMappings;q.forEach(function(v,y){if(p[v]){if(p[v].type==='string'&&p[v].val===v){if(d.infos[y]){delete d.infos[y][c.type];if(T.isEmptyObject(d.infos[y])){d.infos[y]=undefined}}else{d.infos[y]=undefined}}else{t=true;d.infos[y]=d.infos[y]?d.infos[y]:{};d.infos[y][c.type]=p[v]}}else{if(!d.infos[y]){d.infos[y]=undefined}}},this);if(u&&!t){delete d.infos}},this)}}};function f(j,t){var i=j[A];if(j[M]!==undefined){i=j[A].concat(j[M])}var k=[];i.forEach(function(l,m){var n=l.data;n.forEach(function(d,o){if(d.name===t){k.push(d)}},this)},this);return k}function s(d,j,k){if(d['infos']===undefined&&(T.isArray(j)&&j.length===0)){return}if(d['infos']===undefined){d.infos=[]}var l=d.infos;var m=d.values.length;for(var i=0;i<m;i++){if(l[i]===undefined&&j[i]!==undefined){l[i]={}}if((l[i]===undefined||l[i]===null)&&j[i]===undefined){l[i]=undefined;continue}if(l[i]!==undefined){l[i][k]=j[i];if(l[i][k]===undefined){delete(l[i][k])}}if(T.isEmptyObject(l[i])){l[i]=undefined}}}function g(d,k,l){if(d['infos']===undefined&&(T.isArray(k)&&k.length===0)){return}if(d['infos']===undefined){d.infos=[]}var m=d.infos;var n=d.values.length;var o=d.values[0].length;for(var i=0;i<n;i++){if(m[i]===undefined&&k[i]!==undefined){m[i]=[]}if(m[i]===undefined&&(k[i]===undefined||k[i]===null)){m[i]=k[i];continue}if(m[i]!==undefined&&(k[i]===undefined||k[i]===null)){for(var j=0;j<o;j++){if(m[i][j]!==undefined&&m[i][j]!==null&&m[i][j][l]!==undefined){m[i][j][l]=k[i];if(k[i]===undefined){delete(m[i][j][l])}}if(T.isEmptyObject(m[i][j])){m[i][j]=undefined}}continue}for(var j=0;j<o;j++){if(m[i][j]===undefined&&k[i][j]!==undefined){m[i][j]={}}if(m[i][j]===undefined&&k[i][j]===undefined){m[i][j]=undefined}if(m[i][j]!==undefined&&m[i][j]!==null){m[i][j][l]=k[i][j]}if(m[i][j]!==undefined&&m[i][j]!==null&&m[i][j][l]===undefined){delete(m[i][j][l])}if(T.isEmptyObject(m[i][j])){m[i][j]=undefined}}}}function r(d,j,k,m){for(var i=0;i<k.length;i++){var l=k[i].index;var n=k[i].location;s(j[A][l].data[n],[],b.type)}for(var i=0;i<m.length;i++){var l=m[i].index;var n=m[i].location;g(j[M][l].data[n],[],b.type)}}h.register(b,true);h.register(c);return h});define('sap/viz/data/CrosstableDataset',['sap/viz/data/feed/feeder','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/ObjectUtils','sap/viz/data/description/AnalysisAxis','sap/viz/data/description/MeasureValuesGroup','sap/viz/data/info/Handler','sap/viz/data/info/CrosstableHandler','sap/viz/lang/langManager'],function Setup(F,T,a,O,A,M,H,C,l){var b='type';var N='name';var V='values';var c='feedId';var d='MeasureNamesDimension';var e="analysisAxis";var f="measureValuesGroup";function g(m){var v=m.getValues();return v.length>0?v.length*v[0].length:0}function h(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._measures=[];this._dimensions=[];this._emptyDataset=false;this._infos={}}h.prototype.data=function(i){if(!arguments.length){return O.clone(this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this._measures=[];this._dimensions=[];this._dataSet=O.clone(i);this.init(this._dataSet);this._measures=this.getMetaNames(i,f);this._dimensions=this.getMetaNames(i,e);this._infos={};return this};h.prototype.setData=function(i){this.data(i)};h.prototype.getMetaNames=function(k,r){if(k==undefined){return}var m=[];var r=k[r];if(r===undefined||!T.isArray(r)){return m}for(var i=0;i<r.length;i++){var n=r[i].data;if(n===undefined||!T.isArray(n)){continue}for(var j=0;j<n.length;j++){if(n[j].name!==undefined){var o={'name':n[j].name,'index':i,'location':j};m.push(o)}}}return m};h.prototype.info=function(j){if(!arguments.length){return C.mergeInfo(this._infos)}if(j!==undefined){if(j.type&&j.value){var k=H.get(j.type);if(k){k.process(j.value,this._dataSet)}}else if(T.isArray(j)){var m;for(var i=0;i<j.length;i++){m=C.get(j[i].type);if(m){C.storeInfo(this._infos,j[i]);m.process(j[i],this._dataSet,this._dimensions,this._measures)}}}else if(T.isString(j)){var r=[];if(this._infos[j]){r.push(O.clone(this._infos[j]))}return r}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};h.prototype.clearInfo=function(t){if(t){var i=H.get(t);if(i){i.remove(this._dataSet)}}return this};h.prototype.init=function(j){if(!j||(!j[e]&&!j[f])){return}var k=[1,1];var m=j[e];var i=0;var n,o,p;if(m){if(m.length>2){a.error(l.getLogMessage('IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES'))}for(;i<m.length;i++){var q=m[i];var r=q["index"];if(r!==1&&r!==2){a.error(l.get('IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2'))}if(this._analysisAxis[r-1]){a.error(l.getLogMessage('IDS_ERROR_AXIS_ALREADY_EXIST',r))}var s=new A(q["data"]);k[r-1]=s.validate();this._analysisAxis[r-1]=s}if(k[0]===0){k[1]=0;this._emptyDataset=true}n=j[f];if(!n){return}for(i=0;i<n.length;i++){o=n[i];var t=o["index"];if(this._measureValuesGroup[t-1]){a.error("MeausreValuesGroup "+t+" "+l.get('IDS_ALREADY_EXISTS'))}p=new M(o["data"]);p.validate(k);this._measureValuesGroup[t-1]=p}}else{n=j[f];for(i=0;i<n.length;i++){o=n[i];p=new M(o["data"]);if(i===0){k=p.validate()}else{p.validate(k)}this._measureValuesGroup[o["index"]-1]=p}}};h.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};h.prototype.getAnalysisAxisByIdx=function(i){return this._analysisAxis[i]};h.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};h.prototype.getMeasureValuesGroupByIdx=function(i){return this._measureValuesGroup[i]};h.prototype.hasFakeData=function(){for(var i=0;i<this._measureValuesGroup.length;i++){if(this._measureValuesGroup[i]&&this._measureValuesGroup[i].hasFakeData()){return true}}for(i=0;i<this._analysisAxis.length;i++){if(this._analysisAxis[i].hasFakeData()){return true}}return false};h.prototype.getDataPointCount=function(){var j=0;var m=0;if(this._measureValuesGroup.length){m=g(this._measureValuesGroup[0].getMeasureValues()[0])}for(var i=0;i<this._measureValuesGroup.length;i++){if(this._measureValuesGroup[i]){j+=m*this._measureValuesGroup[i].getMeasureValues().length}}return j};h.prototype.isEmptyDataset=function(){return this._emptyDataset};h.prototype.ctx2TableData=function(r){var j=function(q,s){var t=q.path.dii_a1;var u=q.path.dii_a2;var v={};if(!s.getAnalysisAxisByIdx(0)){return null}for(var i=0;i<s.getAnalysisAxisByIdx(0).getDimensionLabels().length;i++){var w=s.getAnalysisAxisByIdx(0).getDimensionLabels()[i];v[w._uId]=w._values[t]}if(s.getAnalysisAxisByIdx(1)){for(var i=0;i<s.getAnalysisAxisByIdx(1).getDimensionLabels().length;i++){var w=s.getAnalysisAxisByIdx(1).getDimensionLabels()[i];v[w._uId]=w._values[u]}}return v};var k=function(q,s){var t=q.path.dii_a1;var u=q.path.dii_a2;var v=q.path.mg;var w=q.path.mi;var x={};if(!s.getMeasureValuesGroupByIdx(v)){return null}var y=s.getMeasureValuesGroupByIdx(v).getMeasureValues()[w];var z=y._uId;x[z]=y._values[u][t];return x};var m={};if(T.isPlainObject(r)){m.dimension=j(r,this);m.measure=k(r,this)}else if(T.isArray(r)){m.dimension=j(r[0],this);var n={};for(var i=0;i<r.length;i++){if(!r[i]){continue}var o=k(r[i],this);for(var p in o){n[p]=o[p]}}m.measure=n}else{return}return m};h.prototype.ctx2ArrayData=function(r){var j=function(q,s){var t=q.path.dii_a1;var u=q.path.dii_a2;var v=[];if(!s.getAnalysisAxisByIdx(0)){return null}for(var i=0;i<s.getAnalysisAxisByIdx(0).getDimensionLabels().length;i++){var w=s.getAnalysisAxisByIdx(0).getDimensionLabels()[i];v.push({key:w._uId,value:w._values[t]})}if(s.getAnalysisAxisByIdx(1)){for(var i=0;i<s.getAnalysisAxisByIdx(1).getDimensionLabels().length;i++){var w=s.getAnalysisAxisByIdx(1).getDimensionLabels()[i];v.push({key:w._uId,value:w._values[u]})}}return v};var k=function(q,s){var t=q.path.dii_a1;var u=q.path.dii_a2;var v=q.path.mg;var w=q.path.mi;var x=[];if(!s.getMeasureValuesGroupByIdx(v)){return null}var y=s.getMeasureValuesGroupByIdx(v).getMeasureValues()[w];var z=y._uId;x.push({key:z,value:y._values[u][t]});return x};var m={};if(T.isPlainObject(r)){m.dimension=j(r,this);m.measure=k(r,this)}else if(T.isArray(r)){m.dimension=j(r[0],this);var n=[];for(var i=0;i<r.length;i++){if(!r[i]){continue}var o=k(r[i],this);for(var p in o){n.push(o[p])}}m.measure=n}else{return}return m};h.prototype.tableData2Ctx=function(k){var m=k.dimension;var n=k.measure;if(T.isEmptyObject(m)&&T.isEmptyObject(n)){return[]}var o=function(J,K){var L=[];for(var i=0;i<J.length;i++){if(J[i]===K){L[i]=i}}return L};var p=function(u,J){var K=[];if(u.length===0){for(var i=0;i<J;i++){K.push(i)}}else{for(var i=0;i<u[0].length;i++){var L=true;for(var j=0;j<u.length;j++){if(u[j][i]===undefined){L=false;break}}if(L){K.push(i)}}}return K};var q=function(J,K,L){var P=[];for(var i=0;i<L.length;i++){var Q=L[i]._dimensionLabels;for(var j=0;j<Q.length;j++){if(J===Q[j]._uId){P[i]=o(Q[j]._values,K);return P}}}};var r=[];var s=[];for(var t in m){var u=q(t,m[t],this._analysisAxis);if(u[0]){r.push(u[0])}else if(u[1]){s.push(u[1])}}var v=[];var w=[];if(this._analysisAxis[0]&&T.isArray(this._analysisAxis[0]._dimensionLabels)){v=p(r,this._analysisAxis[0]._dimensionLabels[0]._values.length)}else{var x=this.getDataPointCount()/this.getMeasureValuesGroupCount();for(var i=0;i<x;i++){v.push(i)}}if(this._analysisAxis[1]&&T.isArray(this._analysisAxis[1]._dimensionLabels)){w=p(s,this._analysisAxis[1]._dimensionLabels[0]._values.length)}else{w.push(0)}var y=this._measureValuesGroup.length;var z=function(E,v,w,J,K,L){var P=[];for(var i=0;i<w.length;i++){for(var j=0;j<v.length;j++){var Q={};Q[J]=E[w[i]][v[j]];Q.mg=K;Q.mi=L;Q.dii_a1=v[j];Q.dii_a2=w[i];P.push(Q)}}return P};var B=[];for(var i=0;i<y;i++){var D=this._measureValuesGroup[i]._measureValues;for(var j=0;j<D.length;j++){var E=D[j]._values;B=B.concat(z(E,v,w,D[j]._uId,i,j))}}var G=[];var I=function(J){var K={};K.dii_a1=J.dii_a1;K.dii_a2=J.dii_a2;K.mg=J.mg;K.mi=J.mi;return K};if(T.isEmptyObject(n)){for(var i=0;i<B.length;i++){G.push(I(B[i]))}}else{for(var i=0;i<B.length;i++){for(var t in n){if(n[t]===B[i][t]){G.push(I(B[i]))}}}}return G};h.prototype.toJSON=function(o){var j="sap.viz.data.CrosstableDataset";var k=this.data();var m=this.info();m=(T.isArray(m)&&m.length>0)?m:undefined;if(o&&o.emptyDataset===true){var n=function(k){for(var i=0;i<k.length;i++){if(k[i].values&&T.isArray(k[i].values)){k[i].values=[]}if(k[i].infos&&T.isArray(k[i].infos)){delete k[i].infos}}};if(k[e]){var p=k[e];for(var i=0;i<p.length;i++){n(p[i].data)}}if(k[f]){var q=k[f];for(var i=0;i<q.length;i++){n(q[i].data)}}m=undefined}var r={id:j,data:k,info:m};return r};h.fromJSON=function(i){if(!T.isPlainObject(i)||i.id!=='sap.viz.data.CrosstableDataset'||!i.hasOwnProperty('data')){return}var j=O.clone(i.data);var k=O.clone(i.info);var m=new h();m.data(j);m.info(k);return m};return h});define('sap/viz/data/info/FlatTableInfoHandler',[],function(){var _={};var h={};var g={'process':function(i,b){if(b.type!='geo'){return}if(i==null){i={}}i[b.type]=b.info;return i},'find':function(b,r,s){var c=b['geo'];var d=c[r];var e;if(d==null){return}for(var i=0;i<s.length;++i){var f=s[i];if(e==null){e=[]}e.push(d[f])}return e}};var a={'process':function(i,b){if(b.type!='additionalData'){return}if(i==null){i={}}i[b.type]=b.info;return i},'find':function(b,r,s){var c=b['additionalData'];var d=c[r];var e;if(d==null){return}for(var i=0;i<s.length;++i){var f=s[i];if(e==null){e=[]}e.push(d[f])}return e}};h.get=function(t){return _[t]};h.register=function(t,h){_[t]=h};h.register('geo',g);h.register('additionalData',a);return h});define('sap/viz/data/FlatTableDataset',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/data/info/FlatTableInfoHandler','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager'],function(u,O,F,a,l){var c='fields';var r="data";var b="_contextId";var m="Measure";var d="Dimension";var s="semanticType";function g(f){var h=f.metadata[c];for(var i=h.length-1;i>=0;--i){if(h[i].id===b&&h[i].name===b){return false}}var j=f[r];var k=0;h.push({id:b,name:b});var n=h.length-1;for(var i=0;i<j.length;i++){if(u.isArray(j[i])){j[i][n]=k++}else{j[i][b]=k++}}return true}var e=function(f){this._infoset={};if(f){this.data(f);if(this._dataset.info!=null){this.info(this._dataset.info)}this._emptyDataset=false}else{this._emptyDataset=true}};e.prototype._getTypeByIndex=function(i){var t=this._dataset.metadata.fields[i].semanticType;if(t===d){return'Dimension'}else if(t===m){return'Measure'}};e.prototype.data=function(v){if(v!=null){if(v.metadata==null||v.data==null){a.error(l.getLogMessage('IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM'))}this._dataset=O.clone(v);this._data=this._dataset[r];this._table=null;this._isIdGenerated=g(this._dataset);return this}return{metadata:O.clone(this._dataset.metadata),data:O.clone(this._dataset.data)}};e.prototype.getMetadata=function(f){var h=this._dataset.metadata[c];for(var i=0,j=h.length;i<j;++i){var k=h[i];if(k.id===f){k=O.clone(k);k.index=i;return[k]}}return[]};e.prototype.getMetadataByIndex=function(i){return this._dataset.metadata[c][i]};e.prototype._getColumnIdOfSemanticType=function(f){var h=this._dataset.metadata[c];var j=[];var k=h.length;for(var i=0;i<k;++i){var n=h[i];if(n[s]===f){j.push(n.id)}}return j};e.prototype.getMeasures=function(){return this._getColumnIdOfSemanticType(m)};e.prototype.getDimensions=function(){return this._getColumnIdOfSemanticType(d)};e.prototype.getTable=function(){if(this._table!=null){return this._table}var f=this._dataset.metadata[c];var h=this._data;var k=[];for(var i=0;i<h.length;++i){var n={};for(var j=0;j<f.length;++j){n[f[j].id]=h[i][j]}k.push(n)}this._table=k;return this._table};e.prototype.getRow=function(f){var h=this._data[f];if(h==null){return}return h.slice(0)};e.prototype.query=function(f){var h=[];var j=true;for(var i=0,k=this._data.length;i<k;i++){var n=this._data[i];j=true;for(var o in f){if(f.hasOwnProperty(o)){var p=this.getMetadata(o);if(p&&p.length>0&&n[p[0].index]!==f[o]){j=false;break}}}if(j){h.push(i)}}return h};e.prototype.setRow=function(f,h){var n=this._dataset.metadata[c].length;var j={};var k=[];if(u.isArray(h)){for(var i=0;i<n-1;++i){colId=this._dataset.metadata[c][i].id;j[colId]=h[i];k[i]=h[i]}j[b]=this._data[f][n-1];k[n-1]=this._data[f][n-1]}else{return}this._data[f]=k;if(this._table){this._table[f]=j}};e.prototype._getInfoOfSelectedColumnsByRowIndex=function(f,h){var i=null;for(var j in this._infoset){var k=this._infoset[j];var n=null;if(k==null){continue}var o=F.get(j);if(o!=null&&u.isFunction(o.find)){n=o.find(this._infoset,h,f)}if(i==null&&n!=null){i={}}if(i!=null){i[j]=n}}return i};e.prototype._getAllColumnIds=function(){var f=this._dataset.metadata[c];var h=[];var j=f.length;for(var i=0;i<j;++i){h.push(f[i].id)}return h};e.prototype.dataInFields=function(f){if(f!==undefined&&!u.isArray(f)){a.error("Invalid Parameter")}if(f==null||f.length==0){return this._data.slice(0)}else{var h=this._data;var k=this._infoset!=null;var n=[];var o=[];var p=this._getAllColumnIds();for(var i=0;i<f.length;++i){o.push(p.indexOf(f[i]))}for(var i=0;i<h.length;++i){var q=[];var t=null;for(var j=0;j<o.length;++j){var v=o[j];var w=h[i][v];if(u.isPlainObject(w)){q.push(O.extend(true,{},w))}else if(u.isArray(w)){q.push(w.slice(0))}else{q.push(w)}}t=this._getInfoOfSelectedColumnsByRowIndex(o,i);n.push({data:q,info:t})}return n}};e.prototype.info=function(v){if(v==null){var f=[];if(this._infoset['additionalData']!=null){f.push({type:'additionalData',info:this._infoset['additionalData']})}return f}else if(u.isString(v)){return[{type:v,info:this._infoset[v]}]}else if(u.isArray(v)){for(var i=0;i<v.length;++i){var h=v[i];var j=F.get(h.type);if(j!=null&&u.isFunction(j.process)){this._infoset=j.process(this._infoset,h)}}return this}};e.prototype.isEmptyDataset=function(){if(this.getDataPointCount()===0){return true}else{return false}};e.prototype.getDataPointCount=function(){var f=0;if(this._dataset.data&&this._dataset.data[0]){f=this._dataset.data[0].length*this._dataset.data.length}return f};e.prototype.hasFakeData=function(){if(this._dataset.metadata.fields&&this._dataset.metadata.fields[0]){var f=this._dataset.metadata.fields;for(var i=0;i<f.length;i++){if(f[i].semanticType&&(f[i].semanticType===d||f[i].semanticType===m)&&f[i].isFake===true){return true}}}return false};e.prototype.ctx2TableData=function(f){var h={};if(!Array.isArray(f)){f=[f]}var k={};var n={};for(var i=0;i<f.length;i++){var o=f[i];if(!o){continue}var p=this.getRow(o.row);for(var j=0;j<p.length;j++){var q=this.getMetadataByIndex(j);if(q.semanticType===d){k[q.name]=p[j]}else if(q.semanticType===m&&j===o.col){n[q.name]=p[j]}}}h.dimension=k;h.measure=n;return h};e.prototype.toJSON=function(o){var f="sap.viz.data.FlatTableDataset";var h=this.data();var j=O.clone(this._infoset);var k=[];for(var n in j){var p={};p.type=n;p.info=j[n];k.push(p)}k=k.length>0?k:undefined;if(this._isIdGenerated){for(var i=0;i<h.data.length;i++){h.data[i].pop()}h.metadata.fields.pop()}if(o&&o.emptyDataset===true){h.data=[];k=undefined}var q={id:f,data:h,info:k};return q};e.fromJSON=function(f){if(!u.isPlainObject(f)||f.id!=='sap.viz.data.FlatTableDataset'||!f.hasOwnProperty('data')){return}var h=O.clone(f.data);var i=O.clone(f.info);if(i!==undefined){h.info=i}var j=new e(h);return j};return e});define('sap/viz/manifest',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/ObjectUtils','sap/viz/lang/langManager','sap/viz/base/Logger'],function Setup(T,F,O,l,L){var m={};m.registerCategory=function(n,f,a){if(!T.isNonEmptyString(n)){F.error(l.getLogMessage('IDS_ERROR_CATEGORY_NAME_NOT_EMPTY'))}if(f&&!T.isFunction(f)){F.error(l.getLogMessage('IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION'))}if(m.hasOwnProperty(n)){F.error(l.getLogMessage('IDS_ERROR_EXIST_CATEGORY_NAME',n))}var c=d3.map();var b={get:function(i,t){var m=this;function d(){var q=sap.viz.extapi.manifest._queue[n];if(!q){return}if(q["registerList"]){q["registerList"].forEach(function(g){m.register(g)});q["registerList"]=[]}if(q["unregisterList"]){q["unregisterList"].forEach(function(g){m.unregister(g)});q["unregisterList"]=[]}}d();var r=c.get(i);if(r===undefined&&t){F.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'),i,n)}if(r&&r["__needParsed__"]===true){var e=r["abstract"]===true;r=O.extend(true,null,r.base!==undefined?b.get(r.base,true):null,r);Object.defineProperty(r,"abstract",{value:e,enumerable:false});if(f&&!e){f.call(a,r,m)}delete r["__needParsed__"];c.set(i,r)}return r},getAll:function(){var r=[];for(var k in c){k=k.replace('\0','');r.push(b.get(k))}return r},getManifest:function(){if(arguments.length===1&&T.isString(arguments[0])){return new Array(b.get(arguments[0]))}else if(arguments.length===2&&T.isString(arguments[0])&&(typeof arguments[1]==="boolean")){return new Array(b.get(arguments[0],arguments[1]))}else if(arguments.length===0){return b.getAll()}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},each:function(d,t){c.forEach(function(i){d.call(t,b.get(i),i)});return m},unregister:function(i){var r;if(T.isExist(i)){r=c.get(i);c.remove(i)}return r},register:function(){Array.prototype.forEach.call(arguments,function(o){if(T.isUndefined(o)){F.error(l.getLogMessage('IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT'))}var i=o.id;if(!T.isNonEmptyString(i)){F.error(l.getLogMessage('IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID'))}if(c.has(i)){F.error(l.getLogMessage('IDS_ERROR_ALREADY_EXIST_IN_CATEGORY',i,n))}o["__needParsed__"]=true;c.set(i,o)});return m}};m[n]=b;return b};m.unregisterCategory=function(c){return c in m&&delete m[c]};return m});define('sap/viz/TemplateManager',['sap/viz/manifest','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/lang/langManager'],function Setup(m,F,T,O,l){var a=[];var r=0;var s=0;function b(u,q,v,w){var x=document.getElementsByTagName("head")[0]||document.documentElement;var y=document.createElement("script");y.type='text/javascript';y.src=u;var z=false;y.onload=y.onreadystatechange=function(){if(!z&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){z=true;e(y);r--;s++;q()}};if(y.addEventListener){y.addEventListener('error',function(){e(y);r--;if(r===0){if(v&&s===0){v(w,'Loading template '+w+' failed.')}else if(s>0){d(w,q,v)()}}},true)}x.insertBefore(y,x.firstChild)}function d(q,u,v){function w(){if(r===0){var x=g(q);if(x){u(x)}else{i(q,u,function(){if(v){v(q,'Loading template '+q+' failed.')}F.error(l.getLogMessage('IDS_ERROR_LOADING_TEMPLATE_FAIL',q))})}}}return w};function c(q,u,v){s=0;Array.prototype.forEach.call(n.loadPath,function(){r+=1});Array.prototype.forEach.call(n.loadPath,function(w){b(w+"/"+q+"/template.js",d(q,u,v),v,q)})}function e(q){q.onload=q.onreadystatechange=null;if(q.parentNode){q.parentNode.removeChild(q)}}var t=m.registerCategory("template",function(q){var u=q.css;if(!T.isString(u)){var v="";for(var w in u){if(u.hasOwnProperty(w)){v+=w+"{";var x=u[w];for(var y in x){if(x.hasOwnProperty(y)){v+=y+":"+x[y]+";"}}v+="}"}}q.css=v}Object.defineProperties(q,{props:{value:function(z){var A=q.properties;if(A){return A[z]}}}});return q});var f;function g(q){return t.get(q)}function h(q){var u=[],v=sap.viz.extapi.manifest._queue.template.configMap,w=!!g(q);if(!v||!v[q]){return}Array.prototype.forEach.call(v[q],function(x){if(!w){n.register(x);w=true}else{n.extend(q,x)}})}function i(q,u,v){h(q);var w=g(q);if(w&&u){u(w)}else if(v){v()}}function o(q,u,v){f=q;a.forEach(function(w){w.fn.apply(w.scope,[q,u])});if(u){u.call(v,f)}}var j="default",k={id:j,name:"Default"};var n={constructor:function(){return},loadPath:["../../../resources/templates"],current:function(){return f},apply:function(q,u,v,w){h(q);var x=g(q);var y=function(x){o(x,u,v)};if(!x){c(q,y,w)}else{o(x,u,v)}return n},register:function(){t.register.apply(t,arguments);return n},extend:function(q,u){var v=t.get(q);function w(v){O.extend(true,v.properties,u.properties);v.css+=u.css||""}if(!v){i(q,w)}else{w(v)}return n},addListener:function(q){a.push(q);return n},removeListener:function(q){var u=a.indexOf(q);if(u!==-1){a.splice(u,1)}return n}};delete n.constructor;var p={writable:false,configurable:false};Object.defineProperties(n,{current:p,apply:p,register:p});n.register(k);f=g(j);return n});define('sap/viz/base/utils/Objects',['sap/viz/base/utils/TypeUtils'],function Setup(T){var o={extend:function(){var a,n,s,c,b,d,t=arguments[0]||{},i=1,l=arguments.length,e=false;if(typeof t==="boolean"){e=t;t=arguments[1]||{};i=2}if(typeof t!=="object"&&!T.isFunction(t)){t={}}if(l===i){t=this;--i}for(;i<l;i++){if((a=arguments[i])!==null){for(n in a){if(a.hasOwnProperty(n)){s=t[n];c=a[n];if(t===c){continue}if(e&&c&&(T.isPlainObject(c))){if(b){b=false;d=s&&T.isArray(s)?s:[]}else{d=s&&T.isPlainObject(s)?s:{}}t[n]=o.extend(e,d,c)}else if(c!==undefined){t[n]=c}}}}}return t},equal:function(a,b){if(typeof arguments[0]!==typeof arguments[1]){return false}if(a===undefined){if(b!==undefined){return false}}if(a===null){if(b!==null){return false}}if(a instanceof Array){if(!(b instanceof Array)){return false}if(a.length!==b.length){return false}var c=true;for(var i=0;i<a.length;i++){if(typeof a[i]!==typeof b[i]){return false}if(typeof a[i]==='boolean'||typeof a[i]==='number'||typeof a[i]==='string'||typeof a[i]==='undefined'||a[i]===null){c=(a[i]===b[i])}else if(a[i]instanceof Object){c=this.equal(a[i],b[i])}else{return false}if(!c){return false}}return true}if(a instanceof Object&&b instanceof Object&&typeof a!=='function'&&typeof b!=='function'){if(b===null||b instanceof Array){return false}var d=0,e=0;var f;for(f in a){if(a.hasOwnProperty(f)){if(typeof a[f]==='boolean'||typeof a[f]==='number'||typeof b[f]==='string'||typeof a[f]==='undefined'||a[f]===null){if(a[f]!==b[f]){return false}}else{if(!this.equal(a[f],b[f])){return false}}d++}}for(f in b){if(b.hasOwnProperty(f)){e++}}if(d!==e){return false}return true}return a===b}};return o});define('sap/viz/format/XCFormat',['sap/viz/base/utils/Objects'],function Setup(O){var N={format:function(v){return v},locale:function(){},DEFAULT_FORMAT_DATE_TIME:'',DEFAULT_FORMAT_TIME:'',DEFAULT_FORMAT_SHORT_DATE:'',DEFAULT_FORMAT_LONG_DATE:'',DEFAULT_FORMAT_NUMBER:'',DEFAULT_FORMAT_BOOLEAN:''},s=null,l='en';var i=false;if(window.sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){s=sap.common.globalization.NumericFormatManager;N=O.extend(true,N,{format:function(v,p){if(i===true){return s.formatToText(v,this.DEFAULT_FORMAT_NUMBER,true)}return s.formatToText(v,p,true)},locale:function(_){if(!arguments.length){return l}l=_;s.setPVL(l);N.DEFAULT_FORMAT_DATE_TIME=s.DEFAULT_FORMAT_DATE_TIME;N.DEFAULT_FORMAT_TIME=s.DEFAULT_FORMAT_TIME;N.DEFAULT_FORMAT_SHORT_DATE=s.DEFAULT_FORMAT_SHORT_DATE;N.DEFAULT_FORMAT_LONG_DATE=s.DEFAULT_FORMAT_LONG_DATE;N.DEFAULT_FORMAT_NUMBER=s.DEFAULT_FORMAT_NUMBER;N.DEFAULT_FORMAT_BOOLEAN=s.DEFAULT_FORMAT_BOOLEAN},useDefaultFormatter:function(_){if(!arguments.length){return i}i=_},DEFAULT_FORMAT_DATE_TIME:s.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:s.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:s.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:s.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:s.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:s.DEFAULT_FORMAT_BOOLEAN})}return N});define('sap/viz/format/FormatManager',['sap/viz/base/utils/TypeUtils','sap/viz/format/XCFormat'],function Setup(T,X){var l='en',f=X,p=null,U='use_default_formatter';var a=[];var u=null;var F={constructor:function(){return},apply:function(_){l=_.split("-").join("_");f.locale(l)},format:function(v,b){var r=f.format(v,b);if(r===U){return X.format(v,b)}return r},formatFunc:function(_){if(!arguments.length){return f}f=_},onFormatChanged:function(){a.forEach(function(b){b.fn.apply(b.scope)})},addListener:function(b){a.push(b)},removeListener:function(b){var i=a.indexOf(b);if(i!==-1){a.splice(i,1)}},useDefaultFormatter:function(_){if(!arguments.length){return X.useDefaultFormatter()}if(u!==_){X.useDefaultFormatter(_);this.onFormatChanged();u=_}},DEFAULT_FORMAT_DATE_TIME:f.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:f.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:f.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:f.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:f.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:f.DEFAULT_FORMAT_BOOLEAN,DEFAULT_FORMATTED_VALUE:U,};return F});define('sap/viz/Locale',['sap/viz/lang/langManager','sap/viz/format/FormatManager','sap/viz/base/utils/TypeUtils'],function Setup(l,F,T){var a='en',b=[],c;function i(){o(a);if(T.isFunction(c)){c.apply()}}function o(a){b.forEach(function(d){d.fn.apply(d.scope,[a])})}var L={constructor:function(){return},locale:function(d,e){if(!arguments.length){return a}a=d;c=e;F.apply(a);l.apply(a,i);return L},addListener:function(d){b.push(d);return L},removeListener:function(d){var e=b.indexOf(d);if(e!==-1){b.splice(e,1)}return L}};return L});define('sap/viz/base/utils/log/Analyzer',['sap/viz/base/Logger'],function Setup(L){function S(){this.stac=[];this.pop=function(){return this.stac.pop()};this.push=function(i){this.stac.push(i)};this.peek=function(){return this.stac[this.stac.length-1]}}function p(m){var r={};var e=/\[\d+\]/g;var c=/\d+/;var d=/[^\d\[\]]+/;var h=m.match(e);if(h){r.usedJSHeapSize=h[0].match(c)[0];r.totalJSHeapSize=h[1].match(c)[0]}r.flag=m.match(d)[0];return r}function a(m){var r={};var e=/\[.+\]/;var c=/\]:.+$/;r.client=m.match(e)[0];var d=m.match(c);if(d){var f=d[0].split(':');r.name=f[1];f.shift();f.shift();r.info=f}return r}var t=L.LEVEL.DEBUG;var b=[];var l=null;var A={threshold:t,doAppend:function(c,d,e,f){b.push([c,d,e,f])},setLayout:function(l){return l.format&&(this.layout=l)},getLevel:function(){return t},setLevel:function(c){t=c},reset:function(){b=[]},pnrProfiling:function(c){if(window&&window.performance&&window.performance.memory){var m=window.performance.memory;c='['+m.usedJSHeapSize+']['+m.totalJSHeapSize+']['+m.jsHeapSizeLimit+']'+c}L.debug(c,'PROFILING')},pnrContext:function(m){if(window&&window.navigator){m="["+window.navigator.userAgent+"]"+m}L.debug(m,'CONTEXT')},profiling:function(){L.disable();var c=[];var d;var e;var f;var g;var h="pnr.calculate.done";for(var i=0,k=b.length;i<k;i++){f=b[i];if(f[2]==='CONTEXT'){d=a(f[3]);e={ctx:{name:d.name,client:d.client,info:d.info},data:[]};c.push(e)}else if(f[2]==='PROFILING'){if(c.length<1){e={data:[]};c.push(e)}var s=p(f[3]);for(var j=i+1;j<k;j++){g=b[j];var m=p(g[3]);if(s.flag&&m.flag===s.flag&&(f.length>0&&f[f.length-1]!==h)){if(g[g.length-1]!=h){b[j].push(h)}e.data.push([s.flag,g[0]-f[0],f[0],g[0],m.usedJSHeapSize-s.usedJSHeapSize,m.totalJSHeapSize-s.totalJSHeapSize,m.usedJSHeapSize,m.totalJSHeapSize]);break}}}}L.enable();return c},};return A});define('sap/viz/env',['sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/Locale','sap/viz/base/utils/log/Analyzer','sap/viz/base/utils/ObjectUtils'],function Setup(T,L,a,b,O){var _=function(f){if(T.isExist(f)){L.setLevel(f)}};var c=function(o){if(!o){return}if(o.enable){L.enable()}if(!o.appenders){if(o.level){L.setAppenders([{appenderKey:'sap.viz.util.analyzer',appender:b}])}return}L.setAppenders([]);for(var i=0,l=o.appenders.length;i<l;i++){var f=o.appenders[i];if(f.appenderKey){L.addAppender(f.appenderKey,f.appender)}else{L.addAppender(f.appender)}}};var d=function(o,f){a.locale(o.locale,f)};var s={};var e={constructor:function(){},initialize:function(o,f){if(!o){return}c(o.log);if(o.locale){d(o,f)}else{if(f){f.call()}}s=O.extend(true,{},s,o)},getEnvSetting:function(){return s},setLoggerEnable:function(f){if(f===true){L.enable()}else if(f===false){L.disable()}},addLogAppender:function(){if(arguments.length===1){return L.addAppender(arguments[0])}else if(arguments.length===2){return L.addAppender(arguments[0],arguments[1])}},removeLogAppender:function(k){return L.removeAppender(k)}};return e});define('sap/viz/config',['sap/viz/base/utils/FunctionUtils','sap/viz/env'],function Setup(F,e){var c={};var a=false;var m={constructor:function(){return},enableCanvg:function(_){if(!arguments.length){return(e.getEnvSetting().enableCanvg!==undefined)?e.getEnvSetting().enableCanvg:a}a=_;return m},register:function(o){if(c.hasOwnProperty(o.id)){return}c[o.id]=o.value;return m},get:function(i){if(c.hasOwnProperty(i)){return c[i]}},getConfigs:function(){return c}};return m});define('sap/viz/data/utils/CTB2TBConvertUtil',['sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils'],function(O,T){var A="analysisAxis";var M="measureValuesGroup";var _;var a;var b;var e;var f;var g;var h;var C=function(){};var m=function(c,d){if(e){for(var i in e){var k=e[i].binding;for(var j in k){if(k[j].type===d&&k[j].index===c){return e[i].feedId}}}}};var n=function(){f=b[A];if(f===undefined||!T.isArray(f)||f.length<=0){_=false}else{_=true}};var o=function(){g=b[M];if(g===undefined||!T.isArray(g)||g.length<=0){a=false}else{a=true}};var p=function(i){if(!_||f[i]===undefined){return 1}return f[i].data[0].values.length};var q=function(i){if(!_||f[i]===undefined){return 1}return f[i].data.length};var s=function(i){if(!a||g[i]===undefined){return 1}return g[i].data.length};var t=function(d,j,k){var r=[];var c=0;if(d===0){for(var i=0;i<h;i++){r.push(h*k+i)}}else if(d===1){var l=p(0);for(var i=0;i<l;i++){r.push(h*i+k)}}for(var i=d;i>0;i--){c=c+q(i-1)}c=c+j;return{r:r,c:c}};var u=function(d,j,k,l){var r=0;var c=0;r=l*h+k;for(var i=d;i>0;i--){c=c+s(i-1)}c=c+j;return{r:r,c:c}};C.prototype.crossTable2FlatTable=function(c,d){var d=this.crossTable2FlatTableFeed(c,d);var i=this.crossTable2FlatTableData(c,d);return{dataset:i,feeding:d}};C.prototype.crossTable2FlatTableFeed=function(c,d){b=c.data();e=d;n();o();var k={},l;if(_){var r;for(var i=0;i<f.length;i++){r=f[i].index;l=m(r,A);if(l){k[l]=[];for(var j in f[i].data){k[l].push(f[i].data[j].name)}}}}if(a){var r;for(var i=0;i<g.length;i++){r=g[i].index;l=m(r,M);if(l){k[l]=[];for(var j in g[i].data){k[l].push(g[i].data[j].name)}}}}return k};C.prototype.crossTable2FlatTableData=function(c){b=c.data();n();o();h=p(1);var r={fields:[]};var w=[];var x=[];var y=[];var z={};if(_){var B=[];var D='Dimension';for(var i=0;i<f.length;i++){B=f[i].data;for(var j=0;j<B.length;j++){var E=B[j].name?B[j].name:("id"+i+j);var F=B[j].id?B[j].id:E;r.fields.push({id:F,semanticType:D,name:E});for(var k=0;k<B[j].values.length;k++){var G=t(i,j,k);for(var l=0;l<G.r.length;l++){if(x[G.r[l]]===undefined){x[G.r[l]]=[]}x[G.r[l]][G.c]=B[j].values[k]}}}}}if(a){var H=[];var D='Measure';for(var i=0;i<g.length;i++){H=g[i].data;for(var j=0;j<H.length;j++){var E=H[j].name?H[j].name:("id"+i+j);var F=H[j].id?H[j].id:E;r.fields.push({id:F,semanticType:D,name:E});for(var k=0;k<H[j].values.length;k++){var I=H[j].values[k];for(var l=0;l<I.length;l++){var G=u(i,j,k,l);if(y[G.r]===undefined){y[G.r]=[]}y[G.r][G.c]=I[l]}}}}}var J=x>y?x.length:y.length;if(a&&_){for(var i=0;i<J;i++){if(T.isArray(y[i])&&y[i].some(function(d){return d!=null})){w.push(x[i].concat(y[i]))}}}else if(!a&&_){w=x}else if(a&&!_){w=y}else{return}z.metadata=r;z.data=w;return O.clone(z)};var v=new C();return v});define('sap/viz/data/MultiAxesDataAdapter',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils'],function Setup(T,F){function M(b){this._bindingInfo=b;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}M.prototype.addAnalysisAxis=function(a){if(a){this._aa.push(a)}};M.prototype.addMeasureValuesGroup=function(m){if(m){this._mg.push(m)}};M.prototype.getAnalysisAxisDataByIdx=function(a){if(!arguments.length){return this._aa}for(var i=0;i<this._aa.length;i++){if(this._aa[i].index===a){return this._aa[i]}}return null};M.prototype.getMeasureValuesGroupDataByIdx=function(a){if(!arguments.length){return this._mg}for(var i=0;i<this._mg.length;i++){if(this._mg[i].index===a){return this._mg[i]}}return null};M.prototype.createDataAdapterForModule=function(c){var s=new M();var i;if(c&&c.aa){for(i=0;i<c.aa.length;i++){var a=this.getAnalysisAxisDataByIdx(c.aa[i]-1);if(a){s.addAnalysisAxis({index:i,values:a.values})}}}if(c&&c.mg){for(i=0;i<c.mg.length;i++){var m=this.getMeasureValuesGroupDataByIdx(c.mg[i]-1);if(m){s.addMeasureValuesGroup({index:i,values:m.values})}}}return s};M.prototype.getBindingInfo=function(){return this._bindingInfo};M.prototype.fakeData=function(_){if(!arguments.length){return this._fakeData}this._fakeData=_};M.prototype.dataPointCount=function(_){if(!arguments.length){return this._dataPointCount}this._dataPointCount=_};M.prototype.emptyDataset=function(_){if(!arguments.length){return this._emptyDataset}this._emptyDataset=_};return M});define('sap/viz/data/handler/MeasureDataHandler',['sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager'],function Setup(F,l){var M={makeMeasureValues:function(c,m,a,b,d){var v=[];for(var i=0;i<m.values.length;i++){if(d&&i!==c.path.mi){continue}var e={};var f=m.values[i];var r=f["rows"];e["col"]=f["col"];if(c){e["rows"]=this.createMeasureValues(c,r,a,b)}else{e["rows"]=this.createMeasureValuesWithoutCtx(r,a,b)}v.push(e)}return v},createMeasureValuesWithoutCtx_1_2:function(r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r[0].length;j++){b.push(r[0][j])}v.push(b)}else if(a[0]===2){for(j=0;j<r[0].length;j++){b=[];b.push(r[0][j]);v.push(b)}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}return v},createMeasureValuesWithoutCtx_1_3:function(r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r[0].length;j++){b.push(r[0][j])}v.push([b])}else if(a[0]===2){b=[];for(j=0;j<r[0].length;j++){b.push([r[0][j]])}v.push(b)}else if(a[0]===3){for(j=0;j<r[0].length;j++){b=[];b.push([r[0][j]]);v.push(b)}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}return v},createMeasureValuesWithoutCtx:function(r,a,m){if(a.length===1){if(m===1||m===2){return this.createMeasureValuesWithoutCtx_1_2(r,a)}else if(m===3){return this.createMeasureValuesWithoutCtx_1_3(r,a)}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}}else if(a.length===2){if(m===2){return r}else if(m===3){return this.createMeasureValues_2_3(r,a)}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))},createMeasureValues_1_2:function(c,r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push(b)}else if(a[0]===2){for(j=0;j<r.length;j++){b=[];b.push(r[j][c.path.dii]);v.push(b)}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}return v},createMeasureValues_1_3:function(c,r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push([b])}else if(a[0]===2){b=[];for(j=0;j<r.length;j++){b.push([r[j][c.path.dii]])}v.push(b)}else if(a[0]===3){for(j=0;j<r.length;j++){b=[];b.push([r[j][c.path.dii]]);v.push(b)}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}return v},createMeasureValues:function(c,r,a,m){var v=[];if(a.length===1){if(m===1||m===2){return this.createMeasureValues_1_2(c,r,a)}else if(m===3){return this.createMeasureValues_1_3(c,r,a)}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}}else if(a.length===2){if(m===2){return r}else if(m===3){return this.createMeasureValues_2_3(r,a)}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}return v},createMeasureValues_2_3:function(r,a){var i,j,v;if(a[0]===1&&a[1]===2){return[r]}else if(a[0]===1&&a[1]===3){v=[];for(i=0;i<r.length;i++){v.push([r[i]])}return v}else if(a[0]===2&&a[1]===3){v=[];for(i=0;i<r.length;i++){var b=[];var c=r[i];for(j=0;j<c.length;j++){var d=c[j];b.push([d])}v.push(b)}return v}else{F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}}};return M});define('sap/viz/data/handler/SingleChartDataHandler',['sap/viz/base/utils/FunctionUtils','sap/viz/data/MultiAxesDataAdapter','sap/viz/data/handler/MeasureDataHandler','sap/viz/lang/langManager'],function Setup(F,M,a,l){function b(c){if(c[0]===true){if(c[1]===true){return[1,2]}else if(c[2]===true){return[1,2]}else if(c[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{return[1]}}else if(c[1]===true){if(c[2]===true){return[1,2]}else if(c[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{if(c.length>2){return[1]}else{return[2]}}}else if(c[2]===true){if(c[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{return[1]}}else{for(var i=0;i<c.length;i++){if(c[i]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_DETERMINE_AXIS_INDEX'))}}return[1]}F.error(l.getLogMessage('IDS_ERROR_NOT_DETERMINE_AXIS_INDEX'))}function S(d){this._dataAdapter=d}S.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo===undefined||this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};S.prototype.getChartDataAdapter=function(){var m=b(this._dataAdapter.getBindingInfo());var c=this._dataAdapter.getAnalysisAxisDataByIdx();var d=this._dataAdapter.getMeasureValuesGroupDataByIdx();var e=new M(this._dataAdapter.getBindingInfo());for(var i=0;i<c.length;i++){var f=c[i];e.addAnalysisAxis({index:f.index,values:f.values})}for(i=0;i<d.length;i++){var g=d[i];e.addMeasureValuesGroup({index:g.index,values:a.makeMeasureValues(null,g,m,2,false)})}return e};return S});define("jquery",[],function(){return jQuery});define('sap/viz/util/Objects',['sap/viz/base/utils/TypeUtils'],function Setup(T){var o={getPlotNodes:function(p){var n=[];for(var i=0,l=p.length;i<l;i++){if(p[i].parent()){n.push(p[i].parent().node())}}return n},plotIndexContainingTarget:function(p,t,a){var n=t,b=a||this.getPlotNodes(p),i;for(;n&&n.ownerSVGElement;n=n.parentNode){i=b.indexOf(n);if(i!==-1){return i}}return-1},plotContainingTarget:function(p,t,n){var a=this.plotIndexContainingTarget(p,t,n);if(a!==-1){return p[a]}return null},isLabelArea:function(c,s){var i=false;if(c&&c.indexOf('v-labelarea')>=0){if(s!=='single'){i=true}}return i},size:function(a){var r=0;if(a!=null){if(a.length===+a.length){r=a.length}else{for(var i in a){if(a.hasOwnProperty(i)){r++}}}}return r},normalizeNumbersCeil:function(a){for(var p in a){if(a.hasOwnProperty(p)){if((typeof a[p])==="number"){var s=100000000;var t=Math.ceil(a[p]*s);a[p]=t/s}}}}};return o});define('sap/viz/base/Observable',['sap/viz/base/Class','sap/viz/base/utils/TypeUtils'],function Setup(C,T){var A=Array.prototype.slice,O=Object.getPrototypeOf;function a(){var e=this._events,c,l=arguments.length;while(--l>=0){if(!e.hasOwnProperty(c=arguments[l])){e[c]=[]}}}var b=C.define({constructor:function(o){this._events={};var c=this,t;while((c=O(c)).constructor!==Object){if((t=c.events)&&t.length){a.apply(this,t)}}if(o){if(t=o.listeners){this.on(t);delete o.listeners}}},addEvents:a,getSupportedEvents:function(){return this._events.key()},on:function(e,l,c){if(arguments.length>=1){if(arguments.length>1){var t={};t[e]=l;e=t}for(var d in e){if(l=this._events[d]){e[d]['category']=c;l.push(e[d])}}}return this},isListening:function(e,l){if(e=this._events[e]){return e.indexOf(l)>-1}return false},un:function(e,f){if(arguments.length===1){var c=this._events;if(c.hasOwnProperty(e)){c[e]=[]}}else if(arguments.length===2){var d=this._events[e];if(d){if(typeof f==='function'){var i;while((i=d.indexOf(f))>-1){d.splice(i,1)}}else{var l=d.length;while(l--){if(d[l].category===f){d.splice(l,1)}}}}}},purgeListeners:function(){var c=this._events;for(var e in c){c[e]=[]}},fireEvent:function(e){var c=A.call(arguments,1);if(e=this._events[e]){for(var i=0,l=e.length;i<l;i++){e[i].apply(this,c)}}}});return b});define('sap/viz/mvc/ThemeManager',['sap/viz/base/utils/ObjectUtils','sap/viz/base/Observable'],function Setup(O,a){var T=new(a.extend({events:['defaultThemeChanged','themeSettingChanged'],constructor:function(o){this._themeReg={}},defaultTheme:function(t){if(t!==undefined){if(this._defaultTheme!==t&&this.hasThemeInstalled(t)){var o=this._defaultTheme;this._defaultTheme=t;this.fireEvent('defaultThemeChanged',o,t)}return this}return this._defaultTheme},hasThemeInstalled:function(t){return this._themeReg.hasOwnProperty(t)},installTheme:function(n,s){if(!this._themeReg.hasOwnProperty(n)){this._themeReg[n]=O.extend({},s)}},getThemeSettings:function(t){if(this._themeReg.hasOwnProperty(t)){return O.extend({},this._themeReg[t])}},updateThemeSetting:function(t,k,v){if(this._themeReg.hasOwnProperty(t)){var o=this._themeReg[t][k];this._themeReg[t][k]=v;this.fireEvent('themeSettingChanged',t,k,o,v)}}}))();return T});define('sap/viz/mvc/ImageManager',['sap/viz/base/utils/FunctionUtils'],function Setup(F){var a=function(h){this._imgEl=h};a.prototype.getBitmap=function(){return this._imgEl};a.prototype.width=function(w){if(w!==undefined){this._imgEl.width=w;return this}return this._imgEl.width};a.prototype.height=function(h){if(h!==undefined){this._imgEl.height=h;return this}return this._imgEl.height};a.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};a.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};a.prototype.url=function(){return this._imgEl.src};var _={};var b={};var c={};var I={loadImage:function(i,u,o){if(i&&u){o=o||F.noop;if(b.hasOwnProperty(i)){if(_[b[i]]){o(true);return}}var d=new Image();d.onabort=d.onerror=function(){o(false,{id:i,url:u})};d.onload=function(){var s=d.src;if(!_.hasOwnProperty(s)){var e=new a(d);b[i]=s;c[s]={ids:{id:i},length:1};_[s]=e}else{b[i]=d.src;c[s].ids[i]=i;c[s].length++}o(true,{id:i,url:u})}.bind(this);d.src=u}},loadImages:function(u,o,d){o=o||F.noop;d=d||F.noop;var t=u.length;if(t==0){d(true)}else{var e=0;var f=function(g,h){e++;if(e<t){o(e/t,g,h)}else{d(true,h)}};for(var i=0,l=u.length;i<l;i++){I.loadImage(u[i].id,u[i].url,f)}}},hasImage:function(i){return b.hasOwnProperty(i)},getImage:function(i){if(b.hasOwnProperty(i)){return _[b[i]]}},disposeImage:function(i){if(b.hasOwnProperty(i)){var s=b[i];delete b[i];delete c[s].ids[i];c[s].length--;if(!c[s].length){delete c[s];delete _[s]}}}};return I});define('sap/viz/base/utils/DomUtils',[],function Setup(){var e=(''+Math.random()).replace(/\D/g,""),c={},g=1;var D=function(a){if(arguments.length!==1){throw new Error('One and only one argument is expected.')}if(typeof a==='string'){if(a.length<2||a.charAt(0)!=='#'){throw new Error('Only support id selector, please start with #')}var i=a.substring(1);a=document.getElementById(i)}else if(typeof a.jquery==='string'){a=a[0]}if(a&&!a.nodeType){throw new Error("The argument passed in must be an HTML node.")}this.elem=a};var u={css:function(a,n,v){if(typeof n==='object'){for(var k in n){this.css(a,k,n[k])}return}n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(f,l){return(l+"").toUpperCase()});if(v===undefined){var r,s=a.style;if(window.getComputedStyle){var b=window.getComputedStyle(a,null);r=b.getPropertyValue(n)||b[n];if(r===''){if(!u.contains(a.ownerDocument,a)){r=s[n]}}}else if(document.documentElement.currentStyle){r=a.currentStyle&&a.currentStyle[n];if(r===null&&s&&s[n])r=s[n]}return r}if(typeof n==='object'){for(var k in n){this.css(a,k,n[k])}}else{if(!isNaN(v))v+='px';a.style[n]=v}},getWindow:function(a){return a!==null&&a==a.window?a:a.nodeType===9?a.defaultView||a.parentWindow:false},contains:function(a,b){var f=a.nodeType===9?a.documentElement:a,h=b&&b.parentNode;return a===h||!!(h&&h.nodeType===1&&f.contains&&f.contains(h))},bodyOffset:function(b){var t=b.offsetTop,l=b.offsetLeft;if(b.offsetTop!==1){t+=parseFloat(u.css(b,"marginTop"))||0;l+=parseFloat(u.css(b,"marginLeft"))||0}return{top:t,left:l}}};D.prototype={constructor:D,get:function(i){if(i!==0)throw new Error("Only get(0) is supported");return this.elem},css:function(n,v){var r=u.css(this.elem,n,v);if(v===undefined&&typeof n!=='object')return r;return this},width:function(v){if(this.elem==this.elem.window||this.elem.nodeType===9){throw new Error("this method does not support window or document")}if(arguments.length===0){var a=this.css('width'),n=parseFloat(a);return isNaN(n)?0:n}return this.css('width',v)},height:function(v){if(this.elem==this.elem.window||this.elem.nodeType===9){throw new Error("this method does not support window or document")}if(arguments.length===0){var a=this.css('height'),n=parseFloat(a);return isNaN(n)?0:n}return this.css('height',v)},offset:function(){if(arguments.length)throw new Error("Don't support set offset.");var a,b,w,f,h,s,i,j={top:0,left:0},k=this.elem,l=k&&k.ownerDocument;if(!l){return}if((b=l.body)===k){return u.bodyOffset(k)}a=l.documentElement;if(!u.contains(a,k)){return j}if(typeof k.getBoundingClientRect!=="undefined"){j=k.getBoundingClientRect()}w=u.getWindow(l);f=a.clientTop||b.clientTop||0;h=a.clientLeft||b.clientLeft||0;s=w.pageYOffset||a.scrollTop;i=w.pageXOffset||a.scrollLeft;return{top:j.top+s-f,left:j.left+i-h}},attr:function(n,v){if(arguments.length===1){return this.elem.getAttribute(n)}else if(arguments.length===2){this.elem.setAttribute(n,v);return this}else{throw new Error('Illegal argument number = '+arguments.length)}},detach:function(){if(this.elem&&this.elem.parentNode)this.elem.parentNode.removeChild(this.elem);this.elem=undefined},parent:function(){var a=this.elem;while(a&&a.nodeType!==9){a=a.parentNode;if(!a||a.nodeType===1){break}}return d(a)},offsetParent:function(){function n(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}return(function(){var o=this.offsetParent||document.documentElement;while(o&&(!n(o,"html")&&(new D(o)).css("position")==="static")){o=o.offsetParent}return o||document.documentElement}).call(this.elem)},length:function(){return this.elem?1:0},prev:function(){do{this.elem=this.elem.previousSibling}while(this.elem&&this.elem.nodeType!==1);return this},next:function(){do{this.elem=this.elem.nextSibling}while(this.elem&&this.elem.nodeType!==1);return this},bind:function(t,f){if(typeof t!=='string'||typeof f!=='function'||arguments.length!==2){throw new Error('Invalid arguments, you must pass in two arguments, '+'the first one is event type in string, '+'and the second one is a function.')}if(this.elem.nodeType===3||this.elem.nodeType===8){return}var a=this.elem,b=a[e]||(a[e]=g++),l=(c[b]||(c[b]={})).listener;if(!l){l=c[b].listener=(function(){var h={};var l=function(j){var k=h[j.type];if(!k){return}for(var i=0;i<k.length;i++){var r=k[i].apply(a,arguments);if(r===false){j.preventDefault();j.stopPropagation()}}};l.addHandler=function(t,f){var i=h[t]||(h[t]=[]);i.push(f)};l.removeHandler=function(t,f){if(f===undefined){delete h[t]}else{var i=h[t],j=i?i.indexOf(f):-1;if(i&&j>=0){i.splice(j,1);if(i.length===0)delete h[t]}}};l.clean=function(){var r=[];for(var t in h){r.push(t);delete h[t]}return r};l.listeningType=function(t){return h[t]!==undefined};l.isEmpty=function(i){if(arguments.length===0){for(var t in h){return false}return true}else{return h[i]===undefined}};return l})()}if(!l.listeningType(t)){if(a.addEventListener){a.addEventListener(t,l,false)}else if(a.attachEvent){a.attachEvent("on"+t,l)}}l.addHandler(t,f)},unbind:function(t,f){if((arguments.length>0&&typeof t!=='string')||arguments.length>2||(arguments.length===2&&typeof f!=='function')){throw new Error('Invalid arguments, you must pass in one or two arguments, '+'the first one (mandatory) is event type in string, '+'and the second one (optional) is a function.')}var a=this.elem,b=a[e],l=b?(c[b]&&c[b].listener):undefined;if(!l)return;var h;if(arguments.length===0){h=l.clean()}else{l.removeHandler(t,f);h=[t]}for(var i=0,j=h.length;i<j;i++){var k=h[i];if(l.isEmpty(k)){if(a.removeEventListener){a.removeEventListener(k,l,false)}else if(a.detachEvent){a.detachEvent("on"+k,l)}}}if(l.isEmpty()){delete c[b].listener}},data:function(n,v){var a=this.elem,i=a[e]||(a[e]=g++),b=(c[i]||(c[i]={})).data;if(v===undefined&&!b)return;if(typeof b!=='object'){b=c[i].data={}}if(typeof n==='object'){for(var k in n){this.data(k,n[k])}return this}if(v===undefined){return b[n]}b[n]=v;return this},removeData:function(n){var a=this.elem,b=a[e];if(!b||!c[b])return;var f=c[b].data;if(!f||!f[n])return;delete f[n];var h=true;for(var i in f){h=false;break}if(h){delete c[b].data}h=true;for(var i in c[b]){h=false;break}if(h){delete c[b]}}};var d=function(a){var w=new D(a);return w};return(d)});define('sap/viz/base/UADetector',[],function Setup(){var d=window.devicePixelRatio||1;var v;var s=function(l){for(var i=0;i<l.length;i++){var t=l[i].string;var u=l[i].prop;v=l[i].versionSearch||l[i].identity;if(t){if(t.indexOf(l[i].subString)!=-1){return l[i].identity}}else if(u){return l[i].identity}}};var a=[';',' '];var b=function(t){var u=t.indexOf(v);if(u==-1)return;var w=t.substring(u+v.length+1);var i=0,l=a.length,x=-1;while(x===-1&&i<l)x=w.indexOf(a[i++]);if(x!==-1)w=w.slice(0,x);return w};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:".NET",identity:"Explorer"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var e=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var f=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"}];var g=[{string:navigator.userAgent,subString:'Android',identity:'Android',},{string:navigator.userAgent,subString:'iPhone',identity:'iPhone'},{string:navigator.userAgent,subString:'iPad',identity:'iPad'},{string:navigator.userAgent,subString:'Touch',identity:'Touch'}];var _=s(c)||"An unknown browser",h=b(navigator.userAgent)||b(navigator.appVersion)||"an unknown version",j=s(c)==="Explorer",k=s(c)==='Firefox',m=s(c)==='Chrome',n=s(c)==='Safari',o=s(c)==='UIWebView',p=s(e)||"an unknown OS",q=s(f)||"An unknown RenderEngine",r=s(g);var U={userAgent:function(){return _},version:function(){return h},isIE:function(){return j},isFirefox:function(){return k},isChrome:function(){return m},isSafari:function(){return n},isUIWebView:function(){return o},os:function(){return p},devicePixelRatio:function(){return d},renderEngine:function(){return q},isMobile:function(){return r!==undefined},isWindowsSurface:function(){return((p==='Windows')&&(r==='Touch'))}};return(U)});define('sap/viz/base/utils/LinkedHashSet',['sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils'],function Setup(F,T){function h(){this._cursor=this._cursor.next;return this._cursor!==this._sentinel}function a(){this._cursor=this._cursor.prev;return this._cursor!==this._sentinel}function I(l,r){this._lhs=l;this._sentinel=this._lhs._head;this._cursor=this._sentinel;if(r){this.hasNext=a}else{this.hasNext=h}}var p=I.prototype;p.hasNext=F.noop;p.next=function(){return this._cursor.value};p.remove=function(){if(this._cursor!==this._sentinel){var i=this._cursor.value;this._cursor=this._cursor.prev;return this._lhs.remove(i)}};var L=function(b){this._hash=b||String;this._head={value:undefined,next:undefined,prev:undefined};this._map={};this._length=0;this._head.next=this._head.prev=this._head};p=L.prototype;p.add=function(i){var m=this._map;var r=null;var k=this._hash(i);if(!m.hasOwnProperty(k)){var n={prev:null,value:i,next:null},b=this._head,l=b.prev;m[k]=b.prev=n;n.prev=l;n.next=b;l.next=n;this._length++}else{r=m[k].value;m[k].value=i}return r};p.addAll=function(o){var i=L.iterator();var r=[],b;while(i.hasNext()){if(b=this.add(i.next()))r.push(b)}return r};p.insertBefore=function(i,b){var m=this._map,c=this._hash;var k=c(i),d=c(b);if(m.hasOwnProperty(d)&&d!==k){if(m.hasOwnProperty(k)){this.remove(i)}var n={prev:null,value:i,next:null};var e=m[d];n.prev=e.prev;e.prev.next=n;n.next=e;e.prev=n;m[k]=n;this._length++;return i}};p.insertAfter=function(i,b){var m=this._map,c=this._hash;var k=c(i),d=c(b);if(m.hasOwnProperty(d)&&d!==k){if(m.hasOwnProperty(k)){this.remove(i)}var n={prev:null,value:i,next:null};var e=m[d];n.prev=e;n.next=e.next;e.next.prev=n;e.next=n;m[k]=n;this._length++;return i}};p.replace=function(i,t){var m=this._map,b=this._hash;var k=b(i),c=b(t);if(m.hasOwnProperty(c)&&c!==k){if(m.hasOwnProperty(k)){this.remove(i)}var n={prev:null,value:i,next:null};var r=m[c];n.prev=r.prev;n.next=r.next;r.prev.next=n;r.next.prev=n;m[k]=n;delete m[c];return r.value}};p.first=function(){return this._head.next.value};p.last=function(){return this._head.prev.value};p.next=function(i){var r;if(r=this._map[this._hash(i)]){return r.next.value}return r};p.prev=function(i){var r;if(r=this._map[this._hash(i)]){return r.prev.value}return r};p.moveToFirst=function(i){var n;if(n=this._map[this._hash(i)]){var f=this._head.next;if(f!==n){n.prev.next=n.next;n.next.prev=n.prev;n.next=f;n.prev=f.prev;f.prev.next=n;f.prev=n}}};p.moveToLast=function(i){var n;if(n=this._map[this._hash(i)]){var l=this._head.prev;if(l!==n){n.prev.next=n.next;n.next.prev=n.prev;n.prev=l;n.next=l.next;l.next.prev=n;l.next=n}}};p.getByHash=function(b){var r=this._map[b];return r?r.value:undefined};p.has=function(i){return this._map.hasOwnProperty(this._hash(i))};p.remove=function(i){var m=this._map,k=this._hash(i);var r=null;if(m.hasOwnProperty(k)){var n=m[k];r=n.value;n.prev.next=n.next;n.next.prev=n.prev;delete m[k];this._length--}return r};p.purgeAll=function(){this._map={};this._head.next=this._head.prev=this._head;this._length=0};p.isEmpty=function(){return this._length===0};p.length=function(){return this._length};p.iterator=function(r){return new I(this,r||false)};p.items=function(){var r=[],c=head=this._head;while((c=c.next)!==head){r.push(c.value)}return r};return L});define('sap/viz/mvc/GestureDetector',['sap/viz/base/Class','sap/viz/base/utils/FunctionUtils'],function Setup(C,F){var n=F.noop;var P=0;var B=1;var a=2;var R=3;var E=3;var b=4;var c=5;var G=C.define({constructor:function(){this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grActions=[];this._grCancelTouches=true;var s=P;Object.defineProperties(this,{'state':{get:function(){return s},set:function(v){switch(v){case P:s=P;break;case B:s=B;this._grActions.forEach(function(d,i){d(this)},this);break;case a:if(s===B){s=a}this._grActions.forEach(function(d,i){d(this)},this);break;case b:s=b;this._grActions.forEach(function(d,i){d(this)},this);break;case c:s=c;break;case E:case R:s=v;this._grActions.forEach(function(d,i){d(this)},this);break}}},'watchedComponent':{value:undefined,writable:true,enumerable:true}})},addGestureAction:function(d){var e=this._grActions;if(e.indexOf(d)===-1){e.push(d);return true}return false},removeGestureAction:function(d){var e=this._grActions,i=e.indexOf(d);if(i>-1){e.splice(i,1);return true}return false},globalLocOfGesture:function(){var s=this.state;if(this._grEnabled&&(s===B||s===a||s===b||s===E||s===R)){var d=0;var t=this._grTouchTracker,p;var x=y=0;for(var e in t){p=t[e].globalXY;x+=p.x;y+=p.y;d++}if(d){return{x:x/d,y:y/d}}}},involvedTouchePoints:function(){var r=[],s=this.state;if(this._grEnabled&&(s===B||s===a||s===b||s===E||s===R)){var t=this._grTouchTracker;for(var d in t){if(t[d].globalXY!==undefined){r.push(t[d].globalXY)}}}return r},globalLocOfTouchPoints:function(){var d=0;var t=this._grTouchTracker,p;var x=y=0;for(var e in t){p=t[e].globalXY;x+=p.x;y+=p.y;d++}if(d){return{x:x/d,y:y/d}}},totalTouches:function(){return this._grTouchTotal},cancelTouches:function(d){if(arguments.length){this._grCancelTouches=d?true:false;return this}else{return this._grCancelTouches}},enable:function(e){if(arguments.length){e=e?true:false;if(this._grEnabled!==e){this._grEnabled=e;if(!e){if(this.state===B||this.state===b){this.state=b}else{this.state=c}}}return this}else{return this._grEnabled}},touchBegin:function(d){var e=d.changedTouches;var f=this._grTouchTracker;var o=this.watchedComponent;var p=o.pagePosition();for(var i=0,t,l=e.length;i<l;i++){t=e[i];f[t.identifier]={globalXY:o.pointTo({x:t.pageX-p.x,y:t.pageY-p.y})};this._grTouchTotal++}if(this._grEnabled&&(this.state===P||this.state===B||this.state===a)){this.doTouchBegin(d)}},touchMove:function(d){if(this._grEnabled&&(this.state===P||this.state===B||this.state===a)){var m=d.changedTouches;var o=this.watchedComponent;var p=o.pagePosition();var e=this._grTouchTracker;for(var i=0,t,l=m.length;i<l;i++){t=m[i];if(e[t.identifier]){e[t.identifier].globalXY=o.pointTo({x:t.pageX-p.x,y:t.pageY-p.y})}}this.doTouchMove(d)}},touchEnd:function(d){var e=d.changedTouches;var f=this._grTouchTracker;var o=this.watchedComponent;var p=o.pagePosition();for(var i=0,t,g,h,l=e.length;i<l;i++){t=e[i];g=t.identifier;if(h=f[g]){h.globalXY=o.pointTo({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===P||this.state===B||this.state===a)){this.doTouchEnd(d)}if((!this._grTouchTotal||(d.touches&&d.touches.length===0)||(d.targetTouches&&d.targetTouches.length===0))&&(this.state===R||this.state===c||this.state===b)){this.reset()}},touchCancel:function(d){var e=d.changedTouches;var f=this._grTouchTracker;var o=this.watchedComponent;var p=o.pagePosition();for(var i=0,t,g,h,l=e.length;i<l;i++){t=e[i];g=t.identifier;if(h=f[g]){h.globalXY=o.pointTo({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===P||this.state===B||this.state===a)){this.doTouchCancel(d)}if((!this._grTouchTotal||(d.touches&&d.touches.length===0)||(d.targetTouches&&d.targetTouches.length===0))&&(this.state===R||this.state===c||this.state===b)){this.reset()}},doTouchBegin:n,doTouchMove:n,doTouchEnd:n,doTouchCancel:n,reset:function(){this.state=P;this._grTouchTracker={};this._grTouchTotal=0}});G.TransitionState={Possible:P,Began:B,Changed:a,Recognized:R,Ended:E,Canceled:b,Failed:c};return G});define('sap/viz/base/Math',['sap/viz/base/UADetector'],function Setup(U){var O={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(U.isSafari()||(U.isIE()&&parseFloat(U.version())<9)){return function(n){return n<0?-n:n}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return O});define('sap/viz/base/utils/SVGTransformParser',['sap/viz/base/Logger','sap/viz/base/utils/FunctionUtils'],function Setup(L,F){var t=function(m,h){var r=[];for(var i=0;i<3;i++){r[i]=[];for(var j=0;j<3;j++){var s=0;for(var k=0;k<3;k++){s+=m[i][k]*h[k][j]}r[i][j]=s}}return r};var b=function(h){var i=Math.cos(h.rad);var s=Math.sin(h.rad);return[[i,-s,-h.cx*i+h.cy*s+h.cx],[s,i,-h.cx*s-h.cy*i+h.cy],[0,0,1]]};var _=false;var a='';function c(h){a+=h+'\n'}function d(i){var s=0;var m=-1;var h=0;var j=0;var k=i.offset+1;do{k--;s=0;m=-2;j=k;if(i.src.length<=j)return 33;do{switch(s){case 0:if((i.src.charCodeAt(k)>=9&&i.src.charCodeAt(k)<=10)||i.src.charCodeAt(k)==13||i.src.charCodeAt(k)==32)s=1;else if(i.src.charCodeAt(k)==40)s=2;else if(i.src.charCodeAt(k)==41)s=3;else if(i.src.charCodeAt(k)==43||i.src.charCodeAt(k)==45)s=4;else if(i.src.charCodeAt(k)==44)s=5;else if(i.src.charCodeAt(k)==46)s=6;else if((i.src.charCodeAt(k)>=48&&i.src.charCodeAt(k)<=57))s=7;else if(i.src.charCodeAt(k)==69||i.src.charCodeAt(k)==101)s=8;else if(i.src.charCodeAt(k)==109)s=15;else if(i.src.charCodeAt(k)==114)s=16;else if(i.src.charCodeAt(k)==115)s=17;else if(i.src.charCodeAt(k)==116)s=18;else s=-1;break;case 1:s=-1;m=1;h=k;break;case 2:s=-1;m=7;h=k;break;case 3:s=-1;m=8;h=k;break;case 4:s=-1;m=3;h=k;break;case 5:s=-1;m=6;h=k;break;case 6:s=-1;m=5;h=k;break;case 7:if((i.src.charCodeAt(k)>=48&&i.src.charCodeAt(k)<=57))s=7;else s=-1;m=2;h=k;break;case 8:s=-1;m=4;h=k;break;case 9:s=-1;m=12;h=k;break;case 10:s=-1;m=9;h=k;break;case 11:s=-1;m=10;h=k;break;case 12:s=-1;m=14;h=k;break;case 13:s=-1;m=11;h=k;break;case 14:s=-1;m=13;h=k;break;case 15:if(i.src.charCodeAt(k)==97)s=19;else s=-1;break;case 16:if(i.src.charCodeAt(k)==111)s=37;else s=-1;break;case 17:if(i.src.charCodeAt(k)==99)s=20;else if(i.src.charCodeAt(k)==107)s=21;else s=-1;break;case 18:if(i.src.charCodeAt(k)==114)s=38;else s=-1;break;case 19:if(i.src.charCodeAt(k)==116)s=22;else s=-1;break;case 20:if(i.src.charCodeAt(k)==97)s=23;else s=-1;break;case 21:if(i.src.charCodeAt(k)==101)s=24;else s=-1;break;case 22:if(i.src.charCodeAt(k)==114)s=26;else s=-1;break;case 23:if(i.src.charCodeAt(k)==108)s=28;else s=-1;break;case 24:if(i.src.charCodeAt(k)==119)s=29;else s=-1;break;case 25:if(i.src.charCodeAt(k)==110)s=30;else s=-1;break;case 26:if(i.src.charCodeAt(k)==105)s=31;else s=-1;break;case 27:if(i.src.charCodeAt(k)==116)s=32;else s=-1;break;case 28:if(i.src.charCodeAt(k)==101)s=9;else s=-1;break;case 29:if(i.src.charCodeAt(k)==88)s=10;else if(i.src.charCodeAt(k)==89)s=11;else s=-1;break;case 30:if(i.src.charCodeAt(k)==115)s=33;else s=-1;break;case 31:if(i.src.charCodeAt(k)==120)s=12;else s=-1;break;case 32:if(i.src.charCodeAt(k)==101)s=13;else s=-1;break;case 33:if(i.src.charCodeAt(k)==108)s=34;else s=-1;break;case 34:if(i.src.charCodeAt(k)==97)s=35;else s=-1;break;case 35:if(i.src.charCodeAt(k)==116)s=36;else s=-1;break;case 36:if(i.src.charCodeAt(k)==101)s=14;else s=-1;break;case 37:if(i.src.charCodeAt(k)==116)s=39;else s=-1;break;case 38:if(i.src.charCodeAt(k)==97)s=25;else s=-1;break;case 39:if(i.src.charCodeAt(k)==97)s=27;else s=-1;break}k++}while(s>-1)}while(1>-1&&m==1);if(m>-1){i.att=i.src.substr(j,h-j);i.offset=h}else{i.att=new String();m=-1}return m}var p=new Array(new Array(0,1),new Array(16,1),new Array(16,0),new Array(15,1),new Array(15,3),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(19,14),new Array(26,1),new Array(26,3),new Array(20,4),new Array(27,1),new Array(27,3),new Array(21,4),new Array(28,1),new Array(28,5),new Array(22,4),new Array(23,4),new Array(24,4),new Array(25,1),new Array(25,1),new Array(25,2),new Array(25,2),new Array(18,1),new Array(18,0),new Array(29,1),new Array(30,1),new Array(30,2),new Array(30,2),new Array(31,2),new Array(31,2),new Array(31,3),new Array(32,2),new Array(32,3));var e=new Array(new Array(14,10,13,11,12,12,11,13,9,14,10,15,33,-2),new Array(33,0),new Array(33,-1),new Array(6,17,33,-3,14,-28,13,-28,12,-28,11,-28,9,-28,10,-28),new Array(33,-5,6,-5,14,-5,13,-5,12,-5,11,-5,9,-5,10,-5),new Array(33,-6,6,-6,14,-6,13,-6,12,-6,11,-6,9,-6,10,-6),new Array(33,-7,6,-7,14,-7,13,-7,12,-7,11,-7,9,-7,10,-7),new Array(33,-8,6,-8,14,-8,13,-8,12,-8,11,-8,9,-8,10,-8),new Array(33,-9,6,-9,14,-9,13,-9,12,-9,11,-9,9,-9,10,-9),new Array(33,-10,6,-10,14,-10,13,-10,12,-10,11,-10,9,-10,10,-10),new Array(7,18),new Array(7,19),new Array(7,20),new Array(7,21),new Array(7,22),new Array(7,23),new Array(14,10,13,11,12,12,11,13,9,14,10,15),new Array(14,-27,13,-27,12,-27,11,-27,9,-27,10,-27,3,-27,2,-27,5,-27),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(33,-4),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-23,3,-23,2,-23,5,-23,8,-23),new Array(6,-24,3,-24,2,-24,5,-24,8,-24),new Array(2,29,5,31),new Array(5,43,4,45,6,-29,3,-29,2,-29,8,-29),new Array(4,45,6,-30,3,-30,2,-30,5,-30,8,-30),new Array(2,47),new Array(8,48),new Array(6,17,8,-12,3,-28,2,-28,5,-28),new Array(8,50),new Array(6,17,8,-15,3,-28,2,-28,5,-28),new Array(8,52),new Array(6,17,8,-18,3,-28,2,-28,5,-28),new Array(8,54),new Array(8,55),new Array(3,28,2,29,5,31),new Array(6,-26,3,-26,2,-26,5,-26,8,-26),new Array(6,-25,3,-25,2,-25,5,-25,8,-25),new Array(2,57,6,-34,3,-34,5,-34,4,-34,8,-34),new Array(6,-32,3,-32,2,-32,5,-32,8,-32),new Array(3,58,2,59),new Array(6,-31,3,-31,2,-31,5,-31,8,-31),new Array(6,-33,3,-33,2,-33,5,-33,4,-33,8,-33),new Array(33,-14,6,-14,14,-14,13,-14,12,-14,11,-14,9,-14,10,-14),new Array(3,28,2,29,5,31),new Array(33,-17,6,-17,14,-17,13,-17,12,-17,11,-17,9,-17,10,-17),new Array(3,28,2,29,5,31),new Array(33,-20,6,-20,14,-20,13,-20,12,-20,11,-20,9,-20,10,-20),new Array(3,28,2,29,5,31),new Array(33,-21,6,-21,14,-21,13,-21,12,-21,11,-21,9,-21,10,-21),new Array(33,-22,6,-22,14,-22,13,-22,12,-22,11,-22,9,-22,10,-22),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-35,3,-35,2,-35,5,-35,4,-35,8,-35),new Array(2,64),new Array(6,-36,3,-36,2,-36,5,-36,8,-36),new Array(8,-13),new Array(8,-16),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,-37,3,-37,2,-37,5,-37,8,-37),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(8,-19),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(8,74),new Array(33,-11,6,-11,14,-11,13,-11,12,-11,11,-11,9,-11,10,-11));var g=new Array(new Array(16,1,15,2,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(),new Array(18,16),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(15,24,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(25,25,29,26,30,27,31,30),new Array(26,32,25,33,29,26,30,27,31,30),new Array(27,34,25,35,29,26,30,27,31,30),new Array(28,36,25,37,29,26,30,27,31,30),new Array(25,38,29,26,30,27,31,30),new Array(25,39,29,26,30,27,31,30),new Array(),new Array(18,40),new Array(),new Array(),new Array(30,41,29,42,31,30),new Array(32,44),new Array(32,46),new Array(),new Array(),new Array(18,49),new Array(),new Array(18,51),new Array(),new Array(18,53),new Array(),new Array(),new Array(25,56,29,26,30,27,31,30),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(25,60,29,26,30,27,31,30),new Array(),new Array(25,61,29,26,30,27,31,30),new Array(),new Array(25,62,29,26,30,27,31,30),new Array(),new Array(),new Array(18,63),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(18,65),new Array(25,66,29,26,30,27,31,30),new Array(),new Array(25,67,29,26,30,27,31,30),new Array(18,68),new Array(),new Array(25,69,29,26,30,27,31,30),new Array(18,70),new Array(25,71,29,26,30,27,31,30),new Array(18,72),new Array(25,73,29,26,30,27,31,30),new Array(),new Array());var l=new Array("transform_list'","WHITESPACE","DIGIT-SEQUENCE","SIGN","EXPONENT_INDICATOR","DECIMAL_DOT","COMMA","LEFT_P","RIGHT_P","SKEW_X_INDICATOR","SKEW_Y_INDICATOR","ROTATE_INDICATOR","SCALE_INDICATOR","TRANSLATE_INDICATOR","MATRIX_INDICATOR","transforms","transform_list","transform","opt-comma-wsp","matrix","translate","scale","rotate","skewX","skewY","number","translate_sequence","scale_sequence","rotate_sequence","integer-constant","floating-point-constant","fractional-constant","exponent","$");function f(s){var h=0,j=[],k=[];var m,n,o;var r=undefined;var q={offset:0,src:s,att:''};var u=[0],v=[0];o=d(q);while(true){m=76;for(var i=0;i<e[u[u.length-1]].length;i+=2){if(e[u[u.length-1]][i]==o){m=e[u[u.length-1]][i+1];break}}if(_&&u.length>0){c('\\nState '+u[u.length-1]+'\\n'+'\\tLookahead: '+l[o]+' (\\\"'+q.att+'\\\")\\n'+'\\tAction: '+m+'\\n'+'\\tSource: \\\"'+q.src.substr(q.offset,30)+((q.offset+30<q.src.length)?'...':'')+'\\\"\\n'+'\\tStack: '+u.join()+'\\n'+'\\tValue stack: '+v.join()+'\\n')}if(m==76){if(_)c('Error detected: There is no reduce or shift on the symbol '+l[o]);h++;j.push(q.offset-q.att.length);k.push(new Array());for(var i=0;i<e[u[u.length-1]].length;i+=2)k[k.length-1].push(l[e[u[u.length-1]][i]]);var w=new Array();var x=new Array();for(var i=0;i<u.length;i++){w[i]=u[i];x[i]=v[i]}while(m==76&&o!=33){if(_)c('\\tError recovery\\n'+'Current lookahead: '+l[o]+' ('+q.att+')\\n'+'Action: '+m+'\\n\\n');if(o==-1)q.offset++;while(m==76&&u.length>0){u.pop();v.pop();if(u.length==0)break;m=76;for(var i=0;i<e[u[u.length-1]].length;i+=2){if(e[u[u.length-1]][i]==o){m=e[u[u.length-1]][i+1];break}}}if(m!=76)break;for(var i=0;i<w.length;i++){u.push(w[i]);v.push(x[i])}o=d(q)}if(m==76){if(_)c('\\tError recovery failed, terminating parse process...');break}if(_)c('\\tError recovery succeeded, continuing')}if(m>0){if(_)c('Shifting symbol: '+l[o]+' ('+q.att+')');u.push(m);v.push(q.att);o=d(q);if(_)c('\\tNew lookahead symbol: '+l[o]+' ('+q.att+')')}else{m*=-1;if(_)c('Reducing by producution: '+m);r=void(0);if(_)c('\\tPerforming semantic action...');switch(m){case 0:{r=v[v.length-1]}break;case 1:{r=v[v.length-1]}break;case 2:{r=[[1,0,0],[0,1,0],[0,0,1]]}break;case 3:{r=v[v.length-1]}break;case 4:{r=t(v[v.length-3],v[v.length-1])}break;case 5:{r=v[v.length-1]}break;case 6:{r=v[v.length-1]}break;case 7:{r=v[v.length-1]}break;case 8:{r=v[v.length-1]}break;case 9:{r=v[v.length-1]}break;case 10:{r=v[v.length-1]}break;case 11:{r=[[v[v.length-12],v[v.length-8],v[v.length-4]],[v[v.length-10],v[v.length-6],v[v.length-2]],[0,0,1]]}break;case 12:{r={tx:v[v.length-1],ty:0}}break;case 13:{r={tx:v[v.length-3],ty:v[v.length-1]}}break;case 14:{r=[[1,0,v[v.length-2].tx],[0,1,v[v.length-2].ty],[0,0,1]]}break;case 15:{r={sx:v[v.length-1],sy:v[v.length-1]}}break;case 16:{r={sx:v[v.length-3],sy:v[v.length-1]}}break;case 17:{r=[[v[v.length-2].sx,0,0],[0,v[v.length-2].sy,0],[0,0,1]]}break;case 18:{r={rad:v[v.length-1]*Math.PI/180,cx:0,cy:0}}break;case 19:{r={rad:v[v.length-5]*Math.PI/180,cx:v[v.length-3],cy:v[v.length-1]}}break;case 20:{r=b(v[v.length-2])}break;case 21:{r=[[1,Math.tan(v[v.length-2]*Math.PI/180),0],[0,1,0],[0,0,1]]}break;case 22:{r=[[1,0,0],[Math.tan(v[v.length-2]*Math.PI/180),1,0],[0,0,1]]}break;case 23:{r=parseInt(v[v.length-1])}break;case 24:{r=parseFloat(v[v.length-1])}break;case 25:{r=parseInt(v[v.length-2]+v[v.length-1])}break;case 26:{r=parseFloat(v[v.length-2]+v[v.length-1])}break;case 27:{r=v[v.length-1]}break;case 28:{r=v[v.length-0]}break;case 29:{r=v[v.length-1]}break;case 30:{r=v[v.length-1]}break;case 31:{r=v[v.length-2]+'e'+v[v.length-1]}break;case 32:{r=v[v.length-2]+'e'+v[v.length-1]}break;case 33:{r='0.'+v[v.length-1]}break;case 34:{r=v[v.length-2]+'.0'}break;case 35:{r=v[v.length-3]+'.'+v[v.length-1]}break;case 36:{r=v[v.length-1]}break;case 37:{r=v[v.length-2]+v[v.length-1]}break}if(_)c('\\tPopping '+p[m][1]+' off the stack...');for(var i=0;i<p[m][1];i++){u.pop();v.pop()}n=-1;for(var i=0;i<g[u[u.length-1]].length;i+=2){if(g[u[u.length-1]][i]==p[m][0]){n=g[u[u.length-1]][i+1];break}}if(m==0)break;if(_)c('\\tPushing non-terminal '+l[p[m][0]]);u.push(n);v.push(r)}if(_){a=new String();L.trace(a,'SVGTranformParser')}}if(_){L.debug('\\nParse complete.','SVGTranformParser')}if(h){var y='';for(var i=0;i<h;i++){y+='Parse error near >'+s.substr(j[i],30)+'<, expecting \\\"'+k[i].join()+'\\\"\\n'}L.error(y);return false}return r}var T={parse:f};return T});define('sap/viz/base/utils/TransformHelper',['sap/viz/base/utils/TypeUtils','sap/viz/base/Math','sap/viz/base/utils/SVGTransformParser'],function Setup(T,M,g){var h=T.isString,l=T.isArray;var n=function(a,r){if(a[0].length!==r.length)return false;var b=a.length,c=r[0].length,d=r.length;var i=-1,j,k,f,e;var m=[];while(++i<b){f=[];j=-1;while(++j<c){k=-1;e=0;while(++k<d){e+=a[i][k]*r[k][j]}f.push(e)}m.push(f)}return m};var o={multiply:n,parse:function(s){return g.parse(''+s)},invert:function(m){if(h(m)){m=g.parse(m)}var a=m[0][0],b=m[0][1],c=m[0][2],d=m[1][0],e=m[1][1],f=m[1][2];var i=a*e-b*d;if(i!=0){return[[e/i,-b/i,(b*f-c*e)/i],[-d/i,a/i,(c*d-a*f)/i],[0,0,1]]}else{return false}},identityTransform:function(){return[[1,0,0],[0,1,0],[0,0,1]]},rotate:function(a){a=+a;var c=M.cos(a),s=M.sin(a);return[[c,-s,0],[s,c,0],[0,0,1]]},translate:function(t,a){if(arguments.length<2){a=0}return[[1,0,+t],[0,1,+a],[0,0,1]]},scale:function(s,a){if(arguments.length<2){a=s}return[[+s,0,0],[0,+a,0],[0,0,1]]},skewX:function(a){return[[1,M.tan(+a),0],[0,1,0],[0,0,1]]},skewY:function(a){return[[1,0,0],[M.tan(+a),1,0],[0,0,1]]},isEqualTransform:function(a,b){if(h(a))a=g.parse(a);if(h(b))b=g.parse(b);return a&&b&&(a[0][0]==b[0][0]&&a[0][1]==b[0][1]&&a[0][2]==b[0][2]&&a[1][0]==b[1][0]&&a[1][1]==b[1][1]&&a[1][2]==b[1][2]&&a[2][0]==b[2][0]&&a[2][1]==b[2][1]&&a[2][2]==b[2][2])},isIdentityTransform:function(a){if(h(a)){a=g.parse(a)}return a&&(a[0][0]==1&&a[0][1]==0&&a[0][2]==0&&a[1][0]==0&&a[1][1]==1&&a[1][2]==0&&a[2][0]==0&&a[2][1]==0&&a[2][2]==1)},isValidTransform:function(t){if(h(t)){t=g.parse(t)}if(!l(t)||t.length<3||t[0].length<3){return false}return t&&(t[0][0]*t[1][1]!=t[1][0]*t[0][1])},transformPoint:function(x,y,t){if(arguments.length===2){t=y;y=+x.y;x=+x.x}if(h(t)){t=g.parse(t)}return{x:t[0][0]*x+t[0][1]*y+t[0][2],y:t[1][0]*x+t[1][1]*y+t[1][2]}},transformRect:function(x,y,w,a,t){if(arguments.length===2){t=y;a=+x.height;w=+x.width;y=+x.y;x=+x.x}if(h(t)){t=g.parse(t)}var b={minx:Number.POSITIVE_INFINITY,maxx:Number.NEGATIVE_INFINITY,miny:Number.POSITIVE_INFINITY,maxy:Number.NEGATIVE_INFINITY};var c=[[t[0][0]*x+t[0][1]*y+t[0][2],t[1][0]*x+t[1][1]*y+t[1][2]],[t[0][0]*(x+w)+t[0][1]*y+t[0][2],t[1][0]*(x+w)+t[1][1]*y+t[1][2]],[t[0][0]*(x+w)+t[0][1]*(y+a)+t[0][2],t[1][0]*(x+w)+t[1][1]*(y+a)+t[1][2]],[t[0][0]*x+t[0][1]*(y+a)+t[0][2],t[1][0]*x+t[1][1]*(y+a)+t[1][2]]];for(var i=0,d;i<4;i++){d=c[i];if(b.minx>d[0]){b.minx=d[0]}if(b.miny>d[1]){b.miny=d[1]}if(b.maxx<d[0]){b.maxx=d[0]}if(b.maxy<d[1]){b.maxy=d[1]}}return{x:b.minx,y:b.miny,width:b.maxx-b.minx,height:b.maxy-b.miny}},unmatrix:function(t){if(h(t)){t=g.parse(t)}if(!t){return false}var a=t[0][0],b=t[1][0],c=t[0][1],d=t[1][1],e=t[0][2],f=t[1][2];var r=[a,b],i=[c,d];var s=M.sqrt(a*a+b*b);if(s){r[0]/=s;r[1]/=s}var j=r[0]*i[0]+r[1]*i[1];i[0]+=-j*r[0];i[1]+=-j*r[1];var k=M.sqrt(i[0]*i[0]+i[1]*i[1])||0;if(k){i[0]/=k;i[1]/=k}if(r[0]*i[1]<i[0]*r[1]){r[0]*=-1;r[1]*=-1;kx*=-1;kz*=-1}return{tx:e,ty:f,sx:s,sy:k,skew:k?M.atan2(j,k):0,rotate:s?M.atan2(r[1],r[0]):M.atan2(-i[0],i[1])}}};return o});define('sap/viz/mvc/UIComponent',['sap/viz/base/Observable','sap/viz/base/utils/LinkedHashSet','sap/viz/base/utils/DomUtils','sap/viz/base/utils/FunctionUtils','sap/viz/mvc/GestureDetector','sap/viz/base/utils/TransformHelper'],function Setup(O,L,D,F,G,T){var n=F.noop;var N=0;var a=1<<0;var b=1<<1;var c=1<<2;var d=1<<3;var e=1<<4;var f=1<<5;var g=0;var h=function(){return g++};function w(i,r){var x=[{node:i,childrenItr:i.children.iterator()}];var y,i,z;while(x.length){y=x[x.length-1];i=y.node;r(i);z=y.childrenItr;if(z.hasNext()){var A=z.next();x.push({node:A,childrenItr:A.children.iterator()})}else{x.pop()}}}function l(i,r){if(this._autoresizable){var x=this.children.iterator();var y,z;while(x.hasNext()){y=x.next();z=j.call(this,y,i,r);y.frame(z)}}else{this.doLayout()}}function j(i,z,A){var B=i.frame();var x=B.x,y=B.y,C=B.width,E=B.height;var H=x,I=z.width-x-C,J=y,K=z.height-y-E;var M=A.width-z.width,P=A.height-z.height;var Q=i._autoresizingMask;var R=a|b|c;var S=d|e|f;switch(Q&R){case N:if(H!==0){x+=M*H/(H+I)}break;case a:x+=M;break;case a|c:case c:break;case b:C+=M;break;case a|b:if(C!==0){x+=M*H/(H+C);C+=M*C/(H+C)}break;case c|b:if(C!==0){C+=M*C/(I+C)}break;case a|b|c:if(z.width!==0){var r=M/z.width;x+=x*r;C+=C*r}break}switch(Q&S){case N:if(J!==0){y+=P*J/(J+K)}break;case d:y+=P;break;case d|f:case f:break;case e:E+=P;break;case d|e:if(E!==0){y+=P*J/(J+E);E+=P*E/(J+E)}break;case f|e:if(E!=0){E+=P*E/(K+E)}break;case d|e|f:if(z.height){var r=P/z.height;y+=y*r;E+=E*r}break}return{x:x,y:y,height:E,width:C}}function k(i){var r,x=D(this.container);if(i.clipToBound===false){x.css('overflow','visible')}if(i.hidden===true){x.css('display','none');this._hidden=true}if(i.autoResizingMask<32){this._autoresizingMask=+i.autoResizingMask}if(r=i.pin){this._pinX=r.x;this._pinY=r.y}if(r=i.position){this._x=r.x;this._y=r.y;x.css('left',this._x-this._pinX*this._width);x.css('top',this._y-this._pinY*this._height)}if(r=i.size){this._width=r.w||r.width;this._height=r.h||r.height;x.width(this._width);x.height(this._height)}m.call(this)}function m(){this.on({'sizeChanged':u.bind(this),'heightChanged':p.bind(this),'widthChanged':o.bind(this),'positionChanged':q.bind(this),'pinChanged':s.bind(this)})}function u(i,r){var x=D(this.container);x.width(r.width);x.height(r.height);if(this._pinX||this._pinY){x.css('left',this._x-this._pinX*r.width);x.css('top',this._y-this._pinY*r.height)}this.doContentResize(i,r);l.call(this,i,r)}function o(i,r){var x=D(this.container);x.width(r);if(this._pinX){x.css('left',this._x-this._pinX*r)}var y={height:this._height,width:i},z={height:this._height,width:r};this.doContentResize(y,z);l.call(this,y,z)}function p(i,r){var x=D(this.container);x.height(r);if(this._pinY){x.css('top',this._y-this._pinY*r)}var y={height:i,width:this._width},z={height:r,width:this._width};this.doContentResize(y,z);l.call(this,y,z)}function q(i,r){var x=D(this.container);x.css('left',r.x-this._pinX*this._width);x.css('top',r.y-this._pinY*this._height)}function s(i,r){var x=D(this.container);x.css('left',this._x-r.x*this._width);x.css('top',this._y-r.y*this._height)}function t(i){var r=i.visibility();if(r){i.doBeforeHide();i.fireEvent('beforeHide')}i._parentVisible=false;var x=i.children.iterator();while(x.hasNext()){t.call(i,x.next())}if(r){i.doAfterHide();i.fireEvent('afterHide')}}function v(i){var r=i.visibility();i._parentVisible=i.parent.visibility();if(!r&&i.visibility()){i.doBeforeShow();i.fireEvent('beforeShow')}var x=i.children.iterator();while(x.hasNext()){v.call(i,x.next())}if(!r&&i.visibility()){i.doAfterShow();i.fireEvent('afterShow')}}var U=O.extend({events:['widthChanged','heightChanged','sizeChanged','positionChanged','pinChanged','attached','detached','beforeShow','afterShow','beforeHide','afterHide','focusin','focusout','focus','blur','mousedown','mouseup','mouseenter','mouseleave','mousemove','click','dblclick','touchstart','touchmove','touchend','touchcancel'],constructor:function(i){i=i||{};var g=i.id?i.id+'_'+h():'UIComp_'+h();Object.defineProperties(this,{'id':{value:g,enumerable:true},'container':{value:D(document.createElement('div')).attr('id',g).css('position','relative').css({'overflow':'visible','font-size':'10px','box-sizing':'border-box','-moz-box-sizing':'border-box','-ms-box-sizing':'border-box','-webkit-box-sizing':'border-box','-webkit-user-select':'none','-webkit-tap-highlight-color':'rgba(0,0,0,0)'}).data('selfComp',this).get(0),enumerable:true,writable:true},'root':{value:undefined,writable:true,enumerable:true},'parent':{value:undefined,writable:true,enumerable:true},'children':{value:new L(function(r){return r.id}),enumerable:true,writable:true},'gestureDetectors':{value:[],enumerable:true}});this._attached=false;this._hidden=false;this._parentVisible=false;this._autoresizable=true;this._autoresizingMask=N;this._x=0;this._y=0;this._width=1;this._height=1;this._pinX=0.5;this._pinY=0.5;k.call(this,i)},markAttached:function(){this._attached=true;if(this.parent)this._parentVisible=this.parent.visibility();if(this.visibility()){this.doBeforeShow();this.fireEvent('beforeShow')}var i=this.children.iterator();while(i.hasNext()){i.next().markAttached()}if(this.visibility()){this.doAfterShow();this.fireEvent('afterShow')}},markDetached:function(){var i=this.visibility();this._attached=false;if(i){this.doBeforeHide();this.fireEvent('beforeHide')}var r=this.children.iterator();while(r.hasNext()){r.next().markDetached()}if(i){this.doAfterHide();this.fireEvent('afterHide')}},markHide:function(){if(this._hidden===false){var i=this.visibility();if(i){this.doBeforeHide();this.fireEvent('beforeHide')}this._hidden=true;D(this.container).css('display','none');var r=this.children.iterator();while(r.hasNext()){t.call(this,r.next())}if(i){this.doAfterHide();this.fireEvent('afterHide')}}return this},markShow:function(){if(this._hidden===true){this._hidden=false;if(this.visibility()){this.doBeforeShow();this.fireEvent('beforeShow')}D(this.container).css('display','block');var i=this.children.iterator();while(i.hasNext()){v.call(null,i.next())}if(this.visibility()){this.doAfterShow();this.fireEvent('afterShow')}}return this},clipToBound:function(i){var r=D(this.container);if(arguments.length){r.css('overflow',i?'hidden':'visible');return this}else{return r.css('overflow')==='hidden'}},visibility:function(){return!this._hidden&&this._attached&&this._parentVisible},autoResizable:function(i){if(arguments.length){this._autoresizable=i&&true;return this}else{return this._autoresizable&&true}},autoResizingMask:function(i){if(arguments.length){if(i<32){this._autoresizingMask=+i}return this}else{return this._autoresizingMask}},pagePosition:function(){var i=D(this.container).offset();return{x:i.left,y:i.top}},position:function(x,y){if(arguments.length===0)return{x:this._x,y:this._y};if(arguments.length===1){y=x.y;x=x.x}x=+x;y=+y;if(this._x!==x||this._y!==y)this.fireEvent('positionChanged',{x:this._x,y:this._y},{x:this._x=x,y:this._y=y});return this},size:function(i,r){if(!arguments.length)return{width:this._width,height:this._height};if(arguments.length===1){r=i.height;i=i.width}r=+r;i=+i;if(i!==this._width||r!==this._height)this.fireEvent('sizeChanged',{width:this._width,height:this._height},{width:this._width=i,height:this._height=r});return this},width:function(i){if(!arguments.length)return this._width;i=+i;if(this._width!==i&&i>0)this.fireEvent('sizeChanged',{width:this._width,height:this._height},{width:this._width=i,height:this._height});return this},height:function(i){if(!arguments.length)return this._height;i=+i;if(this._height!==i&&i>0)this.fireEvent('sizeChanged',{width:this._width,height:this._height},{width:this._width,height:this._height=i});return this},pin:function(x,y){if(!arguments.length)return{x:this._pinX,y:this._pinY};if(arguments.length===1){y=x.y;x=x.x}x=+x;y=+y;if(x!==this._pinX||y!==this._pinY)this.fireEvent('pinChanged',{x:this._pinX,y:this._pinY},{x:this._pinX=x,y:this._pinY=y});return this},frame:function(x,y,i,r){if(!arguments.length)return{x:this._x-this._pinX*this._width,y:this._y-this._pinY*this._height,width:this._width,height:this._height};if(arguments.length===1){y=x.y;i=x.width;r=x.height;x=x.x}var z=x+i*this._pinX,A=y+r*this._pinY;if(i!==this._width||r!==this._height){this.fireEvent('sizeChanged',{width:this._width,height:this._height},{width:this._width=i,height:this._height=r})}if(z!==this._x||A!==this._y){this.fireEvent('positionChanged',{x:this._x,y:this._y},{x:this._x=z,y:this._y=A})}return this},append:function(i){if(i){if(i.parent!==undefined)i.detach();i.parent=this;if(this.root){w(i,function(r){r.root=this}.bind(this.root))}this.children.add(i);this.container.appendChild(i.container);if(this._attached){i.markAttached()}return this}},appendTo:function(i){i.append(this);return this},detach:function(){if(this.parent){this.parent.children.remove(this);D(this.container).detach();this.parent=undefined;w(this,function(i){i.root=undefined});this.markDetached()}return this},before:function(i){i.insertBefore(this);return this},insertBefore:function(i){if(i&&i.parent&&i!==this){if(this.parent){this.detach()}var r=i.parent;this.parent=r;if(r.root){w(this,function(x){x.root=this}.bind(r.root))}r.children.insertBefore(this,i);this.container.parentNode.insertBefore(i.container,this.container);if(this._attached){this.markAttached()}}return this},after:function(i){i.insertAfter(this);return this},insertAfter:function(i){if(i&&i.parent&&i!==this){if(this.parent){this.detach()}var r=i.parent;this.parent=r;if(r.root){w(this,function(x){x.root=this}.bind(r.root))}r.children.insertAfter(this,i);this.container.parentNode.insertAfter(i.container,this.container);if(this._attached){this.markAttached()}}return this},bringToFront:function(){var i=this.parent;if(i){if(i.children.last()!==this){i.children.moveToLast(this);D(this.container).detach();subComp.container.appendChild(this.container)}}return this},sendToBack:function(){var i=this.parent;if(i){if(i.children.first()!==this){i.children.moveToFirst(this);D(this.container).detach();subComp.container.insertBefore(this.container,subComp.container.firstChild)}}return this},pointFrom:function(x,y,i){if(arguments.length===1){y=x.y;x=x.x;i=false}if(arguments.length===2){if(isNaN(x)){i=y;y=x.y;x=x.x}else{i=false}}x=+x;y=+y;i.root||(i=false);var r=this.root;if(r){i||(i=r);var z=0,A=0,B=this,C;while(B!==r&&B!==i){C=B.frame();z+=C.x;A+=C.y;B=B.parent}if(B!==i){B=i;while(B!==r&&B!==this){C=B.frame();x+=C.x;y+=C.y;B=B.parent}if(B===this){return{x:x,y:y}}}return{x:x-z,y:y-A}}return{x:x,y:y}},pointTo:function(x,y,i){if(arguments.length===1){y=x.y;x=x.x;from=false}if(arguments.length===2){if(isNaN(x)){from=y;y=x.y;x=x.x}else{from=false}}x=+x;y=+y;var r=this.root;if(r){i||(i=r);return i.pointFrom(x,y,this)}return{x:x,y:y}},fireFocusEvent:function(i){this.fireEvent(i.type,i);if(this.parent&&i.shouldBubble()){i.currentTarget=this.parent;this.parent.fireEvent(i)}},fireMouseEvent:function(i){this.fireEvent(i.type,i);if(this.parent&&i.shouldBubble()){i.currentTarget=this.parent;i.currentLocalXY={x:i.currentLocalXY.x+this._x-this._pinX*this._width,y:i.currentLocalXY.y+this._y-this._pinY*this._height};this.parent.fireMouseEvent(i)}},fireTouchEvent:function(i){this.fireEvent(i.type,i);if(this.parent&&i.shouldBubble()){i.currentTarget=this.parent;this.parent.fireTouchEvent(i)}},purgeListeners:function(){this._super()},un:function(i){this._super.apply(this,arguments);if(arguments.length===1){switch(i){case'sizeChanged':this.on('sizeChanged',u.bind(this));break;case'heightChanged':this.on('heightChanged',p.bind(this));break;case'widthChanged':this.on('widthChanged',o.bind(this));break;case'positionChanged':this.on('positionChanged',q.bind(this));break;case'pinChanged':this.on('pinChanged',s.bind(this));break}}},addGestureDetector:function(i){if(i instanceof G){i.watchedComponent=this;this.gestureDetectors.push(i)}},removeGestureDetector:function(r){for(var i=0,x=this.gestureDetectors.length;i<x;i++){if(this.gestureDetectors[i]===r){this.gestureDetectors.splice(i,1);r.watchedComponent=undefined;x--}}},hitTest:function(x,y){if(arguments.length=1){y=x.y;x=x.x}var i=[{comp:this,subCompsItr:this.children.iterator(true)}];var r,z;while(i.length){r=i[i.length-1];z=r.subCompsItr;r=r.comp;if(r.visibility()){if(z.hasNext()){var A=z.next();i.push({comp:A,subCompsItr:A.children.iterator(true)});continue}else{var B=r.pointFrom(x,y,this);if(B.x>=0&&B.y>=0&&B.x<r.width()&&B.y<r.height()&&r.pointContent(x,y))return r}i.pop()}else{i.pop()}}},pointContent:function(x,y){return true},doLayout:n,doContentResize:n,doBeforeHide:n,doAfterHide:n,doBeforeShow:n,doAfterShow:n,doDestroy:n,destroy:function(){this.doDestroy();w(this,function(i){i.detach();i.purgeListeners()});D(this.container).removeData('selfComp');if(this.children){this.children=null}}});U.Autosizing={None:N,FlexibleLeftMargin:a,FlexibleWidth:b,FlexibleRightMargin:c,FlexibleTopMargin:d,FlexibleHeight:e,FlexibleBottomMargin:f};return U});define('sap/viz/base/utils/LinkedHashMap',['sap/viz/base/utils/FunctionUtils'],function Setup(F){function h(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}}function a(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}}var l=function(d,r){this._lhm=d;this._reverse=r||false;this._count=d._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=a}else{this.hasMore=h}};var b=l.prototype;b.hasMore=F.noop;b.next=function(){var r={key:this._cursor.key,value:this._cursor.value};return r};b.nextValue=function(){return this._cursor.value};b.nextKey=function(){return this._cursor.key};b.reset=function(){this._count=this._lhm._length};b.remove=function(){return this._lhm.remove(this._cursor.key)};var L=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var c=L.prototype;c.add=function(k,v){var m=this._map;var r=null;var n={prev:null,key:k,value:v,next:null};if(!this._length){this._head=this._last=n}if(!m.hasOwnProperty(k)){m[k]=n;this._length++;n.prev=this._last;this._last.next=n;this._last=n;this._last.next=this._head;this._head.prev=this._last}else{r=m[k].value;m[k].value=v}return r};c.addAll=function(d){var i=d.getIterator();var e;while(i.hasMore()){e=i.next();this.add(e.key,e.value)}};c.insertBefore=function(k,v,d){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(d)){var n={prev:null,key:k,value:v,next:null};var e=m[d];if(e!==this._head){n.prev=e.prev;e.prev.next=n}else{this._head=n;n.prev=this._last}n.next=e;e.prev=n;m[k]=n;this._length++;return v}};c.insertAfter=function(k,v,d){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(d)){var n={prev:null,key:k,value:v,next:null};var e=m[d];if(e!==this._last){n.next=e.next;e.next.prev=n}else{this._last=n;this._last.next=this._head}e.next=n;n.prev=e;m[k]=n;this._length++;return v}};c.replace=function(k,w,d){var m=this._map;if(!m.hasOwnProperty(w)&&m.hasOwnProperty(k)){var n={prev:null,key:w,value:d,next:null};var r=m[k];n.prev=r.prev;n.next=r.next;r.prev.next=n;r.next.prev=n;if(this._head===r)this._head=n;if(this._last===r)this._last=n;m[w]=n;delete m[k];return r.value}};c.get=function(k){var m=this._map;if(m.hasOwnProperty(k)){return m[k].value}return null};c.next=function(k){var m=this._map;if(m.hasOwnProperty(k)){return m[k].next}return null};c.prev=function(k){var m=this._map;if(m.hasOwnProperty(k)){return m[k].prev}return null};c.getFirstInsert=function(){return this._head?this._head.value:null};c.getLastInsert=function(){return this._last?this._last.value:null};c.moveToLast=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._last.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.prev=this._last;n.next=this._last.next;this._last.next=n;this._last=n;this._head=n.next;this._head.prev=n}};c.moveToFirst=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._head.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.next=this._head;n.prev=this._head.prev;this._head.prev=n;this._head=n;this._last=n.prev;this._last.next=n}};c.has=function(k){var m=this._map;return m.hasOwnProperty(k)};c.remove=function(k){var m=this._map;var r;if(m.hasOwnProperty(k)){var n=m[k];r=n.value;if(n===this._head){this._head=n.next}if(n===this._last){this._last=n.prev}n.prev.next=n.next;n.next.prev=n.prev;delete m[k];this._length--;if(this._length===0){this._head=this._last=undefined}return r}};c.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};c.isEmpty=function(){return this._length==0};c.length=function(){return this._length};c.getIterator=function(r){return new l(this,r)};c.keys=function(){var i=this.getIterator(),k=[];while(i.hasMore())k.push(i.nextKey());return k};c.values=function(){var i=this.getIterator(),v=[];while(i.hasMore())v.push(i.nextValue());return v};return L});define('sap/viz/base/utils/DomWatcher',['sap/viz/base/UADetector','sap/viz/base/utils/LinkedHashMap'],function Setup(U,L){var w=0,d=1,o;function n(){return w++}function a(){return d++}function b(e){for(var i in e){if(e.hasOwnProperty(i))return false}return true}function c(e,i){var v=null;if(window.getComputedStyle){v=window.getComputedStyle(e,null)[i]}else if(e.currentStyle){v=e.currentStyle[i]}return v}function f(e,v){if(!this._data)this._data={};if(arguments.length===2){this._data[e]=v}else return this._data[e]}var g=new L();function h(e){var i,l,d,u;e.forEach(function(v){l=v.target;d=f.call(l,'domNo');if(!d)return;u=g.get(d).getIterator();while(u.hasMore()){i=u.nextValue();i.checkChange()}})}var O=window.MutationObserver||window.WebKitMutationObserver;function j(i){var e=t.get(i);var l=e.domElem;var d=f.call(l,'domNo');var o;if(!d){d=a();f.call(l,'domNo',d);g.add(d,new L())}g.get(d).add(e.id,e);o=f.call(l,'observer');if(!o){if(!O)return;o=new O(h);f.call(l,'observer',o)}o.observe(l,{attributes:true})}function r(e){var i=e.domElem;var d=f.call(i,'domNo');if(!d)return;if(g.get(d).has(e.id)){g.get(d).remove(e.id)}if(g.get(d).isEmpty()){f.call(i,'observer').disconnect();f.call(i,'observer',undefined);t.remove(e.id)}}var s=undefined;var t=new L();function k(){var e=t.getIterator();var i;while(e.hasMore()){i=e.nextValue();i.checkChange()}}function m(e){if(!s)s=setInterval(k,100);if(!t.has(e.id))t.add(e.id,e)}function p(i){if(t.has(i)){t.remove(i)}if(t.isEmpty()){clearInterval(s);s=undefined}}function q(e){m(e)}function _(e){var u=t.get(e);if(!u)return;var v=u.domElem;if(!u.callback)return;var x=false;var i=0;var y=[];for(var l=u.cssProps.length;i<l;i++){var z=c(v,u.cssProps[i]);if(u.lastestVals[i]!=z){u.lastestVals[i]=z;x=true;y.push(u.cssProps[i])}}if(x)u.callback(y)}var D={watch:function(e,l,u){var v=n();var x={id:v,domElem:e,cssProps:l.split(","),lastestVals:[l.split(",").length],callback:u,checkChange:function(){_(v)}};for(var i=0,y=x.cssProps.length;i<y;i++){x.lastestVals[i]=c(e,x.cssProps[i])}if(!t.has(x.id))t.add(x.id,x);q(x);return v},unwatch:function(i){var l=t.get(i);if(l){var u=l.domElem;try{p(l.id)}catch(e){}}}};return D});define('sap/viz/mvc/Event',['sap/viz/base/Class'],function Setup(C){var E=C.define({constructor:function(t,a,c){this.type=t;this.target=a;this.currentTarget=a;this.timestamp=Date.now();this.load=undefined;this._canBubbling=c!==undefined?c:true},isInBubbling:function(){return this.target.id!==this.currentTarget.id},shouldBubble:function(){return this._canBubbling},stopPropagation:function(){this._canBubbling=false}});return E});define('sap/viz/mvc/MouseEvent',['sap/viz/mvc/Event'],function Setup(E){var M=E.extend({constructor:function(t,a,c,l,p){this.relatedTarget=undefined;this.targetLocalXY=l;this.currentLocalXY=l;this.pageXY=p}});return M});define('sap/viz/mvc/TouchEvent',['jquery','sap/viz/base/utils/FunctionUtils','sap/viz/mvc/Event','sap/viz/lang/langManager'],function Setup($,F,E,l){if(!$){F.error(l.getLogMessage('IDS_ERROR_NOT_FIND_JQUERY'))}var T=function(i,f,g,p){this.identifier=i;this.target=f;this.localXY=g;this.pageXY=p};var a=function(f,g){this.tA=f,this.tM=g};var t=a.prototype;t.length=function(){return this.tA.length};t.item=function(i){if(i>=0&&(i<this.tA.length)){return this.tA[i]}};t.identifiedTouch=function(i){if(i){return this.tM[i]}};var b=E.extend({constructor:function(f,g,h,i,j,k){this.touches=i;this.targetTouches=j;this.changedTouches=k}});var _=function(f){var g=[],h={};for(var i=0,j,k,m=f.length;i<m;i++){j=d(f[i]);if(j){k=e(f[i],j);g.push(k);h[k.identifier]=k}}return new a(g,h)};var c=function(f){var g=[],h={};for(var i=0,j,k,m=f.length;i<m;i++){j=d(f[i]);if(j){k=e(f[i],j);g.push(k);h[k.identifier]=k}}return new a(g,h)};var d=function(f){var g=$(f.target);while(g.length&&!g.data('selfComp')){g=g.parent()}return g.data('selfComp')};var e=function(f,g){var h=g.pagePosition();var i={x:f.pageX-h.x,y:f.pageY-h.y};return new T(f.identifier,g,i,{x:f.pageX,y:f.pageY})};b.buildFrom3TouchArray=function(f,g,h,i,j,k){var m=c(h);var n=c(j);var o=c(i);return new b(f,g,k,m,n,o)};b.buildFromDomTouchEvent=function(f,g,h,i){var j=_(h.touches);var k=_(h.targetTouches);var m=_(h.changedTouches);return new b(f,g,i,j,k,m)};return b});define('sap/viz/mvc/VizFrame',['sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/DomUtils','sap/viz/base/UADetector','sap/viz/mvc/UIComponent','sap/viz/mvc/GestureDetector','sap/viz/base/utils/DomWatcher','sap/viz/mvc/Event','sap/viz/mvc/MouseEvent','sap/viz/mvc/TouchEvent','sap/viz/base/Math','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils'],function Setup(F,D,U,a,G,b,E,M,T,c,l,d){var A=Array.prototype.push;var f=F.error;var g=U.isMobile();var h,j,k;var _=50;var m=150;var n=20;function o(e){while(e=e.parentNode)if(e===document)return true;return false}function p(e){var i=D(e.target);while(!(i.data('selfComp')&&i.data('selfComp').root===this.root)){i=i.parent()}return i.data('selfComp')}var t=G.TransitionState;function r(){var e=w.bind(this);D(this.container).bind('click',e);D(this.container).bind('dblclick',e);D(this.container).bind('focusin',e);D(this.container).bind('focusout',e);D(this.container).bind('focus',e);D(this.container).bind('blur',e);D(this.container).bind('mousedown',e);D(this.container).bind('mouseup',e);D(this.container).bind('mouseenter',e);D(this.container).bind('mouseleave',e);D(this.container).bind('mousemove',e);if(U.isWindowsSurface()){q.call(this)}else{D(this.container).bind('DOMNodeInsertedIntoDocument',q.bind(this));D(this.container).bind('DOMNodeRemovedFromDocument',u.bind(this))}}function q(){var e=w.bind(this);if(U.isWindowsSurface()){D(this.container).bind('pointerdown',e);D(this.container).bind('pointermove',e);D(this.container).bind('pointerup',e);D(this.container).bind('pointercancel',e)}else{D(this.container).bind('touchstart',e);D(this.container).bind('touchmove',e);D(this.container).bind('touchend',e);D(this.container).bind('touchcancel',e)}}function u(){if(U.isWindowsSurface()){D(this.container).unbind('pointerdown');D(this.container).unbind('pointermove');D(this.container).unbind('pointerup');D(this.container).unbind('pointercancel')}else{D(this.container).unbind('touchstart');D(this.container).unbind('touchmove');D(this.container).unbind('touchend');D(this.container).unbind('touchcancel')}}var s=function(e,i){var y=e.x-i.x;var z=e.y-i.y;return c.sqrt(y*y+z*z)};function v(e){if(e.type==='pointerdown'||e.type==='pointermove'||e.type==='pointerup'||e.type==='pointercancel'){e.touches=[];e.changedTouches=[];e.targetTouches=[];var i={};i.clientX=e.clientX;i.clientY=e.clientY;i.pageX=e.pageX;i.pageY=e.pageY;i.screenX=e.screenX;i.screenY=e.screenY;i.identifier=e.pointerId;i.target=e.target;e.touches.push(i);e.changedTouches.push(i);e.targetTouches.push(i)}}function w(y){var z=p.call(this,y),e;v(y);var B=(y.type==='touchstart')?'touchstart':'pointerdown',C=(y.type==='touchmove')?'touchmove':'pointermove',H=(y.type==='touchend')?'touchend':'pointerup',I=(y.type==='touchcancel')?'touchcancel':'pointerup';switch(y.type){case'mousemove':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}if(z){var J=z.pagePosition();var K={x:y.pageX-J.x,y:y.pageY-J.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==z){var L=[];var N=z;while(N){L.push(N);N=N.parent}var O=0,P=false,Q=c.min(this._msTracking.length,L.length);while(true){var R=undefined;if(!P&&this._msTracking[O]===L[L.length-1-O]){O++;P=O===Q}else{while(this._msTracking.length>O){R=this._msTracking.pop();e=new M('mouseleave',R,false,R.pointFrom(K,z),{x:y.pageX,y:y.pageY});e.relatedTarget=z;e.load=y.load;R.fireMouseEvent(e)}while(O<L.length){var N=L.shift();R=this._msTracking[L.length-1];this._msTracking[L.length]=N;e=new M('mouseenter',N,false,N.pointFrom(K,z),{x:y.pageX,y:y.pageY});e.relatedTarget=R;e.load=y.load;N.fireMouseEvent(e)}break}}}}else{var N=z,e;do{this._msTracking.push(N);e=new M('mouseenter',N,false,K,{x:y.pageX,y:y.pageY});e.load=y.load;N.fireMouseEvent(e);N=N.parent}while(N);this._msTracking.reverse()}e=new M('mousemove',z,true,K,{x:y.pageX,y:y.pageY});e.load=y.load;z.fireMouseEvent(e)}else{while(this._msTracking.length){var R=this._msTracking.pop();var S=this.pagePosition();e=new M('mouseleave',R,false,{x:y.pageX-S.x,y:y.pageY-S.y},{x:y.pageX,y:y.pageY});e.load=y.load;R.fireMouseEvent(e)}}break;case'mouseleave':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}while(this._msTracking.length){var R=this._msTracking.pop();var W=R.pagePosition();e=new M('mouseleave',R,false,{x:y.pageX-W.x,y:y.pageY-W.y},{x:y.pageX,y:y.pageY});e.load=y.load;R.fireMouseEvent(e)}break;case'mouseup':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}if(z){var J=z.pagePosition();e=new M('mouseup',z,true,{x:y.pageX-J.x,y:y.pageY-J.y},{x:y.pageX,y:y.pageY});e.load=y.load;z.fireMouseEvent(e)}break;case'mousedown':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}if(z){var J=z.pagePosition();e=new M('mousedown',z,true,{x:y.pageX-J.x,y:y.pageY-J.y},{x:y.pageX,y:y.pageY});e.load=y.load;z.fireMouseEvent(e)}break;case'dblclick':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}if(z){if(this._focusedComp){if(this._focusedComp.id!==z.id){e=new E('blur',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusout',this._focusedLayer,true);e.load=y.load;this._focusedComp.fireFocusEvent(e);this._focusedComp=z;e=new E('focus',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusin',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e)}}else{this._focusedComp=z;e=new E('focus',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusin',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e)}var J=z.pagePosition();e=new M('dblclick',this._focusedComp,true,{x:y.pageX-J.x,y:y.pageY-J.y},{x:y.pageX,y:y.pageY});e.load=y.load;this._focusedComp.fireMouseEvent(e)}else{if(this._focusedComp){e=new E('blur',this._focusedLayer,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusout',this._focusedLayer,true);e.load=y.load;this._focusedComp.fireFocusEvent(e);this._focusedComp=undefined}}break;case'click':if(g&&this._suppressMouseOnMobile){y.preventDefault();break}if(z){if(this._focusedComp){if(this._focusedComp.id!==z.id){e=new E('blur',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusout',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e);this._focusedComp=z;e=new E('focus',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusin',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e)}}else{this._focusedComp=z;e=new E('focus',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusin',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e)}var J=z.pagePosition();e=new M('click',this._focusedComp,true,{x:y.pageX-J.x,y:y.pageY-J.y},{x:y.pageX,y:y.pageY});e.load=y.load;this._focusedComp.fireMouseEvent(e)}else{if(this._focusedComp){e=new E('blur',this._focusedComp,false);e.load=y.load;this._focusedComp.fireFocusEvent(e);e=new E('focusout',this._focusedComp,true);e.load=y.load;this._focusedComp.fireFocusEvent(e);this._focusedComp=undefined}}break;case'pointerdown':case'touchstart':for(var i=0,X,Y=y.changedTouches,Z=Y.length;i<Z;i++){X=Y[i];this._touchSeqTracking[X.identifier]=false}x.call(this,z,y);e=T.buildFromDomTouchEvent(B,z,y);e.load=y.load;z.fireTouchEvent(e);h=X.pageX;j=X.pageY;k=y.timeStamp;break;case'pointermove':case'touchmove':if(!x.call(this,z,y)){e=T.buildFromDomTouchEvent(C,z,y);e.load=y.load;z.fireTouchEvent(e)}break;case'pointerup':case'touchend':x.call(this,z,y);var $=[],a1=[],b1=[],c1=[];for(var i=0,X,Y=y.changedTouches,Z=Y.length;i<Z;i++){X=Y[i];this._touchSeqTracking[X.identifier]===true?a1.push(X):$.push(X);delete this._touchSeqTracking[X.identifier]}if($.length){for(var i=0,X,d1=y.targetTouches,Z=d1.length;i<Z;i++){X=d1[i];c1.push(X)}for(var i=0,X,e1=y.touches,Z=e1.length;i<Z;i++){X=e1[i];b1.push(X)}e=T.buildFrom3TouchArray(I,z,b1,a1,c1);e.load=y.load;z.fireTouchEvent(e);e=T.buildFrom3TouchArray(H,z,b1,$,c1);e.load=y.load;z.fireTouchEvent(e)}else{e=T.buildFromDomTouchEvent(I,z,y);e.load=y.load;z.fireTouchEvent(e)}var f1=s({x:h,y:j},{x:X.pageX,y:X.pageY});var g1=y.timeStamp-k;if(y.touches.length>0){break}else{var h1=navigator.userAgent;var i1=/Android/i.test(h1);if(!i1){break}}case'pointercancel':case'touchcancel':!g||y.preventDefault();x.call(this,z,y);for(var i=0,X,Y=y.changedTouches,Z=Y.length;i<Z;i++){X=Y[i];delete this._touchSeqTracking[X.identifier]}e=T.buildFromDomTouchEvent(I,z,y);e.load=y.load;z.fireTouchEvent(e);break}}function x(e,y){var z=[];var B=e;do{A.apply(z,B.gestureDetectors)}while(B=B.parent);var C=false,H,I=false;for(var i=0,J,K,L=z.length;i<L;i++){K=z[i];switch(y.type){case'pointerdown':case'touchstart':K.touchBegin(y);break;case'pointermove':case'touchmove':K.touchMove(y);break;case'pointerup':case'touchend':K.touchEnd(y);break;case'pointercancel':case'touchcancel':K.touchCancel(y);break}J=K.state;H=(J===t.Began)||(J===t.Changed)||(J===t.Recognized);C=C||H;I=I||(H&&K.cancelTouches())}if(I){for(var i=0,N,O=y.changedTouches,L=O.length;i<L;i++){N=O[i];this._touchSeqTracking[N.identifier]=true}}return C}var V=a.extend({constructor:function(e){e=e||{};if(e.holder){this._holder=D(e.holder).get(0);D(this._holder).bind('DOMNodeInsertedIntoDocument',function(){this.markAttached()}.bind(this));D(this._holder).bind('DOMNodeRemovedFromDocument',function(){this.markDetached()}.bind(this));this.pin({x:0,y:0});this._msTracking=[];this._touchSeqTracking={};this.frame({x:0,y:0,width:D(this._holder).width(),height:D(this._holder).height()});this._watcherIds=[];var i=e.size;if(i&&i.auto!==true&&!d.isNaN(i.width)&&!d.isNaN(i.height)&&i.width>0&&i.height>0){this.size(i)}else{this.autoResizing=true;this.autoResize()}this.clipToBound(false);this._suppressMouseOnMobile=false;r.call(this);this._holder.appendChild(this.container);this.markDetached();this.markHide();if(o(this._holder)){this.markAttached()}if(D(this._holder).css('display')==='none'||D(this._holder).css('visibility')==='hidden'||D(this._holder).width()<=0||D(this._holder).height()<=0){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}this.root=this}else{f(l.getLogMessage('IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME'))}},autoResize:function(e){this._watcherIds.forEach(b.unwatch);this._watcherIds=[];if(e===false){this.autoResizing=false;return}this.autoResizing=true;this.size(true,D(this._holder).width(),D(this._holder).height());var i=function(z,B){var C=/.*%/,H=D(z),I=H.width(),J=H.height(),K=z;function L(){if(H.width()!==I||H.height()!==J){B()}return false}this._watcherIds.push(b.watch(z,"width,height",B));while((C.test(K.style.width)||C.test(K.style.height))&&K!==undefined&&K.nodeName.toLowerCase()!=="html"){if(D(K).css("position")!=="absolute"){K=D(K).parent().get(0)}else{K=D(K).offsetParent()}this._watcherIds.push(b.watch(K,"width,height",L))}}.bind(this);var y;i(this._holder,function(){clearTimeout(y);y=setTimeout(function(){this.size(true,D(this._holder).width(),D(this._holder).height())}.bind(this),100)}.bind(this));return this},size:function(){if(arguments.length===0){e=this._super.apply(this);e.auto=this.autoResizing;return e}if(arguments.length>0&&arguments[0]==true){return this._super.apply(this,Array.prototype.slice.call(arguments,1))}var e=arguments[0];var i=this.size();if(e){if(e.width>0&&e.height>0){e=e}else if(e.width>0&&i.height>0){e.height=i.height}else if(e.height>0&&i.width>0){e.width=i.width}else if(e.height<=0&&e.width<=0){var y=this._super.apply(this,[e]);this.autoResize(false);this._parentVisible=false;this.markHide();return y}else{return}var y=this._super.apply(this,[e]);this.autoResize(false);this._parentVisible=true;this.markShow();return y}},suppressMouseOnMobile:function(e){this._suppressMouseOnMobile=!!e},doDestroy:function(){this._watcherIds.forEach(b.unwatch);D(this._holder).unbind('DOMNodeInsertedIntoDocument');D(this._holder).unbind('DOMNodeRemovedFromDocument');D(this.container).unbind()},destroy:function(){this._super();this.doDestroy();this._msTracking=[];D(this.container).detach();this.container=null}});return V});define('sap/viz/mvc/UIController',['sap/viz/base/Class','sap/viz/base/utils/FunctionUtils','sap/viz/mvc/UIComponent'],function Setup(C,F,U){var n=F.noop;var A=U.Autosizing;var a=C.define({constructor:function(v){Object.defineProperties(this,{'application':{value:v,writable:false,enumerable:true,configurable:false},'rootUIComponent':{value:new(this.constructor.prototype.RootComponentClass||U)({size:{width:v.vizFrame.width(),height:v.vizFrame.height()},autoResizingMask:A.FlexibleWidth|A.FlexibleHeight,hidden:true,listeners:{'beforeShow':this.beforeUIComponentAppear.bind(this),'beforeHide':this.beforeUIComponentDisappear.bind(this),'afterShow':this.afterUIComponentAppear.bind(this),'afterHide':this.afterUIComponentDisappear.bind(this)}}),writable:true,enumerable:true}})},initialize:n,fireAppEvent:function(e,b){this.application.fireEvent(e,b)},beforeUIComponentAppear:n,afterUIComponentAppear:n,beforeUIComponentDisappear:n,afterUIComponentDisappear:n,doThemeApplied:n,doThemeUpdated:n,destroy:function(){this.rootUIComponent.destroy();this.rootUIComponent=null}});return a});define('sap/viz/mvc/VizApplication',['sap/viz/base/Observable','sap/viz/base/utils/FunctionUtils','sap/viz/mvc/ThemeManager','sap/viz/mvc/ImageManager','sap/viz/mvc/VizFrame','sap/viz/mvc/UIComponent','sap/viz/mvc/UIController','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(O,F,T,I,V,U,a,L,l){var n=F.noop,e=F.error,u=F.unimplemented,b=Array.prototype.push;var i=0;function c(){return i++}var d=O.extend({images:[],RootControllerClass:a,constructor:function(o){if(!arguments.length){e(l.getLogMessage('IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE'))}var h=o.holder,i=o.id;if(!h){e(l.getLogMessage('IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION'))}delete o.holder;delete o.id;var p=this.constructor.prototype;if(!(p.RootControllerClass)){e(l.getLogMessage('IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER'))}this.appWillLaunch.apply(this,[o]);if(o.launchOptions&&o.launchOptions.size){var v=new V({holder:h,size:o.launchOptions.size})}else{var v=new V({holder:h})}var t=T.defaultTheme();Object.defineProperties(this,{'id':{value:i?i+'_'+c():'VizApp_'+c(),writable:false},'vizFrame':{value:v,writable:false},'theme':{get:function(){return t},set:function(g){t=g;if(T.hasThemeInstalled(g)){t!==g;this.controller.doThemeApplied(t)}return this}}});T.on('defaultThemeChanged',function(g,j){if(this._theme===g){this._theme=j;this.controller.doThemeApplied(j)}}.bind(this),this.id);T.on('themeSettingChanged',function(t,k,g,j){if(this._theme===t){this.controller.doThemeUpdated(k,g,j)}}.bind(this),this.id);var f=[];if(this.hasOwnProperty("images")&&this.images){b.apply(f,this.images)}b.apply(f,p.images);I.loadImages(f,undefined,function(){var r=new p.RootControllerClass(this);Object.defineProperty(this,'controller',{value:r,writable:false,enumerable:true,configurable:false});var g=this.vizFrame.size().auto;this.vizFrame.autoResize(false);this.vizFrame.append(r.rootUIComponent);this.controller.initialize(o);this.appDidFinishLaunching.apply(this,[o]);this.vizFrame.autoResize(g);r.rootUIComponent.frame(0,0,this.vizFrame.width(),this.vizFrame.height());r.rootUIComponent.markShow()}.bind(this))},appWillLaunch:n,appDidFinishLaunching:n,getMetadata:u,getPropertyValues:u,setPropertyValues:u,destroy:function(){T.un('defaultThemeChanged',this.id);T.un('themeSettingChanged',this.id);this.controller.destroy();this.vizFrame.destroy()}});return d});define('sap/viz/style/Element',['jquery'],function Setup($){function S(v){this.update(v)}S.prototype={toString:function(){var s="",i;for(i in this){if(this.hasOwnProperty(i)){s+=i+":"+this[i]+";"}}return s},toAttrs:function(s){for(var i in this){if(this.hasOwnProperty(i)){s.attr(i,this[i])}}},update:function(o){for(var i in o){if(o.hasOwnProperty(i)){this[i]=o[i]}}}};var h=document.documentElement,m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.msMatchesSelector;function E(e){if(!e){var t=document.implementation.createHTMLDocument("");e=d3.select(t.body);if(t.domain!==document.domain){t.domain=document.domain}}this.el=e}E.prototype={destroy:function(){this.el=null},child:function(c,t,d,a){if(!Array.isArray(t)){t=[t]}if(!Array.isArray(c)){c=[c]}var e=this.el,b=false;var l=Math.max(t.length,c.length);for(var i=0;i<l;i++){var f=t[i];var g=c[i];if(!f&&!g){b=true}f=f||d;if(!b){var s=f;if(g){s+="."+g.replace(" ",".")}var n=e.node();var j=e.selectAll(s).filter(function(){return this.parentNode===n});if(!j.empty()){e=j;continue}b=true}e=d3.select(e.node()).append(f).attr("class",g).datum({defaultStyle:new S(),currentStyle:new S(),userStyle:new S(),meta:{}})}var r=new E(e);if(a){var k=e.datum();k.defaultStyle.update(a);k.currentStyle.update(a)}return r},defaultStyle:function(){return this.el.datum().defaultStyle},currentStyle:function(){return this.el.datum().currentStyle},userStyle:function(){return this.el.datum().userStyle},queryAll:function(s){var r=[];this.el.selectAll(s).each(function(){r.push(new E(d3.select(this)))});return r},match:function(s){return m.call(this.el.node(),s)},update:function(s,p){var c=this.currentStyle();var u=this.userStyle();var a=this.el.datum().meta;var b=this.styleManager();$.each(p,function(n,v){var d=a[n];var e=false,f;if(d){e=d.important;f=d.selector}var g=v.important;if((g&&(!e||s.nlt(f)))||(!g&&!e&&s.nlt(f))){c[n]=v.value;u[n]=v.value;if(!d){d={};a[n]=d}d.important=g;d.selector=s}if(b&&b.module){b.applyProperty(s.text,n,v.value)}});return this},cleanChildren:function(){var n=this.el.node();var c;while((c=n.firstChild)){n.removeChild(c)}return this},styleManager:function(_){var n=this.el.node();if(!arguments.length){if(n.styleManager){return n.styleManager}n=n.parentNode;while(n){if(n.styleManager){return n.styleManager}n=n.parentNode}return undefined}n.styleManager=_;return this}};return E});define('sap/viz/style/Manager',['jquery','sap/viz/style/Element'],function Setup($,E){function S(s,m,e,d){var a={};if(!e){e=new E()}this.el=e;this.el.styleManager(this);if(m){this.moduleProperties=m.properties;var c=m.css;if(c){$.each(c,function(b,o){var f=b.substring(1).replace("."," ");var g=e.child(f,null,d||"g",o.value);f.split(" ").forEach(function(h){a[h]=g});if(s){s.forEach(function(h){h.iterate(function(b,p){if(g.match(b.text)){g.update(b,p)}})})}})}}this.subEls=a;this.sheets=s;this.children=[];this.module=null}S.prototype={query:function(s){var c=this.subEls[s];if(c){return c.currentStyle()}},queryDefault:function(s){var c=this.subEls[s];if(c){return c.defaultStyle()}},cssText:function(s){return this.query(s).toString()},child:function(m,a,t,d){var c=new S(this.sheets,m,this.el.child(a,t,d||"g"),d);c.name=a?a:undefined;this.children.push(c);return c},applyCSS:function(s){var r=this.el;s.rules.forEach(function(a){a.selectors.forEach(function(b){r.queryAll(b.text).forEach(function(m){m.update(b,a.properties)})})});return this},applyProperty:function(s,n,v){var a;var t=s.split(' ');var b=t[t.length-1];for(var i in this.moduleProperties){if(this.moduleProperties.hasOwnProperty(i)&&this.moduleProperties[i]&&this.moduleProperties[i].cssClass&&this.moduleProperties[i].cssClass.indexOf(b)>=0){var c=(function buildProperties(p){if('Object'===p.supportedValueType){var r;var d=p.supportedValues;for(var k in d){if(d.hasOwnProperty(k)){var e=buildProperties(d[k]);if(e){if(!r){r={}}r[k]=e}}}return r}else{if(function(){if(!p.cssStyle){return false}var f=p.cssStyle.split(' ');for(var m=0;m<f.length;m++){if(n===f[m]){return true}}return false}()){return v}}})(this.moduleProperties[i]);if(c){if(!a){a={}}a[i]=c}}}if(a){if(this.module&&this.module.setProperties){this.module.setProperties(a)}}return this},getCSS:function(s,p){var r;var a=this.el;s.rules.forEach(function(b){b.selectors.forEach(function(c){a.queryAll(c.text).forEach(function(m){r=m.currentStyle()[p]})})});return r},getCurrentCSS:function(a){var i=0,j=0,b=[],p=[],c={};var d=this;var r='';while(j>=0){if(i<d.children.length){b[j]=i;p[j]=d.name;d.children[i].parent=d;d=d.children[i];j++;i=0}else{p[j]=d.name;for(var k in d.subEls){if(d.subEls.hasOwnProperty(k)){var e='';var f='';for(var n=0;n<p.length;n++){if(p[n]){e+=' .'+p[n]}}e+=' .'+k;if(c.hasOwnProperty(e)){continue}c[e]=null;var g=(a===true)?d.subEls[k].currentStyle():d.subEls[k].userStyle();for(var m in g){if(g.hasOwnProperty(m)){f+=m+':'+g[m]+';'}}if(f.length>0){e+='{'+f+'}';r+=e}}}d=d.parent;j--;i=b[j]+1;p.pop()}}return r},cleanChildren:function(){this.el.cleanChildren();return this}};S.prototype.destroy=function(){if(this.el){this.el.destroy()}this.el=null;this.children=null};return S});define('sap/viz/util/fn/createContext',['jquery','sap/viz/style/Manager'],function Setup($,S){return function(m,p,c,t,a){var s=p.styleManager;if(!s){s=new S()}s=s.child(m,c,t);var b={'styleManager':s,'destroy':function(){for(var d in this){if(this.hasOwnProperty(d)){if(this[d]&&typeof this[d].destroy==='function'){this[d].destroy();delete this[d]}}}}};for(var i in a){if(a.hasOwnProperty(i)){b[i]=a[i]}}$.each(p,function(k,v){if(k!=='styleManager'&&k!=='destroy'){b[k]=v}});return b}});define('sap/viz/modules/manifests/Module',['sap/viz/manifest','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/util/fn/createContext'],function Setup(m,F,O,T,c){var K=true;function l(a,b,d){var f=b.id;if(f===undefined){F.error("Cannot find module id in sub module config \"{0}\"",JSON.stringify(b))}var g=m.module.get(b.id,true);a.push({module:g,config:b,moduleRef:d,subModules:g.subModules(b,d)})}function e(p,k){var d={},n,a;for(n in p){if(p.hasOwnProperty(n)){a=p[n];if(a){if(k===true){d[n]=O.extend(true,{},a)}else{d[n]=a.supportedValueType==='Object'?e(a.supportedValues,!K):a.defaultValue}}}}return d}m.registerCategory("module",function(o){var d;var a;Object.defineProperties(o,{subModules:{value:function(b,p){var s;var f=O.extend(true,{},b.modules,b.controllers);if(!T.isEmptyObject(f)){s=[];var g;for(var k in f){if(f.hasOwnProperty(k)){g=f[k];if(g){l(s,g,p+'.'+k)}}}}return s}},props:{value:function(w){if(w===K){if(!a){a=e(o.properties,K)}return a}else{if(!d){d=e(o.properties,!K)}return O.extend(true,{},d)}}},execute:{value:function(p,b,t,f){var g=o.fn;var h=b===true?p:c(this,p,b,t,f);var r;if(g.prototype.__new_style__){var j=new g(o,h);r=function(s){return j.render(s)};for(var i in j){if(typeof(j[i])==='function'){var k=j[i];r[i]=function(n){return function(){return n.apply(j,arguments)}}(k)}}r.instance=function(){return j};r.destroy=function(){if(j.destroy)j.destroy();j=null}}else{r=g(o,h)}h.styleManager.module=r;return r}}});return o});m.module.loadModule=l;return m.module});define('sap/viz/modules/GlobalConstants',[],function Setup(){var g={Type:{Chart:'CHART',Container:'CONTAINER',Supplementary:'SUPPLEMENTARY',Behavior:'BEHAVIOR',Controller:'CONTROLLER',Scientific:{Layout:'Represents a layout algorithm'},Presentation:{Tooltip:'Represents a tooltip'},ThirdParty:'THIRDPARTY'},RenderTo:{SVG:'SVG',DIV:'DIV',NONE:'NONE'},TRIGGER:{KEY:{API:{GET_SELECTION:'Trigger_key_api_get_selection',SET_SELECTION:'Trigger_key_api_set_selection',},CLICK_ON_DATAPOINT:'click_on_datapoint',CLICK_ON_NON_DATAPOINT:'click_on_non_datapoint',HOVER_ON_DATAPOINT:'hover_on_datapoint',HOVER_ON_NON_DATAPOINT:'hover_on_non_datapoint',HOVER_ON_LEGEND:'hover_on_legend',HOVER_ON_NON_LEGEND:'hover_on_non_legend',CLICK_ON_LEGEND:'click_on_legend',MOUSEUP_ON_LEGEND:'mouseup_on_legend',HOVER_ON_AXIS_LABEL:'hover_on_axis_label',HOVER_ON_NON_AXIS_LABEL:'hover_on_non_axis_label',CLICK_ON_AXIS_LABEL:'click_on_axis_label',MOUSEUP_ON_AXIS_LABEL:'mouseup_on_axis_label',LASSO_START_ON_EVENTLAYER:'lasso_start_on_eventLayer',LASSO_MOVE_ON_EVENTLAYER:'lasso_move_on_eventLayer',LASSO_END_ON_EVENTLAYER:'lasso_end_on_eventLayer',PAN_START_ON_EVENTLAYER:'pan_start_on_eventLayer',PINCH_START_ON_EVENTLAYER:'pinch_start_on_eventLayer',PINCH_MOVE_ON_EVENTLAYER:'pinch_move_on_eventLayer',PINCH_END_ON_EVENTLAYER:'pinch_end_on_eventLayer'},CSS:{MATCHMODE:{NEGATIVE:'negative',POSITIVE:'positive'}}}};return g});define('sap/viz/chart/elements/utils/makeInterfaceCompatible',[],function(){var m=function(a){if(!a.setData&&a.data){a.setData=function(){var r=a.data.apply(a,arguments);return m(r)};a.getData=a.data}if(!a.setWidth&&a.width){a.setWidth=function(){var r=a.width.apply(a,arguments);return m(r)};a.getWidth=a.width}if(!a.setHeight&&a.height){a.setHeight=function(){var r=a.height.apply(a,arguments);return m(r)};a.getHeight=a.height}if(!a.setSize&&a.size){a.setSize=function(){var r=a.size.apply(a,arguments);return m(r)};a.getSize=a.size}if(!a.setProperties&&a.properties){a.setProperties=function(){var r=a.properties.apply(a,arguments);return m(r)};a.getProperties=a.properties}return a};return m});define('sap/viz/util/ignite',['sap/viz/base/utils/TypeUtils','sap/viz/modules/manifests/Module','sap/viz/chart/elements/utils/makeInterfaceCompatible'],function Setup(T,m,a){return function(b,p,c,t,d){var e;if(T.isString(b)){e=m.get(b)}else{e=b;c=true}return a(e.execute(p,c,t,d))}});define('sap/viz/style/Selector',[],function Setup(){function S(s){this.b=0;this.c=s?(s.split('.').length-1):0;this.d=0}S.prototype={nlt:function(s){if(this.b===s.b){if(this.c===s.c){return this.d>=s.d}return this.c>s.c}return this.b>s.b}};function a(t){this.text=t;var s;Object.defineProperty(this,"specificity",{get:function(){if(!s){s=new S(t)}return s}})}a.prototype={nlt:function(s){if(!s){return true}return this.specificity.nlt(s.specificity)}};return a});define('sap/viz/style/Sheet',['sap/viz/style/Selector'],function Setup(S){function a(s,b,n){this.source=s;var c=(b&&b.length>0)?"."+b+" ":"";var h=document.head;var d=document.createElement("style");h.appendChild(d);var e=d.sheet;e.disabled=true;var r=s.split("}");for(var i=0,l=r.length-1;i<l;i++){if(r[i].indexOf(",")<0||r[i].indexOf(',')>r[i].indexOf('{')){e.insertRule(c+" "+r[i]+"}",i)}else{var t=r[i].split(",");var f="";for(var k=0;k<t.length-1;k++){f=f+c+t[k]+","}f+=(c+t[t.length-1]);e.insertRule(f+"}",i)}}this.rules=[];var g=e.cssRules;for(i=0,l=g.length;i<l;i++){var m=g[i];var o=m.selectorText.split(",");var p=o.map(function(x){return new S(x.substring(c.length,x.length))});var q={};var u=m.style;for(var j=0,v=u.length;j<v;j++){var w=u[j];q[w]={value:u.getPropertyValue(w),important:u.getPropertyPriority(w)==="important"}}this.rules.push({selectors:p,properties:q})}if(n){h.removeChild(d)}else{e.disabled=false;this.styleElement=d}}a.prototype={destroy:function(){if(this.styleElement&&this.styleElement.parentNode){this.styleElement.parentNode.removeChild(this.styleElement)}return this},iterate:function(c){this.rules.forEach(function(r){r.selectors.forEach(function(s){c(s,r.properties)})});return this}};return a});define('sap/viz/util/append',[],function Setup(){return function(m,a){var n=this.append(m);for(var k in a){if(a.hasOwnProperty(k)){n.attr(k,a[k])}}return n}});define('sap/viz/util/elementutil',[],function Setup(){var r={'isSVG':function(s){return r.isGElement(s)||r.isSVGElement(s)},'isGElement':function(s){return s.node().nodeName.toLowerCase()==='g'},'isSVGElement':function(s){return s.node().nodeName.toLowerCase()==='svg'},'isDIV':function(s){return s.node().nodeName.toLowerCase()==='div'}};return r});define('sap/viz/util/fn/dombuilder',['sap/viz/modules/GlobalConstants','sap/viz/modules/manifests/Module','sap/viz/util/append','sap/viz/base/utils/FunctionUtils','sap/viz/util/elementutil'],function Setup(C,M,a,F,e){var r=function(p,c){var b=e.isSVG(p);var d=p;var f={};var g=true;var k,m;for(k in c){if(c.hasOwnProperty(k)&&c[k]){m=M.get(c[k].id);if(m&&m.renderto===C.RenderTo.DIV){if(b){F.error('Configuration Error! Does not allow append div under svg element!')}else{g=false;break}}}}for(k in c){if(c.hasOwnProperty(k)&&c[k]){m=M.get(c[k].id);if(m){if(m.renderto===C.RenderTo.DIV){f[k]=a.apply(d,['div',{'class':'v-m-'+k}])}else if(m.renderto===C.RenderTo.NONE){f[k]=undefined}else{f[k]=a.apply(d,[b?'g':'svg',{'class':'v-m-'+k}])}}}}return f};return r});define('sap/viz/util/fn/domposition',['sap/viz/util/elementutil'],function Setup(e){var p=function(t,i){if(t&&i){if(e.isSVGElement(t)){t.attr('width',i.width);t.attr('height',i.height);t.style('position','absolute').style('box-sizing','border-box').style('left',i.x+'px').style('top',i.y+'px')}else{t.attr('transform','translate('+i.x+', '+i.y+')')}}};var a=function(t,i){if(t&&i){t.style('position','absolute').style('box-sizing','border-box').style('overflow','hidden').style('width',i.width+'px').style('height',i.height+'px').style('left',i.x+'px').style('top',i.y+'px')}};var r=function(l,s){var i;for(i in s){if(s.hasOwnProperty(i)){if(l[i]){var b=l[i];if(e.isSVG(s[i])){p(s[i],b)}else if(e.isDIV(s[i])){a(s[i],b)}}}}};return r});define('sap/viz/modules/event/Manager',[],function Setup(){return function(){var c;var e={UIComponent:function(_){if(!arguments.length){return c}c=_;return e},on:function(t,l){c.on(t,l);return e},addGestureDetector:function(_){if(!arguments.length){return}c.addGestureDetector(_);return e},destroy:function(){c=null}};return e}});define('sap/viz/util/UtilsRegister',[],function Setup(){var u={};return{register:function(i,f){u[i]=f},unregister:function(i){u[i]=undefined},clear:function(){u={}},get:function(i){return u[i]}}});define('sap/viz/util/TextUtils',['sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector'],function Setup(T,U){var n="http://www.w3.org/2000/svg";var a;var c;var f;var b=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var t=[];var d=[];var e=[];var m=[];function g(){if(!a){var s=document.body.appendChild(document.createElementNS(n,"svg"));s.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";a=s.appendChild(document.createElementNS(n,"text"))}return a}function j(h,l){var a=g();if(!l){a.removeAttribute("style")}else{if(!T.isString(l)){var o=U.isIE()?l.ownerSVGElement.getComputedStyle(l):window.getComputedStyle(l);var p="";b.forEach(function(i){var s=o.getPropertyValue(i);if(s!==null){p+=i+":"+s+";"}});l=p}a.style.cssText=l}if(h===undefined||h===null){h=""}a.textContent=h;return a}function k(h,l,o,p,q){var r="..."+p;var s="";if(h){s=h.toString()}if(o>0){if(m[r]){if(s.length>3){if(o<m[r]/3*4){if(l){l.textContent=""}return""}}else{if(o<m[r]/3*s.length){if(l){l.textContent=""}return""}}}var a,u;r=s+p;a=q?g():j(s,p||l);u=a.getComputedTextLength();if(u<=o){if(l){l.textContent=s}return s}r="..."+p;if(!m[r]){a.textContent="...";m[r]=a.getComputedTextLength()}o-=m[r];a.textContent=s;if(o>0){var v=s.length;var i=Math.ceil(o/u*v);var w=s.substring(0,i);r=w+p;var x;var y;var z=a.textContent.toString();if(!U.isIE()){a.textContent=z.substring(0,i);x=a.getComputedTextLength()}else{x=a.getSubStringLength(0,i)}if(x<=o){while(++i<=v){w=s.substring(0,i);r=w+p;if(!U.isIE()){a.textContent=z.substring(0,i);x=a.getComputedTextLength()}else{x=a.getSubStringLength(0,i)}if(x>o){y=s.substring(0,i-1)+"...";if(l){l.textContent=y;l.appendChild(document.createElementNS(l.namespaceURI,"title")).textContent=s}if(!U.isIE()){a.textContent=z}return y}}}else{while(--i>0){w=s.substring(0,i);r=w+p;if(!U.isIE()){a.textContent=z.substring(0,i);x=a.getComputedTextLength()}else{x=a.getSubStringLength(0,i)}if(x<=o){y=w+"...";if(l){l.textContent=y;l.appendChild(document.createElementNS(l.namespaceURI,"title")).textContent=s}a.textContent=z;return y}}}if(!U.isIE()){a.textContent=z}}}if(l){l.textContent=""}return""}return{measure:function(h,s){if(h===''){return{width:0,height:0,x:0,y:0}}var i=j(h,s).getBBox();return{width:i.width,height:i.height,x:i.x,y:i.y}},measureInCanvas:function(h,i,l,o){if(!o||!i||!l){return}var s=0;if(!c){c=document.createElement("canvas");c.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:0px;height:0px;visibility:hidden";document.body.appendChild(c)}if(c.getContext){var p=c.getContext("2d");var q=l+" "+i+" "+o;p.font=q;s=p.measureText(h).width}var r=parseFloat(i)*1.2;return{width:s,height:r}},fastMeasure:function(h,i,l,o){var p=h+i+l+o;var q=t[p];if(!q){t[p]=this.measure(h,"font-size:"+i+"; font-weight:"+l+"; font-family:"+o);q=t[p]}return q},bestMeasureFun:function(h,l,o){if(!f){var i;var p=100;var q="Test";var s=new Date().getTime();for(i=0;i<p;i++){this.measureInCanvas(q,h,l,o)}var r=new Date().getTime();var u=r-s;var v=new Date().getTime();for(i=0;i<p;i++){this.measure(q,"font-size:"+h+"; font-weight:"+l+"; font-family:"+o)}var w=new Date().getTime();var x=w-v;if(u<x){f="C"}else{f="M"}}return f},superFastMeasure:function(h,F,i,l){var o,p,q,r,s;if(arguments.length===2){s=this.parseStyle(F);p=s.FontSize;q=s.FontWeight;r=s.FontFamily}else if(arguments.length===4){p=F;q=i;r=l}o=h+p+q+r;var u=d[o];if(!u){if(this.bestMeasureFun(p,q,r)==="C"){d[o]=this.measureInCanvas(h,p,q,r)}else{d[o]=this.measure(h,"font-size:"+p+"; font-weight:"+q+"; font-family:"+r)}u=d[o]}return u},canvasMeasure:function(h,F,i,l){var o,p,q,r,s;if(arguments.length===2){s=this.parseStyle(F);p=s.FontSize;q=s.FontWeight;r=s.FontFamily}else if(arguments.length===4){p=F;q=i;r=l}o=h+p+q+r;var u=e[o];if(!u){u=(e[o]=this.measureInCanvas(h,p,q,r))}return u},ellipsis:function(h,i,l,o,p){return k(h,i,l,o,false)},ellipsisInCircle:function(i,l,r,h,o){var a=j(i,l);var p=Math.sqrt(Math.pow(r,2)-Math.pow(h+a.getBBox().height/2,2))*2;k(i,l,p,o,true)},verticalCentralOffset:function(h,i){var l=j(h,i);var o=l.getBBox();var p=-o.y;var q=parseInt(l.ownerSVGElement.getComputedStyle(l)["fontSize"],0);return(p-(o.height-q))/2},parseStyle:function(s){var h={};var i=s.toLowerCase();h.FontSize=this.getStyleValue(i,"font-size");h.FontWeight=this.getStyleValue(i,"font-weight");h.FontFamily=this.getStyleValue(i,"font-family");return h},getStyleValue:function(s,h){var r,i,l;i=s.indexOf(h);if(i>=0){i=s.indexOf(":",i)+1;l=s.indexOf(";",i);if(l<0){l=s.length}r=s.substring(i,l)}return r},getTextBaselineOffset:function(s){var h=this.fastMeasure("Tag",s['font-size'],s['font-weight'],s['font-family']);return h.height+h.y},destroy:function(){if(a){var s=a.parentNode;if(s){s.parentNode.removeChild(s)}}a=null;t=[];d=[];e=[];m=[];if(c){c.parentNode.removeChild(c)}c=null}}});define('sap/viz/base/utils/oo',[],function(){var o={};o.extend=function(s,a){var b=s.prototype;s.superclass=a.prototype;var F=function(){};F.prototype=a.prototype;s.prototype=new F();for(var p in b){if(b.hasOwnProperty(p)){s.prototype[p]=b[p]}}s.prototype.constructor=s;if(a.prototype.constructor===Object.prototype.constructor){a.prototype.constructor=a}return s};return o});define('sap/viz/modules/Base',[],function(){var b=function(){};b.prototype.__new_style__=true;return b});define('sap/viz/modules/dispatch',[],function Setup(){return d3.dispatch});define('sap/viz/chart/elements/behaviors/MouseMonitor',['jquery','sap/viz/modules/dispatch','sap/viz/base/UADetector'],function Setup($,a,U){var M=3;var m=function(){this._mm_g=null;this._mm_d=a('click','hover','lassostart','lassomove','lassoend','mousedown','mouseup','mouseover','mouseout','mouseleave');this._mm_mousedownpoint=null;this._mm_status='hover';this._mm_props={'enableClick':true,'enableHover':true,'enableMouseDown':true,'enableMouseUp':true,'enableMouseOver':true,'enableMouseOut':true,'enableMouseLeave':true,'enableLassoStart':true,'enableLassoMove':true,'enableLassoEnd':true}};m.prototype.setProperties=function(_){Objects.extend(true,this._mm_props,_);return m};m.prototype.getProperties=function(){return this._mm_props};m.prototype.registerEvent=function(e){this._mm_g=e;this._mm_g.on('mousedown.monitor',this._mm_mousedown.bind(this),true).on('mouseup.monitor',this._mm_mouseup.bind(this)).on('mousemove.monitor',this._mm_mousemove.bind(this)).on('mouseover.monitor',this._mm_mouseover.bind(this)).on('mouseout.monitor',this._mm_mouseout.bind(this)).on('dragstart.monitor',this._mm_preventEvent.bind(this)).on('selectstart.monitor',this._mm_preventEvent.bind(this));if(U.isIE()){this._mm_g.on("mouseleave.monitor",function(){this._mm_mouseleave.call(this,d3.event)}.bind(this))}else{$(this._mm_g.node()).mouseleave(this._mm_mouseleave.bind(this))}};m.prototype.destroy=function(){var g=this._mm_g;if(g){g.on('mousedown.monitor',null).on('mouseup.monitor',null).on('mousemove.monitor',null).on('mouseover.monitor',null).on('mouseout.monitor',null);if(U.isIE()){g.on("mouseleave.monitor",null)}else{$(g.node()).unbind("mouseleave")}this._mm_g=null}this._mm_d=null;this._mm_mousedownpoint=null;this._mm_status=null;this._mm_props=null};m.prototype.getDispatch=function(){return this._mm_d};m.prototype._mm_mousedown=function(){var o=c();if(o.which!==1){return}this._mm_mousedownpoint={x:o.clientX,y:o.clientY};this._mm_status='unknown';this._mm_fireEvent('mousedown');if(this._mm_isEnableLasso()){s()}};m.prototype._mm_preventEvent=function(){var o=c();o.preventDefault();return false};m.prototype._mm_mousemove=function(){if(this._mm_mousedownpoint&&this._mm_mousedownpoint.x===c().clientX&&this._mm_mousedownpoint.y===c().clientY){return}if(this._mm_status==='lasso'){this._mm_fireEvent('lassomove')}else if(this._mm_status==='hover'){this._mm_fireEvent('hover')}else{this._mm_fireEvent('lassostart',this._mm_mousedownpoint);this._mm_status='lasso';this._mm_fireEvent('lassomove')}};m.prototype._mm_mouseup=function(){this._mm_fireEvent('mouseup');if(this._mm_status==='lasso'){this._mm_fireEvent('lassoend');if(i(c())){this._mm_fireEvent('mouseover')}}else{if(!this._mm_checkMouseDownUpDistance()){this._mm_fireEvent('click')}}this._mm_mousedownpoint=null;this._mm_status='hover'};m.prototype._mm_mouseout=function(){if(this._mm_status!=='lasso'){this._mm_fireEvent('mouseout')}};m.prototype._mm_mouseover=function(){if(this._mm_status!=='lasso'){this._mm_fireEvent('mouseover')}};m.prototype._mm_mouseleave=function(e){var p={x:e.clientX,y:e.clientY};var t=e.target;if(this._mm_status==='lasso'){this._mm_fireEvent('lassoend',p,t);this._mm_status='hover'}this._mm_fireEvent('mouseleave',p,t,e)};function i(e){var t=e.target,d=t.getAttribute('class');var i=false;if(d&&d.indexOf('v-datapoint')>=0){i=true}return i}m.prototype._mm_isEnableLasso=function(){var r=false;var p=this._mm_props;if(p.supportLassoEvent&&(p.selectability.mode!=='none'&&p.selectability.mode!=='single')){r=true;if(p.selectability.lassoWithCtrlKey){var o=c();if(!o.ctrlKey){r=false}}}return r};function b(p,d){return Math.sqrt((p.x-d.x)*(p.x-d.x)+(p.y-d.y)*(p.y-d.y))}function c(){if(d3.event){return d3.event}else{return window.event}}m.prototype._mm_checkMouseDownUpDistance=function(){var o=c();var t={x:o.clientX,y:o.clientY};if((this._mm_mousedownpoint!==null)&&(b(this._mm_mousedownpoint,t)<M)){return false}else{return true}};m.prototype._mm_fireEvent=function(t,p,e,f){var o=c();if(!o&&f){o=f}var g,h;if(p){g=p}else{g={x:o.clientX,y:o.clientY}}if(e){h=e}else{h=o.target}var j={name:t,data:{point:g,target:h,ctrlKey:U.os()==='Mac'?o.metaKey:o.ctrlKey}};var k=this._mm_props;var d=this._mm_d;switch(t){case'mousedown':if(k.enableMouseDown){d.mousedown(j)}break;case'mouseup':if(k.enableMouseUp){d.mouseup(j)}break;case'mousemove':if(k.enableMouseMove){d.mousemove(j)}break;case'mouseover':if(k.enableMouseOver){d.mouseover(j)}break;case'mouseout':if(k.enableMouseOut){d.mouseout(j)}break;case'hover':if(k.enableHover){d.hover(j)}break;case'lassostart':d.lassostart(j);break;case'lassomove':d.lassomove(j);break;case'lassoend':d.lassoend(j);break;case'click':if(k.enableClick){d.click(j)}break;case'mouseleave':d.mouseleave(j);break;default:break}};function s(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}}return m});define('sap/viz/mvc/TapGestureDetector',['sap/viz/mvc/GestureDetector','sap/viz/base/Math'],function Setup(G,M){var t=G.TransitionState;var _=function(x,f){var g=x.x-f.x;var h=x.y-f.y;return M.sqrt(g*g+h*h)};var a=function(f,g){f._sequenceStarted=true;f._currentNumberOfTaps=0;f._firstStartXY=f.globalLocOfTouchPoints()};var b=50;var c=150;var d=20;var e=150;var T=G.extend({constructor:function(f,g){f=+f;g=+g;this._touchesRequired=(f>0&&f<6)?f:1;this._tapsRequired=(g>0)?g:1;this._currentNumberOfTaps=0;this._firstStartXY=undefined;this._sequenceStarted=false;this._currentStartWhen=0},touchesRequired:function(n){if(arguments.length){this._touchesRequired=+n;return this}return this._touchesRequired},tapsRequired:function(n){if(arguments.length){this._tapsRequired=+n;return this}return this._tapsRequired},doTouchBegin:function(f){if(this.state===t.Possible){var g=this.totalTouches();if(g===this._touchesRequired){var h=f.timeStamp;if(this._currentNumberOfTaps==0){a(this,f)}else{if(this._currentNumberOfTaps<this._tapsRequired){var i=_(this._firstStartXY,this.globalLocOfTouchPoints());var p=this._currentStartWhen;if(i>b||(h-p)>(c+e)){a(this,f)}}}this._currentStartWhen=h}else{this.state=t.Failed}}},doTouchEnd:function(f){if(this.state===t.Possible&&this._sequenceStarted){if(_(this._firstStartXY,this.globalLocOfTouchPoints())>b){this.state=t.Failed;return}var g=f.timeStamp-this._currentStartWhen;if(g>c||g<d){this.state=t.Failed;return}if(++this._currentNumberOfTaps===this._tapsRequired){this.state=t.Recognized}}},doTouchCancel:function(f){if(this.state===t.Possible){this.state=t.Failed}},reset:function(){this._super();this._currentNumberOfTaps=0;this._sequenceStarted=false;this._firstStartXY=undefined;this._firstStartWhen=0;this._currentStartWhen=0}});return T});define('sap/viz/mvc/PanGestureDetector',['sap/viz/mvc/GestureDetector','sap/viz/base/Math'],function Setup(G,M){var t=G.TransitionState;var C=10;var a=500;var _=function(x,d){var e=x.x-d.x;var f=x.y-d.y;return M.sqrt(e*e+f*f)};var b=function(l,d){return d-l};var c=function(e){this._startWhen=this._stopWhen;this._stopWhen=e.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints()};var P=G.extend({constructor:function(d){this._touchesRequired=(d>0&&d<6)?d:1;this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0;this._isLasso=false;this._isPan=false},touchesRequired:function(n){if(arguments.length){this._touchesRequired=+n;return this}return this._touchesRequired},doTouchBegin:function(d){var e=this.totalTouches();if(e===this._touchesRequired&&this.state===t.Possible){this._startWhen=this._stopWhen=d.timeStamp;this._startXY=this._lastXY=this._currentXY=this.globalLocOfTouchPoints();this.state=t.Began}else if(e>this._touchesRequired){if(this.state===t.Began||this.state===t.Changed){this._stopWhen=d.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints();this.state=t.Canceled}else{this.state=t.Failed}}},doTouchMove:function(d){switch(this.state){case t.Began:if((_(this._currentXY,this.globalLocOfTouchPoints())>=C)&&(b(this._stopWhen,d.timeStamp)<a)){c.call(this,d);this._isPan=true;this._isLasso=false;this.state=t.Changed}else{if(b(this._stopWhen,d.timeStamp)>a){c.call(this,d);this._isLasso=true;this._isPan=false;this.state=t.Changed}}break;case t.Changed:c.call(this,d);this.state=t.Changed;break}},doTouchEnd:function(d){if((this.state===t.Began||this.state===t.Changed)){c.call(this,d);this.state=t.Ended}},doTouchCancel:function(d){if(this.state===t.Began||this.state===t.Changed){c.call(this,d);this.state=t.Canceled}},rangeInXY:function(){return{x:this._currentXY.x-this._startXY.x,y:this._currentXY.y-this._startXY.y}},velocityInXY:function(){var d=this._stopWhen-this._startWhen;if(d){return{x:(this._currentXY.x-this._lastXY.x)/d,y:(this._currentXY.y-this._lastXY.y)/d}}else{return 0}},reset:function(){this._super();this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0}});return P});define('sap/viz/chart/elements/behaviors/TouchMonitor',['sap/viz/modules/dispatch','sap/viz/mvc/TapGestureDetector','sap/viz/mvc/PanGestureDetector','sap/viz/mvc/GestureDetector','sap/viz/base/utils/ObjectUtils','sap/viz/base/UADetector'],function Setup(a,T,P,G,O,U){var t=function(){this._tm_g=null;this._tm_d=a('click','hover','lassostart','lassomove','lassoend','panstart','panmove','panend','mousedown','mouseup','mouseover','mouseout','mouseleave');this._tm_touchstartpoint=null;this._tm_tapdetector=null;this._tm_pandetector=null;this._tm_status='hover';this._tm_props={'enableClick':true,'enableHover':true,'enableMouseDown':true,'enableMouseUp':true,'enableMouseOver':true,'enableMouseOut':true,'enableMouseLeave':true,'enableLassoStart':true,'enableLassoMove':true,'enableLassoEnd':true,'enablePanStart':true,'enablePanMove':true,'enablePanEnd':true}};t.prototype.setProperties=function(_){O.extend(true,this._tm_props,_);return t};t.prototype.getProperties=function(){return this._tm_props};t.prototype.registerEvent=function(d,f){this._tm_g=d;if(!this._tm_tapdetector){this._tm_tapdetector=new T();this._tm_tapdetector.addGestureAction(this._tm_taphandler.bind(this));this._tm_tapdetector.enable(true);f.addGestureDetector(this._tm_tapdetector)}if(!this._tm_pandetector){this._tm_pandetector=new P();this._tm_pandetector.addGestureAction(this._tm_panhandler.bind(this));this._tm_pandetector.enable(true);f.addGestureDetector(this._tm_pandetector)}if(U.isWindowsSurface()){this._tm_g.on('pointerdown.monitor',this._tm_touchstart.bind(this),true).on('pointermove.monitor',this._tm_touchmove.bind(this),true).on('pointerup.monitor',this._tm_touchend.bind(this))}else{this._tm_g.on('touchstart.monitor',this._tm_touchstart.bind(this),true).on('touchmove.monitor',this._tm_touchmove.bind(this),true).on('touchend.monitor',this._tm_touchend.bind(this))}};t.prototype.destroy=function(){var g=this._tm_g;if(g){if(U.isWindowsSurface()){g.on('pointerdown.monitor',null).on('pointerup.monitor',null)}else{g.on('touchstart.monitor',null).on('touchend.monitor',null)}this._tm_g=null}this._tm_d=null;this._tm_touchstartpoint=null;this._tm_status=null;this._tm_props=null};t.prototype.getDispatch=function(){return this._tm_d};function p(d){return{x:d.clientX,y:d.clientY}}function b(d){return document.elementFromPoint(d.clientX,d.clientY)}function c(d){if(d.type==='pointerdown'||d.type==='pointermove'||d.type==='pointerup'||d.type==='pointercancel'){d.touches=[];d.changedTouches=[];d.targetTouches=[];var f={};f.clientX=d.clientX;f.clientY=d.clientY;f.pageX=d.pageX;f.pageY=d.pageY;f.screenX=d.screenX;f.screenY=d.screenY;f.identifier=d.pointerId;f.target=d.target;d.touches.push(f);d.changedTouches.push(f);d.targetTouches.push(f)}}t.prototype._tm_touchstart=function(){var o=e();c(o);var d=o.touches[0];this._tm_touchstartpoint=p(d);if(this._tm_status!=='unknown'){var n=this._tm_status+"end";this._tm_fireEvent(n)}this._tm_status='unknown';this._tm_fireEvent('hover');this._tm_fireEvent('mouseover');this._tm_fireEvent('mousedown');if(o.touches.length>1||this._tm_props.enablePan){this._tm_preventEvent()}return true};t.prototype._tm_touchmove=function(){var o=function(h){if(!h||!h.getAttribute){return false}if(h.getAttribute('class')==='v-m-root'){return true}else if(h.parentNode){return o(h.parentNode)}return false};if(this._tm_status!=='unknown'){var n=this._tm_status+"move";var d=e();c(d);var f=d.touches[0],g=p(f),h=b(f);var i=this._tm_g.select('.v-eventLayer').node();if(this._tm_status==='lasso'&&!o(h)){this._tm_fireEvent('lassoend',g,i);return}this._tm_fireEvent(n,g,h);if(e().touches.length>1||(this._tm_status==='pan'&&this._tm_props.enablePan)||this._tm_status==='lasso'){this._tm_preventEvent()}}};t.prototype._tm_touchend=function(){var o=e();c(o);var d=o.changedTouches[0],f=p(d),g=b(d);if(this._tm_status==='unknown'){if(d.clientX!==this._tm_touchstartpoint.x||d.clientY!==this._tm_touchstartpoint.y)return;this._tm_fireEvent('mouseup',f,g)}else{var n=this._tm_status+"end";this._tm_fireEvent(n,f,g)}this._tm_status="unknown";if(e().touches.length>1||this._tm_props.enablePan){this._tm_preventEvent()}};t.prototype._tm_taphandler=function(g){var d=g.watchedComponent.container.getBoundingClientRect();var f=g.involvedTouchePoints()[0];var h={x:f.x+d.left,y:f.y+d.top};var i=e().target;var j=this._tm_g.node();var n=i;while((n!==j)&&(n=n.parentNode));if(n!==j){return}this._tm_fireEvent('click',h,i);this._tm_status="unknown"};t.prototype._tm_panhandler=function(g){var i=0;if(g.state!==G.TransitionState.Changed&&g.state!==G.TransitionState.Ended){return}var d=g._isLasso?"lasso":"pan";if(U.isWindowsSurface()&&d==='pan'&&e().pointerType==='mouse'){return}var f=g.watchedComponent.container.getBoundingClientRect();var h=g.involvedTouchePoints()[0];var j={x:h.x+f.left,y:h.y+f.top};if(g.state===G.TransitionState.Changed){if(this._tm_status==="unknown"){this._tm_fireEvent(d+"start",this._tm_touchstartpoint);this._tm_status=d}}else{}};t.prototype._tm_preventEvent=function(){var o=e();o.preventDefault();return false};function e(){if(d3.event){return d3.event}else{return window.event}}t.prototype._tm_fireEvent=function(f,g,h){var o=e();var i=o.touches&&o.touches[0]?o.touches[0]:{};var j,k;if(g){j=g}else{j={x:i.clientX,y:i.clientY}}if(h){k=h}else{k=o.target}var l={name:f,data:{point:j,target:k}};var m=this._tm_props;var d=this._tm_d;switch(f){case'mousedown':if(m.enableMouseDown){d.mousedown(l)}break;case'mouseup':if(m.enableMouseUp){d.mouseup(l)}break;case'mousemove':if(m.enableMouseMove){d.mousemove(l)}break;case'mouseover':if(m.enableMouseOver){d.mouseover(l)}break;case'mouseout':if(m.enableMouseOut){d.mouseout(l)}break;case'hover':if(m.enableHover){d.hover(l)}break;case'lassostart':if(m.enableLassoStart){d.lassostart(l)}break;case'lassomove':if(m.enableLassoMove){d.lassomove(l)}break;case'lassoend':if(m.enableLassoEnd){d.lassoend(l)}break;case'panstart':if(m.enablePanStart){d.panstart(l)}break;case'panmove':if(m.enablePanMove){d.panmove(l)}break;case'panend':if(m.enablePanEnd){d.panend(l)}break;case'click':if(m.enableClick){d.click(l)}break;case'mouseleave':d.mouseleave(l);break;default:break}};function s(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}}return t});define('sap/viz/chart/elements/behaviors/BehaviorManager',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/base/UADetector','sap/viz/chart/elements/behaviors/MouseMonitor','sap/viz/chart/elements/behaviors/TouchMonitor','sap/viz/modules/GlobalConstants','sap/viz/base/utils/ObjectUtils'],function(o,B,U,M,T,C,O){var a=function(){this._bem_monitor=null;this._bem_behaviors={};this._bem_backgroundRect=null;this._bem_behaviorTarget=null;this._bem_props={}};a.DOM_TRIGGER='Behavior_DOM_Trigger';a.API_TRIGGER='Behavior_API_Trigger';var D='DOM.';var A='API.';o.extend(a,B);a.prototype.initialize=function(b,e){this._bem_behaviorTarget=b;this._bem_updateBackgroundRect(b);this._bem_monitor=this._bem_monitor||this._bem_getMonitor();this._bem_monitor.registerEvent(b,e);var h=this._bem_triggerHandler.bind(this);this._bem_monitor.getDispatch().on('click',h).on('hover',h).on('lassostart',h).on('lassomove',h).on('lassoend',h).on('mousedown',h).on('mouseup',h).on('mouseover',h).on('mouseout',h).on('mouseleave',h);if(U.isMobile()){this._bem_monitor.getDispatch().on('panstart',h).on('panmove',h).on('panend',h);this._bem_monitor.setProperties(this._bem_props)}};a.prototype.getBehaviorTarget=function(){return this._bem_behaviorTarget};a.prototype._bem_updateBackgroundRect=function(b){if(!this._bem_backgroundRect){if(b.node().nodeName==="DIV"){this._bem_backgroundRect=b.insert("svg").classed('v-eventLayer',true).attr("x",0).attr("y",0).attr("fill-opacity",0)}else{this._bem_backgroundRect=b.insert("rect","g").classed('v-eventLayer',true).attr("x",0).attr("y",0).attr("fill-opacity",0)}}this._bem_backgroundRect.attr("width",b.attr('width')).attr("height",b.attr('height'))};a.prototype.removeBehavior=function(b){var c=this._bem_behaviors;for(var d in c){if(c.hasOwnProperty(d)){var l=c[d].length;while(l--){if(c[d][l].name===b){c[d].splice(l,1)}}}}};a.prototype.registerNewBehavior=function(b){var c=this._bem_behaviors;for(var t in b.triggers){if(b.triggers.hasOwnProperty(t)){var d=b.triggers[t];var e;if(!d.type||d.type===a.DOM_TRIGGER){e=D+d.event;d.type=a.DOM_TRIGGER}else if(d.type===a.API_TRIGGER){e=A+d.api}if(!c[e]){c[e]=[]}c[e].push({'name':b.name,'trigger':d,'logic':b.logic,'rootNode':b.rootNode})}}};a.prototype.setProperties=function(p){O.extend(true,this._bem_props,p)};a.prototype.apiTrigger=function(){var b=arguments;var t=b[0];var c=A+t;var f=this._bem_behaviors[c];var r;if(f){f.forEach(function(d,i){r=d.logic([].slice.call(b,1),d.trigger)}.bind(this))}return r};a.prototype._bem_triggerHandler=function(e){var b=e.name;var t=e.data.target;var p=e.data.point;var c=D+b;var f=this._bem_behaviors[c];if(f){f.forEach(function(d,i){if(this._bem_canTriggerBeActivated(d,e)){d.logic(e,d.trigger)}}.bind(this))}};a.prototype._bem_canTriggerBeActivated=function(b,e){var t=b.trigger;if(t.event!==e.name){return false}if(!t.target){return false}else{var f=this._bem_tryToFindNode(t.target,e.data.target,b.rootNode);if((!t.matchMode||t.matchMode===C.TRIGGER.CSS.MATCHMODE.POSITIVE)&&f){e.data.currentTarget=f;return true}else if(t.matchMode===C.TRIGGER.CSS.MATCHMODE.NEGATIVE&&!f){e.data.currentTarget=e.data.target;return true}else{return false}}};a.prototype._bem_tryToFindNode=function(r,n,b){if(!n||!n.getAttribute){return}var c=n.getAttribute('class');var d=new RegExp(r,'gi');var m=d.test(c);if(!m&&n!==b.node()){return this._bem_tryToFindNode(r,n.parentNode,b)}if(m){return n}};a.prototype._bem_getMonitor=function(){var r;if(U.isMobile()){r=new T()}else{r=new M()}return r};a.prototype.destroy=function(){if(this._bem_monitor){this._bem_monitor.getDispatch().on('click',null).on('hover',null).on('lassostart',null).on('lassomove',null).on('lassoend',null).on('mousedown',null).on('mouseup',null).on('mouseover',null).on('mouseout',null).on('mouseleave',null);if(U.isMobile()){this._bem_monitor.getDispatch().on('panstart',null).on('panmove',null).on('panend',null)}this._bem_monitor.destroy();this._bem_monitor=null}this._bem_behaviors={};this._bem_backgroundRect=null;this._bem_behaviorTarget=null};return a});define('sap/viz/chart/mvc/ChartComponent',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/mvc/UIComponent','sap/viz/manifest','sap/viz/modules/manifests/Module','sap/viz/modules/GlobalConstants','sap/viz/util/ignite','sap/viz/lang/langManager','sap/viz/config','sap/viz/style/Manager','sap/viz/style/Sheet','sap/viz/util/fn/dombuilder','sap/viz/util/fn/domposition','sap/viz/base/utils/log/Analyzer','sap/viz/modules/event/Manager','sap/viz/util/UtilsRegister','sap/viz/util/TextUtils','sap/viz/config','sap/viz/chart/elements/behaviors/BehaviorManager','sap/viz/base/Logger','sap/viz/base/UADetector','sap/viz/format/FormatManager'],function(T,O,a,F,U,b,M,C,c,l,d,S,f,g,h,A,E,o,q,r,B,L,s,u){var D='.';var v='canvg';var w='sourceModule';var x='targetModule';var I='initialized.rootComponent';function y(e){var j={};for(var i in e){if(e.hasOwnProperty(i)){if(e[i].supportedValueType==="Object"){j[i]=y(e[i].supportedValues)}else{j[i]=e[i].defaultValue}}}return j}function z(e,i,j){var k=e,m={};if(i.general&&k.layout){k.general={};k.general.layout=a.extend(true,{},k.layout);delete k.layout}m=a.extend(true,{},k);if(j&&j.uncheck){m=i;return m}for(var n in k){if(k.hasOwnProperty(n)){if(typeof i==='object'&&i.hasOwnProperty(n)){if(k[n]!==null&&typeof k[n]==='object'&&!(k[n]instanceof Array)){m[n]=z(k[n],i[n],j?(j[n]?j[n]:((j.supportedValues&&j.supportedValues[n])?j.supportedValues[n]:null)):null)}else{if((typeof i[n]!=='undefined'&&i[n]instanceof Array&&k[n]instanceof Array)||(typeof i[n]!=='undefined'&&typeof i[n]!=='object')){m[n]=i[n]}}}}}if(m.general){m.layout=O.extend(true,{},m.general.layout);delete m.general}return m}function G(m,e){var k=b.viz.get(e).allProperties();var n={};var t;var p={};var i,j;for(i in m){if(m.hasOwnProperty(i)){if((m[i].getProperties&&!T.isEmptyObject(m[i].getProperties()))||(m[i].properties&&!T.isEmptyObject(m[i].properties()))){if(i.indexOf('[')>-1){if(parseInt(i[i.indexOf('[')+1],10)>0){continue}else{t=i.substring(0,i.indexOf('['))+i.substring(i.indexOf(']')+1)}}else{t=i}for(j in k){if(k.hasOwnProperty(j)){if(k[j].moduleRefPath===t){p=y(k[j]);if(m[i].getProperties){n[j]=z(p,m[i].getProperties(),k[j])}else if(m[i].properties){n[j]=z(p,m[i].properties(),k[j])}}}}}}}return n}var H=U.extend({initialize:function(e){this._config=e.config;this._isInfoChart=this._config.id.indexOf("info/")===0;this._data=e.data;this._modules={};this._rootModules={};this._selections={};this._properties=e.options;this._dispatch=d3.dispatch('dataTruncation','initialized','renderComplete');this._attachedByFramework=false;this._initializedEventDispatched=false;this._initialized=false;this._behaviorManager=new B();this._rawData=e.rawData;this._isInitializing=true;this._isUpdatingData=false;this._isUpdatingSize=false;this._updatedStatus={};this._i18nListener={fn:this._localeChanged,scope:this};this._formatChangedListener={fn:this._formatChanged,scope:this};u.addListener(this._formatChangedListener);l.addListener(this._i18nListener);if(this._data.emptyDataset&&this._data.emptyDataset()){return}this._canvas=d3.select(document.createElement('canvas')).style('width',0).style('height',0);this.container.insertBefore(this._canvas.node(),this.container.firstChild);var m=d.get(this._config.id)||{};this._max_svg=d.enableCanvg()&&m.max_svg?m.max_svg:Number.POSITIVE_INFINITY;this._max_canvas=d.enableCanvg()&&m.max_canvas?m.max_canvas:Number.POSITIVE_INFINITY;this._root=d3.select(this.container);this._component_status='svg';var j=O.guid("sap-viz");var k=this.container.id+"-"+j;this._id=k;var n=e.config.id.split('/');for(var i=0;i<n.length;i++){k=k+' v-'+n[i]}this._root.attr("class",k).style('-webkit-user-select','none').style('-moz-user-select','none').style('-ms-user-select','none');this._properties=this._mergeProperties({},this._properties);this._styleSheets=[];this._styleManager=new S(this._styleSheets);this._eventManager=E().UIComponent(this);var p={styleManager:this._styleManager.child(undefined,undefined,"div"),eventManager:this._eventManager,behaviorManager:this._behaviorManager,rawData:this._rawData,statusMonitor:this._updatedStatus};var t=this;A.pnrProfiling("Engine:dom_builder_for_root_level");this._selections=g(this._root,this._config.modules);A.pnrProfiling("Engine:dom_builder_for_root_level");this._selections.root.style('left',0).style('top',0).style('direction','ltr');if(s.isWindowsSurface()){this._selections.root.style('touch-action','none')}if(this._data.dataPointCount&&this._data.dataPointCount()>this._max_svg){this._component_status=v;this._selections.root.attr('visibility','hidden').style('left',0).style('top',0)}this._rootModules=(function(N){var P={};var Q=[];for(var i in N._config.modules){if(N._config.modules.hasOwnProperty(i)){if(i==='dataTransform'){Q.splice(0,0,{'key':i,'module':N._config.modules[i]})}else{Q.push({'key':i,'module':N._config.modules[i]})}}}N._toBeInitializedModulesCount=0;function R(){N._intializedListener.apply(N)}Q.forEach(function(V,W){var K=V.key;var X=V.module;A.pnrProfiling("Engine:create_module");var Y=c(X.id,p,"v-m-"+K,N._selections[K]?N._selections[K].node().nodeName:undefined);P[K]=Y;A.pnrProfiling("Engine:create_module");A.pnrProfiling("Engine:prepare_data");var Z=X.data?N._data.createDataAdapterForModule(X.data):N._data;A.pnrProfiling("Engine:prepare_data");A.pnrProfiling("Engine:set_data");if(Y.chartType){Y.chartType(e.config.id)}if(Y.data){Y.data(Z)}A.pnrProfiling("Engine:set_data");if(Y.dispatch&&Y.dispatch()['initialized']){N._toBeInitializedModulesCount++;Y.dispatch().on(I,R)}P[K].alias=K;var $={};if(X.modules){A.pnrProfiling("Engine:initialize_children_set_properties");if(X.configure){$[X.configure.propertyCategory]=X.configure.properties}if(P[K].container){P[K].container(N._root.node())}if(P[K].parent){P[K].parent(N._selections[K])}P[K].config(X).properties(a.extend(true,{},$,N._properties)).chartType(e.config.id).recharge({func:N._wire,scope:N});A.pnrProfiling("Engine:initialize_children_set_properties")}else{A.pnrProfiling("Engine:set_properties");var _;if(X.configure){_=X.configure.propertyCategory;$[_]=X.configure.properties}P[K].properties(a.extend(true,{},$,N._properties[_]));A.pnrProfiling("Engine:set_properties")}});return P})(this);A.pnrProfiling("Engine:flattern_modules");var J={};for(var K in this._rootModules){if(this._rootModules.hasOwnProperty(K)){J=a.extend(true,{},J,this._flatten(K,this._rootModules[K]))}}this._modules=J;A.pnrProfiling("Engine:flattern_modules");this._domposition(this.size());A.pnrProfiling("CSS:parse_css");this.css(e.css);A.pnrProfiling("CSS:parse_css");this._dispatch.on('initialized.exportToCanvas',function(){t._exportToCanvas.apply(t)});this._attachEvents(e)},updateRawData:function(e){this._rawData.data(e.data());this._rawData.info(e.info())},doAfterShow:function(){this.render()},_intializedListener:function(){var t=this._toBeInitializedModulesCount;t--;if(t===0){if(!this._isInfoChart){this._behaviorManager.initialize(this._selections[this._getRootKey()],this._eventManager)}var e=this;setTimeout(function(){e._initialized=true;e._dispatch.initialized();if(e._isInfoChart){e._dispatch.renderComplete()}setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete()}},0)},0)}},_getRootLevelModules:function(k,m){var e={};for(var i=0;i<k.length;i++){if(this._modules.hasOwnProperty(k[i])){e=a.extend(true,{},e,this._flatten(k[i],this._modules[k[i]]))}}return e},_flatten:function(e,j,m){var t=m||'.',n={},p=[{key:e,value:j}];(function walk(J,K){if(K.hasOwnProperty('modules')){var N=K.modules(),P,Q=J;for(var k in N){if(N.hasOwnProperty(k)){P={key:J+t+k,value:N[k]};p.push(P);if(N[k].modules){walk(Q+t+k,N[k])}}}}})(e,j);for(var i=0;i<p.length;i++){n[p[i].key]=p[i].value}return n},_attachEvents:function(e){var i=e.events;for(var j in i){if(i.hasOwnProperty(j)){this.attachEvent(j,i[j].fn,i[j].scope)}}},attachEvent:function(e,j,k){var n=this.modules(),p={};var J=this._dispatch;var i=e.indexOf(".");var K=i>0?e.substring(0,i):e;if(J[K]){J.on(e,function(){j.apply(k,arguments)});return}for(var m in n){if(n.hasOwnProperty(m)){var N=m.split('.'),P=N.length-1;if(n[m].dispatch&&n[m].dispatch()[K]){for(var t=0;t<=P;t++){if(p[t]&&p[t][N.slice(0,t).toString()]){break}}if(t>P){if(!p[N.length]){p[N.length]={}}p[N.length][N.toString()]=n[m];n[m].dispatch().on(e,function(){j.apply(k,arguments)})}}}}},_getRootLevelKeys:function(){if(this._rootKeys){return this._rootKeys}this._rootKeys=[];for(var k in this._modules){if(this._modules.hasOwnProperty(k)&&k.indexOf(D)<0){this._rootKeys.push(k)}}return this._rootKeys},_getRootKey:function(){if(this._rootKey){return this._rootKey}var t;for(var k in this._modules){if(this._modules.hasOwnProperty(k)){t=M.get(this._config.modules[k].id).type;if(t!==C.Type.Controller&&t!==C.Type.Behavior&&k.indexOf('.')<0){return(this._rootKey=k)}}}},_getRootContainer:function(){if(this._rootContainer){return this._rootContainer}if(!this._config){return null}for(var k in this._config.modules){if(this._config.modules.hasOwnProperty(k)&&M.get(this._config.modules[k].id).type===C.Type.Container){return(this._rootContainer=this._modules[k])}}},_domposition:function(n){var e=this._getRootKey();var i={};i[e]={'x':0,'y':0,'width':n.width,'height':n.height};h(i,this._selections)},_doLayout:function(n){this._domposition(n);var e=this._getRootContainer();if(e){e.size(n)}},_updateProperties:function(){this._properties=this._mergeProperties(this._properties);var e=this._config.modules;for(var k in e){if(e.hasOwnProperty(k)){if(M.get(e[k].id).type===C.Type.Container){this._modules[k].properties(this._properties);continue}if(e[k].configure&&e[k].configure.propertyCategory){this._modules[k].properties(this._properties[e[k].configure.propertyCategory])}}}},_mergeProperties:function(e,i){var j={};j=a.extend(true,{},e,i);return this._mergeCanvgProperties(j)||j},_mergeCanvgProperties:function(e){if(d.enableCanvg()&&this._data.dataPointCount&&this._data.dataPointCount()>=this._max_svg){var i={};i['plotArea']={animation:{dataLoading:false,dataUpdating:false}};return a.extend(true,{},e,i)}},render:function(){if(this._data&&this._data.emptyDataset&&this._data.emptyDataset()){return}if(this._updatedStatus===undefined){return}this._updatedStatus.initializing=this._isInitializing;this._updatedStatus.updating=this._isUpdatingData;this._updatedStatus.resizing=this._isUpdatingSize;this._isInitializing=false;this._isUpdatingData=false;this._isUpdatingSize=false;A.pnrProfiling("Render:layout");this._doLayout(this.size());A.pnrProfiling("Render:layout");A.pnrProfiling("Render:drawing");this._paint();A.pnrProfiling("Render:drawing")},_localeChanged:function(){var e=this._getRootContainer();if(e){e.data(this._data)}this._updateProperties();this.render()},_formatChanged:function(){this.render()},properties:function(e){if(!arguments.length){return G(this._modules,this._config.id)}this._properties=this._mergeProperties(this._properties,e);var i=this._config.modules;for(var k in i){if(i.hasOwnProperty(k)){if(M.get(i[k].id).type===C.Type.Container){this._modules[k].properties(this._properties)}else{if(!i[k].configure){continue}this._modules[k].properties(this._properties[i[k].configure.propertyCategory])}}}this._modules=this._getRootLevelModules(this._getRootLevelKeys(),this._modules)},css:function(){if(!this._styleManager){return''}if(arguments.length===0){return this._styleManager.getCurrentCSS()}if(arguments.length===1&&typeof(arguments[0])==='object'){return this._styleManager.getCurrentCSS(arguments[0]['withDefaults'])}var e=arguments[0];var i=new f(arguments[0],this._id,this._isInfoChart);this._styleManager.applyCSS(i);this._styleSheets.push(i);if(this._isInfoChart){var j=new RegExp(".*\\.v-m-root \\.v-backgroundutil \\.v-background-body.*{fill:(.*);.*}").exec(e);if(j){this.properties({general:{background:{color:j[1]}}})}}},cssProperty:function(){if(!this._styleManager){return}var e,i;if(arguments.length===1){var j=arguments[0];e=j.selector+"{"+j.style+":"+j.value+";}";i=new f(e,this._id);this._styleManager.applyCSS(i);this._styleSheets.push(i)}if(arguments.length===2){e=arguments[0]+"{}";i=new f(e,this._id);return this._styleManager.getCSS(i,arguments[1])}},getSelectedObjects:function(e){var k;var m=this._modules;for(k in m){if(m.hasOwnProperty(k)){var i=m[k];if(i.getSelectedObjects){return i.getSelectedObjects(this._data,e)}else if(i.getSelection){return i.getSelection(e)}}}var j,n;if(T.isPlainObject(e)){j=e.withDataCtx;n=e.withInfo}return this._behaviorManager.apiTrigger('getSelection',j,n)},setSelectedObjects:function(i,e){var k;var m=this._modules;for(k in m){if(m.hasOwnProperty(k)){var j=m[k];if(j.setSelectedObjects){return j.setSelectedObjects(this._data,i,e)}else if(j.setSelection){return j.setSelection(i,e)}}}return this._behaviorManager.apiTrigger('setSelection',i,e)},selectedPropertyZone:function(e){var i,m;for(var k in this._modules){if(this._modules.hasOwnProperty(k)){m=this._modules[k];if(m.selectedPropertyZone){i=m.selectedPropertyZone.apply(m,arguments);break}}}return arguments.length?this:i},getAllFeedingZone:function(){return o.get('FeedingZoneUtil').parse(this._config.id,this._selections['root'])},getPropertyZone:function(){return o.get('PropertyZoneUtil').getPropertyZone(this._config.id,this._modules,this._selections['root'])},data:function(_){if(!arguments.length){return this._data}this._isUpdatingData=true;this._data=_;if(this._modules.hasOwnProperty('dataTransform')){this._modules['dataTransform'].data(this._data)}this._updateProperties();var i=this._data.dataPointCount&&(this._data.dataPointCount()>=this._max_svg)&&d.enableCanvg();if(!(this._component_status==='svg'&&!i)){this._canvas.node().getContext('2d').clearRect(0,0,this._canvas.node().width,this._canvas.node().height);this._canvas.style('width',0),this._canvas.style('height',0);this._canvas.attr('width',0),this._canvas.attr('height',0);if(i){this._component_status='canvg';this._selections[this._getRootKey()].attr('visibility','hidden').style('left',0).style('top',0)}else{this._component_status='svg';this._selections[this._getRootKey()].attr('visibility','visible')}}var e=this._getRootContainer();if(e&&T.isFunction(e.data)&&T.isFunction(e.refresh)){e.data(this._data);e.refresh()}this._modules=this._getRootLevelModules(this._getRootLevelKeys(),this._modules)},modules:function(){return this._modules},doContentResize:function(e,n){if(e.width!==n.width||e.height!==n.height){this._isUpdatingSize=true}this._super('doContentResize',e,n);this.render()},_expandDependencyDefs:function(e){var k=[];var m=e[w];var t=e[x];var p=this._expandModulePath(m);var J=this._expandModulePath(t);if(p.length>1&&J.length>1){if(p.length!==J.length){F.error('Error on resolving dependency:'+m+','+t)}else{for(var i=0,K=p.length;i<K;i++){k.push({'sourceModule':p[i],'targetModule':J[i],'source':e['source'],'target':e['target'],'type':e['type'],'listener':e['listener']})}}}else{for(var n=0,N=p.length;n<N;n++){for(var j=0,P=J.length;j<P;j++){k.push({'sourceModule':p[n],'targetModule':J[j],'source':e['source'],'target':e['target'],'type':e['type'],'listener':e['listener']})}}}return k},_expandModulePath:function(p){var e=p.split('.');var m=[];var n=[];for(var i=0,t=e.length;i<t;i++){var j=0,J=m.length;do{var K=J>0?[m[j],e[i]].join('.'):e[i];if(T.isArray(this._modules[K])){for(var k=0,N=this._modules[K].length;k<N;k++){if(this._modules[K][k]){var P=J>0?[m[j],e[i]+'['+k+']'].join('.'):e[i]+'['+k+']';n.push(P)}}}else{n.push(K)}j++}while(j<J);var Q=m;m=[].concat(n);n.length=0;Q.length=0}return m},_expandModules:function(){var e=this._modules;var j=[];for(var p in e){if(e.hasOwnProperty(p)){var m=e[p];if(T.isArray(m)){for(var i=0;i<m.length;i++){j[p+'['+i+']']=m[i]}}else{j[p]=m}}}return j},_unwireEvents:function(){var e=this._config.dependencies,j,i;var k=e?(e.events||[]):[];var m,p;var t=this._expandModules();for(i=0;i<k.length;i++){j=k[i];m=this._expandDependencyDefs(j);for(var n=0,J=m.length;n<J;n++){p=m[n];if(t[p[x]]&&t[p[w]]){if(typeof t[p[x]][p['listener']]==='function'&&typeof t[p[w]]==='function'){if(typeof t[p[w]].dispatch==='function'){t[p[w]].dispatch().on(p['type']+'.'+p[x]+'.'+n,null)}}}}}},_wire:function(){var e=this._config.dependencies,k,i;var m=e?(e.attributes||[]):[],p=e?(e.events||[]):[];var t,J;var K=this._expandModules();for(i=0;i<m.length;i++){k=m[i];if(k===null){continue}t=this._expandDependencyDefs(k);for(var j=0,N=t.length;j<N;j++){J=t[j];if(K[J[w]]&&K[J[x]]){if(typeof K[J[w]][J['source']]==='function'&&typeof K[J[x]][J['target']]==='function'){K[J[x]][J['target']](K[J[w]][J['source']]())}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error')}}}for(i=0;i<p.length;i++){k=p[i];t=this._expandDependencyDefs(k);for(var n=0,P=t.length;n<P;n++){J=t[n];if(K[J[x]]&&K[J[w]]){if(typeof K[J[x]][J['listener']]==='function'&&typeof K[J[w]]==='function'){if(typeof K[J[w]].dispatch==='function'){K[J[w]].dispatch().on(J['type']+'.'+J[x]+'.'+n,K[J[x]][J['listener']])}else{F.error('dependency configuration error:'+J[w]+' does not support event!')}}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error: source or target does not exist!')}}}},_paint:function(){if(this._selections){this._selections[this._getRootKey()].call(this._getRootContainer())}},_exportToCanvas:function(){if(d.enableCanvg()&&this._component_status===v){d3.select(this.container).selectAll('title').remove();if(canvg){var n=this._selections[this._getRootKey()].node().cloneNode(true);n.setAttribute('visibility','visible');var e=document.createElement('div');e.appendChild(n);canvg(this._canvas.node(),e.innerHTML,{ignoreMouse:true,ignoreAnimation:true});if(this._data.dataPointCount&&this._data.dataPointCount()>this._max_canvas){this._dispatch.dataTruncation()}}}},exportToSVGString:function(i){var j="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"/>";if(!this._initialized||!this._selections){L.warn("cannot export to svg, the viz has not been initialized..");return j}var k=this._selections[this._getRootKey()].node().cloneNode(true),m=j;d3.select(k).attr("xmlns","http://www.w3.org/2000/svg");d3.select(k).attr("class",this._id+" "+this._selections[this._getRootKey()].attr("class"));d3.select(k).attr("text-rendering","geometricPrecision");d3.select(k).selectAll(".v-m-tooltip").remove();d3.select(k).selectAll(".v-geo-zoom-btn").remove();d3.select(k).selectAll(".v-geo-reset-control").remove();d3.select(k).selectAll(".v-eventLayer").remove();d3.select(k).selectAll("rect.v-select-indicator").remove();if(i&&i.hideAxis){d3.select(k).select(".v-m-main .v-m-yAxis").remove();d3.select(k).select(".v-m-main .v-m-yAxis2").remove();d3.select(k).select(".v-m-main .v-m-xAxis").remove();d3.select(k).select(".v-m-main .v-m-xAxis2").remove();d3.select(k).select(".v-m-main .v-m-zAxis").remove()}var n=d3.select(k).attr("width"),p=d3.select(k).attr("height");if(i&&i.hideTitleLegend){if(!d3.select(k).select(".v-m-legends .v-bound").empty()){n=n-d3.select(k).select(".v-m-legends .v-bound").attr("width");d3.select(k).select(".v-m-legends").remove()}if(!d3.select(k).select(".v-m-title .v-bound").empty()){p=p-d3.select(k).select(".v-m-title .v-bound").attr("height");d3.select(k).select(".v-m-title").remove()}d3.select(k).attr("width",n).attr("height",p);d3.select(k).select(".v-m-main").attr("transform","translate(24, 24)");d3.select(k).select(".v-backgroundutil .v-background-body").attr("width",n);d3.select(k).select(".v-backgroundutil .v-background-body").attr("height",p)}if(i&&i.width&&i.height){d3.select(k).attr("width",i.width);d3.select(k).attr("height",i.height);d3.select(k).attr("viewBox","0 0 "+n+" "+p)}var t=this._getSvgCss();if(t){d3.select(k).append("style").text(t)}try{m=new XMLSerializer().serializeToString(k)}catch(e){L.error("error on exporting the svg document : ",e.message)}var J=d3.select(k)[0][0].getElementsByTagName('clipPath');for(var K=0;K<J.length;K++){var N=new RegExp(J[K].id,"g");m=m.replace(N,'clipPath-'+O.guid())}return m},_getSvgCss:function(){var e=this.css(),j=[];var m="."+this._id;var n=e.split("}");for(var i=0,p=n.length-1;i<p;i++){if(n[i].indexOf(",")<0||n[i].indexOf(',')>n[i].indexOf('{')){n[i]=n[i].trimLeft();j.push(m+n[i]+"}")}else{var t=n[i].split(",");var J="";for(var k=0;k<t.length-1;k++){J=J+m+t[k]+","}J+=(m+t[t.length-1]);j.push(J+"}")}}return j.join("")},getSupportedEvents:function(){var e=[];var i=this._config.modules;function j(i){for(var m in i){if(i.hasOwnProperty(m)){if(!i[m]){continue}var k=b.module.get(i[m].id);if(k&&k.events){e.push({sourceId:i[m].id,source:{},evtTypes:k.events})}if(i[m].modules){j(i[m].modules)}}}}j(i);return e},doDestroy:function(){this._root=null;this._canvas=null;this._selections=null;this._unwireEvents();if(this._eventManager){this._eventManager.destroy()}this._dispatch.on('initialized.exportToCanvas',null);var e=this._rootModules;var k;for(k in e){if(e.hasOwnProperty(k)){var t=e[k];if(t.dispatch&&t.dispatch()['initialized']){t.dispatch().on(I,null)}}}q.destroy();if(this._behaviorManager){this._behaviorManager.destroy()}var m=this._modules;for(k in m){if(m.hasOwnProperty(k)){var i=m[k].destroy;if(i){i()}}}l.removeListener(this._i18nListener);u.removeListener(this._formatChangedListener);this._i18nListener=null;this.detach();if(T.isArray(this._styleSheets)){this._styleSheets.forEach(function(j){j.destroy()})}}});return H});define('sap/viz/chart/mvc/ChartController',['sap/viz/base/utils/FunctionUtils','sap/viz/mvc/UIController','sap/viz/manifest','sap/viz/chart/mvc/ChartComponent','sap/viz/data/CrosstableDataset','sap/viz/base/utils/ObjectUtils'],function(F,U,m,C,a,O){var c=function(r){if(!(r instanceof a)){return r}var t=O.clone(r.data());var d=O.clone(r.info());var n=new a();n.data(t);n.info(d);return n};var b=U.extend({RootComponentClass:C,_parseOptions:function(o){if(!m.viz.get(o.vizType)){F.error('Invalid vizType')}this._dataset=o.dataset?o.dataset:{};this._options=o.option;this._vizType=o.vizType;this._dataFeeding=o.feeding;this._css=o.css;this._events=o.events;this._rawData=c(o.rawData)},initUIComponent:function(o){this._parseOptions(o);var d=m.viz.get(this._vizType);this.rootUIComponent.initialize({data:this._dataset,dataFeeding:this._dataFeeding,config:d,options:this._options,clipToBound:true,css:this._css,events:this._events,rawData:this._rawData})},getSelectedObjects:function(o){return this.rootUIComponent.getSelectedObjects(o)},setSelectedObjects:function(i,o){return this.rootUIComponent.setSelectedObjects(i,o)},selectedPropertyZone:function(s){var r=this.rootUIComponent.selectedPropertyZone.apply(this.rootUIComponent,arguments);return arguments.length?this:r},getAllFeedingZone:function(){return this.rootUIComponent.getAllFeedingZone()},getPropertyZone:function(){return this.rootUIComponent.getPropertyZone()},getSupportedEvents:function(){return this.rootUIComponent.getSupportedEvents()},setDataset:function(d){this.rootUIComponent.data(d)},doThemeChanged:function(){this.rootUIComponent.themeChanged()},updateProperties:function(p){this.rootUIComponent.properties(p)},updateRawData:function(r){this._rawData.data(r.data());this._rawData.info(r.info());this.rootUIComponent.updateRawData(r)},getProperties:function(){return this.rootUIComponent.properties()},css:function(){return this.rootUIComponent.css.apply(this.rootUIComponent,arguments)},cssProperty:function(){return this.rootUIComponent.cssProperty.apply(this.rootUIComponent,arguments)},render:function(){this.rootUIComponent.render()},exportToSVGString:function(o){return this.rootUIComponent.exportToSVGString(o)},destroy:function(){this._dataset=null;this._rawData=null;this.rootUIComponent.destroy();this.rootUIComponent=null}});return b});define('sap/viz/feeds/Manifest',['sap/viz/manifest','sap/viz/base/utils/ObjectUtils','sap/viz/lang/langManager'],function Setup(m,O,l){return m.registerCategory("feeds",function(a){var f={};a.feeds.forEach(function(o){f[o.id]=o;var n=o.name;delete o.name;Object.defineProperty(o,'name',{get:function(){var r=l.get(n);if(r){return r}return n},enumerable:true})});Object.defineProperty(a,"feedsMap",{value:f,writable:false,enumerable:false,configurable:false});return a})});define('sap/viz/data/feed/Constants',[],function Setup(){var f={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};return f});define('sap/viz/manifests/Viz',['sap/viz/manifest','sap/viz/feeds/Manifest','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/data/feed/Constants','sap/viz/modules/manifests/Module','sap/viz/lang/langManager','sap/viz/config'],function Setup(m,f,O,T,a,c,b,l,g){function d(n,t){for(var i=0;i<n.length;++i){if(n[i].module.type===t){return n[i]}if(n[i].subModules){var r=d(n[i].subModules,t);if(r){return r}}}return null}function e(t,o){if(!o){return}var i,n;for(i in t){if(t.hasOwnProperty(i)&&o.hasOwnProperty(i)){n=t[i];if(n.supportedValueType==='Object'){e(n.supportedValues,o[i])}else{n.defaultValue=o[i]}}}}function h(t,i){var n,o;for(n in t){if(t.hasOwnProperty(n)){if(t[n]===null){delete t[n];continue}o=t[n];if(i){a.extend(true,o,i[n])}if(o.isExported===false&&!o.uncheck){delete t[n]}else{if(o.supportedValueType==='Object'){h(o.supportedValues,i?i[n]:null);if(T.isEmptyObject(o.supportedValues)){delete t[n]}}}}}}function j(i,n){if(n){var p,q,r,s,R;n.forEach(function(o){if(o.config.configure){R=o.moduleRef;p=o.module.properties;q=o.config.configure.properties;s=o.config.configure.propertyCategory;r=o.config.configure.propertiesOverride;i[s]=a.extend(true,null,p);Object.defineProperties(i[s],{'moduleRefPath':{get:(function(_){return function(){return _}}(R)),enumerable:false}});h(i[s],r);e(i[s],q)}j(i,o.subModules)})}}function k(n,p,q,r,s){if(p){p.forEach(function(o){var t=o.module.feeds;var u=q;var v=r;if(t){var w;var x=t.id;if(x!==undefined){var y=t.configure;w=f.get(x).feedsMap;if(y){w=O.extend(true,null,w,y)}}else{w={};t.forEach(function(z){w[z.id]=z})}var i;for(i in w){if(w.hasOwnProperty(i)){var z=w[i];if(z){z=O.extend(true,null,z);n[i]=z;if(z.type===c.Type.Dimension){var A=z.aaIndex;A+=q;if(u<A){u=A}if(A){z.aaIndex=A}var B=z.acceptMND;if(B>=0){if(r>0){B+=r}if(v<B){v=B}z.acceptMND=B}}}}}if(v>=0){v+=1}}k(n,o.subModules,u,v,s)})}}return m.registerCategory("viz",function(i){var n=[];var p=i.modules;for(var q in p){if(p.hasOwnProperty(q)){var r=p[q];if(r!==null){m.module.loadModule(n,r,q)}}}var s="";var t=d(n,'CHART');if(t&&t.config.configure){s=t.config.configure.propertyCategory}var u=i.feeds;var v,w,x=i.name;var y;delete i.name;Object.defineProperties(i,{allFeeds:{value:function(z){if(!v){v={};k(v,n,0,-1,z);O.extend(true,v,u);v=d3.values(v).filter(function(o){return o})}var A=!arguments.length||arguments[0]===false?false:true;if(A===false){if(!w){w=d3.values(v).filter(function(o){if(o.min===0&&o.max===0){return false}else{return true}})}return w}else{return v}},enumerable:true},allProperties:{value:function(){if(!y){y={};j(y,n)}return y},enumerable:true},getChartPropCate:{value:function(){return s},enumerable:true},name:{get:function(){var o=l.get(x);if(o){return o}return x},enumerable:true}});return i})});define('sap/viz/modules/Constants',[],function Setup(){var m={Type:{Chart:'CHART',Container:'CONTAINER',Supplementary:'SUPPLEMENTARY',Behavior:'BEHAVIOR',Controller:'CONTROLLER',Scientific:{Layout:'Represents a layout algorithm'},Presentation:{Tooltip:'Represents a tooltip'},ThirdParty:'THIRDPARTY'},RenderTo:{SVG:'SVG',DIV:'DIV',NONE:'NONE'},CSS:{CLASS:{AXIS:{CONTAINER:"v-axis",TITLE:"v-title",SCROLLBAR:"v-scrollbar",TITLE_BACKWORD:"viz-axis-title",TITLE_HIDDEN:"v-hidden-title",LINE_GROUP:"v-line-group",TICK_GROUP:"v-tick-group",LABEL_GROUP:"v-label-group",LINE:"v-line",TICK:"v-tick",LONGTICK:"v-longtick",LABEL:"v-label",LABEL_SELECTION:"v-axis-item",LABEL_BACKWORD:"viz-axis-label",MORPHABLE_LABEL:"v-morphable-label",PERIMETER:"v-valueaxisline",FIXED_PERIMETER:"v-fixed-valueaxisline",BACKGROUND_RECT:"viz-axis-label-rect",INDICATOR_LINE:"v-indicator-line",INDICATOR_RECT:"v-indicator-rect"},DATAPOINT:"v-datapoint",DATAPOINTDEFAULT:"v-datapoint-default",DATAPOINTHOVER:"v-datapoint-hover",DATAPOINTSELECTED:"v-datapoint-selected",STACK:"v-stack",MORPHABLEDATAPOINT:"v-morphable-datapoint",MORPHABLELABEL:"v-morphable-label",MORPHABLEBACKGROUND:"v-morphable-background",MORPHABLELINE:"v-morphable-line",MORPHABLEAREABG:"v-morphable-areabg",MODULEPREFIX:"v-m-",GRIDLINE_GROUP:"v-gridline-group",GRIDLINE:"v-gridline",GRIDLINE_INCISED:"v-incised-gridline",HOVER_SHADOW:"v-hovershadow",FOCUS_SHADOW:"v-hovershadow-mousedown"}},LAYOUT_ADJUST_POLICY:{APPROXIMATE:'APPROXIMATE',RELAYOUT:'RELAYOUT'},Event:{SelectData:{name:'selectData',desc:'Event fires when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.'+'<code>{name: "selectData",'+'data:[{\n//selected element\'s detail\n'+'target:"Dom Element",//an object pointed to corresponding dom element\n'+'data:[{val: "...",//value of this element\n'+'ctx:{type:"Dimension"||"Measure"||"MND",\n'+'//for Dimension\n'+'path:{aa:"...",di:"...",dii:"..."},\n'+'//for Measure\n'+'path:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n'+'//for MND\n'+'path:{mg:"...",mi:"..."}\n'+'//path: analysis path\n'+'//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n'+'//di: dimension index //zero based\n'+'//dii: dimension item index //zero based\n'+'//mg: measure group index // 0 for measure group 1,1 for measure group 2\n'+'//mi: measure index // measure index in measure group zero based\n'+'//dii_a1: each dii of di in analysis axis 1 index\n'+'//dii_a2: each dii of di in analysis axis 2 index\n'+'}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\n'+'var:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\n'+'target:"...",data:["..."]}]}'},DeSelectData:{name:'deselectData',desc:'Event fires when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.'+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'},TooltipShow:{name:'showTooltip',desc:'This event is deprecated, please use showDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.'+'<code>{name:"showTooltip",data:{body:[{\n//All measures\n'+'name:"...",val:[{//measure value is an array containing only one item\n'+'value:"..."}]},"..."],footer:[{label:"...",value:"..."},"..."],'+'plotArea:{\n//this object specifies the plot area of the chart\n'+'height:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\n'+'x:"...",y:"..."},selectedValues:...//this number specify how many values are selected}}'},TooltipHide:{name:'hideTooltip',desc:'This event is deprecated, please use hideDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover out of the specific part of chart, no data is passed.'},Initialized:{name:'initialized',desc:'Event fires when the loading ends. To use the event listener when creating charts, you must use an event that is passed by the events option. For more information on events options, see the usrOptions section of the <a href="sap.viz.core.html#createViz" target="_blank">createViz</a> function in the API document.'},highlightedByLegend:{desc:"Event fires when legend item is clicked, which contains its data context."}},mappings:{e2p:function(e){return e*12}},COLOR:{SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6",'#A3C7E3','#3D88C4','#66A1D0','#297CBE','#5295CA','#005BA3','#146FB7','#005395','#0063B1'],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88",'#F8B1AD','#F05B52','#F37D76','#EE4A40','#F16C64','#D92419','#ED382D','#C52117','#EB271B'],SAPColorBulletReference:["#CCCCCC","#ACA8A8","#838282"]},DocExample:{SnippetUrl:'http://shg-ci-web.dhcp.pgdev.sap.corp/vizdocs_snippet/#',TryThisValue:'Try this.'},InternalDataModelID:{Color:'Color',Shape:'Shape',Series:'Series',Category:'Category',Measure0:'MeasureName0',Measure1:'MeasureName1',Measure2:'MeasureName2',Measure3:'MeasureName3',X:'X',Y:'Y',Width:'Width',Height:'Height',MGIndex:'MGINDEX',DataId:'contextId'},SELECTION_MODE:{INCLUSIVE:'INCLUSIVE',EXCLUSIVE:'EXCLUSIVE',NONE:'NONE',SINGLE:'SINGLE',MULTIPLE:'MULTIPLE'},TRIGGER:{KEY:{API:{GET_SELECTION:'Trigger_key_api_get_selection',SET_SELECTION:'Trigger_key_api_set_selection',},CLICK_ON_DATAPOINT:'click_on_datapoint',CLICK_ON_NON_DATAPOINT:'click_on_non_datapoint',HOVER_ON_DATAPOINT:'hover_on_datapoint',HOVER_ON_NON_DATAPOINT:'hover_on_non_datapoint',HOVER_ON_LEGEND:'hover_on_legend',HOVER_ON_NON_LEGEND:'hover_on_non_legend',CLICK_ON_LEGEND:'click_on_legend',MOUSEUP_ON_LEGEND:'mouseup_on_legend',HOVER_ON_AXIS_LABEL:'hover_on_axis_label',HOVER_ON_NON_AXIS_LABEL:'hover_on_non_axis_label',CLICK_ON_AXIS_LABEL:'click_on_axis_label',MOUSEUP_ON_AXIS_LABEL:'mouseup_on_axis_label',LASSO_START_ON_EVENTLAYER:'lasso_start_on_eventLayer',LASSO_MOVE_ON_EVENTLAYER:'lasso_move_on_eventLayer',LASSO_END_ON_EVENTLAYER:'lasso_end_on_eventLayer',PAN_START_ON_EVENTLAYER:'pan_start_on_eventLayer',PINCH_START_ON_EVENTLAYER:'pinch_start_on_eventLayer',PINCH_MOVE_ON_EVENTLAYER:'pinch_move_on_eventLayer',PINCH_END_ON_EVENTLAYER:'pinch_end_on_eventLayer'},CSS:{MATCHMODE:{NEGATIVE:'negative',POSITIVE:'positive'}}},DIRECTION:{VERTICAL:"vertical",HORIZONTAL:"horizontal"},POSITION:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},SPACING_TYPE:{STEP:"step",RANGE:"range"},GRIDLINE_TYPE:{SOLID:"line",DASHED:"dotted",INCISED:"incised"},UNITFORMATTYPE:{METRICUNITS:'MetricUnits',FINANCIALUNITS:'FinancialUnits'}};return m});define('sap/viz/util/NumberUtils',['sap/viz/base/utils/TypeUtils','sap/viz/format/FormatManager','sap/viz/modules/Constants'],function Setup(T,F,C){var N={getSizeValue:function(v,t){var a;if(!v||!T.isFunction(v.toString)){return 0}if(v.toString().indexOf("px")>=0){a=parseFloat(v.split("px")[0]);if(T.isNaN(a)){a=0}else if(a>t){a=t}}else{a=v;if(v.toString().indexOf("%")>=0){a=parseFloat(v.split("%")[0])/100}if(T.isNaN(a)){a=0}else if(a>1){a=1}a*=t}if(a<0){a=0}return this.preciseSimple(a)},isNoValue:function(n){return T.isNaN(n)},precise:function(f,i){var r,t,s=f.toString(),a=s.indexOf('e');if(a>=0){r=s.substring(a);t=parseFloat(s.substring(0,a)).toFixed(8);r=parseFloat(t+r);if(i){r=a>=8?0:r}}else{r=parseFloat(f.toFixed(8))}return r},preciseSimple:function(f){if(!this.cache[f]){this.cache[f]=parseFloat(f.toFixed(8))}return this.cache[f]},preciseObject:function(o){if(T.isNumber(o)){return N.preciseSimple(o)}else if(T.isArray(o)){for(var i=0,l=o.length;i<l;++i){o[i]=N.preciseObject(o[i])}}else if(o instanceof Object){for(var k in o){if(o.hasOwnProperty(k)){o[k]=N.preciseObject(o[k])}}}return o},format:function(v,p,u){if(v===null||v===undefined){return null}var a,s;var P='[CVOM#PFIX]',S='[CVOM#SFIX]';var M=11;if(p){var i=p.indexOf(P);var e=p.lastIndexOf(P);if(i>=0&&e>=0&&i!==e){a=p.substring(i+M,e);p=p.substring(e+M)}i=p.indexOf(S);e=p.lastIndexOf(S);if(i>=0&&e>=0&&i!==e){s=p.substring(i+M,e);p=p.substring(0,i)}}var b='[CVOM#UNIT]';var t,c,n,r,f,d,g,h;if((typeof p==='string')&&(p.charAt(p.length-1)==='u')){if((typeof v==='number')){n=v;c='';f=d3.format('s');while(p.charAt(p.length-1)==='u'){t=f(n);if(isNaN(t.charAt(t.length-1))){c=t.substr(t.length-1,1)+c;if(u!==C.UNITFORMATTYPE.METRICUNITS&&c==='G'){c='B'}t=t.substr(0,t.length-1)}n=parseFloat(t);p=p.substring(0,p.length-1)}n=parseFloat(n.toPrecision(8));if((Math.abs(n)>=1e12)||(Math.abs(n)<1e-3&&Math.abs(n)>0)){t=n.toExponential();d=t.indexOf('e');c=t.substring(d)+c;n=parseFloat(t.substring(0,d))}t=N.format(n,p);r=t+c}else{r=v}}else if((typeof p==='string')&&(p.substring(p.length-b.length-1,p.length-1)===b)){if(typeof v!=='number'){r=v}else{var j=p.charAt(p.length-1).toUpperCase();var k=true,l=p.indexOf("["),m=p.indexOf(".")+1||l,o={'K':3,'M':6,'B':9,'T':12}[j]||0,q=l-m;r=(v/Math.pow(10,o)).toFixed(q)+j}}else{g=v.toString();d=g.indexOf('e');if((typeof v==='number')&&(d>=0)){r=g.substring(d);h=F.format(parseFloat(g.substring(0,d)),p);r=h+r}else{r=F.format(v,p)}}r=a?a+r:r;r=s?r+s:r;return r}};N.cache={};return N});define('sap/viz/modules/layout/scaling',['jquery','sap/viz/modules/Constants',"sap/viz/util/NumberUtils",'sap/viz/util/Objects','sap/viz/base/utils/TypeUtils'],function Setup($,r,N,O,T){var _=function(){var w,h,p,c;var d=0;var R=1;var B=2;var L=3;function s(){var e={};var f=arguments[0];var i=0;var t=w-(p[L]+p[R]);var g=h-(p[d]+p[B]);t=t>0?t:0;g=g>0?g:0;var j={width:t,height:g,x:p[L],y:p[d]};var k={center:false};var l=f.sort(function(a,b){return a.priority-b.priority});for(i in l){if(l[i].module){if(T.isFunction(l[i].module.modules)&&l[i].module.modules().plot){l[i].module.modules().plot.setSize({width:t,height:g})}else{l[i].module.setSize({width:t,height:g})}}}if(c.func){c.func.call(c.scope)}while(true){var m=l.shift();e[m.module.alias]={};var o=e[m.module.alias];var n=m.module.properties().layout;var v=m.module.visible?m.module.visible():true;var q;if(T.isFunction(m.module.getPreferredSize)&&!!v){q=m.module.getPreferredSize()}else{q={maxWidth:0,maxHeight:0}}if(k.hasOwnProperty(m.position)){if(k[m.position]===true){throw"cannnot have more than one module in "+m.position}k[m.position]=true}var u=function(){var h=0;if(!!v){if(!!n.maxHeight){h=N.getSizeValue(n.maxHeight,g);h=h>j.height?j.height:h;h=q.maxHeight>h?h:q.maxHeight;h=q.minHeight<=h?h:0}}return h};var x=function(){var w=0;if(!!v){if(!!n.maxWidth){w=N.getSizeValue(n.maxWidth,t);w=w>j.width?j.width:w;w=q.maxWidth>w?w:q.maxWidth;w=q.minWidth<=w?w:0}}return w};var y=function(){o.x=j.x;o.y=j.y;o.height=j.height;o.width=j.width};var z=parseFloat(n.paddingTop),A=parseFloat(n.paddingBottom),C=parseFloat(n.paddingLeft),D=parseFloat(n.paddingRight);var E={};if(!isNaN(z)){E.paddingTop=z}if(!isNaN(A)){E.paddingBottom=A}if(!isNaN(C)){E.paddingLeft=C}if(!isNaN(D)){E.paddingRight=D}switch(m.position){case"top":o.height=u();o.width=j.width;o.x=j.x;o.y=j.y;j.y=j.y+o.height;j.height=j.height-o.height;if(E.paddingTop){j.y+=E.paddingTop;o.y+=E.paddingTop}if(E.paddingBottom){j.y+=E.paddingBottom}break;case"bottom":o.height=u();o.width=j.width;o.x=j.x;o.y=j.y+j.height-o.height;j.height=j.height-o.height;break;case"left":o.width=x();o.x=j.x;o.y=j.y;o.height=j.height;j.x=j.x+o.width;j.width=j.width-o.width;if(E.paddingLeft){j.x+=E.paddingLeft;o.x+=E.paddingLeft}if(E.paddingRight){j.x+=E.paddingRight}break;case"right":o.width=x();o.y=j.y;o.x=j.x+j.width-o.width;o.height=j.height;j.width=j.width-o.width;break;case"center":if(l.length===0){y();if(T.isFunction(m.module.setTotalSize)){m.module.setTotalSize({width:t,height:g})}}else{l.push(m);continue}break}if(E.paddingTop){j.height-=E.paddingTop}if(E.paddingBottom){j.height-=E.paddingBottom}if(E.paddingLeft){j.width-=E.paddingLeft}if(E.paddingRight){j.width-=E.paddingRight}j.height=j.height>0?j.height:0;j.width=j.width>0?j.width:0;if(v){m.module.size({width:o.width,height:o.height})}if(l.length===0){break}}return e}s.padding=function(x){if(!arguments.length){return p}p=x;return s};s.width=function(x){if(!arguments.length){return w}w=x;return s};s.height=function(x){if(!arguments.length){return h}h=x;return s};s.properties=function(){return s};s.data=function(){return s};s.destroy=function(){};s.rewire=function(x){if(!arguments.length){return c}c=x;return s};return s};return _});define('sap/viz/util/Constants',[],function Setup(){var m={Type:{Chart:'CHART',Container:'CONTAINER',Supplementary:'SUPPLEMENTARY',Behavior:'BEHAVIOR',Controller:'CONTROLLER',Scientific:{Layout:'Represents a layout algorithm'},Presentation:{Tooltip:'Represents a tooltip'},ThirdParty:'THIRDPARTY'},RenderTo:{SVG:'SVG',DIV:'DIV',NONE:'NONE'},CSS:{CLASS:{MODULEPREFIX:"v-m-",}}};return m});define('sap/viz/util/fn/modulebuilder',['sap/viz/util/ignite','sap/viz/modules/manifests/Module','sap/viz/util/Constants','sap/viz/base/utils/Objects'],function Setup(i,c,C,O){var W={'CLASS_PREFIX':C.CSS.CLASS.MODULEPREFIX};var r=function(p,s,a){var d=p.dataset,b=p.props,e=p.conf,f={};var m=e.modules;for(var k in m){if(m.hasOwnProperty(k)){var v=m[k];if(v===null){continue}var t=i(v.id,a,W.CLASS_PREFIX+k);var g=v.data?d.createDataAdapterForModule(v.data):d;var h={};var j=c.get(v.id).type;if(t.data){t.data(g)}t.alias=k;if(j===C.Type.Container){if(v.configure){h[v.configure.propertyCategory]=v.configure.properties}t.parent(s[k]).config(v).properties(O.extend(true,{},h,b))}else{t.properties(O.extend(true,{},v.configure?v.configure.properties:{},v.configure?b[v.configure.propertyCategory]:{}));if(t.parent){t.parent(s[k])}}f[k]=t}}return f};return r});define('sap/viz/manifests/util/ManifestRegister',['sap/viz/manifests/Viz','sap/viz/modules/manifests/Module','sap/viz/feeds/Manifest','require'],function(V,M,F,r){var v={},m={},f={},c={},d=[];function e(a){var b;if(a){Array.prototype.forEach.call(a,function(l,i,n){if(l&&l.id!==undefined){b=l.id;if(v[b]!==true){if(l&&(typeof l.init)==='function'){l.init()}else{V.register(l)}v[b]=true}}})}}function g(a){var b;if(a){Array.prototype.forEach.call(a,function(l,i,n){if(l&&l.id!==undefined){b=l.id;if(m[b]!==true){M.register(l);m[b]=true}}})}}function h(a){var b;if(a){Array.prototype.forEach.call(a,function(l,i,n){if(l&&l.id!==undefined){b=l.id;if(f[b]!==true){F.register(l);f[b]=true}}})}}function j(a,A){if(a.length!==A.length){return false}for(var i=0;i<a.length;i++){if(a[i]!==A[i]){return false}}return true};function s(a,b){if(typeof a==='string'){if(typeof b==='string'){return 0}else{return-1}}else if(typeof b==='string'){return 1}else{return 0}};function k(a){var b=sap.bi.framework.getService("sap.viz.aio","*sap.viz.impls");b=Array.prototype.sort.call(b,s);if(d.length<1){d=b}else{if(j(d,b)){return}d=b}if(b){Array.prototype.forEach.call(b,function(i){if(typeof i==="string"){if(c[i]===undefined){var l=window.sap&&window.sap.bi&&window.sap.bi.framework&&window.sap.bi.framework.capabilities&&window.sap.bi.framework.capabilities.bundleLoading&&window.sap.bi.framework.capabilities.bundleLoading.hostBundle;c[i]=l&&r?r(i):require(i)}i=c[i]}for(var n in i){if(i.hasOwnProperty(n)&&a.indexOf(n)!==-1){switch(n){case"viz":e(i[n]);break;case"module":g(i[n]);break;case"feeds":h(i[n])}}}})}}return{registerAll:function(){k(["viz","module","feeds"])}}});define('sap/viz/api/manifest/Viz',['sap/viz/manifests/Viz','sap/viz/base/utils/TypeUtils','sap/viz/manifests/util/ManifestRegister'],function Setup(V,T,M){var m={get:function(){M.registerAll();return V.getManifest.apply(this,arguments)}};m.feedAcceptable=function(c,f){M.registerAll();var v=V.get(c);if(v!=undefined){var a=v.allFeeds(true);var r=true;if(!(T.isArray(a)&&T.isArray(f))){r=false}else{var l=f.length;var b={};var i=0;for(i=0;i<l;i++){var d=f[i];if(T.isArray(d.binding)){b[d.feedId]=d.binding.length}else{r=false;break}}if(a.length!=l){r=false}else if(r==true){for(i=0;i<l;i++){var e=a[i];if(b[e.id]==null||(b[e.id]<e.min||b[e.id]>e.max)){r=false;break}}}}return r}return false};return m});define('sap/viz/util/EffectManager',['sap/viz/base/utils/ObjectUtils'],function Setup(O){function E(s,a){this._defs=s;this._enableGhostEffect=a;this._glossyIds=[]}E.prototype.rgba=function(r,g,b,a,s){var t={r:r,g:g,b:b,a:a,toHex:function(){return d3.rgb(t.r,t.g,t.b).toString()},toString:function(){if(t.a<=1&&s===true){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}else if(t.a<1){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}else{return t.toHex()}}};return t};E.prototype.color2rgba=function(c,a){var s=d3.rgb(0,0,0),t=1,u;if(a){t=a;u=true}if(c!=null&&typeof(c)==='object'){if(c.rgb){s=c.rgb()}else{s=c}}else if(typeof(c)==='string'){c=c.toLowerCase();var v,i,j;if(c.indexOf('rgba')>=0){v=c.substring(c.indexOf('(')+1);i=v.lastIndexOf(',');j=v.indexOf(')');if(i>=0&&j>=0){var w='rgb('+v.substring(0,i)+')';t=parseFloat(v.substring(i+1,j));s=d3.rgb(w)}}else if(c.indexOf('hsla')>=0){v=c.substring(c.indexOf('(')+1);i=v.lastIndexOf(',');j=v.indexOf(')');if(i>=0&&j>=0){var x='hsl('+v.substring(0,i)+')';t=parseFloat(v.substring(i+1,j));s=d3.hsl(x).rgb()}}else if(c.indexOf('hsl')>=0){s=d3.hsl(c).rgb()}else if(c.indexOf('#')>=0){var r,g,b;if(c.length===4){r=c.charAt(1);r+=r;g=c.charAt(2);g+=g;b=c.charAt(3);b+=b}else if(c.length===7){r=c.substring(1,3);g=c.substring(3,5);b=c.substring(5,7)}r=parseInt(r,16);g=parseInt(g,16);b=parseInt(b,16);s=d3.rgb(r,g,b)}else{s=d3.rgb(c)}}return this.rgba(s.r,s.g,s.b,t,u)};E.prototype.rgba2gray=function(c){var r=c.r,g=c.g,b=c.b,a;if((r===g)&&(g===b)){a=Math.round(r+(255-r)*0.6)}else{a=Math.round((r*299+g*587+b*114+500)/1000)}return this.rgba(a,a,a,c.a)};function d(c,a){var r=c.r,g=c.g,b=c.b,i,j,s;if(a>=0){i=Math.round(r+(255-r)*a/100);j=Math.round(g+(255-g)*a/100);s=Math.round(b+(255-b)*a/100)}else{i=Math.round(r*(100+a)/100);j=Math.round(g*(100+a)/100);s=Math.round(b*(100+a)/100)}return this.rgba(i,j,s,c.a)}function e(a,i,c,r){var b=c.toHex();var g=d.call(this,c,50).toHex();var j=d.call(this,c,-30).toHex();var s=a.append('radialGradient');var t=s[0][0];t.setAttribute('id',i);t.setAttribute('cx',0);t.setAttribute('cy',0);t.setAttribute('r',r);t.setAttribute('fx',0);t.setAttribute('fy',0);t.setAttribute('gradientUnits',"userSpaceOnUse");s.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",g);s.append("stop").attr('stop-opacity',c.a).attr("offset",0.9).attr("stop-color",b);s.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",j)}function f(a,i,c){var b=c.toHex();var g=d.call(this,c,10).toHex();var j=d.call(this,c,60).toHex();var r=a.append('radialGradient');var s=r[0][0];s.setAttribute('id',i);s.setAttribute('cx','50%');s.setAttribute('cy','50%');s.setAttribute('r','50%');s.setAttribute('fx','25%');s.setAttribute('fy','25%');s.setAttribute('gradientUnits',"userSpaceOnUse");r.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",j);r.append("stop").attr('stop-opacity',c.a).attr("offset",0.8).attr("stop-color",g);r.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",b)}function h(a,i,c){var b=c.toHex();var g=d.call(this,c,10).toHex();var j=d.call(this,c,80).toHex();var r=a.append('radialGradient');var s=r[0][0];s.setAttribute('id',i);s.setAttribute('cx','50%');s.setAttribute('cy','50%');s.setAttribute('r','50%');s.setAttribute('fx','50%');s.setAttribute('fy','20%');r.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",j);r.append("stop").attr('stop-opacity',c.a).attr("offset",0.7).attr("stop-color",g);r.append("stop").attr('stop-opacity',c.a).attr("offset",0.9).attr("stop-color",b);r.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",b)}function k(a,i,c,b){var g=d.call(this,c,30).toHex();var j=d.call(this,c,50).toHex();var r=d.call(this,c,-10).toHex();var s=d.call(this,c,10).toHex();var t=a.append("svg:linearGradient").attr("id",i).attr("x1","0%").attr("y1","0%");if(b==='horizontal'){t.attr("y2","0%").attr("x2","100%")}else{t.attr("y2","100%").attr("x2","0%")}t.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",g);t.append("stop").attr('stop-opacity',c.a).attr("offset",0.2).attr("stop-color",j);t.append("stop").attr('stop-opacity',c.a).attr("offset",0.8).attr("stop-color",r);t.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",s)}function l(a,i,c,b){var g=d.call(this,c,50).toHex();var j=d.call(this,c,-10).toHex();var r=a.append("svg:linearGradient").attr("id",i);switch(b){case"LeftRight":r.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%");break;case"BottomUp":r.attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","0%");break;case"RightLeft":r.attr("x1","100%").attr("y1","0%").attr("y2","0%").attr("x2","0%");break;case"TopDown":r.attr("x1","0%").attr("y1","0%").attr("y2","100%").attr("x2","0%");break;default:r.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%")}r.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",j);r.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",g)}function m(a,i,c,b){var g=d.call(this,c,50).toHex();var j=d.call(this,c,-10).toHex();var r=a.append("svg:linearGradient").attr("id",i).attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");r.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",j);r.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",g)}function n(a,i,c,b){var g=d.call(this,c,50).toHex();var j=d.call(this,c,-30).toHex();var r=a.append("svg:linearGradient").attr("id",i).attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");r.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",j);r.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",g)}function o(a,i,c,b){var g=a.append("svg:linearGradient").attr("id",i);if(b==='horizontal'){g.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{g.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}g.append("stop").attr('stop-opacity',c.a).attr("offset",0).attr("stop-color",'#ffffff');g.append("stop").attr('stop-opacity',c.a).attr("offset",1).attr("stop-color",c.toHex())}function p(a){if(a.drawingEffect!=="glossy"){return}for(var i=0;i<this._glossyIds.length;i++){var b=this._glossyIds[i].parameter;if(b['fillColor']===a['fillColor']&&b['direction']===a['direction']){if(b['graphType']==='sector'&&a['graphType']==='sector'){if(b.radius===a.radius){return this._glossyIds[i].id}}else if(b['graphType']===a['graphType']){return this._glossyIds[i].id}}}}function q(a){var i;if(a.drawingEffect==="glossy"){if(a.graphType==='line'){i=null}else{i=a.drawingEffect+O.guid();this._glossyIds.push({id:i,parameter:{fillColor:a.fillColor,direction:a.direction,graphType:a.graphType,radius:a.radius}})}}return i}E.prototype.register=function(b,a){var c=b.fillColor;if(typeof(c)==='string'){if((c.toLowerCase()==='transparent')||(c.toLowerCase()==='none')){return c}}var g=this.color2rgba(c,a);if(this._enableGhostEffect){g=this.rgba2gray(g)}var i=p.call(this,b);if(i){return"url(#"+i+")"}i=q.call(this,b);if(!i){return g.toString()}var j=this._defs.select("#"+i);if(j.empty()){if(b.drawingEffect==="glossy"){switch(b.graphType){case'background':o.call(this,this._defs,i,g,b.direction);break;case'sector':e.call(this,this._defs,i,g,b.radius);break;case'3dSector':f.call(this,this._defs,i,g);break;case'cubeTop':l.call(this,this._defs,i,g,b.direction);break;case'cubeSide':m.call(this,this._defs,i,g);break;case'sectorSide':n.call(this,this._defs,i,g);break;case'circle':h.call(this,this._defs,i,g,b.direction);break;case'triangle-up':case'triangle-down':k.call(this,this._defs,i,g,'vertical');break;case'triangle-left':case'triangle-right':k.call(this,this._defs,i,g,'horizontal');break;case'rectangle':case'diamond':case'cross':case'star':case'intersection':k.call(this,this._defs,i,g,b.direction);break;default:k.call(this,this._defs,i,g,b.direction);break}}else{return g.toString()}}return"url(#"+i+")"};E.prototype.container=function(c){if(!arguments.length){return this._defs}this._defs=c};E.prototype.ghostEffect=function(_){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=_};E.prototype.destroy=function(){this._defs=null;this._glossyIds=null};return E});define('sap/viz/chart/elements/background/render',['require'],function(r){var C="v-background",a='v-background-border',b='v-background-body';return function(p,w,h,c,e){c=c.background;var v=c.visible;var s=d3.selectAll(p.childNodes).filter("."+C);var u=!s.empty();if(!v){if(u){s.remove()}}else{var f;if(!u){s=d3.select(p).insert("g",":first-child").attr("class",C);f=s.append("rect").attr("class",b)}else{f=s.select("."+b)}var g=e.register({graphType:'background',fillColor:c.color,drawingEffect:c.drawingEffect,direction:c.gradientDirection});f.attr('width',w).attr('height',h).attr('style','fill:'+g);var i=c.border;var j=[];if(i.left.visible){j.push({x1:0,y1:0,x2:0,y2:h})}if(i.right.visible){j.push({x1:w,y1:0,x2:w,y2:h})}if(i.top.visible){j.push({x1:0,y1:0,x2:w,y2:0})}if(i.bottom.visible){j.push({x1:0,y1:h,x2:w,y2:h})}var k=s.selectAll("."+a).data(j);k.enter().append('line').attr('class',a);k.exit().remove();k.attr('x1',function(d){return d.x1}).attr('y1',function(d){return d.y1}).attr('x2',function(d){return d.x2}).attr('y2',function(d){return d.y2}).attr('shape-rendering','crispEdges').attr("stroke",i.stroke).attr("stroke-width",i.strokeWidth)}}});define('sap/viz/chart/elements/container/RootContainer',['sap/viz/base/utils/oo','sap/viz/modules/Base','jquery','sap/viz/modules/Constants','sap/viz/modules/manifests/Module','sap/viz/util/ignite','sap/viz/util/append','sap/viz/modules/dispatch','sap/viz/base/utils/Objects','sap/viz/modules/layout/scaling','sap/viz/util/fn/dombuilder','sap/viz/util/fn/domposition','sap/viz/util/fn/modulebuilder','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/log/Analyzer','sap/viz/data/FlatTableDataset','sap/viz/api/manifest/Viz','sap/viz/util/EffectManager','sap/viz/base/utils/TypeUtils','sap/viz/chart/elements/background/render'],function Setup(o,B,$,C,c,a,b,f,O,s,g,h,m,F,A,j,V,E,T,r){var k=function(){var d=this._bc_config;var e=this._modules;$.each(d.modules,function(i,w){if(w===null){return}if(c.get(w.id).type===C.Type.Controller){e[i]().module(e[w.configure.clientID])}})};var l=function(d){this._selections=this.dombuilder(this._parentNode,this._bc_config.modules);this._modules=this.modulebuilder(d,this._selections,this._bc_context);n.call(this);q.call(this)};var n=function(){var d=this;for(var e in this._modules){if(this._modules.hasOwnProperty(e)){var i=this._modules[e];if(i.dispatch){if(i.dispatch()['initialized']){i.dispatch().on('initialized.RootContainer',function(){return function(){p.call(d)}}());d._bc_count++}if(i.dispatch()['relayout']){i.dispatch().on('relayout.RootContainer',function(){d._bc_charger.func.call(d._bc_charger.scope)})}}}}};var u=function(){var d=this;for(var e in this._modules){if(this._modules.hasOwnProperty(e)){var i=this._modules[e];if(i.dispatch){if(i.dispatch()['initialized']){i.dispatch().on('initialized.RootContainer',null)}if(i.dispatch()['relayout']){i.dispatch().on('relayout.RootContainer',null)}}}}};var p=function(){if(++this._bc_inits===this._bc_count){this._bc_inits=0;this._bc_dispatch.initialized();this._bc_dispatch.ready()}};var q=function(){var d=this._bc_config;var e=this._modules;var i=this._parentNode;var w=this._bc_chartType;$.each(d.modules,function(x,y){if(y===null){return}if(c.get(y.id).type===C.Type.Behavior&&e[x].module){e[x].module(e);if(e[x].setChartType){e[x].setChartType(w)}e[x].setRootNode(i)}else if(c.get(y.id).type===C.Type.Controller&&e[x].module){if(!y.configure||!y.configure.clientID){F.error('A clientID is required for a controller module:'+y.id)}e[x].module(e[y.configure.clientID])}})};var t=function(){if(!this._bc_defaultLayout){this._bc_defaultLayout=this.getDefaultLayout(this._bc_context)}return this._bc_defaultLayout};var v=function(){if($.isEmptyObject(this._modules)&&!$.isEmptyObject(this._bc_config)&&this._data!==null){l.call(this,{'dataset':this._data,'conf':this._bc_config,'props':this._bc_properties})}};var W={'CLASS_PREFIX':C.CSS.CLASS.MODULEPREFIX,'DEFAULT_LAYOUT_KEY':'sap_viz_modules_layout_scaling_key'};var R=function(d,e){R.superclass.constructor.apply(this,arguments);this._bc_manifest=d;this._bc_context=e;this._bc_width=0;this._bc_height=0;this._bc_ownProperties=d.props(null);this._bc_context.generalSettings=this._bc_ownProperties;this._bc_properties={};this._bc_config={};this._bc_dispatch=f('initialized','ready');this._bc_count=0;this._bc_inits=0;this._bc_charger={func:null,scope:null};this._bc_chartType='';this._bc_update_checklist=[k];this._bc_defaultLayout=null;this._modules={};this._selections={};this._layout={};this._data=null;this._parentNode=null;this._rc_effectManager=new E();e.effectManager=this._rc_effectManager;this._rc_container=null};o.extend(R,B);R.prototype.render=function(d){if(!this._bc_width||!this._bc_height){return}this._bc_inits=0;this._parentNode=d;var e=this._selections;var i=this._modules;var w=this._bc_config;A.pnrProfiling('Render:drawing-layout');this._layout=this.layout(w,this._bc_width,this._bc_height,i,e);A.pnrProfiling('Render:drawing-layout');A.pnrProfiling("Render:drawing-paint");A.pnrProfiling("Render:drawing-paint-background");r(d.node(),this._bc_width,this._bc_height,this._bc_ownProperties,this._rc_effectManager);A.pnrProfiling("Render:drawing-paint-background");A.pnrProfiling("Render:drawing-paint-chart");for(var x in e){if(e.hasOwnProperty(x)&&e[x]&&i.hasOwnProperty(x)&&i[x]){A.pnrProfiling("Render:drawing-paint-chart-"+x);e[x].call(i[x]);A.pnrProfiling("Render:drawing-paint-chart-"+x)}}A.pnrProfiling("Render:drawing-paint-chart");A.pnrProfiling("Render:drawing-paint")};R.prototype.container=function(x){if(!arguments.length){return this._rc_container}this._rc_container=x;return this};R.prototype.width=function(x){if(!arguments.length){return this._bc_width}this._bc_width=x;return this};R.prototype.height=function(x){if(!arguments.length){return this._bc_height}this._bc_height=x;return this};R.prototype.size=function(x){if(!arguments.length){return{'width':this._bc_width,'height':this._bc_height}}this._bc_width=x.width;this._bc_height=x.height;return this};R.prototype.config=function(x){if(!arguments.length){return this._bc_config}this._bc_config=x;v.call(this);return this};R.prototype.data=function(x){if(!arguments.length){return this._data}this._data=x;v.call(this);var d=this._modules;var e=this._bc_config;var i=this._data;for(var w in d){if(d.hasOwnProperty(w)){if(e.modules[w].data){d[w].data(i.createDataAdapterForModule(e.modules[w].data))}else{if(d[w].data){d[w].data(i)}}}}if(this._rc_effectManager&&this._isFlatTable()){this._rc_effectManager.ghostEffect(this._data.dataset.hasFakeData())}else if(!this._isFlatTable()&&this._rc_effectManager&&this._convert2MultiAxesDataAdapter()){this._rc_effectManager.ghostEffect(this._data.fakeData())}return this};R.prototype.properties=function(x){if(!arguments.length){return this._bc_ownProperties}var d=this._modules;var e=this._bc_config;O.extend(true,this._bc_properties,x);this._bc_ownProperties=this.getMergedProperties(x);var i=e.configure?e.configure.propertyCategory:null;O.extend(true,this._bc_properties[i],this._bc_ownProperties);for(var w in d){if(d.hasOwnProperty(w)){if(c.get(e.modules[w].id).type===C.Type.Container){d[w].properties(this._bc_properties)}else if(e.modules[w].configure){d[w].properties(this._bc_properties[e.modules[w].configure.propertyCategory])}}}return this};R.prototype.relayout=function(e){this.layout(this._bc_config,this._bc_width,this._bc_height,this._modules,this._selections)};R.prototype.chartType=function(x){if(!arguments.length){return this._bc_chartType}this._bc_chartType=x;return this};R.prototype.recharge=function(x){if(!arguments.length){return this._bc_charger}this._bc_charger=x;return this};R.prototype.dispatch=function(x){if(!arguments.length){return this._bc_dispatch}this._bc_dispatch=x;return this};R.prototype.refresh=function(){var d=this._bc_update_checklist;for(var i=0;i<d.length;i++){d[i].call(this)}return this};R.prototype.parent=function(x){if(!arguments.length){return this._parentNode}this._parentNode=x;if(this._rc_effectManager){this._rc_effectManager.container(this._parentNode.append("svg:defs"))}return this};R.prototype.modules=function(x){if(!arguments.length){v.call(this);return this._modules}this._modules=x;return this};R.prototype.destroy=function(){u.call(this);this._selections=null;this._bc_context.destroy();this._bc_context=null;this._parentNode=null;this._bc_charger=null;this._bc_dispatch=null;if(this._bc_defaultLayout&&this._bc_defaultLayout.destroy){this._bc_defaultLayout.destroy()}this._data=null;this._modules=null;this._rc_container=null;if(this._rc_effectManager&&this._rc_effectManager.destroy){this._rc_effectManager.destroy()}};R.prototype.dombuilder=function(d,e){return g(d,e)};R.prototype.modulebuilder=function(d,e,i){return m(d,e,i)};R.prototype.getDefaultLayout=function(d){var e=W['DEFAULT_LAYOUT_KEY'];return a('sap.viz.modules.layout.scaling',d,W.CLASS_PREFIX+e)};R.prototype.getMergedProperties=function(d){var e=this._bc_ownProperties;var i=this._bc_config;var w=i.configure?i.configure.propertyCategory:null;var x=w?d[w]:null;var y=O.extend(true,e,x);return y};R.prototype.layout=function(w,x,y,z,D){var G=z.layout||t.call(this);var H=this._bc_ownProperties.layout;var I=this._bc_charger;function J(d,e){return G(d,e)}function K(i,d){return i!=null&&i>=0&&i<d}function L(N,P){A.pnrProfiling("Render:drawing-layout-calculation-formatModule");var Q=[24,24,24,24],S=[];if(K(H['padding'],x/2)&&K(H['padding'],y/2)){for(var i=0;i<Q.length;i++){Q[i]=parseFloat(H['padding'])}}var U;["paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(e,i){U=i%2===1?x/2:y/2;if(K(H[e],U)){Q[i]=parseFloat(H[e])}});G.width(x).height(y).padding(Q,function(d){var e=Math.min(x,y);if(e<=108){return d<=2?d:2}else{return d}});if(T.isFunction(G.rewire)){G.rewire(P)}$.each(N,function(d,e){if(c.get(w.modules[d].id).type!==C.Type.Container&&c.get(w.modules[d].id).type!==C.Type.Supplementary&&c.get(w.modules[d].id).type!==C.Type.Chart){return}var X=e.properties().layout||e.properties()[w.modules[d].configure.propertyCategory].layout,Y=X.position;if(d==='legends'){z.legends.maxWidth(1/3*x-Q[1]-Q[3]).maxHeight(1/3*y-Q[0]-Q[2])}S.push({module:e,position:Y,priority:X.priority})});A.pnrProfiling("Render:drawing-layout-calculation-formatModule");return S}A.pnrProfiling("Render:drawing-layout-calculation");var M=J(L(z,I),'RELAYOUT');A.pnrProfiling("Render:drawing-layout-calculation");A.pnrProfiling('Render:drawing-layout-positionsub');h(M,D);A.pnrProfiling('Render:drawing-layout-positionsub');return M};R.prototype._convert2MultiAxesDataAdapter=function(){if(V.get(this._bc_chartType)[0]){return V.get(this._bc_chartType)[0].legacyDataAdapter===true}return false};R.prototype._isFlatTable=function(){return(this._data instanceof Object)&&(this._data.dataset instanceof j)};return R});define('sap/viz/modules/manifests/BaseContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants'],function Setup(M,C){var m={id:"sap.viz.modules.basecontainer",type:C.Type.Container,'abstract':true,name:"BaseContainer",renderto:C.RenderTo.SVG,description:"Represents the abstract base container",properties:{layout:{name:'layout',description:'Settings for the layout of the root container',supportedValueType:'Object',supportedValues:{adjustPolicy:{name:'adjustPolicy',supportedValueType:'String',defaultValue:undefined,description:'Indicates the layout adjust policy',isExported:false},padding:{name:'padding',supportedValueType:'PositiveInt',defaultValue:24,description:'Set the universal padding value. This single value is applied to all sides of the chart. Individual settings for each edge are also supported.','example':"<a href='"+C.DocExample.SnippetUrl+"4609' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'paddingTop':{name:'paddingTop',supportedValueType:'PositiveInt',defaultValue:undefined,description:'Set the padding value for the top side','example':"<a href='"+C.DocExample.SnippetUrl+"4609' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'paddingLeft':{name:'paddingLeft',supportedValueType:'PositiveInt',defaultValue:undefined,description:'Set the padding value for the left side','example':"<a href='"+C.DocExample.SnippetUrl+"4609' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'paddingRight':{name:'paddingRight',supportedValueType:'PositiveInt',defaultValue:undefined,description:'Set the padding value for the right side','example':"<a href='"+C.DocExample.SnippetUrl+"4609' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'paddingBottom':{name:'paddingBottom',supportedValueType:'PositiveInt',defaultValue:undefined,description:'Set the padding value for the bottom side','example':"<a href='"+C.DocExample.SnippetUrl+"4609' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},vgap:{name:'vgap',supportedValueType:'PositiveInt',defaultValue:8,description:'Vertical gap value between UI components',isExported:false},hgap:{name:'hgap',supportedValueType:'PositiveInt',defaultValue:8,description:'Horizontal gap value between UI components',isExported:false},hideAxisTitleFirst:{name:'hideAxisTitleFirst',supportedValueType:'Boolean',defaultValue:true,description:'Hide axis title firstly if the space is limited.',isExported:false}}}},events:{selectData:C.Event.SelectData.desc,deselectData:C.Event.DeSelectData.desc,showTooltip:C.Event.TooltipShow.desc,hideTooltip:C.Event.TooltipHide.desc},configure:null};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/manifests/enableBackground',[],function(){return function(m){var p=m.properties=m.properties||{};p.background={'name':'background','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility'},'border':{'name':'border','description':'Settings for the border','supportedValueType':'Object','supportedValues':{'left':{'name':'left','description':'Settings for the left border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility'}}},'right':{'name':'right','description':'Settings for the right border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility'}}},'top':{'name':'top','description':'Settings for the top border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility'}}},'bottom':{'name':'bottom','description':'Settings for the bottom border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility'}}},'stroke':{'name':'stroke','cssStyle':'stroke','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Settings for the color of the stroke.'},'strokeWidth':{'name':'strokeWidth','cssStyle':'stroke-width','supportedValueType':"Int",'defaultValue':1,'description':'Settings for the width of the stroke.'}}},'drawingEffect':{'name':'drawingEffect','description':"Set the drawing effect for the background. If this value is set to 'glossy', the background is glossy. If this value is set to 'normal', the background is matte.",'supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true},'gradientDirection':{'name':'gradientDirection','description':"Set the direction of the color gradient in the background. This only takes effect if the 'drawingEffect' value is set to 'glossy'.",'supportedValueType':'String','supportedValues':['horizontal','vertical'],'defaultValue':'vertical','isExported':true},'color':{'name':'color','supportedValueType':'String','description':'Define the color for the plot background body.','defaultValue':'transparent'}}}}});define('sap/viz/chart/elements/manifests/container/RootContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/container/RootContainer','sap/viz/modules/manifests/BaseContainer','sap/viz/chart/elements/manifests/enableBackground'],function Setup(M,C,f,B,e){var m={id:"sap.viz.chart.elements.rootContainer",base:"sap.viz.modules.basecontainer",type:C.Type.Container,name:"rootContainer",description:"Settings for the root container",fn:f};e(m);var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/layout/legendFlow',['sap/viz/base/utils/Objects'],function Setup(O){var L=function(){this._props={width:0,height:0,spacing:0,position:'right',sort:function(a,b){return a.order-b.order},size:function(){return}}};L.prototype.setProperties=function(p){O.extend(true,this._props,p);return this};L.prototype.layout=function(m){var p=this._props;var a=m.slice().sort(p.sort),r={},b=false,c=_(a,p);var s=0,e,f=c.availableSize,g=c.referenceSize,h=c.referenceMinSizes,j=c.maxSizes,k=c.minSizes,l={width:0,height:0},n,o;if(d3.sum(j)<=f){b=true}a.forEach(function(d,i){var q={x:0,y:0};n=j[i];o=k[i];if(i>0){s=s+p.spacing}if(p.position==='top'||p.position==='bottom'){q.x=s}else{q.y=s}if(b&&h[i]<g){s=s+n;e=n}else{if(f<o||h[i]>g){d.module.width(0).height(0);return q}else if(f>n){s=s+n;e=n;f=f-n}else{s=s+f;e=f;f=0}}if(p.position==='top'||p.position==='bottom'){d.module.height(p.height).width(e);l.width=e+l.width;l.height=p.height}else{d.module.width(p.width).height(e);l.height=e+l.height;l.width=p.width}r[d.module.alias]=q});return r};var _=function(a,p){var b,r,m=[],c=[],e,f=[],w=p.width,h=p.height,g=p.position,s=p.size;if(g==='top'||g==='bottom'){b=w;r=h;a.forEach(function(d){e=s(d);m.push(e.maxWidth);c.push(e.minWidth);f.push(e.minHeight)})}else{b=h;r=w;a.forEach(function(d){e=s(d);m.push(e.maxHeight);c.push(e.minHeight);f.push(e.minWidth)})}return{'availableSize':b,'referenceSize':r,'maxSizes':m,'minSizes':c,'referenceMinSizes':f}};return L});define('sap/viz/chart/elements/Legend',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/modules/manifests/Module','sap/viz/chart/elements/layout/legendFlow'],function(o,B,O,T,M,L){var a=function(m,c){this._parent=undefined;this._width=undefined;this._height=undefined;this._config=undefined;this._initComplete=false;this._childModules=undefined;this._manifests=m;this._ctx=c;this._props=m.props(null);this._maxSize={width:0,height:0}};o.extend(a,B);a.prototype.visible=function(){var v=false;for(var k in this._childModules){if(k!=="layout"&&this._childModules.hasOwnProperty(k)){if(this._childModules[k].visible()){v=true}}}return v};a.prototype.render=function(s){var v,w,l=this._layout();for(var k in this._childModules){if(k!=='layout'){w=this._parent.selectAll('.v-m-'+k);if(l[k]&&l[k].x!==undefined&&l[k].y!==undefined){w.attr('transform','translate('+l[k].x+','+l[k].y+')')}v=this._childModules[k];v.render(w)}}};a.prototype.parent=function(p){if(!arguments.length){return this._parent}this._parent=p;return this};a.prototype.width=function(w){if(!arguments.length){return this._width}this._width=w;for(var k in this._childModules){if(this._childModules.hasOwnProperty(k)){this._childModules[k].width(w)}}return this};a.prototype.height=function(h){if(!arguments.length){return this._height}this._height=h;for(var k in this._childModules){if(this._childModules.hasOwnProperty(k)){this._childModules[k].height(h)}}return this};a.prototype.size=function(s){if(!arguments.length){return{width:this._width,height:this._height}}return this.setSize(s)};a.prototype.setSize=function(s){this.width(s.width).height(s.height);return this};a.prototype.config=function(c){if(!arguments.length){return this._config}this._config=c;if(!this._initComplete){this._childModules=_(this._parent,this._config.modules,this._ctx);this._initComplete=true}return this};a.prototype.maxHeight=function(x){if(!arguments.length){return this._maxSize.height}this._maxSize.height=x;return this};a.prototype.maxWidth=function(x){if(!arguments.length){return this._maxSize.width}this._maxSize.width=x;return this};a.prototype.getProperties=function(){if(!arguments.length){return this._props}};a.prototype.setProperties=function(p){if(!arguments.length){return this._props}O.extend(true,this._props,p.legendGroup);var l=this._props.layout;var c=l.position;switch(c){case"top":l.height=l.height;l.paddingTop=0;l.paddingBottom=12;l.paddingLeft=0;l.paddingRight=0;break;case"bottom":l.height=l.height;l.paddingTop=12;l.paddingBottom=0;l.paddingLeft=0;l.paddingRight=0;break;case"right":l.width=l.width;l.paddingTop=0;l.paddingBottom=0;l.paddingLeft=12;l.paddingRight=0;break;case"left":l.width=l.width;l.paddingTop=0;l.paddingBottom=0;l.paddingLeft=0;l.paddingRight=12;break}var v,d,e=((c==='top')||(c==='bottom'))?'horizontal':'vertical';for(var k in this._childModules){if(this._childModules.hasOwnProperty(k)){v=this._childModules[k];if(k!=='layout'){d=p[this._config.modules[k].configure.propertyCategory];this._childModules[k].setProperties(O.extend(true,{'orientation':e},d))}}}return this};a.prototype.properties=function(p){if(!arguments.length){return this.getProperties()}return this.setProperties(p)};a.prototype.getPreferredSize=function(){if(!this._initComplete){this._childModules=_(this._parent,this._config.modules,this._ctx);this._initComplete=true}var k,v,s,m=[],c=[],d=[],e=[];for(k in this._childModules){if(this._childModules.hasOwnProperty(k)){v=this._childModules[k];if(k!=='layout'&&v.visible()){s=v.getPreferredSize();m.push(s.minWidth);d.push(s.minHeight);c.push(s.maxWidth);e.push(s.maxHeight)}}}var f={width:d3.min(m),height:d3.min(d)},g={width:d3.max(c),height:d3.max(e)};var p=this._props.layout?this._props.layout:this._manifests.props().layout,h,i=0;h=p.position;if(h==='top'||h==='bottom'){for(i=0;i<d.length;i++){if(d[i]>this._maxSize.height){g.height=d3.min(e)}}}else{for(i=0;i<m.length;i++){if(m[i]>this._maxSize.width){g.width=d3.min(c)}}}return{minWidth:f.width,maxWidth:g.width,minHeight:f.height,maxHeight:g.height}};a.prototype.modules=function(x){if(!arguments.length){return this._childModules}this._childModules=x;return this};a.prototype._layout=function(){var v,c=[];for(var k in this._config.modules){if(this._config.modules.hasOwnProperty(k)){v=this._config.modules[k];if(!v||!v.configure||!v.configure.properties||!v.configure.properties.layout){return}if(v.configure.properties.layout){c.push({module:this._childModules[k],order:v.configure.properties.layout.order})}}}var l=new L().setProperties({width:this._width,height:this._height,position:this._props.layout.position,size:function(d){return d.module.getPreferredSize()}}).layout(c);return l};a.prototype.destroy=function(){this._ctx.destroy();this._ctx=null};var _=function(p,m,c){var d={},v;for(var k in m){if(m.hasOwnProperty(k)){v=m[k];if(v!==null){d[k]=b(v.id,c,'v-m-'+k);d[k].alias=k;if(k!=='layout'){p.append('g').attr('class','v-m-'+k)}}}}return d};var b=function(m,p,c,t){var d;if(T.isString(m)){d=M.get(m)}else{d=m;c=true}return d.execute(p,c,t)};return a});define('sap/viz/chart/elements/manifests/Legend',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Legend'],function Setup(M,C,f){var m={id:'sap.viz.chart.elements.legend',type:C.Type.Container,name:'legend',description:'The legend is a box containing a symbol and name for each series item or point item in the chart',properties:{'layout':{'name':'layout','supportedValueType':'Object','supportedValues':{'position':{'name':'position','supportedValueType':'String','supportedValues':['top','bottom','right','left'],'defaultValue':'right','description':'Set the position of the legend group','example':"<a href='"+C.DocExample.SnippetUrl+"4945' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'priority':{'name':'priority','supportedValueType':'Int','defaultValue':0,'description':'Set the priority of the position for the legend group','isExported':false},'maxWidth':{'name':'maxWidth','supportedValueType':'String','defaultValue':'0.25','description':'Set the width of the legend group. It should be a pixel or a ratio regarding to its container.','isExported':true},'maxHeight':{'name':'maxHeight','supportedValueType':'String','defaultValue':'0.25','description':'Set the height of the legend group. It should be a pixel or a ratio regarding to its container.','isExported':true}},'description':'Settings for layout of legend group'}},css:{},configure:null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/util/BoundUtil',[],function Setup(){var c='v-bound';var B={drawBound:function(s,w,h,a,b){var r;if(w<0||h<0){return}if(s.select('.'+c).node()==null){r=s.insert('rect',':first-child').attr('class',c).attr('width',w).attr('height',h);if(b){r.attr("fill","transparent")}else{r.attr('visibility','hidden')}}else{r=s.select('.'+c).attr('width',w).attr('height',h)}if(a){for(var i in a){r.attr(i,a[i])}}}};return B});define('sap/viz/chart/elements/legend/BaseLegend',['sap/viz/base/utils/oo','sap/viz/modules/util/BoundUtil','sap/viz/modules/Base','sap/viz/base/utils/Objects',"sap/viz/base/utils/TypeUtils",'sap/viz/util/TextUtils'],function(a,B,b,O,T,c){var D="Legend Title";var M="MeasureNamesDimension";var e=function(m,d){this._width=0,this._height=0,this._props=m.props(null),this._title=undefined,this._bindingFields=null;this._ctx=d,this._parent=null;this._pos={x:0,y:0};this._titleMarginBottom=0.5;this._titleFont={'fontfamily':this._props.title.style.fontFamily,'fontsize':this._props.title.style.fontSize,'fontweight':this._props.title.style.fontWeight,'color':this._props.title.style.color,'fontstyle':this._props.title.style.fontStyle}};a.extend(e,b);e.prototype.visible=function(){return this._props.visible};e.prototype.render=function(s){B.drawBound(s,this._width,this._height);this._pos={x:0,y:0};var t=s.selectAll('text.v-title');if(this._isVisible()){if(this._props.title.visible){if(t.empty()){t=s.append('text').attr('class','v-title viz-legend-title')}var f;f={"fill":this._props.title.style.color,"font-family":this._props.title.style.fontFamily,"font-size":this._props.title.style.fontSize,"font-weight":this._props.title.style.fontWeight,"font-style":this._props.title.style.fontStyle};var g=parseInt(this._titleFont.fontsize,10);var h=this._getTitleText();var l="font-size:"+this._titleFont.fontsize+"; font-weight:"+this._titleFont.fontweight+"; font-family:"+this._titleFont.fontfamily+"; font-style:"+this._titleFont.fontstyle;var i=this;this._pos.y=this._pos.y+g;t.text(h).attr('font-weight',f['font-weight']).attr('fill',f['fill']).attr('font-family',f['font-family']).attr('font-size',f['font-size']).attr('font-style',f['font-style']).attr('x',this._pos.x).attr('y',this._pos.y).attr('visibility','visible');t.each(function(d){c.ellipsis(h,this,i._width-i._pos.x,l)});this._pos.y=this._pos.y+g*this._titleMarginBottom}else{t.attr('visibility','hidden')}}else{t.remove()}return this};e.prototype.getProperties=function(p){if(!arguments.length){return this._props}return this};e.prototype.setProperties=function(p){O.extend(true,this._props,p);return this};e.prototype.width=function(w){if(!arguments.length){return this._width}this._width=w;return this};e.prototype.height=function(h){if(!arguments.length){return this._height}this._height=h;return this};e.prototype.size=function(s){if(!arguments.length){return{width:this._width,height:this._height}}this._width=s.width;this._height=s.height;return this};e.prototype.setBindingFields=function(_){this._bindingFields=_;return this};e.prototype.parent=function(p){if(!arguments.length){return this._parent}this._parent=p;return this};e.prototype.getParent=function(){return this._parent};e.prototype._getTitleText=function(){var t="";if(T.isString(this._props.title.text)){t=this._props.title.text}else if(this._bindingFields){t=this._constructTitle(this._bindingFields)}else{t=D}return t};e.prototype._constructTitle=function(h){var t=h.map(function(o){return o.name||o.id});var d=[];var i;for(i=0;i<t.length;i++){if(h&&h.length>1&&h[i].id===M&&h[i].data.length===1){continue}else{d.push(t[i])}}return d.join(" / ")};e.prototype._getTitlePreferredSize=function(){this._getThemeStyleDef();var p={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this._props.title.visible){var t=parseInt(this._titleFont.fontsize,10);var l="font-size:"+this._titleFont.fontsize+"; font-weight:"+this._titleFont.fontweight+"; font-family:"+this._titleFont.fontfamily+"; font-style:"+this._titleFont.fontstyle;var d=this._getTitleText();p={maxWidth:c.measure(d,l).width,maxHeight:t*(1+this._titleMarginBottom),minWidth:c.measure("M...",l).width,minHeight:t*(1+this._titleMarginBottom)}}return p};e.prototype.data=function(){return this};e.prototype.destroy=function(){this._width=0;this._height=0;this._props=null;this._title=null;this._parent=null;this._ctx.destroy()};e.prototype.getPreferredSize=function(){var r={width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this._props.visible){var t=this._getTitlePreferredSize();var d=this._getBodyPreferredSize();r={width:(t.maxWidth>d.maxWidth?t.maxWidth:d.maxWidth),height:t.maxHeight+d.maxHeight,maxWidth:(t.maxWidth>d.maxWidth?t.maxWidth:d.maxWidth),maxHeight:t.maxHeight+d.maxHeight,minWidth:(t.minWidth>d.minWidth?t.minWidth:d.minWidth),minHeight:t.minHeight+d.minHeight}}return r};e.prototype._isVisible=function(){return this._props.visible&&this._width>0&&this._height>0};e.prototype._getThemeStyleDef=function(){var t;t={"fill":this._props.title.style.color,"font-family":this._props.title.style.fontFamily,"font-size":this._props.title.style.fontSize,"font-weight":this._props.title.style.fontWeight,"font-style":this._props.title.style.fontStyle};if(t){if(t['fill']){this._titleFont.color=t['fill']}if(t['font-family']){this._titleFont.fontfamily=t['font-family']}if(t['font-size']){this._titleFont.fontsize=t['font-size']}if(t['font-weight']){this._titleFont.fontweight=t['font-weight']}if(t['font-style']){this._titleFont.fontstyle=t['font-style']}}};return e});define('sap/viz/chart/elements/manifests/legend/BaseLegend',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/legend/BaseLegend'],function Setup(M,C){var m={'id':'sap.viz.chart.elements.legend.base','type':C.Type.Supplementary,'name':'Base legend','description':'The legend is a box containing a symbol and name for each series item or point item in the chart.','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of legend.'},'title':{'name':'title','cssClass':'.viz-legend-title.v-title','description':'Settings for legend title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of legend title.'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set text of legend title.'},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#000000','description':'Set the color of the legend title.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the legend title.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'14px','description':'Set the font size of the legend title.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'bold','description':'Set the font weight of the legend title.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the legend title.'}}},'label':{'name':'label','cssClass':'.viz-legend-valueLabel.v-label','description':'Settings for the labels on this legend.','supportedValueType':'Object','supportedValues':{'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#000000','description':'Set the color of the legend title.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the legend title.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'12px','description':'Set the font size of the legend title.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the legend title.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style for the labels on this legend.'}}}},'css':{'.viz-legend-title.v-title':{'description':'Define style for the legend title.','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-legend-valueLabel.v-label':{'description':'Define style for the legend label.','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},'configure':null};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/util/DrawUtil',['sap/viz/base/utils/TypeUtils'],function Setup(T){var D={};D.createMarkerData=function(p){var a;var t=p.borderWidth/2;switch(p.type){case"circle":a="M"+(-p.rx-t)+",0 A"+(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(p.rx+t)+",0 A";a+=(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(-p.rx-t)+",0z";break;case"cross":a="M"+(-p.rx-t)+","+(-p.ry/3-t)+"H"+(-p.rx/3-t)+"V"+(-p.ry-t)+"H"+(p.rx/3+t);a+="V"+(-p.ry/3-t)+"H"+(p.rx+t)+"V"+(p.ry/3+t)+"H"+(p.rx/3+t);a+="V"+(p.ry+t)+"H"+(-p.rx/3-t)+"V"+(p.ry/3+t)+"H"+(-p.rx-t)+"Z";break;case"diamond":a="M0,"+(-p.ry-t)+"L"+(p.rx+t)+",0"+" 0,"+(p.ry+t)+" "+(-p.rx-t)+",0"+"Z";break;case"square":a="M"+(-p.rx-t)+","+(-p.ry-t)+"L"+(p.rx+t)+",";a+=(-p.ry-t)+"L"+(p.rx+t)+","+(p.ry+t)+"L"+(-p.rx-t)+","+(p.ry+t)+"Z";break;case"triangle-down":case"triangleDown":a="M0,"+(p.ry+t)+"L"+(p.rx+t)+","+-(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-up":case"triangleUp":a="M0,"+-(p.ry+t)+"L"+(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+(p.ry+t)+"Z";break;case"triangle-left":case"triangleLeft":a="M"+-(p.rx+t)+",0L"+(p.rx+t)+","+(p.ry+t)+" "+(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-right":case"triangleRight":a="M"+(p.rx+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"intersection":a="M"+(p.rx+t)+","+(p.ry+t)+"L"+(p.rx/3+t)+",0L"+(p.rx+t)+","+-(p.ry+t)+"L";a+=(p.rx/2-t)+","+-(p.ry+t)+"L0,"+(-p.ry/3-t)+"L"+(-p.rx/2+t)+","+-(p.ry+t)+"L";a+=-(p.rx+t)+","+-(p.ry+t)+"L"+-(p.rx/3+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+"L";a+=(-p.rx/2+t)+","+(p.ry+t)+"L0,"+(p.ry/3+t)+"L"+(p.rx/2-t)+","+(p.ry+t)+"Z";break;case'squareWithRadius':var r=p.rx;var b=r-3;a="M0,"+-r+"L"+-b+","+-r+"Q"+-r+","+-r+" "+-r+","+-b+"L"+-r+","+b+"Q"+-r+","+r+" "+-b+","+r;a+="L"+b+","+r+"Q"+r+","+r+" "+r+","+b+"L"+r+","+-b+"Q"+r+","+-r+" "+b+","+-r+"Z";break}return a};function g(p){var r;switch(p.type){case"circle":r="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":r="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":r="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":case"triangleDown":case"triangleUp":case"triangleLeft":case"triangleRight":r="M0,0L0,0 0,0Z";break;case"intersection":r="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case'squareWithRadius':r="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":r="M0,0L0,0L0,0L0,0Z";break;default:r="M0,0L0,0L0,0L0,0Z";break}return r}D.createElements=function(d,p){return d.append("path").attr("class",p.className)};D.createElement=function(d,p,e){var a=d.append("path").attr("class",p.className);p.node=a;D.drawGraph(p,e);return a};D.drawGraph=function(p,e,a){return D.updateGraph(p,e,a,D.createGraph(p))};D.createGraph=function(p){var a={type:p.graphType,rx:Math.round(p.rx),ry:Math.round(p.ry),borderWidth:p.borderWidth?Math.round(p.borderWidth):0};return D.createMarkerData(a)};D.updateGraph=function(p,e,a,d){var b={type:p.graphType,rx:Math.round(p.rx),ry:Math.round(p.ry),borderWidth:p.borderWidth?Math.round(p.borderWidth):0};var c;if(p.visibility==='hidden'){c=0}else{c=1}var f;if(p.fillId){f=p.fillId}else{f=e?e.register(p,a):p.fillColor}if(p.animateTime&&p.animateTime>0){p.node.each(function(){this.setAttribute("class",p.className);if(!this.getAttribute("fill")){this.setAttribute("fill",f)}this.setAttribute("stroke-width",p.borderWidth);this.setAttribute("stroke",p.borderColor);this.setAttribute("opacity",c);this.setAttribute("stroke-opacity",p.strokeOpacity);if(!this.getAttribute("d")){this.setAttribute("d",g(b))}});var t=p.node.transition().duration(p.animateTime).attr("fill",f).each('end',p.endFunc);if(d){t.attr("d",d)}}else{p.node.each(function(){this.setAttribute("class",p.className);this.setAttribute("fill",f);if(f!=="transparent"){this.setAttribute("stroke-width",p.borderWidth);this.setAttribute("stroke",p.borderColor);if(!a){this.setAttribute("opacity",c)}}this.setAttribute("stroke-opacity",p.strokeOpacity);if(d){this.setAttribute("d",d)}})}return p.node};D.rgb2Hex=function(r){return"#"+((1<<24)+(r.r<<16)+(r.g<<8)+r.b).toString(16).slice(1)};D.hex2Rgb=function(c){var r=parseInt(c.slice(1),16);return{r:r>>16,g:r>>8&0xff,b:r&0xff}};D.highlightProperties={attributeOpacityName:'fill-opacity',attributeColorName:'fill',strokeWidth:1,selectedOpacity:1,unSelectedOpacity:0.4,recoveryOldAttributes:false};D.resetHighlightProperties=function(){D.highlightProperties={};D.highlightProperties.attributeOpacityName='fill-opacity';D.highlightProperties.attributeColorName='fill';D.highlightProperties.strokeWidth=1;D.highlightProperties.selectedOpacity=1;D.highlightProperties.unSelectedOpacity=0.4;D.highlightProperties.recoveryOldAttributes=false};D.getNodeAttributeValue=function(n,a){return n.getAttribute(a)};D.getColorString=function(n,a){var c=(a)?a:D.highlightProperties.attributeColorName;var b=n.getAttribute(c);if(b.indexOf('url')!==-1){var u=b.substring(b.indexOf('#'),b.indexOf(')'));var d=d3.selectAll(u);if(!d.empty()){var e=d.selectAll('stop');if(!e.empty()){b=e[0][e[0].length-1].getAttribute('stop-color')}}}return b};D.colorLinerTransform=function(r,l,c){var o=r.color2rgba(c);var f=1,a=0;f=l.factor;a=l.constant;return{r:Math.round(o.r*f+a),g:Math.round(o.g*f+a),b:Math.round(o.b*f+a)}};D.nodeDecoration=function(n,d){if(n&&d){for(var p in d){if(d.hasOwnProperty(p)){n.setAttribute(p,d[p])}}}};D.nodeHighlight=function(n,l,b,r,h){var c=D.getColorString(n,D.highlightProperties.attributeColorName);if(r){if(!D.highlightProperties.hoverBorderColor&&!D.highlightProperties.selectedBorderColor){var a=D.colorLinerTransform(r,l,c);n.setAttribute('stroke',D.rgb2Hex(a))}else{if(h){n.setAttribute('stroke',D.highlightProperties.hoverBorderColor)}else{n.setAttribute('stroke',D.highlightProperties.selectedBorderColor)}}n.setAttribute('stroke-width',b);if(!h){n.setAttribute(D.highlightProperties.attributeOpacityName,D.highlightProperties.selectedOpacity)}}};D.nodesHighlight=function(n,l,r,h){if(!T.isArray(n)){n=[n]}for(var i=0;i<n.length;i++){if(h){D.nodeHighlight(n[i],l,D.highlightProperties.strokeWidth*2,r,h)}else{D.nodeHighlight(n[i],l,D.highlightProperties.strokeWidth,r,h)}}};D.nodesUnhighlight=function(n,s,a){if(!T.isArray(n)){n=[n]}for(var i=0;i<n.length;i++){if(s){n[i].setAttribute('stroke-width',D.highlightProperties.strokeWidth);if(D.highlightProperties.selectedBorderColor){n[i].setAttribute('stroke',D.highlightProperties.selectedBorderColor)}}else{if(D.highlightProperties.recoveryOldAttributes&&D.highlightProperties.recoveryPropsBag){for(var p in D.highlightProperties.recoveryPropsBag){if(D.highlightProperties.recoveryPropsBag.hasOwnProperty(p)){n[i].setAttribute(p,D.highlightProperties.recoveryPropsBag[p])}}}else{n[i].setAttribute('stroke','none');if(a){n[i].setAttribute(D.highlightProperties.attributeOpacityName,D.highlightProperties.selectedOpacity)}else{n[i].setAttribute(D.highlightProperties.attributeOpacityName,D.highlightProperties.unSelectedOpacity)}}}}};return D});define('sap/viz/chart/elements/scale/ColorShapeScale',[],function(){var C=function(a,s){this.__className="sap.viz.chart.elements.scale.ColorShapeScale";this._defaultShape='squareWithRadius';this._defaultColor='#748cb2';this._items=this._mergeScale(a,s)||[]};C.prototype.append=function(o){if(o){this._items=this._items.concat(o._items)}return this};C.prototype.getLength=function(){return this._items.length};C.prototype.getItem=function(i){return this._items[i]};C.prototype.each=function(f){this._items.forEach(function(i,a){f(i,a)})};C.prototype._mergeScale=function(d,s){var h=s&&(typeof s)!=='string'&&s.getDomain(),e=d&&(typeof d)!=='string',i,l;if(e||h){var t,r=[],f;if(e&&h){t=_([d.getDomain(),s.getDomain()],function(a,b){return a.concat(b)});r=_([c(d),c(s)],function(a,b){return{color:a,shape:b}})}else if(e&&!h){t=d.getDomain();f=c(d);for(i=0,l=t.length;i<l;i++){var g;if((typeof s)==='string'){g=s}else if(s&&s.getRange()&&s.getRange()[0]){g=s.getRange()[0]}else{g=this._defaultShape}r.push({color:f[i],shape:g})}}else{t=s.getDomain();f=c(s);for(i=0,l=t.length;i<l;i++){r.push({color:(d[0]?d[0]:this._defaultColor),shape:f[i]})}}return t.map(function(a,b){var j=r[b];return{data:a,color:j.color,shape:j.shape}})}};var _=function(a,m){var r=a[0],s=' / ';var f=function(b,m){var d=r,e;r=[];for(var i=0;i<d.length;i++){for(var j=0;j<b.length;j++){e=m(d[i],b[j]);r.push(e)}}};for(var i=1;i<a.length;i++){f(a[i],m)}return r};var c=function(s){var t=s.getRange();var r=t.concat([]);var d=s.getDomain();var i,l;if(r.length<d.length){l=t.length;for(i=l;i<d.length;i++){r.push(t[i%l])}}return r.splice(0,d.length)};return C});define('sap/viz/chart/elements/legend/ScrollBar',['sap/viz/base/utils/Objects'],function Setup(O){var S=function(){this._props={contentSize:0,size:0,vertical:true},this._scrollPosition=0;this._factor=undefined;this._wrapper=undefined;this._startPos=undefined;this._barSize=10;this._maxScrollPosition=0};S.prototype.render=function(s){var w=s.selectAll('g');if(w.empty()){w=s.append('g')}var c=w.selectAll('rect');if(c.empty()){c=w.append('rect').attr('fill','gray').attr('rx',this._barSize/2).attr('ry',this._barSize/2)}this._scrollbarWrapper=c;this._factor=this._props.size/this._props.contentSize;var d=this._factor*this._props.size;this._maxScrollPosition=this._props.size-d;if(this._props.vertical){c.attr('width',this._barSize).attr('height',d).attr('transform','translate( 0,'+this._scrollPosition+')')}else{c.attr('width',d).attr('height',this._barSize).attr('transform','translate('+this._scrollPosition+', 0)')}var t=this;c.on('mousedown',function(){_.call(t,arguments)}).on('mousemove',function(){a.call(t,arguments)}).on('mouseup',function(){b.call(t,arguments)}).on('mouseleave',function(){b.call(t,arguments)});return w};S.prototype.setProperties=function(p){O.extend(true,this._props,p);return this};S.prototype.remove=function(){this._wrapper.remove();this._factor=undefined};var _=function(){if(this._props.vertical){this._startPos=d3.event.y}else{this._startPos=d3.event.x}this._scrollbarWrapper.attr('fill','blue')};var a=function(e){var c;if(this._startPos!==undefined){if(this._props.vertical){c=this._scrollPosition+(d3.event.y-this._startPos);if(c>=0&&c<=this._maxScrollPosition){this._startPos=d3.event.y;this._scrollPosition=c;this._scrollbarWrapper.attr('transform','translate(0, '+this._scrollPosition+')')}}else{c=this._scrollPosition+(d3.event.x-this._startPos);if(c>=0&&c<=this._maxScrollPosition){this._startPos=d3.event.x;this._scrollPosition=c;this._scrollbarWrapper.attr('transform','translate('+this._scrollPosition+', 0)')}}}};var b=function(){this._startPos=undefined;this._scrollbarWrapper.attr('fill','gray')};var g=function(){if(d3.event){return d3.event}else{return window.event}};return S});define('sap/viz/chart/elements/data/MeasureNamesDimension',[],function(){return{EMPTY:{},BIND_ID:"MeasureNamesDimension"}});define('sap/viz/chart/elements/data/Utils',['./MeasureNamesDimension',"sap/viz/lang/langManager"],function(M,l){var a=M.BIND_ID;var u={};u.stringify=function(s){if(s!=null){return"_"+s}else{return"null"}};u.parse=function(s){if(s.indexOf("_")===0){return s.substring(1)}else{return null}};u.valuesToString=function(v){var r="";for(var i=0;i<v.length;++i){if(i!==0){r+="/"}r+=u.stringify(v[i])}return r};u.getMNDIndex=function(f){if(f){for(var i=0,b=f.length;i<b;i++){if(f[i].id===a){return i}}}return-1};u.getDisplayTextsConverter=function(f,m){if(m===void 0){m=u.getMNDIndex(f)}return function(s){return s.map(function(b,i){if(i===m){var c=b;if(f[m].data[s[m]]){c=f[m].data[s[m]].name||b}return c}if(b===null){return l.get('IDS_ISNOVALUE')}return b})}};return u});define('sap/viz/chart/elements/legend/ColorLegend',['sap/viz/base/utils/oo','sap/viz/chart/elements/legend/BaseLegend','sap/viz/util/TextUtils','sap/viz/util/DrawUtil','sap/viz/chart/elements/scale/ColorShapeScale','sap/viz/chart/elements/legend/ScrollBar','sap/viz/base/utils/TypeUtils','sap/viz/chart/elements/data/Utils'],function(a,B,T,D,C,S,b,c){var e='v-legend-item',f='v-indicatedRect';var g=function(m,d){g.superclass.constructor.apply(this,arguments);this._labelFont={'fontfamily':this._props.label.style.fontFamily,'fontsize':this._props.label.style.fontSize,'fontweight':this._props.label.style.fontWeight,'color':this._props.label.style.color,'fontstyle':this._props.label.style.fontStyle};this._hovershadow=this._props.hoverShadow.color;this._colorLA_colorLabelSize=1;this._colorLA_markerMargin={right:0.5,bottom:0.5,left:1,top:0};this._maxItemsNum=12;this._maxItemTextWidth=80;this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._scrollBar=undefined;this._eachItemWidth=undefined};a.extend(g,B);function u(s,d,i){if(s==null){return}for(var j=0;j<d.length;j++){if(parseInt(j/i,10)===(d.length/i-1)){d[j].semanticContext={type:"default",rule:s.rules}}else{d[j].semanticContext={type:"semanticRule",rule:s.rules[parseInt(j/i,10)]}}}}g.prototype.setColorScale=function(d){this._colorScale=d;this._colorScale=this._updateSemanticStyle(this._colorScale);this._colorShapeScale=null;return this};g.prototype._updateSemanticStyle=function(d){if(d&&d.updateSemantic){this.semanticStyle=d.getSemanticStyle();return d.updateSemantic()}return d};g.prototype.setShapeScale=function(s){this._shapeScale=s;return this};g.prototype._isVisible=function(){return g.superclass._isVisible.apply(this,arguments)&&l.call(this)};g.prototype.render=function(s){this._hovershadow=this._props.hoverShadow.color;g.superclass.render.apply(this,arguments);if(!this._isVisible()){s.selectAll('g.v-content').remove();return this}var p=this._parent=s;var t=this;var k=parseInt(this._labelFont.fontsize,10),m="font-size:"+this._labelFont.fontsize+';font-weight:'+this._labelFont.fontweight+";font-family:"+this._labelFont.fontfamily+";font-style:"+this._labelFont.fontstyle,n=this._colorLA_colorLabelSize*k;var q=p.selectAll('g.v-content').data(['content']);q.enter().append('g').classed('v-content',true);q.exit().remove();q.attr('transform','translate(0, '+this._pos.y+')');var r=q.selectAll('g.v-groups').data(['groups']);r.enter().append('g').classed('v-groups',true).classed('v-label',true).classed('viz-legend-valueLabel',true);r.exit().remove();r.attr('font-size',this._labelFont.fontsize).attr('font-family',this._labelFont.fontfamily).attr('font-weight',this._labelFont.fontweight).attr('fill',this._labelFont.color).attr('font-style',this._labelFont.fontstyle);var v=this._colorShapeScale.getLength(),w=this._eachRowHeight,x=this._getAvailableDomain();var y=1;if(this._shapeScale&&this._shapeScale.getDomain&&this._shapeScale.getDomain()&&this._shapeScale.getDomain().length){y=this._shapeScale.getDomain().length}u(this.semanticStyle,x,y);var z=r.selectAll("."+f);if(z.empty()){z=r.append('rect').attr('class',f)}z.attr('width',this._eachItemWidth+5).attr('height',w).attr('visibility','hidden');var A=r.selectAll('g.v-row').data(x);A.enter().append('g');A.exit().remove();A.classed('v-row',true).attr('transform',function(d,i){return'translate ('+d.pos.x+','+d.pos.y+')'});var E=this._props;var F=A.selectAll('path').data(['shape']);F.enter().append('path');F.exit().remove();F.attr('transform',function(d,i,j){var o=x[j];var M=o.val;D.drawGraph({drawingEffect:t._props.drawingEffect,borderWidth:0,rx:n/2,ry:n/2,direction:'vertical',fillColor:o.color,graphType:o.shape,borderColor:"transparent",node:d3.select(this)},t._ctx.effectManager);return'translate('+n/2+','+n/2+')'});var G=A.selectAll('text').data(['text']);var H=this._eachItemWidth-(n+this._colorLA_markerMargin.right*k),I=n+this._colorLA_markerMargin.right*k,J=k;if(this._props.orientation==='horizontal'){H=H-this._colorLA_markerMargin.left*k;H=Math.min(H,this._width)}G.enter().append('text');G.exit().remove();G.attr('x',I).attr('y',J);G.each(function(d,i,j){T.ellipsis(h.call(t,x[j].val),this,H,m)});var K=A.selectAll('rect').data(['rect']);K.enter().append('rect').attr('class',e);K.exit().remove();K.attr('width',this._eachItemWidth).attr('height',w).attr('fill','rgba(255, 255, 255, 0)');K.each(function(){var d=this.parentNode.getElementsByTagName("text");if(d.length===0){return}var i=d[0];while(this.childNodes.length!==0){this.removeChild(this.childNodes[0])}var j=i.getElementsByTagName("title")[0];if(j!=null&&j.textContent!==""){this.appendChild(j)}});var L=q.selectAll('.v-overflow');if(x.length>0&&x.length<v){if(!this._props.isScrollable){if(L.empty()){L=q.append('text').attr('class','v-overflow').text('...')}L.attr('x',this._width/2).attr('y',x[x.length-1].pos.y+2*k+this._colorLA_markerMargin.bottom*k)}else{if(L.empty()||this._scrollBar===undefined){L=q.append('g').attr('class','v-overflow');this._scrollBar=new S()}this._scrollBar.setProperties({size:x.length*w+k,contentSize:v*w}).render(L);L.attr('transform','translate('+(this._width-10)+', 0)')}}else{if(!L.empty()){L.remove();this._scrollBar=undefined}}return this};g.prototype._getAvailableDomain=function(){var d=this._colorShapeScale;function m(o,n,F){var I={};for(var i=o.length;i--;){if(!(F&&i===0)){I[n[i]]=o[i]}}return I}var n=this._bindingFields.map(function(o){return o.id});var t=parseInt(this._labelFont.fontsize,10),p=this._colorLA_markerMargin.bottom*t,q=this._eachRowHeight,r=0;var s=[],v,w,j,k,x=0,y=0,z=0;if(this._props.orientation==='horizontal'){r=Math.max(Math.floor(this._width/this._eachItemWidth),1)}for(var i=0,A=d.getLength();i<A;i++){var E=d.getItem(i);v=E.data;var F=false;if(this.semanticStyle&&!b.isEmptyObject(this.semanticStyle)){F=true}w=m(v,n,F);var G=E.color;var H=E.shape;if(this._props.orientation==='horizontal'){if(z===r){x=0;z=0;y=y+q}if((A-i>r)&&(y+q+t>this._height-this._pos.y)){break}else{s.push({val:v,ctx:w,pos:{x:x,y:y},color:G,shape:H});z++;x=x+this._eachItemWidth}}else{if(q*(i+1)-p>this._height-this._pos.y){if(!this._props.isScrollable){s.pop()}break}else{s.push({val:v,ctx:w,pos:{x:0,y:q*i},color:G,shape:H})}}}return s};g.prototype.destroy=function(){g.superclass.destroy.apply(this,arguments);this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null};g.prototype.getPreferredSize=function(){this._initColorShapeScale();if(!l.call(this)){return{width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}}return g.superclass.getPreferredSize.apply(this,arguments)};g.prototype._getBodyPreferredSize=function(){this._getThemeStyleDef();var m=0,d=0,j=0,k=0;var n=this._colorShapeScale.getLength();var o=0;if(n>0){var p="font-size:"+this._labelFont.fontsize+';font-weight:'+this._labelFont.fontweight+";font-family:"+this._labelFont.fontfamily+";font-style:"+this._labelFont.fontstyle;var t=parseInt(this._labelFont.fontsize,10);var q=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*t;var r=[],x=0,y=0;var s=this._eachRowHeight=t*(1+this._colorLA_markerMargin.bottom);this._colorLA_rowPosArr=[];var i,v,_=200,w=200,z,A;if(this._width!==0){w=this._width}if(this._height!==0){_=this._height}if(this._props.orientation==='horizontal'){z=0;for(i=0;i<n;i++){if(i<this._maxItemsNum){A=T.measure(h.call(this,this._colorShapeScale.getItem(i).data),p);if(A.width>z){z=A.width}}else{break}}if(z>this._maxItemTextWidth){z=this._maxItemTextWidth}var E=q+z+this._colorLA_markerMargin.left*t,F=Math.max(Math.floor(w/E),1),G=Math.ceil(n/F);this._eachItemWidth=E;d=(F>n)?(n*E):(F*E);m=G*t+(G-1)*t*this._colorLA_markerMargin.bottom;j=q+Math.min(T.measure('...',p).width,z);if(n>F){k=t*2+t*this._colorLA_markerMargin.bottom}else{k=t}}else{var H=Math.floor(_/s);var I=H<n?H:n;z=0;for(i=0,v=I;i<v;i++){A=T.measure(h.call(this,this._colorShapeScale.getItem(i).data),p);if(A.width>z){z=A.width}}this._eachItemWidth=this._width;d=q+z;j=q+Math.min(T.measure('M...',p).width,z);k=s+(n>1?t:0);m=s*n}}return{maxWidth:d,maxHeight:m,minWidth:j,minHeight:k}};g.prototype._initColorShapeScale=function(){if(!this._colorShapeScale){if(this._colorScale){this._colorShapeScale=new C(this._colorScale,this._shapeScale)}}};g.prototype._getThemeStyleDef=function(){g.superclass._getThemeStyleDef.apply(this,arguments);var v;v={"fill":this._props.label.style.color,"font-family":this._props.label.style.fontFamily,"font-size":this._props.label.style.fontSize,"font-weight":this._props.label.style.fontWeight,"font-style":this._props.label.style.fontStyle};if(v){if(v['fill']){this._labelFont.color=v['fill']}if(v['font-family']){this._labelFont.fontfamily=v['font-family']}if(v['font-size']){this._labelFont.fontsize=v['font-size']}if(v['font-weight']){this._labelFont.fontweight=v['font-weight']}if(v['font-style']){this._labelFont.fontstyle=v['font-style']}}};g.prototype.setBindingFields=function(_){g.superclass.setBindingFields.apply(this,arguments);this._mndIndex=c.getMNDIndex(this._bindingFields);if(this._mndIndex>=0){this._measureCount=Object.keys(this._bindingFields[this._mndIndex].data).length}this._displayTextsConverter=c.getDisplayTextsConverter(this._bindingFields,this._mndIndex);return this};var h=function(v){var t=this._displayTextsConverter(v);if(!(this.semanticStyle&&!b.isEmptyObject(this.semanticStyle))){if(this._mndIndex>=0&&this._bindingFields.length>1&&this._measureCount===1){t.splice(this._mndIndex,1)}}return t.join(" / ")};function l(){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0}return g});define('sap/viz/chart/elements/manifests/legend/ColorLegend',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/legend/BaseLegend','sap/viz/chart/elements/legend/ColorLegend'],function Setup(M,C,B,f){var m={'id':'sap.viz.chart.elements.legend.colorLegend','type':C.Type.Supplementary,'base':'sap.viz.chart.elements.legend.base','name':'Color legend','description':'The legend is a box containing a symbol and name for each series item or point item in the chart.','properties':{'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':null,'description':'Set format string of legend. Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.','isExported':false},'isScrollable':{'name':'isScrollable','supportedValueType':'Boolean','defaultValue':false,'description':'Set scrollable legend. Switch on/off scrollable legend.  If it is switched off, "..." will be used instead when there is no enough room to fit in all legend items.','isExported':false},'alignment':{'name':'alignment','supportedValueType':'String','supportedValues':['start','middle','end'],'defaultValue':'start','description':'Set alignment of legend.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of legend.','isExported':true,'example':"<a href='"+C.DocExample.SnippetUrl+"9606' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'hoverShadow':{'name':'hoverShadow','cssClass':'.v-hovershadow','description':"Define the color of the hover shadow in legend.",'supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#cccccc'}}}},'css':{'.v-hovershadow':{'description':'Define style for hovershadow in legend.','value':{'fill':'#cccccc'}}},'configure':null,fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/behaviors/info/DesktopMonitor',["jquery","sap/viz/base/UADetector","sap/viz/base/utils/Objects"],function($,U,O){var M=5;var D=function(p,d){this._dispatch=d3.dispatch("select","hover","focus","release","lassostart","lassomove","lassoend","dragstart","dragmove","dragend");this._props={"enableSelect":true,"enableHover":true,"enableFocus":true,"enableRelease":true,"enableLasso":true,"enableDrag":true,"selectability":{"lassoWithCtrlKey":false}};this.setProperties(p);this._eventLayer=null;this.registerEvent(d);this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status="standby"};D.prototype.setProperties=function(_){O.extend(true,this._props,_);return this};D.prototype.registerEvent=function(d){this._eventLayer=d;this._eventLayer.on("mousedown.monitor",this._mousedown.bind(this),true).on("mouseup.monitor",this._mouseup.bind(this)).on("mousemove.monitor",this._mousemove.bind(this)).on("mouseover.monitor",this._preventEvent.bind(this)).on("mouseout.monitor",this._preventEvent.bind(this)).on("dragstart.monitor",this._preventEvent.bind(this)).on("selectstart.monitor",this._preventEvent.bind(this));if(U.isIE()){this._eventLayer.on("mouseleave.monitor",function(){this._mouseleave.call(this,d3.event)}.bind(this))}else{$(this._eventLayer.node()).mouseleave(this._mouseleave.bind(this))}return this};D.prototype.destroy=function(){var d=this._eventLayer;this._eventLayer=null;if(d){d.on("mousedown.monitor",null).on("mouseup.monitor",null).on("mousemove.monitor",null).on("mouseover.monitor",null).on("mouseout.monitor",null).on("dragstart.monitor",null).on("selectstart.monitor",null);if(U.isIE()){d.on("mouseleave.monitor",null)}else{$(d.node()).unbind("mouseleave")}}this._dispatch=null;this._props=null;this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status=null};D.prototype.getDispatch=function(){return this._dispatch};D.prototype.resetStatus=function(){this._startPoint=null;this._focusTarget=null;this._status="standby"};function i(d){return d.which===1}function a(d){return U.os()==='Mac'?d.metaKey:d.ctrlKey}function g(d){return{x:d.clientX,y:d.clientY}}function b(p,d){return Math.sqrt((p.x-d.x)*(p.x-d.x)+(p.y-d.y)*(p.y-d.y))}function c(){if(d3.event){return d3.event}else{return window.event}}function e(t){return"enable"+t.substring(0,1).toUpperCase()+t.substring(1)}D.prototype._preventEvent=function(){var o=c();o.preventDefault();return false};D.prototype._mousedown=function(){var o=c();if(!i(o)){return}this._startPoint=g(o);this._focusTarget=o.target;this._status="focus";this._fireEvent("focus")};D.prototype._mousemove=function(){var o=c();var l=this._lastPoint;var d=g(o);if(l&&(l.x===d.x&&l.y===d.y)){return}this._lastPoint=d;var s=this._status;switch(s){case"standby":this._fireEvent("hover");break;case"focus":if(this._checkMouseDownUpDistance()){var m=this._getMoveEventType(o);this._status=m;this._fireEvent("release",this._startPoint,this._focusTarget);this._fireEvent(m+"start",this._startPoint);this._fireEvent(m+"move")}break;case"lasso":this._fireEvent("lassomove");break;case"drag":this._fireEvent("dragmove");break}};D.prototype._mouseup=function(){var o=c();if(!i(o)){return}var s=this._status;switch(s){case"standby":this._fireEvent("hover");break;case"focus":this._fireEvent("release",this._startPoint,this._focusTarget);this._fireEvent("select",this._startPoint,this._focusTarget);break;case"lasso":this._fireEvent("lassoend");break;case"drag":this._fireEvent("dragend");break}this.resetStatus()};D.prototype._mouseleave=function(){var s=this._status;switch(s){case"lasso":this._fireEvent("lassoend");break;case"drag":this._fireEvent("dragend");break}this.resetStatus()};D.prototype._getMoveEventType=function(d){var r="drag";if(this._isLasso(d)){r="lasso"}return r};D.prototype._isLasso=function(d){var p=this._props;var r=false;if(p.enableLasso){r=true;if(p.selectability.lassoWithCtrlKey&&!a(d)){r=false}}return r};D.prototype._checkMouseDownUpDistance=function(){var t=g(c());if(this._startPoint!==null&&(b(this._startPoint,t)<M)){return false}else{return true}};D.prototype._fireEvent=function(t,p,f,h){var o=c();if(!o&&h){o=h}var j={name:t,data:{point:p?p:g(o),target:f?f:o.target,ctrlKey:a(o)}};var k=this._props;var d=this._dispatch;if(["select","hover","focus","release"].indexOf(t)>-1){var l=e(t);if(this._props[l]){this._dispatch[t](j)}}else{this._dispatch[t](j)}};return D});define('sap/viz/chart/elements/behaviors/info/MobileMonitor',["jquery","sap/viz/base/UADetector","sap/viz/mvc/PanGestureDetector","sap/viz/mvc/GestureDetector","sap/viz/base/utils/Objects"],function($,U,P,G,O){var M=5;var a=function(d,f,h){this._dispatch=d3.dispatch("select","hover","focus","release","lassostart","lassomove","lassoend","dragstart","dragmove","dragend");this._props={"enableSelect":true,"enableHover":false,"enableFocus":true,"enableRelease":true,"enableLasso":true,"enableDrag":true,"enablePan":true};this.setProperties(d);this._eventLayer=null;this.registerEvent(f,h);this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status="standby";this._panDetector=null};a.prototype.setProperties=function(_){O.extend(true,this._props,_);this._props.enableDrag=!!this._props.enablePan;return this};a.prototype.registerEvent=function(d,f){this._eventLayer=d;if(!this._panDetector){this._panDetector=new P();this._panDetector.addGestureAction(this._panHandler.bind(this));this._panDetector.enable(true);f.addGestureDetector(this._panDetector)}if(U.isWindowsSurface()){this._eventLayer.on("pointerdown.monitor",this._touchStart.bind(this),true).on("pointerup.monitor",this._touchEnd.bind(this))}else{this._eventLayer.on("touchstart.monitor",this._touchStart.bind(this),true).on("touchend.monitor",this._touchEnd.bind(this))}return this};a.prototype.destroy=function(){var d=this._eventLayer;this._eventLayer=null;if(d){if(U.isWindowsSurface()){d.on("pointerdown.monitor",null).on("pointerup.monitor",null)}else{d.on("touchstart.monitor",null).on("touchend.monitor",null)}}this._dispatch=null;this._props=null;this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status=null;this._panDetector=null};a.prototype.getDispatch=function(){return this._dispatch};function g(d){return{x:d.clientX,y:d.clientY}}function b(d,f){return Math.sqrt((d.x-f.x)*(d.x-f.x)+(d.y-f.y)*(d.y-f.y))}function t(d){var f=g(d);return document.elementFromPoint(f.x,f.y)}a.prototype._checkMouseDownUpDistance=function(){var d=c();p(d);var f=g(d.touches[0]);if(this._startPoint!==null&&(b(this._startPoint,f)<M)){return false}else{return true}};a.prototype.resetStatus=function(){this._startPoint=null;this._focusTarget=null;this._status="standby"};function p(d){if(d.type==="pointerdown"||d.type==="pointermove"||d.type==="pointerup"||d.type==="pointercancel"){var f={clientX:d.clientX,clientY:d.clientY,pageX:d.pageX,pageY:d.pageY,screenX:d.screenX,screenY:d.screenY,identifier:d.pointerId,target:d.target};d.touches=[f];d.changedTouches=[f];d.targetTouches=[f]}}a.prototype._touchStart=function(){var s=this._status;if(s==="lasso"||s==="drag"){this._fireEvent(s+"end")}var d=c();p(d);var f=d.touches[0];if(this._startPoint&&this._focusTarget){this._fireEvent("release",this._startPoint,this._focusTarget)}this._startPoint=g(f);this._focusTarget=t(f);this._status="focus";this._fireEvent("hover");this._fireEvent("focus");if(d.touches.length>1||this._props.enableDrag){this._preventEvent()}};a.prototype._touchEnd=function(){var d=c();p(d);var s=this._status;switch(s){case"focus":this._fireEvent("release",this._startPoint,this._focusTarget);this._fireEvent("select",this._startPoint,this._focusTarget);break;case"lasso":case"drag":var f=d.changedTouches[0],h=g(f),i=t(f);this._fireEvent(s+"end",h,i);break}this.resetStatus();if(d.touches.length>1||this._props.enableDrag){this._preventEvent()}};a.prototype._panHandler=function(d){if(d.state!==G.TransitionState.Changed&&d.state!==G.TransitionState.Ended){return}var s=this._status;if(s==="standby"){return}var f=d._isLasso?"lasso":"drag";var h=c();if(U.isWindowsSurface()&&f==="drag"&&h.pointerType==="mouse"){return}p(h);var i=h.touches[0];var j=g(i);var k=t(i);var l=this._lastPoint;if(l&&(l.x===j.x&&l.y===j.y)){return}this._lastPoint=j;switch(s){case"focus":if(this._checkMouseDownUpDistance()&&d.state===G.TransitionState.Changed){this._status=f;this._fireEvent("release",this._startPoint,this._focusTarget);this._fireEvent(f+"start",this._startPoint);this._fireEvent(f+"move")}break;case"lasso":case"drag":if(!o(k)){this._fireEvent(s+"end",j,this._eventLayer.select(".v-eventLayer").node());this.resetStatus()}else{this._fireEvent(s+"move",j,k)}break}if(h.touches.length>1||(this._status==="drag"&&this._props.enableDrag)||this._status==="lasso"){this._preventEvent()}};function o(d){if(!d||!d.getAttribute){return false}if(d.getAttribute("class")==="v-m-root"){return true}else if(d.parentNode){return o(d.parentNode)}return false}function c(){if(d3.event){return d3.event}else{return window.event}}function e(d){return"enable"+d.substring(0,1).toUpperCase()+d.substring(1)}a.prototype._preventEvent=function(){var d=c();d.preventDefault();return false};a.prototype._fireEvent=function(f,h,i){var j=c();var k=j.touches&&j.touches[0]?j.touches[0]:{};var l,m;if(h){l=h}else{l={x:k.clientX,y:k.clientY}}if(i){m=i}else{m=j.target}var n={name:f,data:{point:l,target:m}};var q=this._props;var d=this._dispatch;if(["select","hover","focus","release"].indexOf(f)>-1){var r=e(f);if(this._props[r]){this._dispatch[f](n)}}else{this._dispatch[f](n)}};return a});define('sap/viz/chart/elements/behaviors/info/BaseBehavior',["sap/viz/base/utils/oo","sap/viz/base/utils/TypeUtils"],function(o,T){var B=function(){this._triggers={};this._triggerHandlers={};this._decorations={};this._props=null;this._chartType=null;this._rootNode=null;this._modules=null;this._data=null;this._dispatch=d3.dispatch()};B.extend=function(s){var a=function(){};if(T.isFunction(s)){a=s}return o.extend(a,B)};B.prototype.setProperties=function(_){this._props=_;return this};B.prototype.setChartType=function(_){this._chartType=_;return this};B.prototype.setRootNode=function(_){this._rootNode=_;return this};B.prototype.setModules=function(_){this._modules=_;return this};B.prototype.setData=function(_){this._data=_;return this};B.prototype.getDispatch=function(){return this._dispatch};B.prototype.initialize=function(){};B.prototype.setSelection=function(){return false};B.prototype.getSelection=function(){return null};B.prototype.registerTrigger=function(t,i){var k=t.key;var c=this._triggers[k];if(!c){c=(this._triggers[k]={})}else if(i){this.clearHandlers(k)}c.event=t.event;c.target=t.target;if(t.matchMode!==undefined){c.matchMode=t.matchMode}if(!this._triggerHandlers[k]){this._triggerHandlers[k]=[]}return this};B.prototype.registerHandler=function(h){var k=h.key;var c=this._triggerHandlers[k];if(!c){return}c.push({fn:h.fn,scope:h.scope});return this};B.prototype.registerTriggerHandler=function(t){this.registerTrigger(t);this.registerHandler(t)};B.prototype.clearTriggers=function(){this._triggerHandlers={};this._triggers={};return this};B.prototype.removeTrigger=function(k){if(this._triggerHandlers[k]){delete this._triggerHandlers[k]}if(this._triggers[k]){delete this._triggers[k]}return this};B.prototype.clearHandlers=function(k){this._triggerHandlers[k]=[];return this};B.prototype.trigger=function(k,e){var c=this._triggerHandlers[k];if(!c){return}var t=this._triggers[k];c.forEach(function(h){h.fn.call(h.scope,e,t)})};B.prototype.getTriggers=function(){return this._triggers};B.prototype.getTrigger=function(k){return this._triggers[k]};B.prototype.runDecoration=function(){var d,a,p;if(arguments.length===0){return}a=arguments[0];[].splice.call(arguments,0,1);p=arguments;d=this._decorations[a]||[];d.forEach(function(b,i){b.fn.apply(b.scope,p)});return this};B.prototype.registerDecoration=function(d){var k=d.name;var c=this._decorations[k];if(!c){c=(this._decorations[k]=[])}c.push({fn:d.fn,scope:d.scope});return this};B.prototype.clearDecorations=function(){this._decorations={}};B.prototype.removeDecoration=function(k){delete this._decoration[k];return this};B.prototype.destroy=function(){this._triggers=null;this._triggerHandlers=null;this._decorations=null;this._props=null;this._chartType=null;this._rootNode=null;this._modules=null;this._data=null};return B});define('sap/viz/modules/util/flattenModules',[],function(){var f=function(a){var t=a.joiner||'.',r={},h=[{key:a.rootKey,value:a.rootNode}];(function walk(p,n){if(n.hasOwnProperty('modules')){var c=n.modules(),l,b=p;for(var k in c){if(c.hasOwnProperty(k)){l={key:p+t+k,value:c[k]};h.push(l);if(c[k].modules){walk(b+t+k,c[k])}}}}})(a.rootKey,a.rootNode);for(var i=0;i<h.length;i++){r[h[i].key]=h[i].value}return r};return f});define('sap/viz/chart/elements/utils/LassoDecoration',['sap/viz/base/UADetector'],function(U){var L=function(p){this._shape=null;this._shapeContainer=null;this._startPoint=null};L.prototype.start=function(p,a){if(this._shape){this._shape.remove();if(this._shapeContainer){this._shapeContainer.remove()}}var P=d3.select(p);if(p.tagName==='DIV'){P=this._shapeContainer=P.append('svg').style({"position":"absolute","left":"0px","top":"0px","width":P.style("width"),"height":P.style("height")})}this._shape=P.append('rect').attr('x',0).attr('y',0).attr('width',0).attr('height',0).attr('pointer-events','none').attr('fill','rgba(64,176,240, 0.4)').style('stroke-width','2px').attr('stroke','rgb(64, 176, 240)');this._startPoint=c(p,a);this._shape.attr('x',this._startPoint.x).attr('y',this._startPoint.y)};function c(p,a){if(U.isFirefox()){p=p.getElementsByClassName('v-eventLayer')[0]}var r=p.getBoundingClientRect();var x=a.x-r.left;var y=a.y-r.top;return{'x':x,'y':y}}L.prototype.moveTo=function(p,a){if(this._startPoint&&this._shape){var s=this._startPoint;var b=c(p,a);var x=Math.min(b.x,s.x);var y=Math.min(b.y,s.y);var w=Math.abs(b.x-s.x);var h=Math.abs(b.y-s.y);this._shape.attr('x',x).attr('y',y).attr('width',w).attr('height',h)}};L.prototype.end=function(p,a){this._shape.remove();if(this._shapeContainer){this._shapeContainer.remove()}};L.prototype.getNode=function(){return this._shape.node()};L.prototype.destroy=function(){this._shape=null;this._startPoint=null};return L});define('sap/viz/util/BoundingBox',[],function Setup(){var c={};c.getBBox=function(n,r){var m;if(arguments.length===1){m=n.getCTM()}else{m=n.getTransformToElement(r)}return c.getBBoxHelp(n,m)};c.getBBoxHelp=function(n,m){var b=n.getBBox();var a=[];var p=d3.select('svg')[0][0].createSVGPoint();p.x=b.x;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y+b.height;a.push(p.matrixTransform(m));p.x=b.x;p.y=b.y+b.height;a.push(p.matrixTransform(m));var d=a[0].x;var e=a[0].x;var f=a[0].y;var g=a[0].y;for(var i=1;i<a.length;i++){var x=a[i].x;var y=a[i].y;if(x<d){d=x}else if(x>e){e=x}if(y<f){f=y}else if(y>g){g=y}}return{x:d,y:f,width:e-d,height:g-f}};c.intersects=function(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height))};c.intersection=function(b,a){if(c.intersects(b,a)){var x=Math.max(b.x,a.x),d=Math.min(b.x+b.width,a.x+a.width),y=Math.max(b.y,a.y),e=Math.min(b.y+b.height,a.y+a.height);return{x:x,y:y,width:d-x,height:e-y}}return null};c.contains=function(b,p){return p.x>=b.x&&p.x<=(b.x+b.width)&&p.y>=b.y&&p.y<=(b.y+b.height)};return c});define('sap/viz/chart/elements/common/SVG',[],function(){var s='http://www.w3.org/2000/svg';return{create:function(t,r,i){var d=r?r.ownerDocument:window.document;var n=r?r.namespaceURI:s;var a=d.createElementNS(n,t);return r?(i?r.parentNode.insertBefore(a,r):r.appendChild(a)):a}}});define('sap/viz/chart/elements/common/DOM',[],function(){return{empty:function(n){var t;while((t=n.firstChild)){n.removeChild(t)}return n},matches:function(n,s){return(n.matches||n.webkitMatchesSelector||n.msMatchesSelector||n.mozMatchesSelector).call(n,s)}}});define('sap/viz/chart/elements/common/DataGraphics',[],function(){var P="__data__";var a="__extra_data__";function f(c){var d=c[0],v=c[1];if(Array.isArray(d)){for(var i=0,l=d.length;i<l;i++){this[d[i]]=v[i]}}else{this[d]=v}}function b(d){var c={};d.forEach(f,c);return c}var D={buildContext:b,setData:function(n,d){n[a]=d},getData:function(n){return n[a]},setContext:function(n,d){var c=Array.isArray(d)?b(d):d;n[P]=c;return c},getContext:function(n){return n[P]}};return D});define('sap/viz/chart/elements/plot/DataPoints',['sap/viz/chart/elements/common/SVG','sap/viz/chart/elements/common/DOM','sap/viz/modules/Constants',"sap/viz/chart/elements/common/DataGraphics"],function(S,D,C,a){var b=C.CSS.CLASS.DATAPOINT,T="g",c=T+"."+b,d=C.CSS.CLASS.DATAPOINTDEFAULT;var e="data-highlighted";var f="data-id";var g={findAll:function(p){return p.querySelectorAll(c)},find:function(p,i){return p.querySelector("["+f+"='"+i+"']")},isDataPoint:function(n){return D.matches(n,c)},getDataId:function(n){return n.getAttribute(f)},highlight:function(n){n.setAttribute(e,"true")},unhighlight:function(n){n.removeAttribute(e)},isHighlighted:function(n){return n.getAttribute(e)==="true"},create:function(p,h){var i=S.create(T,p);i.setAttribute("class",b+' '+d);i.setAttribute(f,h);return i},setContext:function(n,h){return a.setContext(n,h)},getContext:function(n){return a.getContext(n)}};return g});define('sap/viz/chart/elements/behaviors/InteractionHelper',[],function(){var B="extensionPoints";var h={};h.getBoundingBox=function(n){var a=n.getBoundingClientRect();return{x:a.left,y:a.top,height:a.height,width:a.width,right:a.right,bottom:a.bottom}};h.concatByPush=function(a,b){Array.prototype.push.apply(a,b)};h.hasClass=function(n,c){if(!n||!n.getAttribute)return false;var a=n.getAttribute('class')||"";return(' '+a+' ').indexOf(' '+c+' ')>=0};h.addClass=function(n,c){if(this.hasClass(n,c)){return false}var a=n.getAttribute('class')||"";a+=' '+c;n.setAttribute("class",a);return true};h.removeClass=function(n,c){if(!this.hasClass(n,c)){return false}var a=' '+n.getAttribute('class')+' ';a=a.replace(' '+c+' ',' ');n.setAttribute("class",a);return true};h.findAncestor=function(c,s,E){var n=s;while(n!==E&&!h.hasClass(n,c)&&(n=n.parentNode));return n===E?null:n};function r(d){for(var i=d.length-1;i>0;i--){for(var j=i-1;j>=0;j--){if(d[i]===d[j]){d.splice(i,1);break}}}}h.findSeriesForLabel=function(c,d){var t=[],a,b,e,f,g,l;d=d[0].slice(0,d[0].length);c.forEach(function(m,n){if(!m){return}var p=m.path;var i,j,k;for(i=-1;++i<d.length;){a=d[i];e=[];b=d3.select(a).datum();if(!(b instanceof Array)){b=[b]}for(j=-1;++j<b.length;){if(b[j].ctx instanceof Array){Array.prototype.push.apply(e,b[j].ctx)}else{e.push(b[j].ctx)}}for(j=-1;++j<e.length;){f=e[j];if(!f)continue;g=f.path||f[0].path;l=true;if(p===undefined||g===undefined){l=false}else{if(p.aa===undefined){if((p.dii_a1!==undefined&&p.dii_a1!==g.dii_a1)||(p.dii_a2!==undefined&&p.dii_a2!==g.dii_a2)){l=false}}else{if((p.aa===0&&p.dii!==g.dii_a1)||(p.aa===1&&p.dii!==g.dii_a2)){l=false}}if(l&&p.mg!==undefined&&p.mg!==g.mg){l=false}if(l&&p.mi!==undefined&&p.mi!==g.mi){l=false}}if(l){t.push(a);break}}}}.bind(this));r(t);return t};h.findSeriesForLegend=function(c,d){var t=[],a,b,e,p=c.path,f,g,l,m,i,j,k,n;if(!(p instanceof Object)){return[]}if(!(p instanceof Array)){p=[p]}if(!p.length){return[]}for(i=0,n=d[0].length;i<n;i++){a=d[0][i];b=[];l=d3.select(a).datum();if(!(l instanceof Array)){l=[l]}for(j=-1;++j<l.length;){if(l[j].ctx instanceof Array){Array.prototype.push.apply(b,l[j].ctx)}else{b.push(l[j].ctx)}}for(j=-1;++j<b.length;){e=b[j];if(!e)continue;g=e.path;for(k=-1;++k<p.length;){m=true;f=p[k];for(var o in f){if(f[o]instanceof Array){if(f[o].indexOf(g[o])<0){m=false}}else{if(g[o]!==f[o]){m=false}}}if(m){t.push(d[0][i]);break}}if(m){break}}}r(t);return t};h.findPlotNodeContainingNode=function(n){var p=null;var c;while((n=n.parentNode)){if((p=n.querySelector('.v-m-plot'))){break}c=' '+n.getAttribute('class')+' ';if(c.indexOf(" v-m-root ")>=0){break}if(c.indexOf(" v-m-plot")>=0){p=n.querySelector('.v-m-plot')||n;break}}return p};h.findPlotModuleByNode=function(p,n){var a=h.findPlotNodeContainingNode(n);if(a){for(var b in p){if(p.hasOwnProperty(b)){var m=p[b];var c=undefined;if(m.parent&&(c=m.parent())){var d=c.node();if(d===a)return m}}}}};h.callExtensionPoint=function(p,n,c){var e,a={called:false,ret:undefined};if(p[B]){e=p[B][n]}if(e){a.called=true;var b=Array.prototype.splice.call(arguments,3);a.ret=e.apply(c,b)}return a};h.extensionPoint=function(p,n){return p[B]&&p[B][n]};return h});define('sap/viz/chart/elements/csv/line/renderLine',["sap/viz/chart/elements/common/SVG"],function(S){var l=d3.svg.line().defined(function(d){return d!=null}).x(function(d){return d[0]}).y(function(d){return d[1]});return function(c){var a=S.create("path");var g=c.graphic;a.setAttribute("stroke-width",g.width);a.setAttribute("stroke-linejoin","round");a.setAttribute("d",l(c.points));a.setAttribute("fill","none");var d=c.graphic.dash;if(d){a.setAttribute("stroke-dasharray",d)}a.setAttribute("stroke",g.color);return a}});define('sap/viz/chart/elements/csv/line/Constants',[],function(){return{CLASS_NAME_LINE:"v-lines"}});define('sap/viz/chart/elements/behaviors/info/RuntimeDecorationDefinition',['sap/viz/modules/Constants',"sap/viz/chart/elements/plot/DataPoints",'sap/viz/chart/elements/common/SVG',"sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/csv/line/renderLine","sap/viz/util/DrawUtil","sap/viz/base/UADetector","sap/viz/chart/elements/common/DataGraphics","sap/viz/chart/elements/csv/line/Constants"],function(C,D,S,T,r,a,U,b,L){var c='v-indicatedRect';var d="v-lightLine";var f="data-from";var g="data-to";var h=C.CSS.CLASS;var i=function(e,p){if(!e.parentNode||!e.parentNode.parentNode){return}var o=e.parentNode.parentNode;var q=D.getDataId(e);var s=o.querySelector(".v-effect-group");if(!s){s=o.appendChild(S.create("g"));s.setAttribute("class","v-effect-group")}var t=s.querySelector(".v-effect[data_id ='"+q+"']");if(p.bShow){var v=b.getData(e);if(!t){t=S.create("g");t.setAttribute("class","v-effect");t.setAttribute("data_id",q);var w=S.create("rect");w.setAttribute("width",v.width);w.setAttribute("height",v.height);w.setAttribute("x",v.x);w.setAttribute("y",v.y);t.appendChild(w);s.appendChild(t)}t.style.display="inline";t.setAttribute("stroke-width",p.bSelected?1:2);t.setAttribute("stroke",v.color);t.setAttribute("fill","none")}else{if(t){t.style.display="none"}}};var l=function(e,o,p,q){var s=b.getData(e);var t=s[o?"next":"prev"];if(!t){return}var v=e.parentNode;var w=D.find(v,t);var x=D.getDataId(e);var y=o?[t,x]:[x,t];var z=v.querySelector("."+d+"["+f+"='"+y[0]+"']["+g+"='"+y[1]+"']");if(p&&D.isHighlighted(w)){if(!z){var A=v.querySelector("."+L.CLASS_NAME_LINE);var B=b.getData(A);var E=r({graphic:{color:B.color,width:B.width},points:[s.translate,b.getData(w).translate]});if(E){z=S.create("g");z.setAttribute("class",d);z.setAttribute(f,y[0]);z.setAttribute(g,y[1]);z.setAttribute("fill-opacity","1");z.setAttribute("stroke-opacity","1");z.appendChild(E);v.insertBefore(z,v.firstChild)}}}else{if(z){v.removeChild(z)}}};var j=function(e,o,p){l(e,true,o,p);l(e,false,o,p)};function k(e,o){return a.rgb2Hex(a.colorLinerTransform(e,{constant:0,factor:0.7},o))}function m(e,o,p){var q=e.firstChild;if(!q){return}var s=k(p,b.getData(e).color);e.setAttribute("stroke",s);e.setAttribute("fill-opacity","1");e.setAttribute("stroke-opacity","1");for(var t in o){if(o.hasOwnProperty(t)){if(o[t]!==null){q.setAttribute(t,o[t])}else{q.removeAttribute(t)}}}}function u(e,o){e.removeAttribute("stroke");e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");var p=e.firstChild;if(p){for(var q in o){if(o.hasOwnProperty(q)){if(o[q]!==null){p.setAttribute(q,o[q])}else{p.removeAttribute(q)}}}}}var n={};n["default"]={selectDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.instance()._effectManager;o.forEach(function(e){var q=d3.select(e);q.classed(h.DATAPOINTDEFAULT,false);q.classed(h.DATAPOINTSELECTED,true);m(e,{"stroke-width":"1px"},p)})},hoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.instance()._effectManager;o.forEach(function(e){var q=d3.select(e);q.classed(h.DATAPOINTDEFAULT,false);q.classed(h.DATAPOINTHOVER,true);m(e,{"stroke-width":"2px"},p)})},deselectDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTSELECTED,false);if(!p.classed(h.DATAPOINTHOVER)){p.classed(h.DATAPOINTDEFAULT,true)}u(e,{"stroke-width":null})})},unhoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTHOVER,false);if(p.classed(h.DATAPOINTSELECTED)){e.firstChild.setAttribute("stroke-width","1px")}else{p.classed(h.DATAPOINTDEFAULT,true);u(e,{"stroke-width":null})}})},clearPlot:function(e){var o=this.instance()._dataShapesGroupNode;function s(){o.setAttribute("fill-opacity","0.4");o.setAttribute("stroke-opacity","0.4")}function p(){o.removeAttribute("fill-opacity");o.removeAttribute("stroke-opacity")}if(U.isIE()&&U.version()<=9){if(e){setTimeout(s,0)}else{setTimeout(p,0)}}else{if(e){s()}else{p()}}}};n["info/scatter"]={selectDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.instance()._effectManager;o.forEach(function(e){var q=d3.select(e);q.classed(h.DATAPOINTDEFAULT,false);q.classed(h.DATAPOINTSELECTED,true);m(e,{"stroke-width":"1px"},p)})},hoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.instance()._effectManager;o.forEach(function(e){var q=d3.select(e);q.classed(h.DATAPOINTDEFAULT,false);q.classed(h.DATAPOINTHOVER,true);m(e,{"stroke-width":"2px"},p)})},deselectDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTSELECTED,false);if(!p.classed(h.DATAPOINTHOVER)){p.classed(h.DATAPOINTDEFAULT,true)}u(e,{"stroke-width":"1"});e.setAttribute("stroke","#ffffff")})},unhoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTHOVER,false);if(p.classed(h.DATAPOINTSELECTED)){e.firstChild.setAttribute("stroke-width","1px")}else{p.classed(h.DATAPOINTDEFAULT,true);u(e,{"stroke-width":"1"});e.setAttribute("stroke","#ffffff")}})},clearPlot:n["default"].clearPlot};n["info/bullet"]={selectDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){e.setAttribute("fill-opacity",1);e.setAttribute("stroke-opacity",1);var p=d3.select(e);p.classed(h.DATAPOINTDEFAULT,false);p.classed(h.DATAPOINTSELECTED,true);i(e,{bShow:true,bSelected:true})})},hoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){e.setAttribute("fill-opacity",1);e.setAttribute("stroke-opacity",1);var p=d3.select(e);p.classed(h.DATAPOINTDEFAULT,false);p.classed(h.DATAPOINTHOVER,true);i(e,{bShow:true,bSelected:false})})},deselectDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTSELECTED,false);p.classed(h.DATAPOINTHOVER,false);e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");p.classed(h.DATAPOINTDEFAULT,true);i(e,{bShow:false,bSelected:true})})},unhoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}o.forEach(function(e){var p=d3.select(e);p.classed(h.DATAPOINTHOVER,false);if(p.classed(h.DATAPOINTSELECTED)){i(e,{bShow:true,bSelected:true})}else{e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");p.classed(h.DATAPOINTDEFAULT,true);i(e,{bShow:false,bSelected:true})}})},clearPlot:function(e){var o=this.instance()._dataShapesGroupNode;if(e===null||e===false||e===undefined){o.setAttribute('fill-opacity',1);o.setAttribute("stroke-opacity",1)}else{o.setAttribute('fill-opacity',0.4);o.setAttribute('stroke-opacity',0.4)}d3.select(o).selectAll(".v-effect").remove()}};n["info/line"]={selectDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.getProperties();var q=this.instance()._effectManager;o.forEach(function(e){var s=d3.select(e);s.classed(h.DATAPOINTDEFAULT,false);s.classed(h.DATAPOINTSELECTED,true);D.highlight(e);j(e,true,p);m(e,{"stroke-width":"1px"},q);var t=e.firstChild;if(t){t.removeAttribute("fill-opacity");t.removeAttribute("stroke-opacity")}})},hoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.instance()._effectManager;o.forEach(function(e){var q=d3.select(e);q.classed(h.DATAPOINTDEFAULT,false);q.classed(h.DATAPOINTHOVER,true);m(e,{"stroke-width":"2px"},p);var s=e.firstChild;s.removeAttribute("fill-opacity");s.removeAttribute("stroke-opacity")})},deselectDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.getProperties();var q=true;if(p&&p.marker){q=!!p.marker.visible}o.forEach(function(e){var s=d3.select(e);s.classed(h.DATAPOINTSELECTED,false);D.unhighlight(e);j(e,false,p);if(!s.classed(h.DATAPOINTHOVER)){s.classed(h.DATAPOINTDEFAULT,true)}u(e,{"stroke-width":null});if(!q){var t=e.firstChild;if(t){t.setAttribute("fill-opacity","0");t.setAttribute("stroke-opacity","0")}}})},unhoverOnDataPoint:function(o){if(!T.isArray(o)){o=[o]}var p=this.getProperties();var q=true;if(p&&p.marker){q=!!p.marker.visible}o.forEach(function(e){var s=d3.select(e);var t;s.classed(h.DATAPOINTHOVER,false);if(s.classed(h.DATAPOINTSELECTED)){e.firstChild.setAttribute("stroke-width","1px")}else{s.classed(h.DATAPOINTDEFAULT,true);u(e,{"stroke-width":null});if(!q){t=e.firstChild;t.setAttribute("fill-opacity","0");t.setAttribute("stroke-opacity","0")}}})},clearPlot:n["default"].clearPlot};n["info/horizontal_line"]=n["info/line"];n["info/dual_line"]=n["info/line"];n["info/dual_horizontal_line"]=n["info/line"];n["info/combination"]=n["info/line"];n["info/horizontal_combination"]=n["info/line"];n["info/dual_combination"]=n["info/line"];n["info/dual_horizontal_combination"]=n["info/line"];n["info/bar"]=n["default"];n["info/horizontal_bar"]=n["info/bar"];n["info/dual_bar"]=n["info/bar"];n["info/dual_horizontal_bar"]=n["info/bar"];n["info/bubble"]=n["info/scatter"];n["module/category_axis"]={hoverOnAxisLabel:function(e){this.getParent().selectAll("."+h.AXIS.BACKGROUND_RECT).attr("fill","transparent").classed(h.HOVER_SHADOW,false).classed(h.FOCUS_SHADOW,false);var o=this.getProperties().hoverShadow?this.getProperties().hoverShadow.color:undefined;if(o){d3.select(e).select("rect").attr("fill",o).classed(h.HOVER_SHADOW,true)}},unhoverOnAxisLabel:function(e){this.getParent().selectAll("."+h.AXIS.BACKGROUND_RECT).attr("fill","transparent").classed(h.HOVER_SHADOW,false).classed(h.FOCUS_SHADOW,false)},focusAxisLabel:function(e){this.getParent().selectAll("."+h.AXIS.BACKGROUND_RECT).attr("fill","transparent").classed(h.HOVER_SHADOW,false);d3.select(e).select("rect").attr("fill","#808080").classed(h.FOCUS_SHADOW,true)}};n["module/color_legend"]={hoverOnLegendItem:function(e){if(this._isVisible()){var p=d3.select(e.parentNode).data()[0].pos;var t=parseInt(this.instance()._labelFont.fontsize,10);var o=this.instance()._colorLA_markerMargin.bottom*t;this.getParent().selectAll("."+c).attr('fill',this.getProperties().hoverShadow.color).attr('x',p.x-5).attr('y',p.y-o/2).attr('visibility','visible').classed(h.HOVER_SHADOW,true).classed(h.FOCUS_SHADOW,false)}},unhoverOnLegendItem:function(e){if(this._isVisible()){this.getParent().selectAll("."+c).attr('visibility','hidden').classed(h.HOVER_SHADOW,false).classed(h.FOCUS_SHADOW,false)}},focusLegendItem:function(e){var p=d3.select(e.parentNode).data()[0].pos;var t=parseInt(this.instance()._labelFont.fontsize,10);var o=this.instance()._colorLA_markerMargin.bottom*t;this.getParent().selectAll("."+c).attr('fill','#808080').attr('x',p.x-5).attr('y',p.y-o/2).attr('visibility','visible').classed(h.HOVER_SHADOW,false).classed(h.FOCUS_SHADOW,true)}};var R={getDecorationDef:function(e){return n[e]?n[e]:n["default"]}};return R});define('sap/viz/chart/elements/utils/RuleUtil',['sap/viz/base/utils/TypeUtils'],function(T){function v(r,u){if(r==null||r.rules==null||r.rules.length===0){return false}if(u){return true}if(r.others==null){throw"Cannot find valid \"others\" property. Please verify the setting."}return true}function a(g,r,u){var h=null;if(v(r,u)){var s=m(g,r.rules);if(s==null){if(r.others){h=r.others.properties}else{h=null}}else{if(r.others!=null){h=p(s.properties,r.others.properties)}else{h=s.properties}}}return h}function p(g,h){for(var i in h){if(h.hasOwnProperty(i)){if(g[i]!=null){continue}g[i]=h[i]}}return g}function m(g,r){var l=null;if(r==null){return null}for(var i=0,h=r.length;i<h;i++){var j=r[i];if(b(g,j.dataContext)){l=j}}return l}function b(g,h){if(h==null){return false}if(T.isArray(h)){for(var i=0,l=h.length;i<l;i++){var j=h[i];if(d(g,j)){return true}}return false}else{return d(g,h)}}function c(g,h){if(g["MeasureNamesDimension"]===h){return true}for(var i in g){if(g.hasOwnProperty(i)){if(i===h){return true}}}return false}function d(g,h){var i,j;if(!h||Object.keys(h).length===0){return false}for(var k in h){if(h.hasOwnProperty(k)){var s=h[k];if(s==null){continue}if(s==="*"){if(c(g,k)===false){return false}continue}if(!g.hasOwnProperty(k)){return false}if(T.isString(s)||T.isNumber(s)){if(s!==g[k]){return false}}else if(s.equal!=null){if(s.equal!==g[k]){return false}}else if(s.notEqual!=null){if(s.notEqual===g[k]){return false}}else if(s.contain!=null){var l=false;var o=s.contain;for(var q=0,r=o.length;q<r;q++){if(o[q]===g[k]){l=true;break}}if(l===false){return false}}else if(s.min!=null&&s.max!=null){i=s.min;j=s.max;if(g[k]===undefined||(g[k]<i||g[k]>j)){return false}}else if(s.min!=null){i=s.min;if(g[k]===undefined||g[k]<i){return false}}else if(s.max!=null){j=s.max;if(g[k]===undefined||g[k]>j){return false}}}}return true}function e(g,i){return g===i}function n(g,i){return g!==i}function f(g,i){for(var h=0,l=g.length;h<l;h++){if(g[h]===i){return true}}return false}return{verify:v,analyze:a,matchCondition:b}});define('sap/viz/chart/elements/data/Constants',[],function(){return{DATA_ID:"_id"}});define('sap/viz/chart/elements/csv/stacked/StackedMode',[],function(){return{NONE:"none",NORMAL:"normal",PERCENTAGE:"percentage"}});define('sap/viz/chart/elements/behaviors/info/RuntimeBehavior',["sap/viz/base/utils/oo","sap/viz/chart/elements/behaviors/info/BaseBehavior","sap/viz/modules/Constants","sap/viz/modules/util/flattenModules","sap/viz/chart/elements/utils/LassoDecoration","sap/viz/util/BoundingBox","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/base/UADetector","sap/viz/chart/elements/behaviors/info/RuntimeDecorationDefinition","sap/viz/chart/elements/utils/RuleUtil","sap/viz/chart/elements/common/DataGraphics","sap/viz/chart/elements/data/MeasureNamesDimension","sap/viz/chart/elements/data/Constants","sap/viz/chart/elements/csv/stacked/StackedMode"],function(o,B,C,f,L,a,T,F,O,D,h,U,R,b,c,M,g,S){var k=M.BIND_ID;var l=g.DATA_ID;var n=function(){n.superclass.constructor.apply(this,arguments);this._dispatch=d3.dispatch("selectData","deselectData","showTooltip","hideTooltip");this._lassoDecoration=new L();this._lassoStartPoint=null;this._lassoEndPoint=null;this._tooltipMode=null;this._deselectableTriggers=null;this._selectedDataPoints=[];this._hoveringDataPoint=null;this._isHoveringDeselectedDataPoint=false;this._isDraggingOnPlot=false};o.extend(n,B);n.prototype.setModules=function(_){var m=_;var d={};for(var e in m){if(m.hasOwnProperty(e)){var i=f({"rootKey":e,"rootNode":m[e]});for(var j in i){if(i.hasOwnProperty(j)){d[j]=i[j]}}}}this._modules=d;return this};n.prototype.trigger=function(d,e){var s=this._props.selectability;var i=s.mode.toUpperCase();var j=i!==C.SELECTION_MODE.NONE;var m=i!==C.SELECTION_MODE.SINGLE;var t=true;switch(d){case"select_on_datalabel":case"select_on_datapoint":t=s.plotStdSelection&&j;break;case"lasso_start_on_eventLayer":case"lasso_move_on_eventLayer":case"lasso_end_on_eventLayer":t=s.plotLassoSelection&&j&&m;break;case"hover_on_axis_label":case"select_on_axis_label":case"focus_on_axis_label":case"release_on_axis_label":t=s.axisLabelSelection&&j&&m;break;case"hover_on_legend":case"select_on_legend":case"focus_on_legend":case"release_on_legend":t=s.legendSelection&&j&&m;break}if(t){return n.superclass.trigger.apply(this,arguments)}};n.prototype.destroy=function(){n.superclass.destroy.apply(this,arguments);if(this._lassoDecoration){this._lassoDecoration.destroy();this._lassoDecoration=null}this._lassoStartPoint=null;this._lassoEndPoint=null;this._tooltipMode=null;this._deselectableTriggers=null;this._selectedDataPoints=null;this._hoveringDataPoint=null};function p(d,t){var i=true;for(var e in d){if(d.hasOwnProperty(e)){if(!t.hasOwnProperty(e)||(d[e]!=="*"&&t[e]!==d[e])){i=false;break}}}return i}n.prototype.setSelection=function(j,m){this._hideDetail("infoMode");this._hideDetail("actionMode");var s=this._props.selectability.mode;if(s===C.SELECTION_MODE.NONE){return false}var t,u;if(T.isPlainObject(m)){t=m.clearSelection;u=m.selectionMode}if(u===undefined){if(t!==undefined){if(t){u="EXCLUSIVE"}else{u="INCLUSIVE"}}else{u=s}}var v=false;var w=[];if(!T.isArray(j)||!j.length){this._processTargetsSelection(w,u.toUpperCase());v=true}else{var x=D.findAll(this._rootNode.node());try{[].forEach.call(x,function(d){var y=D.getContext(d);for(var i=0,z=j.length;i<z;++i){if(j[i].data&&p(j[i].data,y)){w.push(d);break}}});if(w.length){v=true}}catch(e){v=false}if(v){this._processTargetsSelection(w,u.toUpperCase())}}return v};n.prototype.getSelection=function(d){var e=[];var i=this._selectedDataPoints;i.forEach(function(s){var j=O.extend(true,{},D.getContext(s));delete j["MeasureNamesDimension"];delete j["_id"];e.push({data:j})});return e};n.prototype.initialize=function(d){this.clearTriggers();this.clearDecorations();if(this._data.hasFakeData()){return}this._initializeDecorations();this._initializeTriggerHandlers();var s=this._selectedDataPoints;if(s.length){if(!this._props.holdSelection||d.statusMonitor.updating){this.runDecoration("clearPlot",false);this.runDecoration('deselectDataPoint',s,false,true);this._selectedDataPoints=[]}else{this.runDecoration("clearPlot",true);this.runDecoration('selectDataPoint',s)}}this._hideDetail("actionMode")};function q(m){var d=["xAxis","xAxis2","yAxis","yAxis2"];var e=[];d.forEach(function(i,j){i="main."+i;if(m[i]){e.push(m[i])}});return e}n.prototype._initializeDecorations=function(){var m=this._modules;var d=this._props;var e;var i=m["main.plot"];if(i&&i.parent&&i.parent()){var j=R.getDecorationDef(this._chartType);for(e in j){if(j.hasOwnProperty(e)){this.registerDecoration({"name":e,"fn":j[e],"scope":i})}}}var s=m["legends.legend"];if(s){var t=R.getDecorationDef("module/color_legend");for(e in t){if(t.hasOwnProperty(e)){this.registerDecoration({"name":e,"fn":t[e],"scope":s})}}}var u=q(m);if(u.length){var v=R.getDecorationDef("module/category_axis");u.forEach(function(y){if(!y.parent||!y.parent()){return}for(var e in v){if(v.hasOwnProperty(e)){this.registerDecoration({"name":e,"fn":v[e],"scope":y})}}},this)}var w=this._lassoDecoration;if(w){this.registerDecoration({"name":"lassostart","fn":w["start"],"scope":w});this.registerDecoration({"name":"lassomove","fn":w["moveTo"],"scope":w});this.registerDecoration({"name":"lassoend","fn":w["end"],"scope":w})}var x=m["tooltip"];if(x){this.registerDecoration({"name":"showDetail","fn":x["showTooltip"],"scope":x});this.registerDecoration({"name":"hideDetail","fn":x["hideTooltip"],"scope":x})}if(d["decorations"]){d["decorations"].forEach(function(y){this.registerDecoration({"name":y.name,"fn":y.fn,"scope":y.scope})},this)}};n.prototype._extractTooltipData=function(d,e){var i=[],j=c.getContext(e),m=[];var s=d.getStackedMode&&d.getStackedMode()===S.PERCENTAGE;for(var t in j){if(j.hasOwnProperty(t)){if(t===k||t===l){continue}var u=d.getFieldMeta(t);var v,w,x=u.semanticType;if(x==="Dimension"){v=i;w="dimension"}else if(x==="Measure"){v=m;w="measure"}if(v){v.push({"id":t,"name":u.name||t,"value":s&&w==="measure"?c.getData(e).percentageValue:j[t],"type":w})}}}var y=i.concat(m);if(d.isTimeBubble&&d.isTimeBubble()){y.timeMeasure=0}return y};n.prototype._showDetail=function(d,m,e,i){var j;var s=this._modules["main.plot"];if(d){j=this._extractTooltipData(s,d)}var t=this._rootNode.node();while(!d3.select(t).classed("v-info")&&t.parentNode){t=t.parentNode}var u={"data":j,"selectedNumber":this._selectedDataPoints.length,"mode":m,"position":e,"container":t,"isAnchored":false};if(i&&i==="select_on_legend"){u.isAnchored=true}this.runDecoration("showDetail",u);this._tooltipMode=m;this._fireShowTooltipEvent(u,s,d)};n.prototype._hideDetail=function(m){if(!this._tooltipMode||m!==this._tooltipMode){return}this.runDecoration("hideDetail",m);this._tooltipMode=null;this._fireHideTooltipEvent()};n.prototype._findLassoCoveredDataPoints=function(){var d=this._rootNode;if(d&&this._lassoStartPoint&&this._lassoEndPoint){var m=this._modules;var e=this._props;var j=h.getBoundingBox(this._lassoDecoration.getNode());var s=[];var t=D.findAll(d.node());[].slice.call(t).forEach(function(u){var v=m["main.plot"];var w=v.parent().select(".v-bound").node(),x=null;if(!w){w=v.parent().select(".v-plot-bound").node()}if(w){x=h.getBoundingBox(w)}if(x){x=a.intersection(j,x)}var y=h.callExtensionPoint(e,"getBoundingBoxes",v,u);var z=[h.getBoundingBox(u)];if(y.called){z=y.ret}for(var i=-1;++i<z.length;){var A=z[i];if(a.intersects(A,j)){if(x&&a.intersects(A,x)){s.push(u);break}}}});return s}};function r(t,d){var i=true;for(var e in t){if(t.hasOwnProperty(e)){if(!d.hasOwnProperty(e)||d[e]!==t[e]){i=false;break}}}return i}n.prototype._initializeTriggerHandlers=function(){var d="(\\s+|^)v-datapoint(\\s+|$)",e="(\\s+|^)v-m-root(\\s+|$)",j="(\\s+|^)v-legend-item(\\s+|$)",m="(\\s+|^)v-datalabel(\\s+|$)",s="(\\s+|^)v-axis-item(\\s+|$)";this.registerTriggerHandler({"key":"select_on_datalabel","event":"select","target":m,"fn":this._selectOnDatalabelHandler,"scope":this});this.registerTriggerHandler({"key":"select_on_datapoint","event":"select","target":d,"fn":this._selectOnDatapointHandler,"scope":this});this.registerTriggerHandler({"key":"select_on_non_datapoint","event":"select","target":"(\\s+|^)(v-datapoint|v-legend-item|v-axis-item|v-datalabel)(\\s+|$)","matchMode":C.TRIGGER.CSS.MATCHMODE.NEGATIVE,"fn":function(i,v){var w=this._selectedDataPoints;this.runDecoration("deselectDataPoint",w,false,true);this.runDecoration("clearPlot");this._hideDetail("actionMode");this._selectedDataPoints=[];if(w.length){this._fireDataEvent(w,false)}},"scope":this});this.registerTriggerHandler({"key":"hover_on_datapoint","event":"hover","target":d,"fn":this._hoverOnDatapointHandler,"scope":this});this.registerTriggerHandler({"key":"hover_on_non_datapoint","event":"hover","target":d,"matchMode":C.TRIGGER.CSS.MATCHMODE.NEGATIVE,"fn":function(i,v){this._isHoveringDeselectedDataPoint=false;var w=this._hoveringDataPoint;if(w){this.runDecoration("unhoverOnDataPoint",w);this._hoveringDataPoint=null}this._hideDetail("infoMode")},"scope":this});this.registerTriggerHandler({"key":"hover_on_legend","event":"hover","target":j,"fn":function(i,v){this.runDecoration("hoverOnLegendItem",i.data.currentTarget)},"scope":this});this.registerTriggerHandler({"key":"hover_on_non_legend","event":"hover","target":j,"matchMode":C.TRIGGER.CSS.MATCHMODE.NEGATIVE,"fn":function(i,v){this.runDecoration("unhoverOnLegendItem",i.data.currentTarget)},"scope":this});this.registerTriggerHandler({"key":"select_on_legend","event":"select","target":j,"fn":function(v,w){var x=D.findAll(this._rootNode.node());var y=[],z=d3.select(v.data.currentTarget.parentNode).data()[0],A=z.semanticContext,E=z.ctx;for(var i=0,G=x.length;i<G;i++){if(A!=null){if(t(A,D.getContext(x[i]))){if(E&&Object.keys(E).length){if(r(E,D.getContext(x[i]))){y.push(x[i])}}else{y.push(x[i])}}continue}if(r(E,D.getContext(x[i]))){y.push(x[i])}}this._processTargetsSelection(y,this._props.selectability.mode.toUpperCase(),w,v.data.ctrlKey);this._selectedEventHandler(y,v.data.point,"select_on_legend")},"scope":this});function t(i,v){if(i.type==="default"){var w=i.rule;for(var x=0;x<w.length;x++){if(b.matchCondition(v,w[x].dataContext)){return false}}return true}return b.matchCondition(v,i.rule.dataContext)}this.registerTriggerHandler({"key":"focus_on_legend","event":"focus","target":j,"fn":function(i,v){this.runDecoration("focusLegendItem",i.data.currentTarget)},"scope":this});this.registerTriggerHandler({"key":"release_on_legend","event":"release","target":j,"fn":function(i,v){if(U.isMobile()){this.runDecoration("unhoverOnLegendItem",i.data.currentTarget)}else{this.runDecoration("hoverOnLegendItem",i.data.currentTarget)}},"scope":this});this.registerTriggerHandler({"key":"hover_on_axis_label","event":"hover","target":s,"fn":function(i,v){this.runDecoration("hoverOnAxisLabel",i.data.currentTarget)},"scope":this});this.registerTriggerHandler({"key":"hover_on_non_axis_label","event":"hover","target":s,"matchMode":C.TRIGGER.CSS.MATCHMODE.NEGATIVE,"fn":function(i,v){this.runDecoration("unhoverOnAxisLabel")},"scope":this});this.registerTriggerHandler({"key":"select_on_axis_label","event":"select","target":s,"fn":function(v,w){var x=D.findAll(this._rootNode.node());var y=[],z=d3.select(v.data.currentTarget).data()[0].ctx;for(var i=0,A=x.length;i<A;i++){if(r(z,D.getContext(x[i]))){y.push(x[i])}}this._processTargetsSelection(y,this._props.selectability.mode.toUpperCase(),w,v.data.ctrlKey);this._selectedEventHandler(y,v.data.point)},"scope":this});this.registerTriggerHandler({"key":"focus_on_axis_label","event":"focus","target":s,"fn":function(i,v){this.runDecoration("focusAxisLabel",i.data.currentTarget)},"scope":this});this.registerTriggerHandler({"key":"release_on_axis_label","event":"release","target":s,"fn":function(i,v){if(U.isMobile()){this.runDecoration("unhoverOnAxisLabel",i.data.currentTarget)}else{this.runDecoration("hoverOnAxisLabel",i.data.currentTarget)}},"scope":this});var u="(\\s+|^)v-m-title(\\s+|$)|(\\s+|^)v-m-background(\\s+|$)|(\\s+|^)v-m-axisBody(\\s+|$)|(\\s+|^)v-m-axisTitle(\\s+|$)|(\\s+|^)v-m-plot(\\s+|$)";this.registerTriggerHandler({"key":"lasso_start_on_eventLayer","event":"lassostart","target":u,"fn":function(i,v){var w=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!a.contains(w,i.data.point)){return}var x=i.data.point;this._lassoStartPoint=x;this.runDecoration("lassostart",this._rootNode.node(),x);this._hideDetail("infoMode");this._hideDetail("actionMode")},"scope":this});this.registerTriggerHandler({"key":"lasso_move_on_eventLayer","event":"lassomove","target":e,"fn":function(i,v){if(!this._lassoStartPoint){return}this.runDecoration("lassomove",this._rootNode.node(),i.data.point)},"scope":this});this.registerTriggerHandler({"key":"lasso_end_on_eventLayer","event":"lassoend","target":e,"fn":function(i,v){if(!this._lassoStartPoint){return}var w=i.data.point;this._lassoEndPoint=w;var x=this._findLassoCoveredDataPoints();this._processTargetsSelection(x,this._props.selectability.mode.toUpperCase(),v,i.data.ctrlKey);this.runDecoration("lassoend",i.data.currentTarget,w);if(this._selectedDataPoints.length>0&&x.length>0){var y=i.data.target;while(y){if(y.getAttribute){if(h.hasClass(y,"v-datapoint")){this._hoveringDataPoint=y;break}y=y.parentNode}else{y=undefined}}if(!y&&this._selectedDataPoints.length===1){y=this._selectedDataPoints[0]}this._showDetail(y,"actionMode",w)}else{this._hideDetail("actionMode")}this._lassoStartPoint=null},"scope":this});this.registerTriggerHandler({"key":"drag_start_on_eventLayer","event":"dragstart","target":"(\\s+|^)v-m-plot(\\s+|$)","fn":function(i,v){this._isDraggingOnPlot=true;if(this._modules&&this._modules['main.plot']&&this._modules['main.plot'].dragHandler){this._modules['main.plot'].dragHandler(i)}},"scope":this});this.registerTriggerHandler({"key":"drag_move_on_eventLayer","event":"dragmove","target":"(\\s+|^)v-m-plot(\\s+|$)","fn":function(i,v){if(!this._isDraggingOnPlot){return}if(this._modules&&this._modules['main.plot']&&this._modules['main.plot'].dragHandler){this._modules['main.plot'].dragHandler(i)}},"scope":this});this.registerTriggerHandler({"key":"drag_end_on_eventLayer","event":"dragend","target":"(\\s+|^)v-m-plot(\\s+|$)","fn":function(i,v){this._isDraggingOnPlot=false;if(this._modules&&this._modules['main.plot']&&this._modules['main.plot'].dragHandler){this._modules['main.plot'].dragHandler(i)}},"scope":this});if(this._props["triggers"]){this._props["triggers"].forEach(function(i){if(i.event===null){this.removeTrigger(i.key)}else{this.registerTrigger({"key":i.key,"event":i.event,"target":i.target,"matchMode":i.matchMode})}},this)}if(this._props["handlers"]){this._props["handlers"].forEach(function(i){this.registerHandler({"key":i.key,"fn":i.fn,"scope":i.scope})},this)}this._deselectableTriggers=[this.getTrigger("select_on_datapoint"),this.getTrigger("select_on_legend"),this.getTrigger("select_on_axis_label"),this.getTrigger("select_on_datalabel")]};n.prototype._selectedEventHandler=function(t,d,e){var s=this._selectedDataPoints;if(s.length&&s.indexOf(t[0])>-1){this._showDetail(undefined,"actionMode",d,e)}else{this.runDecoration("hideDetail","actionMode")}};n.prototype._fireEvent=function(d,e,i){setTimeout(function(){d[e](i)},1)};n.prototype._selectOnDatalabelHandler=function(e,t){var d=D.findAll(this._rootNode.node());var j={},m=D.getContext(e.data.currentTarget);for(var i=0,s=d.length;i<s;i++){if(r(m,D.getContext(d[i]))){j=d[i];break}}this._processTargetsSelection(j,this._props.selectability.mode.toUpperCase(),t,e.data.ctrlKey);var u=this._selectedDataPoints;if(u.length&&u.indexOf(j)>-1){this._showDetail(j,"actionMode",e.data.point)}else{this.runDecoration("hideDetail","actionMode")}};n.prototype._selectOnDatapointHandler=function(e,t){var d=e.data.currentTarget;var s=this._selectedDataPoints.indexOf(d)>=0;this._processTargetsSelection(d,this._props.selectability.mode.toUpperCase(),t,e.data.ctrlKey);if(this._selectedDataPoints.indexOf(d)>=0){this._showDetail(d,"actionMode",e.data.point)}else{this._hideDetail("actionMode");this._isHoveringDeselectedDataPoint=s}};n.prototype._hoverOnDatapointHandler=function(e,t){var d=e.data.currentTarget;var i=e.data.point;var j=this._hoveringDataPoint;var s=(this._selectedDataPoints.indexOf(d)>-1);if(j){if(j===d){if(!s&&!this._isHoveringDeselectedDataPoint){this._showDetail(d,"infoMode",i)}return}this.runDecoration("unhoverOnDataPoint",j)}if(j!==d){this._isHoveringDeselectedDataPoint=false}this._hoveringDataPoint=d;this.runDecoration("hoverOnDataPoint",d);this._showDetail(d,(s?"actionMode":"infoMode"),i)};n.prototype._fireDataEvent=function(s,d){var e=[];for(var i=0,j=s.length;i<j;i++){e.push({target:s[i],data:d3.select(s[i]).data()[0]})}var m,t;if(d){m=C.Event.SelectData.name;t="selectData"}else{m=C.Event.DeSelectData.name;t="deselectData"}this._fireEvent(this._dispatch,t,{name:m,data:e})};n.prototype._fireShowTooltipEvent=function(t,d){var e={body:[],footer:[],point:t.position,selectedValues:t.selectedNumber};if(d){var j=h.getBoundingBox(d.parent().node());e.plotArea={x:j.x,y:j.y,width:j.width,height:j.height}}var m=t.data;if(m&&m.length){for(var i=-1;++i<m.length;){var s=m[i];if(s.type==='measure'){e.body.push({name:s.name,val:[{value:s.value}]})}else if(s.type==='dimension'){e.footer.push({label:{val:s.name},value:{val:s.value}})}}}this._fireEvent(this._dispatch,"showTooltip",{name:C.Event.TooltipShow.name,data:e})};n.prototype._fireHideTooltipEvent=function(){this._fireEvent(this._dispatch,"hideTooltip",{name:C.Event.TooltipHide.name})};n.prototype._processTargetsSelection=function(t,s,d,e){if(s===C.SELECTION_MODE.NONE){return}var m=h.concatByPush;var u=(this._deselectableTriggers.indexOf(d)>-1);if(!T.isArray(t)){t=[t]}var v=h.callExtensionPoint(this._props,"processTarget",this,t,d,e);if(v.called){t.splice(0);if(v.ret){m(t,v.ret)}}var w=this.runDecoration.bind(this);var x=this._selectedDataPoints;var y=[],z=[];if(x.length===0){w("clearPlot",true)}var A=[],E=[],G=[],i;for(i=-1;++i<x.length;){var H=false;for(var j=-1;++j<t.length;){if(t[j]===x[i]){H=true;break}}(H?G:A).push(x[i])}for(i=-1;++i<t.length;){if(G.indexOf(t[i])<0){E.push(t[i])}}x.splice(0,x.length);m(x,E);m(y,E);if(!e){switch(s){case C.SELECTION_MODE.EXCLUSIVE:m(x,G);m(z,A);break;case C.SELECTION_MODE.INCLUSIVE:m(x,G);m(x,A);break;case C.SELECTION_MODE.SINGLE:m(z,G);m(z,A);break;case C.SELECTION_MODE.MULTIPLE:m((E.length>0?x:z),G);m(x,A);break}}else{if(!u){m(x,G)}else{m((E.length>0?x:z),G)}m(x,A)}if(z.length>0){w("deselectDataPoint",z,false,x.length===0)}if(x.length===0){w("clearPlot")}else{w("selectDataPoint",x)}if(y.length>0){this._fireDataEvent(y,true)}if(z.length>0){this._fireDataEvent(z,false)}};return n});define('sap/viz/chart/elements/behaviors/info/DesignTimeDecorationDefinition',['sap/viz/modules/Constants',"sap/viz/chart/elements/plot/DataPoints",'sap/viz/chart/elements/common/SVG',"sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/csv/line/renderLine","sap/viz/util/DrawUtil","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/base/utils/DomUtils"],function(C,D,S,T,r,a,h,d){function b(n,e,m){var o=p(n),q=i(n),t=o.style,v={};for(var w in e){if(e.hasOwnProperty(w)){if(q){v[w]=t[w]}t[w]=e[w]}}if(q){d(o).data('vizSelectOrigStyle',v)}}function i(n){return h.hasClass(n,'v-datapoint')||h.hasClass(n,'v-lines')}function c(n){if(i(n)){return n}return d(n).data('v-select-indicator')}function p(n){var e=c(n);if(i(n)){return e}var m=n,o,q,t;q=h.hasClass(n,'v-m-root')?n:h.findAncestor('v-m-root',n);t=q.getBoundingClientRect();if(e){d3.select(e).remove()}e=d3.select(q).append('rect').attr('class','v-select-indicator').style({'visibility':'hidden','fill':'none'}).node();if(h.hasClass(n,'v-m-title')){m=n.querySelector('.v-title')}else if(h.hasClass(n,'v-m-axisTitle')){m=n.querySelector('text')}else if(h.hasClass(n,'v-axis-item')){m=n.querySelector('.viz-axis-label-rect')}o=m.getBoundingClientRect();d3.select(e).attr({x:o.left-t.left,y:o.top-t.top,width:o.width,height:o.height}).style('visibility','visible');d(n).data('v-select-indicator',e);return e}function u(n){var e=c(n);if(!e){return}if(i(n)){var o=d(e).data('vizSelectOrigStyle')||{},m=e.style;for(var q in o){if(o.hasOwnProperty(q)){if(o[q]===undefined){delete m[q]}else{m[q]=o[q]}}}d(e).removeData('vizSelectOrigStyle')}else{d3.select(e).remove()}}function s(n){return'-super-'+n}function f(e,m){var n;for(var o in m){if(m.hasOwnProperty(o)){n=e[o]?s(o):o;e[n]=m[o]}}return e}var g={};var j=g["default"]={select:function(m){if(!T.isArray(m)){m=[m]}m.forEach(function(e){var n=1;if(i(e)){var o=e.querySelector("circle")||e.querySelector("path");if(o){var t=o.getTransformToElement(e);n=1/t.a}}b(e,{"stroke":"blue","stroke-width":n+'px',"stroke-dasharray":3*n+","+3*n,'fill-opacity':1,'stroke-opacity':1})})},deselect:function(m){if(!T.isArray(m)){m=[m]}m.forEach(function(e){u(e)})},maskPlot:function(){var e=this.instance()._dataShapesGroupNode;e.setAttribute("fill-opacity","0.2");e.setAttribute("stroke-opacity","0.2")},resetPlot:function(){var e=this.instance()._dataShapesGroupNode;e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity")}};g["module/category_axis"]={};g["module/color_legend"]={};var k=g['info/line']=g['info/horizontal_line']={select:function(m){if(!T.isArray(m)){m=[m]}m.forEach(function(e){if(h.hasClass(e,'v-lines')){b(e,{"stroke-opacity":'1'})}else{k[s('select')](e)}})}};f(k,j);var l={getDecorationDef:function(n){return g[n]?g[n]:g["default"]}};return l});define('sap/viz/chart/elements/behaviors/info/DesignTimeBehavior',["sap/viz/base/utils/oo","sap/viz/chart/elements/behaviors/info/BaseBehavior","sap/viz/modules/Constants","sap/viz/modules/util/flattenModules","sap/viz/chart/elements/utils/LassoDecoration","sap/viz/util/BoundingBox","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/chart/elements/behaviors/info/DesignTimeDecorationDefinition","sap/viz/chart/elements/common/DataGraphics"],function(o,B,C,f,L,e,T,F,O,D,h,g,k){var l=function(){l.superclass.constructor.apply(this,arguments);this._dispatch=d3.dispatch("selectPropertyZone","deselectPropertyZone");this._selectedUnits=[];this._selectedUnitsClass=null;this._selectedData=null;this._decorationProxy=(function(b){var d={};['maskPlot','resetPlot','select','deselect'].forEach(function(a){d[a]=function(){if((a==='select'||a==='deselect')&&!q.featureClassesMap.isSelectable(arguments[0])){return}var c=[a];h.concatByPush(c,arguments);b.runDecoration.apply(b,c)}});return d})(this);this._seriesBindings=undefined};o.extend(l,B);l.prototype.initialize=function(){this.clearTriggers();this.clearDecorations();if(this._data.hasFakeData()){return}n.initializeDecorations.call(this);n.initializeTriggerHandlers.call(this);if(this._selectedData){setTimeout(function(){this.selectedPropertyZone(this._selectedData)}.bind(this),1)}};l.prototype.setModules=function(_){var m=_;var a={};for(var b in m){if(m.hasOwnProperty(b)){var c=f({"rootKey":b,"rootNode":m[b]});for(var d in c){if(c.hasOwnProperty(d)){a[d]=c[d]}}}}this._modules=a;return this};l.prototype.trigger=function(a,b){return l.superclass.trigger.apply(this,arguments)};l.prototype.destroy=function(){l.superclass.destroy.apply(this,arguments);this._selectedUnits=null;this._selectedData=null;this._decorationProxy=null};l.prototype.setSelection=function(){throw"Design time behavior doesn't support setSelection, please use selectedPropertyZone instead."};l.prototype.getSelection=function(a){throw"Design time behavior doesn't support setSelection, please use selectedPropertyZone instead."};l.prototype.selectedPropertyZone=function(s){if(!arguments.length){return this._selectedData}if(!s){n.emptySelection.call(this,true);return true}var t=[],c=q.featureClassesMap[s.type],a=s.data&&s.data.length;if(!c){throw'Unsupported property zone type: '+s.type}var b=this._rootNode.selectAll('.'+c);var j=function(d){for(var i=-1;++i<s.data.length;){if(q.matchCtx(s.data[i],d)){return true}}return false};var m=false;switch(s.type){case'dataPoint':this._decorationProxy.maskPlot();if(a){b=b.filter(j)}else{m=true}break;case'dataLine':this._decorationProxy.maskPlot();if(a){b=b.filter(j)}else{m=true}break;case'dataLabel':if(a){b=b.filter(j)}else{m=true}break;case'axis':case'axisItem':case'axisTitle':b=b.filter(function(d){var p=q.axisSubType(this);if(p!==s.subType){return false}if(s.type!=='axisItem'||!a){if(s.type==='axisTitle'){return this.querySelector('.viz-axis-title')}return true}for(var i=-1;++i<s.data.length;){if(q.matchCtx(s.data[i],d.ctx)){return true}}return false});break;case'title':b=b.filter(function(d){return this.querySelector('.v-title')});break;default:break}b.each(function(){t.push(this)});if(h.hasClass(this._rootNode.node(),c)){t.push(this._rootNode.node())}n.processTargetsSelection.call(this,t,false,true,true,undefined,m);if(!t.length){this._selectedData=s}return true};var n={};n.fireSelectionEvent=function(u,s){var a=q.constructEventData(u),b=s?'selectPropertyZone':'deselectPropertyZone';setTimeout(function(c,d){this._dispatch[c](d)}.bind(this)(b,a),1)};n.initializeDecorations=function(){var m=this._modules;var p=this._props;var a;var b=m["main.plot"];if(b&&b.parent&&b.parent()){var c=g.getDecorationDef(this._chartType);for(a in c){if(c.hasOwnProperty(a)){this.registerDecoration({"name":a,"fn":c[a],"scope":b})}}this._seriesBindings=b.getColorBindings()}var d=m["legends.legend"];if(d){var i=g.getDecorationDef("module/color_legend");for(a in i){if(i.hasOwnProperty(a)){this.registerDecoration({"name":a,"fn":i[a],"scope":d})}}}var j=q.getAxisModules(m);if(j.length){var s=g.getDecorationDef("module/category_axis");j.forEach(function(t){if(!t.parent||!t.parent()){return}for(var a in s){if(s.hasOwnProperty(a)){this.registerDecoration({"name":a,"fn":s[a],"scope":t})}}},this)}if(p["decorations"]){p["decorations"].forEach(function(t){this.registerDecoration({"name":t.name,"fn":t.fn,"scope":t.scope})},this)}};n.initializeTriggerHandlers=function(){var p=q.featureClassesMap.targetPattern('plotArea'),d=q.featureClassesMap.targetPattern('dataPoint'),a=q.featureClassesMap.targetPattern('dataLine'),b=q.featureClassesMap.targetPattern('dataLabel'),c=q.featureClassesMap.targetPattern('legend'),j=q.featureClassesMap.targetPattern('axis'),m=q.featureClassesMap.targetPattern('axisTitle'),t=q.featureClassesMap.targetPattern('title');function s(v,w){var x=false;for(var i=-1;++i<w.length;){if(v.indexOf(w[i])>-1){x=true}else{if(x){return'some'}}}return x?'all':'none'}function u(i,v){var w,x,y=false;if(!v){w=n.getSeriesNodes.call(this,i,q.featureClassesMap.dataPoint);x=s(this._selectedUnits,w);if(x==='none'||(x==='all'&&this._selectedUnits.length>w.length)){i=w;y=true}}n.processTargetsSelection.call(this,i,v,false,true,y)}this.registerTriggerHandler({"key":"select_on_plotArea","event":"select","target":p,"fn":function(i,v){var w=r.fuzzilyMatch(this._rootNode.node(),i.data.point),x;if(w){if(h.hasClass(w,q.featureClassesMap.dataPoint)){u.call(this,w,i.data.ctrlKey);return}x=[w]}else{var y=this._selectedUnits,z=i.data.currentTarget;if(y[0]===z){return}x=[z]}n.processTargetsSelection.call(this,x,i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_datapoint","event":"select","target":d,"fn":function(i,v){u.call(this,i.data.currentTarget,i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_dataline","event":"select","target":a,"fn":function(i,v){var w=i.data.currentTarget;n.processTargetsSelection.call(this,w,i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_dataLabel","event":"select","target":b,"fn":function(i,v){var w=i.data.currentTarget;var x,y,z=false;if(!i.data.ctrlKey){x=n.getSeriesNodes.call(this,w,q.featureClassesMap.dataLabel);y=s(this._selectedUnits,x);if(y==='none'||(y==='all'&&this._selectedUnits.length>x.length)){w=x;z=true}}n.processTargetsSelection.call(this,w,i.data.ctrlKey,false,true,z)},"scope":this});this.registerTriggerHandler({"key":"select_on_non_datapoint","event":"select","target":q.featureClassesMap.allSelectableTargetsPattern(),"matchMode":C.TRIGGER.CSS.MATCHMODE.NEGATIVE,"fn":function(i,v){var w=h.findAncestor('v-m-root',i.data.target);n.processTargetsSelection.call(this,[w],i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_legend","event":"select","target":c,"fn":function(i,v){n.processTargetsSelection.call(this,[i.data.currentTarget],i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_axisBody","event":"select","target":j,"fn":function(i,v){var w=i.data.currentTarget,x=this._selectedUnits[0];if(x&&(x===w||h.hasClass(x,'v-axis-item'))){w=h.findAncestor('v-axis-item',i.data.target,w)||w}n.processTargetsSelection.call(this,[w],i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_axisTitle","event":"select","target":m,"fn":function(i,v){n.processTargetsSelection.call(this,[i.data.currentTarget],i.data.ctrlKey)},"scope":this});this.registerTriggerHandler({"key":"select_on_title","event":"select","target":t,"fn":function(i,v){n.processTargetsSelection.call(this,[i.data.currentTarget],i.data.ctrlKey)},"scope":this});if(this._props["triggers"]){this._props["triggers"].forEach(function(i){if(i.event===null){this.removeTrigger(i.key)}else{this.registerTrigger({"key":i.key,"event":i.event,"target":i.target,"matchMode":i.matchMode})}},this)}if(this._props["handlers"]){this._props["handlers"].forEach(function(i){this.registerHandler({"key":i.key,"fn":i.fn,"scope":i.scope})},this)}};n.processTargetsSelection=function(t,c,s,a,b,d){var j=this._selectedUnits;var m=h.concatByPush;var p=q.featureClassesMap.isMultiselectable(t);if(!a&&j.length===1&&t.length===1&&j[0]===t[0]&&!p){return}if(c&&!p&&j.length){return}if(!T.isArray(t)){t=[t]}if(j.length===0){this._decorationProxy.maskPlot()}var u=[],v=[],w,x;if(c){for(var i=-1;++i<t.length;){x=t[i];if((w=j.indexOf(x))>-1){m(v,j.splice(w,1))}else if(!this._selectedUnitsClass||h.hasClass(x,this._selectedUnitsClass)){j.push(x);u.push(x)}}if(!j.length){var y=q.featureClassesMap.chart;var z=this._rootNode.node();if(!h.hasClass(z,y)){z=z.querySelector('.'+y)}j.push(z);u.push(z)}}else{m(v,j);j.splice(0);m(j,t);m(u,t)}var A=j.length===0?null:q.featureClassesMap.featureClass(j[0]);if(A!==this._selectedUnitsClass&&(A==='v-datapoint'||A===q.featureClassesMap.dataLine)){this._decorationProxy.maskPlot()}else if(A!=='v-datapoint'&&A!==q.featureClassesMap.dataLine){this._decorationProxy.resetPlot()}this._selectedUnitsClass=A;var E={};E.isBySeries=b;E.seriesBindings=this._seriesBindings;this._selectedData=q.constructEventData(j,E,d);if(v.length>0){this._decorationProxy.deselect(v);if(!s){n.fireSelectionEvent.call(this,v,false)}}if(u.length>0){this._decorationProxy.select(u);if(!s){n.fireSelectionEvent.call(this,u,true)}}};n.emptySelection=function(s){var d=this._selectedUnits;this._decorationProxy.deselect(this._selectedUnits);if(this._selectedUnitsClass===q.featureClassesMap.dataPoint||this._selectedUnitsClass===q.featureClassesMap.dataLine){this._decorationProxy.resetPlot()}this._selectedUnits=[];this._selectedUnitsClass=null;this._selectedData=null;if(!s){n.fireSelectionEvent.call(this,d,false)}};n.getSeriesNodes=function(a,c){var b=d3.select(a).datum(),j={},m=[];for(var i=-1;this._seriesBindings&&++i<this._seriesBindings.length;){j[this._seriesBindings[i]]=b[this._seriesBindings[i]]}this._rootNode.selectAll('.'+c).filter(function(d){for(var p in j){if(j.hasOwnProperty(p)){if(d[p]!==j[p]){return}}}m.push(this)});return m};var q={};q.getAxisModules=function(m){var a=["xAxis","xAxis2","yAxis","yAxis2"];var b=[];a.forEach(function(c,i){c="main."+c;if(m[c]){b.push(m[c])}});return b};q.matchCtx=function(t,c){var i=true;for(var a in t){if(t.hasOwnProperty(a)){if(!c.hasOwnProperty(a)||c[a]!==t[a]){i=false;break}}}return i};q.featureClassesMap={'plotArea':'v-plot-bound','dataPoint':'v-datapoint','stack':'v-stack','dataLine':'v-lines','legend':'v-m-legend','title':'v-m-title','axis':'v-m-axisBody','axisItem':'v-axis-item','axisTitle':'v-m-axisTitle','chart':'v-m-root','gridline':'v-gridline-group','dataLabel':'v-datalabel',_unselectables:['v-gridline-group'],_clz2NameMap:undefined,_allClzs:undefined,_init:function(){var v;if(!this._name2ClzMap){this._clz2NameMap={};this._allClzs=[];for(var a in this){if(this.hasOwnProperty(a)&&typeof(v=this[a])==='string'){this._allClzs.push(v);this._clz2NameMap[v]=a}}}},clz2Name:function(c){this._init();return this._clz2NameMap[c]},allClzs:function(){this._init();return this._allClzs},featureClass:function(a){var b=this.allClzs();for(var i=-1;++i<b.length;){if(h.hasClass(a,b[i])){return b[i]}}},isSelectable:function(a){a=a[0]||a;var c=this.featureClass(a);return this._unselectables.indexOf(c)===-1},isMultiselectable:function(a){a=a[0]||a;var c=this.featureClass(a);return[this.dataLabel,this.dataPoint,this.axisItem].indexOf(c)>-1},targetPattern:function(a){if(!this[a]){throw"Can't find class for "+a}return"(\\s+|^)"+this[a]+"(\\s+|$)"},allSelectableTargetsPattern:function(){var a=this.allClzs(),c=[];for(var i=-1;++i<a.length;){if(a[i]!==this.chart&&this._unselectables.indexOf(a[i])<0){c.push(a[i])}}return"(\\s+|^)("+c.join('|')+")(\\s+|$)"}};q.axisSubType=function(a){var b=h.findAncestor('v-axis',a).parentNode,c=b.getAttribute('class'),d=/\sv-m-(.)Axis\s/.exec(' '+c+' ');return d[1]};q.typesOfUnit=function(c,u){var t,s;t=this.featureClassesMap.clz2Name(c);if(!t){throw'unknow class: '+c}if(t==='axis'||t==='axisItem'||t==='axisTitle'){s=this.axisSubType(u)}return[t,s]};q.getStackData=function(u){var s=[];var p,c,d,a;for(var i=0;i<u.length;i++){p=u[i].parentNode;if(q.featureClassesMap.featureClass(p)===C.CSS.CLASS.STACK){c=d3.select(p).datum();if(!c){continue}d={};for(a in c){if(c.hasOwnProperty(a)){d[a]=c[a]}}s[i]=d}}return s};q.constructEventData=function(u,b,s){if(!u||u.length===0){return null}var t,a,c,d=[],m,p,v=[],w,x,y=this.featureClassesMap.featureClass(u[0]),z;t=this.typesOfUnit(y,u[0]);a=t[0];c=t[1];for(var i=-1;++i<u.length;){m=d3.select(u[i]).datum();if(!m){break}if(y==='v-axis-item'){m=m.ctx}p={};for(z in m){if(m.hasOwnProperty(z)){p[z]=m[z]}}d.push(p);x={};w=k.getData(u[i]);if(w){for(z in w){if(w.hasOwnProperty(z)){x[z]=w[z]}}}v.push(x)}var A={type:a,subType:c,data:d,extraData:v};if(y==='v-datapoint'){var E=q.getStackData(u);if(E.length>0){A.stackData=E}}if(b&&b.isBySeries){var G={};for(var j=0;j<b.seriesBindings.length;j++){G[b.seriesBindings[j]]=d[0][b.seriesBindings[j]]}A.seriesData=G}if(s){A.selectAllData=true}return A};var r={fuzzyDistance:10,geoUtils:{distance:function(p,a){return Math.sqrt(Math.pow(p.x-a.x,2)+Math.pow(p.y-a.y,2))},distanceFromPointToLine:function(d,i){var a=this.distance(d,i.p1),b=this.distance(d,i.p2),c=this.distance(i.p1,i.p2),p=(a+b+c)/2,s=Math.sqrt(p*(p-a)*(p-b)*(p-c));return 2*s/c},isObtuseAngle:function(a,b,c){var d=this.distance(a,b),i=this.distance(b,c),j=this.distance(c,a);return(d*d+i*i)<(j*j)}},centerOfDP:function(d){var a=d.getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}},fuzzyDP:function(a,p){var m=this.fuzzyDistance+10,b,c,d,j;for(var i=-1;++i<a.length;){d=a[i];c=this.centerOfDP(d);j=this.geoUtils.distance(c,p);if(j<m&&j<this.fuzzyDistance){j=m;b=d}}return b},fuzzyLineByGeo:function(a,b,p){var c,d,m,s,t,u=this.fuzzyDistance+10,v,w,x,y,i,j;for(i=-1;++i<a.length;){c=a[i];d=d3.select(c).datum();s=[];for(j=-1;++j<b.length;){t=b[j];m=d3.select(t).datum();if(q.matchCtx(d,m)){s.push(t)}}for(j=-1;++j<s.length-1;){x=this.centerOfDP(s[j]);y=this.centerOfDP(s[j+1]);w=this.geoUtils.distanceFromPointToLine(p,{p1:x,p2:y});if(w<u&&w<this.fuzzyDistance&&!this.geoUtils.isObtuseAngle(p,x,y)&&!this.geoUtils.isObtuseAngle(p,y,x)){u=w;v=i}}}if(u<this.fuzzyDistance){return a[v]}},fuzzyLine:function(a,b,p){var c,d,j,i,t;for(i=-1;++i<a.length;){c=a[i];d=c.getAttribute('d');j=document.createElementNS("http://www.w3.org/2000/svg",'path');j.setAttribute('d',d);j.setAttribute('stroke-width',this.fuzzyDistance*2);j.setAttribute('fill','none');j.setAttribute('stroke','transparent');c.parentNode.appendChild(j);t=document.elementFromPoint(p.x,p.y);c.parentNode.removeChild(j);if(t===j){return c}}},fuzzilyMatch:function(a,p){var b=a.querySelectorAll('.'+q.featureClassesMap.dataLine);if(!b.length){return}var c=a.querySelectorAll('.'+q.featureClassesMap.dataPoint),d;d=this.fuzzyDP(c,p);if(d){return d}return this.fuzzyLine(b,c,p)}};return l});define('sap/viz/chart/elements/behaviors/info/sFinBehavior',["sap/viz/base/utils/oo","sap/viz/chart/elements/behaviors/info/BaseBehavior","sap/viz/modules/Constants","sap/viz/modules/util/flattenModules","sap/viz/chart/elements/utils/LassoDecoration","sap/viz/util/BoundingBox","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/FunctionUtils","sap/viz/base/utils/ObjectUtils","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/behaviors/InteractionHelper","sap/viz/base/UADetector","sap/viz/chart/elements/behaviors/info/RuntimeDecorationDefinition","sap/viz/chart/elements/behaviors/info/RuntimeBehavior"],function(o,B,C,f,L,a,T,F,O,D,h,U,R,b){var s=function(){s.superclass.constructor.apply(this,arguments)};o.extend(s,b);s.prototype._fireShowTooltipEvent=function(t,p,c){var e={data:{val:t.data},selectedValues:t.selectedNumber,target:c};if(c){var d=c.__extra_data__;if(d){if(d.color){e.data.color=d.color}if(d.shape){e.data.shape=d.shape}}}else{e.target=this._getSelectedTarget()}this._fireEvent(this._dispatch,"showTooltip",{name:C.Event.TooltipShow.name,data:e})};s.prototype._selectedEventHandler=function(t,e,c){var d=this._selectedDataPoints;if(d.length&&this._selectedDataPoints.length>0){this._showDetail(undefined,"actionMode",e,c)}else{this.runDecoration("hideDetail","actionMode")}};s.prototype._selectOnDatapointHandler=function(e,t){var c=e.data.currentTarget;var d=this._selectedDataPoints.indexOf(c)>=0;this._processTargetsSelection(c,this._props.selectability.mode.toUpperCase(),t,e.data.ctrlKey);if(this._selectedDataPoints.indexOf(c)>=0){this._showDetail(c,"actionMode",e.data.point)}else{if(d){c=this._getSelectedTarget();if(c){this._showDetail(c,"actionMode",e.data.point)}}else{this._hideDetail("actionMode")}this._isHoveringDeselectedDataPoint=d}};s.prototype._hoverOnDatapointHandler=function(e,t){var c=e.data.currentTarget;var p=e.data.point;var d=this._hoveringDataPoint;var g=(this._selectedDataPoints.indexOf(c)>-1);if(d){if(d===c){return}this.runDecoration("unhoverOnDataPoint",d)}if(d!==c){this._isHoveringDeselectedDataPoint=false}this._hoveringDataPoint=c;this.runDecoration("hoverOnDataPoint",c)};s.prototype._getSelectedTarget=function(){var c=this._selectedDataPoints,d,e;var p=this._modules["main.plot"];var g=p.parent().select(".v-bound").node(),j=null;if(!g){g=p.parent().select(".v-plot-bound").node()}if(g){j=h.getBoundingBox(g)}if(j){for(var i=0,l=c.length;i<l;i++){d=c[i];e=h.getBoundingBox(d);if(e&&a.intersects(e,j)){return c[i]}}}};return s});define('sap/viz/chart/elements/behaviors/info/Interaction',["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/Constants","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/ObjectUtils","sap/viz/base/UADetector","sap/viz/chart/elements/behaviors/info/DesktopMonitor","sap/viz/chart/elements/behaviors/info/MobileMonitor","sap/viz/chart/elements/behaviors/info/RuntimeBehavior","sap/viz/chart/elements/behaviors/info/DesignTimeBehavior","sap/viz/chart/elements/behaviors/info/sFinBehavior"],function(o,B,C,T,O,U,D,M,R,a,f){var I=function(m,c){I.superclass.constructor.apply(this,arguments);this._monitor=null;this._rootNode=null;this._props=m.props(null);this._parseProperties();this._ctx=c;this._backgroundRect=null;this._currentBehavior=null;this._currentBehaviorType=null;this._triggerMap=null};o.extend(I,B);I.prototype.setRootNode=function(_){this._rootNode=_;this._rootNode.style("cursor","default");return this};I.prototype.setProperties=function(_){this._props=O.extend(true,this._props,_);this._parseProperties();this._constructBehavior();return this};I.prototype.getProperties=function(){return this._props};I.prototype.properties=function(_){if(!arguments.length){return this.getProperties()}else{return this.setProperties(_)}};I.prototype.module=function(_){if(!arguments.length){return this._modules}this._modules=_;return this};I.prototype.setChartType=function(_){this._chartType=_;return this};I.prototype.initialize=function(){this._updateBackgroundRect();this._monitor=this._monitor||this._getMonitor();this._initializeBehavior();var h=this._logicEventHandler.bind(this);this._monitor.getDispatch().on("select",h).on("hover",h).on("focus",h).on("release",h).on("lassostart",h).on("lassomove",h).on("lassoend",h).on("dragstart",h).on("dragmove",h).on("dragend",h)};I.prototype.dispatch=function(){return this._currentBehavior?this._currentBehavior.getDispatch():d3.dispatch()};I.prototype.setSelection=function(i,c){if(this._currentBehavior){return this._currentBehavior.setSelection(i,c)}return false};I.prototype.getSelection=function(c){if(this._currentBehavior){return this._currentBehavior.getSelection(c)}return null};I.prototype.selectedPropertyZone=function(s){var r=this._currentBehavior&&this._currentBehavior.selectedPropertyZone.apply(this._currentBehavior,arguments);return arguments.length?this:r};I.prototype.destroy=function(){if(this._monitor){this._monitor.getDispatch().on("select",null).on("hover",null).on("focus",null).on("release",null).on("lassostart",null).on("lassomove",null).on("lassoend",null).on("dragstart",null).on("dragmove",null).on("dragend",null);this._monitor.destroy()}this._monitor=null;this._rootNode=null;this._props=null;this._ctx=null;this._backgroundRect=null;if(this._currentBehavior){this._currentBehavior.destroy()}this._currentBehavior=null;this._currentBehaviorType=null;this._triggerMap=null};I.prototype._parseProperties=function(){var p=this._props;if(!p.selectability){p.selectability={}}var s=(p.selectability.mode||"").toUpperCase();if(p.behaviorType!=='sFinBehavior'){switch(s){case C.SELECTION_MODE.INCLUSIVE:case C.SELECTION_MODE.EXCLUSIVE:case C.SELECTION_MODE.NONE:case C.SELECTION_MODE.SINGLE:case C.SELECTION_MODE.MULTIPLE:break;default:p.selectability.mode=C.SELECTION_MODE.INCLUSIVE;break}}p.selectability.lassoWithCtrlKey=!!p.selectability.lassoWithCtrlKey;p.holdSelection=!!p.holdSelection;p.preserveSelectionWhenDragging=!!p.preserveSelectionWhenDragging;if(p.behaviorType==="DesignTimeBehavior"){p.behaviorType=a}else if(p.behaviorType==='sFinBehavior'){p.behaviorType=f}else if(!T.isFunction(p.behaviorType)){p.behaviorType=null}p.behaviorType=T.isFunction(p.behaviorType)?p.behaviorType:null};I.prototype._constructBehavior=function(){var c=this._currentBehavior;var d=this._props.behaviorType===null?R:this._props.behaviorType;if(!c||this._currentBehaviorType!==d){this._currentBehavior=new d();this._currentBehaviorType=d}};I.prototype._initializeBehavior=function(){var c=this._currentBehavior;c.setProperties(this._props);c.setChartType(this._chartType);c.setRootNode(this._rootNode);c.setModules(this._modules);c.setData(this._ctx.rawData);c.initialize(this._ctx);this._triggerMap=b(c)};I.prototype._getMonitor=function(){return U.isMobile()?new M(this._props,this._rootNode,this._ctx.eventManager):new D(this._props,this._rootNode)};I.prototype._updateBackgroundRect=function(){var r=this._rootNode;if(!this._backgroundRect){if(r.node().nodeName==="DIV"){this._backgroundRect=r.insert("svg")}else{this._backgroundRect=r.insert("rect","g")}this._backgroundRect.classed("v-eventLayer",true).attr("fill-opacity",0)}this._backgroundRect.attr("width",r.attr("width")).attr("height",r.attr("height"))};I.prototype._logicEventHandler=function(e){var c=e.name;var d=this._triggerMap[c];if(d){var g=this._currentBehavior;d.forEach(function(k){if(this._isTriggerActivated(g.getTrigger(k),e)){g.trigger(k,e)}},this)}};I.prototype._isTriggerActivated=function(c,e){if(!c.target||c.event!==e.name){return false}var r=false;var d=t(c.target,e.data.target,this._rootNode);if((!c.matchMode||c.matchMode===C.TRIGGER.CSS.MATCHMODE.POSITIVE)&&d){e.data.currentTarget=d;r=true}else if(c.matchMode===C.TRIGGER.CSS.MATCHMODE.NEGATIVE&&!d){e.data.currentTarget=e.data.target;r=true}return r};function b(c){var d=c.getTriggers();var m={};for(var k in d){if(d.hasOwnProperty(k)){var e=d[k].event;if(!m[e]){m[e]=[]}m[e].push(k)}}return m}function t(r,n,c){if(!n||!n.getAttribute){return null}var d=n.getAttribute("class");var e=new RegExp(r,"gi");if(e.test(d)){return n}else if(n!==c.node()){return t(r,n.parentNode,c)}return null}return I});define('sap/viz/modules/manifests/controller/Base',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants'],function Setup(M,C){var m={'id':'sap.viz.modules.controller.base','abstract':true,'type':C.Type.Controller,'renderto':C.RenderTo.NONE,'name':'controller base module','properties':null,'events':null,'feeds':null};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/manifests/controller/info/Interaction',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/behaviors/info/Interaction','sap/viz/modules/manifests/controller/Base'],function Setup(M,C,f,B){var m={'id':'sap.viz.chart.elements.behaviors.info.interaction','name':'selection','base':"sap.viz.modules.controller.base",'type':C.Type.Behavior,'description':'Settings for the interactions of the chart','properties':{'selectability':{'name':'selectability','supportedValueType':'Object','supportedValues':{mode:{'name':'mode','supportedValueType':'String','supportedValues':['exclusive','inclusive','single','multiple','none'],'defaultValue':'inclusive','description':'Set the selection mode. Exclusive means you can only select one set of data points at the same time; Inclusive/Multiple means you can select several ones; Single means you only can select one at the same time; None means you can not select anything. Single and Multiple are deprecated, please remove them from you chart ASAP. ','example':"<a href='"+C.DocExample.SnippetUrl+"8756' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},axisLabelSelection:{name:"axisLabelSelection",supportedValueType:"Boolean",defaultValue:true,description:"whether or not axis label can be selected"},legendSelection:{name:"legendSelection",supportedValueType:"Boolean",defaultValue:true,description:"whether or not legend can be selected"},plotLassoSelection:{name:"plotLassoSelection",supportedValueType:"Boolean",defaultValue:true,description:"whether or not use can do lasso selection on plot area"},plotStdSelection:{name:"plotStdSelection",supportedValueType:"Boolean",defaultValue:true,description:"whether or not use can select on plot area by clicking/taping"},lassoWithCtrlKey:{name:"lassoWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether lasso selection needs ctrl key pressed.",isExported:false}},'description':'Settings for selectability'},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled",isExported:false},behaviorType:{name:"behaviorType",supportedValueType:"Function",defaultValue:null,description:"Set a behavior type. Would use Runtime Selection Behavior as default when set to null",isExported:false}},'fn':f,'events':{'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc}};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/Title',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/lang/langManager','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector'],function Setup(o,B,T,l,O,b,U){var a=function(m,c){this._ttl_width=0;this._ttl_height=0;this._ttl_titleStyle=null;this._ttl_options=m.props(null);this._ttl_titleText='';this._ttl_ctx=c;this._ttl_elem_title=null};o.extend(a,B);a.prototype.visible=function(){return this._ttl_options.visible};a.prototype.render=function(s){if(this._ttl_options.visible&&this._ttl_width>0&&this._ttl_height>0){b.drawBound(s,this._ttl_width,this._ttl_height);this._ttlfn_updateTitleStyle();var w=s.selectAll('text.v-title').data([this._ttl_titleText]);w.exit().remove();w.enter().append('text').attr('class','v-title viz-title-label');this._ttl_elem_title=w;this._ttl_elem_title.attr('fill',this._ttl_options.style.color).attr('font-family',this._ttl_options.style.fontFamily).attr('font-size',this._ttl_options.style.fontSize).attr('font-weight',this._ttl_options.style.fontWeight).attr('font-style',this._ttl_options.style.fontStyle);var t=this;w.attr('text-anchor',function(){if(t._ttl_options.alignment==='right'){return'end'}else if(t._ttl_options.alignment==='left'){return'start'}else{return'middle'}}).attr('x',function(){if(t._ttl_options.alignment==='right'){return t._ttl_width}else if(t._ttl_options.alignment==='left'){return 0}else{return t._ttl_width/2}}).attr('y',this._ttl_height/2).attr('dominant-baseline','central');if(U.isIE()){w.attr('y',this._ttl_height).attr('dominant-baseline','auto')}T.ellipsis(this._ttl_titleText,w.node(),this._ttl_width,"font-family:"+this._ttl_options.style.fontFamily+";font-size:"+this._ttl_options.style.fontSize+';font-weight:'+this._ttl_options.style.fontWeight+';font-style:'+this._ttl_options.style.fontStyle+";fill:"+this._ttl_options.style.color)}else{s.selectAll('text.v-title').remove()}};a.prototype.width=function(v){if(!arguments.length){return this._ttl_width}this._ttl_width=v;return this};a.prototype.height=function(v){if(!arguments.length){return this._ttl_height}this._ttl_height=v;return this};a.prototype.size=function(v){if(!arguments.length){return{width:this._ttl_width,height:this._ttl_height}}return this.setSize(v)};a.prototype.setSize=function(v){this._ttl_width=v.width;this._ttl_height=v.height};a.prototype.destroy=function(){if(this._ttl_ctx){this._ttl_ctx.destroy();this._ttl_ctx=null}};a.prototype.properties=function(p){if(!arguments.length){return this._ttl_options}O.extend(true,this._ttl_options,p);if(this._ttl_options.text===''||this._ttl_options.text===null){this._ttl_titleText=l.get('IDS_DEFAULTCHARTTITLE')}else{this._ttl_titleText=this._ttl_options.text}return this};a.prototype.getPreferredSize=function(){if(this._ttl_options.visible){this._ttlfn_updateTitleStyle();var t=T.fastMeasure(this._ttl_titleText,this._ttl_options.style.fontSize,this._ttl_options.style.fontWeight,this._ttl_options.style.fontFamily);return{hideOversize:true,maxSizeConstant:1/3,'width':t.width,'height':t.height,minWidth:0,minHeight:0,maxWidth:t.width,maxHeight:t.height}}return{maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,'width':0,'height':0}};a.prototype.getPropertyZone=function(){var r=[],c,d;if(this._ttl_options.visible){c=this._ttl_elem_title.node().getBoundingClientRect();d=[[]];d[0].push([c.left,c.top]);d[0].push([c.right,c.top]);d[0].push([c.right,c.bottom]);d[0].push([c.left,c.bottom]);r.push({"name":'title',"bound":d})}return r};a.prototype._ttlfn_updateTitleStyle=function(){this._ttl_titleStyle=this._ttl_ctx.styleManager.query('v-title')};return a});define('sap/viz/chart/elements/manifests/Title',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Title'],function Setup(M,C,f){var m={'id':'sap.viz.chart.elements.title','type':C.Type.Supplementary,'name':'title','description':"Settings for the main title",'properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the main title'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set the text of the main title'},'alignment':{'name':'alignment','supportedValueType':'String','supportedValues':['left','center','right'],'defaultValue':'center','description':'Set the alignment of the main title'},'layout':{'name':'layout','supportedValueType':'Object','supportedValues':{'position':{'name':'position','supportedValueType':'String','defaultValue':'right','description':'Set the position of the title','isExported':false},'priority':{'name':'priority','supportedValueType':'Int','defaultValue':0,'description':'Set the priority of the position for the title','isExported':false},'maxWidth':{'name':'maxWidth','supportedValueType':'String','defaultValue':null,'description':'Set the width of the title. It should be a pixel or a ratio regarding to its container.','isExported':false},'maxHeight':{'name':'maxHeight','supportedValueType':'String','defaultValue':'0.2','description':'Set the height of the title. It should be a pixel or a ratio regarding to its container.','isExported':true}},'description':'Settings for layout of title'},'style':{'name':'style','cssClass':'.viz-title-label.v-title','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#333333','description':'Set the color of the main title.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the main title.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'16px','description':'Set the font size of the main title.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'bold','description':'Set the font weight of the main title.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the main title.'}},'css':{'.viz-title-label.v-title':{'description':'Define the style for the title label','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'bold','fill':'#333333'}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/Tooltip',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/base/utils/Objects','sap/viz/format/FormatManager','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/lang/langManager','sap/viz/TemplateManager','sap/viz/base/utils/FunctionUtils','sap/viz/base/UADetector','sap/viz/base/Logger'],function Setup(O,B,a,f,T,b,l,c,F,U,L){var I='infoMode',A='actionMode',D="values selected";var d=function(e,i){this._ctx=i;this._display={padding:'10px',paddingBottom:'10',horizontalLine:{borderBottom:'solid 1px',marginTop:'10px'},dimensionName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},dimensionValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},selectedText:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold",marginTop:"8px"},closeButton:{size:20,borderSize:2,borderStyle:'solid',forkSize:10},maxDimensionLabelWidth:150,maxMeasureLabelWidth:80,mouseMarginTop:3,truncatedWidth:140,contentMaxSize:'42px',truncatedHeight:12,backgroundColor:'#ffffff',borderWidth:'1px',borderStyle:'solid',borderRadius:'3px',boxShadow:'1px 1px #AFAFAF'};this._defaultToolTipColors={backgroundColor:'',borderTopColor:'',borderBottomColor:'',borderLeftColor:'',borderRightColor:'',dimensionName:'',dimensionValue:'',measureName:'',measureValue:'',separationLineSingleColor:'',footerLabelColor:'',closeButtonBackground:'',closeButtonBorderColor:'#cccccc'};this._paragraphLabelTextClassName='v-body-label tooltipparagraphlabel';this._paragraphValueTextClassName='v-body-value tooltipparagraphvalue';this._tooltipBackgroundClassName='v-background';this._tooltipSeparationLineClassName='v-separationline';this._customizedSectionClassName='v-customizedSection';this._div=null;this._borderDiv=null;this._mainDiv=null;this._closeButtonDiv=null;this._extensionDiv=null;this._mode=null;this._properties={};this._properties=e.props(null);this._dimensionOrMeasureTitles=[];this._moveState={position:{x:0,y:0}};this._parentNodeRect=null;this._isAnchored=false;if(U.isWindowsSurface()){this._touchEvent={touchstart:'pointerdown',touchend:'pointerup'}}else{this._touchEvent={touchstart:'touchstart',touchend:'touchend'}}};d.prototype._handleNull=function(_){if(_==null){return l.get('IDS_ISNOVALUE')}else{return _}};d.prototype._clearGlobalValues=function(){this._dimensionOrMeasureTitles=[]};d.prototype.render=function(s){if(s!==null&&s!==undefined){if(d3.select(s).select('.v-m-tooltip').node()===null){this._div=d3.select(s).append('div').attr('class','v-m-tooltip').attr('id','v-m-tooltip')}}return this};d.prototype._formatTooltipData=function(e){if(e&&e.data&&e.data.timeMeasure!==undefined&&e.data.timeMeasure>=0){var o=d3.time.format('%d/%m/%Y %H:%M');for(var j=0,k=0;j<e.data.length;j++){if(e.data[j].type==='measure'){if(e.data.timeMeasure===k){e.data[j].value=o(new Date(parseInt(e.data[j].value)));break}k++}}}if(T.isArray(e.data)){var p=e.data;var q,r,s;q=this._properties.formatString;r=0;for(var i=-1;++i<p.length;){if(i===p.timeMeasure){continue}s=p[i];if(s.type!=="measure"||s.value===null){continue}if(!T.isExist(q)){s.value=f.format(s.value,q);continue}if(T.isString(q)){s.value=f.format(s.value,q)}else if(T.isArray(q)&&e.data._context){if(p._context instanceof Array){s.value=g(s.value,q,p._context[r].path);r++}else{s.value=g(s.value,q,p._context.path)}}else{var u=q[s.id];if(u){s.value=f.format(s.value,u)}}}}return e};function g(e,i,j){var k;var o=j.mg;var p=j.mi;k=i[o];if(T.isExist(k)){k=i[o]}else{return e}if(p>(k.length-1)){k=k[k.length-1]}else{k=k[p]}return f.format(e,k)}d.prototype.plotArea=function(_){if(!arguments.length){return this._plotArea}this._plotArea=_;return this};d.prototype.zone=function(_){if(!arguments.length){return this._zone}this._zone=_;return this};var t=function(i,v,j){if(i){try{i(v,j)}catch(e){L.error("ERROR in Tooltip callback")}}};d.prototype.showTooltip=function(e){if(!this._div){this.render(e.container)}this._mode=e.mode;var i=e;i=this._formatTooltipData(i);if(this._borderDiv!==null){this._borderDiv.remove()}if(this._properties.visible){this._borderDiv=this._div.append('div').attr('class','v-background');this._mainDiv=this._borderDiv.append('div').attr('class','v-tooltip-mainDiv').style('position','relative').style('direction','ltr');if(U.isMobile()){this._closeButtonDiv=this._borderDiv.append('div').attr('class','v-closeButton').style('position','absolute').style('direction','ltr');var j=this;this._closeButtonDiv.on(this._touchEvent.touchstart,function(){d3.event.stopPropagation();d3.event.preventDefault()},true).on(this._touchEvent.touchend,function(){j.hideTooltip(j._mode);d3.event.stopPropagation();d3.event.preventDefault()},true)}this._extensionDiv=this._borderDiv.append('div').attr('class','v-tooltip-extension').style('position','relative').style('display','block').style('margin-top','10px');this._updateTooltipStyle();if(i.mode&&i.mode===A){t(this._properties.preRender,this._extensionDiv)}this._renderTooltip(i);t(this._properties.postRender,this._borderDiv)}this._parentNodeRect=this._div.node().parentNode.getBoundingClientRect();this._isAnchored=e.isAnchored};d.prototype.hideTooltip=function(e){if(e===this._mode){if(this._borderDiv){this._borderDiv.remove();this._borderDiv=null}if(this._mainDiv){this._mainDiv=null}if(this._extensionDiv){this._extensionDiv=null}if(this._closeButtonDiv){this._closeButtonDiv.on(this._touchEvent.touchend,null);this._closeButtonDiv.on(this._touchEvent.touchstart,null);this._closeButtonDiv=null}this._defaultToolTipColors.background='';this._defaultToolTipColors.border='';this._defaultToolTipColors.dimensionName='';this._defaultToolTipColors.dimensionValue='';this._defaultToolTipColors.measureName='';this._defaultToolTipColors.measureValue='';this._defaultToolTipColors.separationLineSingleColor='';this._div.attr('visibility','hidden').style('padding','0px').style('max-height','').style('top','-65535px').style('left','-65535px');this._clearGlobalValues()}};var h=function(e,p){var x=p.x;var y=p.y;if((x+this._div.node().offsetWidth/2)>e.right){x=e.right-this._div.node().offsetWidth}else if(x-this._div.node().offsetWidth/2<e.left){x=e.left}else{x=x-this._div.node().offsetWidth/2}if(this._mode!==I&&(y-this._display.mouseMarginTop-this._div.node().offsetHeight)<e.top){y=y+13}else if(this._mode===I&&(y-this._display.paddingBottom-this._display.mouseMarginTop-this._div.node().offsetHeight)<e.top){y=y+13}else{y=y-this._display.mouseMarginTop-this._div.node().offsetHeight;if(this._mode===I){y=y-this._display.paddingBottom}}if(y+this._div.node().offsetHeight>e.bottom){if(p.y<=(e.bottom+e.top)/2){y=p.y+13}else{y=p.y-this._display.mouseMarginTop-this._div.node().offsetHeight;if(this._mode===I){y=y-this._display.paddingBottom}}}return{'x':x,'y':y}};var m=function(e,p){var x=p.x;var y=p.y;if((x+this._div.node().offsetWidth/2+this._display.closeButton.size/2)>e.right){x=e.right-this._div.node().offsetWidth-this._display.closeButton.size/2}else if(x-this._div.node().offsetWidth/2<e.left){x=e.left}else{x=x-this._div.node().offsetWidth/2-this._display.closeButton.size/2}if((y-this._display.mouseMarginTop-this._div.node().offsetHeight-this._display.closeButton.size/2)<e.top){y=y+13+this._display.closeButton.size/2}else{y=y-this._display.mouseMarginTop-this._div.node().offsetHeight}if(y+this._div.node().offsetHeight+this._display.closeButton.size/2>e.bottom){if(p.y<=(e.bottom+e.top)/2){y=p.y+13+this._display.closeButton.size/2}else{y=p.y-this._display.mouseMarginTop-this._div.node().offsetHeight}}return{'x':x,'y':y}};d.prototype._calculatePos=function(p){var w,e,i=this._properties.layinChart;if(document.documentElement.clientWidth){w=document.documentElement.clientWidth}else if((document.body)&&(document.body.clientWidth)){w=document.body.clientWidth}if(document.documentElement.clientHeight){e=document.documentElement.clientHeight}else if((document.body)&&(document.body.clientHeight)){e=document.body.clientHeight}var j=this._div.node().parentNode.getBoundingClientRect();var k={top:i?j.top:0,left:i?j.left:0,bottom:i?j.bottom:e,right:i?j.right:w};var r=U.isMobile()?m.call(this,k,p):h.call(this,k,p);return{'x':r.x-j.left,'y':r.y-j.top}};d.prototype._adjustTooltipWidth=function(){for(var i=0;i<this._dimensionOrMeasureTitles.length;i++){if(this._dimensionOrMeasureTitles[i].node().offsetWidth>this._display.truncatedWidth){this._dimensionOrMeasureTitles[i].style('max-width',this._display.contentMaxSize)}}};d.prototype._adjustTooltipHeight=function(w){this._div.style('max-height',(w/2-this._display.truncatedHeight)+'px')};d.prototype._checkCss=function(e){var i=c.current().css;if(i.indexOf(e)!==-1){return true}else{return false}};d.prototype._renderTooltip=function(e){if(!this._extensionDiv.node()||this._extensionDiv.node().childNodes.length===0){this._extensionDiv.remove()}this._drawContent(e);this._borderDiv.style('background',this._defaultToolTipColors.backgroundColor);this._borderDiv.style('border-color',this._defaultToolTipColors.border);if(this._defaultToolTipColors.borderTopColor){this._borderDiv.style('border-top-color',this._defaultToolTipColors.borderTopColor)}if(this._defaultToolTipColors.borderBottomColor){this._borderDiv.style('border-bottom-color',this._defaultToolTipColors.borderBottomColor)}if(this._defaultToolTipColors.borderLeftColor){this._borderDiv.style('border-left-color',this._defaultToolTipColors.borderLeftColor)}if(this._defaultToolTipColors.borderRightColor){this._borderDiv.style('border-right-color',this._defaultToolTipColors.borderRightColor)}this._div.style('position','absolute').style('left','0px').style('top','0px').style('width','auto').style('height','auto').style('float','left').style('visibility','hidden').style('line-height','normal');if(e.mode===A){this._div.style('padding-bottom',this._display.paddingBottom+'px')}this._borderDiv.style('border-style',this._display.borderStyle).style('border-width',this._display.borderWidth).style('border-radius',this._display.borderRadius).style('box-shadow',this._display.boxShadow).style('overflow-x','hidden').style('overflow-y','auto').style('padding',this._display.padding);var w,i;if(document.documentElement.clientWidth){w=document.documentElement.clientWidth}else if((document.body)&&(document.body.clientWidth)){w=document.body.clientWidth}if(document.documentElement.clientHeight){i=document.documentElement.clientHeight}else if((document.body)&&(document.body.clientHeight)){i=document.body.clientHeight}if(this._div.node().offsetWidth>w){this._adjustTooltipWidth()}if(this._div.node().offsetHeight>i){this._adjustTooltipHeight(i)}var j=this._calculatePos(e.position);var k=this._div.node();this._div.style('left',j.x+'px').style('top',j.y+'px').style('visibility','visible').style('white-space','nowrap');if(U.isMobile()){var o=k.offsetWidth;var p=this._display.closeButton.size,q=p/2;var r=this._display.closeButton.forkSize,s=r/2;var u=this._display.closeButton.borderSize;var v=q-s;var x=q-u/2;var y='-webkit-transform';if(U.isWindowsSurface()){y='transform'}var z={"position":"absolute","height":this._display.closeButton.borderSize,"width":r+'px',"border-bottom-color":this._defaultToolTipColors.closeButtonBorderColor,"border-bottom-width":this._display.closeButton.borderSize+'px',"border-bottom-style":this._display.closeButton.borderStyle,"top":x+'px',"left":v+'px'};z[y]='rotate(-45deg)';this._closeButtonDiv.append('div').style(z);z[y]='rotate(45deg)';this._closeButtonDiv.append('div').style(z);this._closeButtonDiv.style({"left":o-q-this._display.closeButton.borderSize+'px',"top":-q+'px',"width":p+'px',"height":p+'px',"border-width":this._display.closeButton.borderSize+'px',"border-radius":p+'px',"border-style":this._display.closeButton.borderStyle,"border-color":this._defaultToolTipColors.closeButtonBorderColor,"background":this._defaultToolTipColors.closeButtonBackground})}};d.prototype._drawContent=function(e){this._drawDimensionAndMeasure(e.data);if(e.selectedNumber&&e.selectedNumber>1&&e.data&&e.mode===A){var i=this._mainDiv.append('div').style('margin-top',this._display.horizontalLine.marginTop).style('border-bottom-width','1px').style('border-bottom-style','solid').attr('class','v-separationline');if(this._defaultToolTipColors.separationLineSingleColor!==''&&!this._checkCss('v-separationline')){i.style('border-bottom-color',this._defaultToolTipColors.separationLineSingleColor)}}if(e.selectedNumber&&(e.data&&e.selectedNumber>1||!e.data)&&e.mode===A){var s=this._getStyle(this._display.selectedText);if(this._defaultToolTipColors.footerLabelColor!==''&&!this._checkCss('v-footer-label')){s+=';color:'+this._defaultToolTipColors.footerLabelColor}if(!e.data){s=s.replace(/margin-top:[0-9]+px/,'margin-top:0px')}this._mainDiv.append('div').attr('style',s).text(e.selectedNumber+" "+(l.get('IDS_VALUES_SELECTED')?l.get('IDS_VALUES_SELECTED'):D)).attr('class','v-footer-label tooltipfooterlabel')}};d.prototype._drawDimensionAndMeasure=function(e){if(e&&e.length){var j=this._mainDiv.append('table').attr('class','v-tooltip-dimension-measure').style('border-collapse','collapse');var k,v,s,o,p,q,r;var u=[],w=[],x=[];for(var i=-1;++i<e.length;){if(e[i].type==="dimension"){u.push(e[i])}else if(e[i].type==="measure"){w.push(e[i])}else{x.push(e[i])}}for(var i=-1;++i<u.length;){if(i===u.length-1&&w.length===0&&x.length===0){k=b.extend(true,{},this._display.dimensionName);k.paddingBottom='0px';v=b.extend(true,{},this._display.dimensionValue);v.paddingBottom='0px'}else{k=this._display.dimensionName;v=this._display.dimensionValue}p=j.append('tr');s=this._getStyle(k);if(this._defaultToolTipColors.dimensionName!==''&&!this._checkCss('v-body-dimension-label')){s+=';color:'+this._defaultToolTipColors.dimensionName}if(this._checkCss('v-body-label')){r='v-body-label'}else{r='v-body-dimension-label'}q=p.append('td').attr('style',s).text(this._handleNull(u[i].name)+":").attr('class',r);this._dimensionOrMeasureTitles.push(q);s=this._getStyle(v);if(this._defaultToolTipColors.dimensionValue!==''&&!this._checkCss('v-body-dimension-value')){s+=';color:'+this._defaultToolTipColors.dimensionValue}if(this._checkCss('v-body-value')){r='v-body-value'}else{r='v-body-dimension-value'}p.append('td').attr('style',s).text(this._handleNull(u[i].value)).attr('class',r)}for(var i=-1;++i<w.length;){if(i===w.length-1&&x.length===0){k=b.extend(true,{},this._display.measureName);k.paddingBottom='0px';v=b.extend(true,{},this._display.measureValue);v.paddingBottom='0px'}else{k=this._display.dimensionName;v=this._display.dimensionValue}p=j.append('tr');s=this._getStyle(k);if(this._defaultToolTipColors.measureName!==''&&!this._checkCss('v-body-measure-label')){s+=';color:'+this._defaultToolTipColors.measureName}if(this._checkCss('v-body-label')){r='v-body-label'}else{r='v-body-measure-label'}q=p.append('td').attr('style',s).text(this._handleNull(w[i].name)+":").attr('class',r);this._dimensionOrMeasureTitles.push(q);s=this._getStyle(v);if(this._defaultToolTipColors.measureValue!==''&&!this._checkCss('v-body-measure-label')){s+=';color:'+this._defaultToolTipColors.measureValue}if(this._checkCss('v-body-value')){r='v-body-value'}else{r='v-body-measure-value'}p.append('td').attr('style',s).text(this._handleNull(w[i].value)).attr('class',r)}this._drawOtherInfo(x,j)}};d.prototype._drawDimensionAndMeasureOLD=function(e){if(e&&e!==null){var j=this._mainDiv.append('table').attr('class','v-tooltip-dimension-measure').style('border-collapse','collapse');var k=0,o=0,p,v,s,q,r,u,w;for(var i=0;i<e.length;i++){for(q in e[i].dimension){if(q){k++;if(k===Object.keys(e[i].dimension).length&&Object.keys(e[i].measure).length===0){p=b.extend(true,{},this._display.dimensionName);p.paddingBottom='0px';v=b.extend(true,{},this._display.dimensionValue);v.paddingBottom='0px'}else{p=this._display.dimensionName;v=this._display.dimensionValue}r=j.append('tr');s=this._getStyle(p);if(this._defaultToolTipColors.dimensionName!==''&&!this._checkCss('v-body-dimension-label')){s+=';color:'+this._defaultToolTipColors.dimensionName}if(this._checkCss('v-body-label')){w='v-body-label'}else{w='v-body-dimension-label'}u=r.append('td').attr('style',s).text(this._handleNull(q)+":").attr('class',w);this._dimensionOrMeasureTitles.push(u);s=this._getStyle(v);if(this._defaultToolTipColors.dimensionValue!==''&&!this._checkCss('v-body-dimension-value')){s+=';color:'+this._defaultToolTipColors.dimensionValue}if(this._checkCss('v-body-value')){w='v-body-value'}else{w='v-body-dimension-value'}r.append('td').attr('style',s).text(this._handleNull(e[i].dimension[q])).attr('class',w)}}for(q in e[i].measure){if(q){o++;if(o===Object.keys(e[i].measure).length){p=b.extend(true,{},this._display.measureName);p.paddingBottom='0px';v=b.extend(true,{},this._display.measureValue);v.paddingBottom='0px'}else{p=this._display.dimensionName;v=this._display.dimensionValue}r=j.append('tr');s=this._getStyle(p);if(this._defaultToolTipColors.measureName!==''&&!this._checkCss('v-body-measure-label')){s+=';color:'+this._defaultToolTipColors.measureName}if(this._checkCss('v-body-label')){w='v-body-label'}else{w='v-body-measure-label'}u=r.append('td').attr('style',s).text(this._handleNull(q)+":").attr('class',w);this._dimensionOrMeasureTitles.push(u);s=this._getStyle(v);if(this._defaultToolTipColors.measureValue!==''&&!this._checkCss('v-body-measure-label')){s+=';color:'+this._defaultToolTipColors.measureValue}if(this._checkCss('v-body-value')){w='v-body-value'}else{w='v-body-measure-value'}r.append('td').attr('style',s).text(this._handleNull(e[i].measure[q])).attr('class',w)}}}}};d.prototype._drawOtherInfo=function(e,i){};d.prototype._getStyle=function(i){var s="";if(i.color){s+=';color:'+i.color}if(i.fontFamily){s+=';font-family:'+i.fontFamily}if(i.fontSize){s+=';font-size:'+i.fontSize}if(i.fontWeight){s+=';font-weight:'+i.fontWeight}if(i.paddingButtom){s+=';padding-bottom:'+i.paddingButtom}if(i.whiteSpace){s+=';white-space:'+i.whiteSpace}if(i.textOverflow){s+=';text-overflow:'+i.textOverflow}if(i.overflow){s+=';overflow:'+i.overflow}if(i.paddingLeft){s+=';padding-left:'+i.paddingLeft}if(i.paddingBottom){s+=';padding-bottom:'+i.paddingBottom}if(i.marginTop){s+=';margin-top:'+i.marginTop}if(s.substr(0,1)===";"){s=s.substr(1)}return s};d.prototype.properties=function(_){if(!arguments.length){return this._properties}a.extend(true,this._properties,_);return this};d.prototype.destroy=function(){this._extensionDiv=null;this._mainDiv=null;this._plotArea=null;this._zone=null;if(this._ctx){this._ctx.destroy();this._ctx=null}};var n=function(r){var e=null,i=false;if(this._parentNodeRect){e=this._parentNodeRect}else{e=this._div.node().parentNode.getBoundingClientRect()}if(r.isVertical){if((r.clientRect.top<e.top)||(r.clientRect.bottom>e.bottom)){i=true}}else{if((r.clientRect.left<e.left||r.clientRect.right>e.right)){i=true}}return i};d.prototype.moveTo=function(e){if(!this._div||this._isAnchored){return}var r={clientRect:{},isVertical:true};var o=0;if(e.direction==='Y'){o=parseInt(this._div.style("top"))+e.offset.y;this._div.style("top",o+"px")}else if(e.direction==='X'){o=parseInt(this._div.style("left"))+e.offset.x;r.isVertical=false;this._div.style("left",o+"px")}r.clientRect=this._div.node().getBoundingClientRect();if(n.call(this,r)){this._div.style("visibility","hidden")}else{this._div.style("visibility","visible")}};d.prototype._updateTooltipStyle=function(){if(this._properties.background){if(this._properties.background.color){this._defaultToolTipColors.backgroundColor=this._properties.background.color}if(this._properties.background.borderColor){this._defaultToolTipColors.border=this._properties.background.borderColor}}if(this._properties.bodyDimensionLabel&&this._properties.bodyDimensionLabel.color){this._defaultToolTipColors.dimensionName=this._properties.bodyDimensionLabel.color}if(this._properties.bodyDimensionValue&&this._properties.bodyDimensionValue.color){this._defaultToolTipColors.dimensionValue=this._properties.bodyDimensionValue.color}if(this._properties.bodyMeasureLabel&&this._properties.bodyMeasureLabel.color){this._defaultToolTipColors.measureName=this._properties.bodyMeasureLabel.color}if(this._properties.bodyMeasureValue&&this._properties.bodyMeasureValue.color){this._defaultToolTipColors.measureValue=this._properties.bodyMeasureValue.color}if(this._properties.bodyLabel&&this._properties.bodyLabel.color){this._defaultToolTipColors.dimensionName=this._properties.bodyLabel.color;this._defaultToolTipColors.measureName=this._properties.bodyLabel.color}if(this._properties.bodyValue&&this._properties.bodyValue.color){this._defaultToolTipColors.dimensionValue=this._properties.bodyValue.color;this._defaultToolTipColors.measureValue=this._properties.bodyValue.color}if(this._properties.separationLine&&this._properties.separationLine.borderBottomColor){this._defaultToolTipColors.separationLineSingleColor=this._properties.separationLine.borderBottomColor}if(this._properties.footerLabel&&this._properties.footerLabel.color){this._defaultToolTipColors.footerLabelColor=this._properties.footerLabel.color}if(this._properties.closeButton){if(this._properties.closeButton.backgroundColor){this._defaultToolTipColors.closeButtonBackground=this._properties.closeButton.backgroundColor}if(this._properties.closeButton.borderColor){this._defaultToolTipColors.closeButtonBorderColor=this._properties.closeButton.borderColor}}};O.extend(d,B);return d});define('sap/viz/chart/elements/InfoTooltip',['sap/viz/base/utils/oo','sap/viz/chart/elements/Tooltip'],function Setup(O,T){var I=function(m,c){I.superclass.constructor.call(this,m,c)};O.extend(I,T);I.prototype._checkCss=function(){return false};return I});define('sap/viz/chart/elements/manifests/InfoTooltip',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/InfoTooltip'],function Setup(M,C,f,T){var m={'id':'sap.viz.chart.elements.InfoTooltip','type':C.Type.Presentation.Tooltip,"renderto":C.RenderTo.NONE,'name':'Info tooltip','base':'sap.viz.chart.elements.Tooltip','description':'Settings for the tooltip that appears when the mouse is hovering over a data point or series','properties':{'formatString':{'name':'formatString','supportedValueType':'String, Object','defaultValue':null,'description':'Set the format strings for text in the tooltip. If value type of format string is String, the format string will be used to format all measures. If value type is Object, each format string in the Object will be used to format the measure specified. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@.'+'The following is examples : "0.00”, {measureName : "0.00%"}.','example':"<a href='"+C.DocExample.SnippetUrl+"5711' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/manifests/layout/Base',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants'],function Setup(M,C){var m={'abstract':true,'id':"sap.viz.modules.layout.base",'type':C.Type.Scientific.Layout,'renderto':C.RenderTo.NONE,'name':"Abstract Layout",'description':"Abstract layout algorithm",'properties':{},'configure':null,'fn':null};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/manifests/layout/Scaling',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/scaling','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.scaling",'name':"scaling",'base':"sap.viz.modules.layout.base",'description':"The scaling layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/InfoBaseChart',['sap/viz/manifests/Viz','sap/viz/chart/elements/manifests/container/RootContainer','sap/viz/chart/elements/manifests/Legend','sap/viz/chart/elements/manifests/legend/ColorLegend','sap/viz/chart/elements/manifests/controller/info/Interaction','sap/viz/chart/elements/manifests/Title','sap/viz/chart/elements/manifests/InfoTooltip','sap/viz/modules/manifests/layout/Scaling'],function(V,R,L,C,F,T,a,S){var c={id:"info/base","abstract":true,isBuiltIn:true,modules:{root:{id:'sap.viz.chart.elements.rootContainer',configure:{propertyCategory:'general',properties:{layout:{padding:24,vgap:8,hgap:8}}},modules:{layout:{id:'sap.viz.modules.layout.scaling'},tooltip:{id:'sap.viz.chart.elements.InfoTooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},title:{id:'sap.viz.chart.elements.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0,height:0.2,paddingBottom:12}}}},interaction:{id:'sap.viz.chart.elements.behaviors.info.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{holdSelection:true}}},legends:{id:"sap.viz.chart.elements.legend",configure:{propertyCategory:'legendGroup',properties:{layout:{position:'right',priority:1,maxWidth:'0.25',maxHeight:'0.25'}}},modules:{legend:{id:'sap.viz.chart.elements.legend.colorLegend',configure:{propertyCategory:'legend',properties:{layout:{order:0}}}}}},main:{configure:{properties:{layout:{position:"center",priority:3}},propertyCategory:"xyContainer"},modules:{plot:{configure:{propertyCategory:'plotArea',properties:{layout:{position:"center",priority:4}}}}}}}}},dependencies:{attributes:[{targetModule:'root.legends.legend',target:'setColorScale',sourceModule:'root.main.plot',source:'getColorScale'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[c],module:[].concat(R.module,T.module,L.module,a.module,S.module,C.module,F.module),feeds:[].concat(R.feeds,T.feeds,L.feeds,a.feeds,S.feeds,C.feeds,F.feeds)};return m});define('sap/viz/base/EventDispatch',[],function(){var E=function(){this._edp_dispatch=d3.dispatch.apply(d3,arguments);this._copyEventTypes(this._edp_dispatch,false)};E.prototype._copyEventTypes=function(d,c){for(var n in d){if(d.hasOwnProperty(n)){this[n]=d[n];if(c){this._edp_dispatch[n]=d[n]}}}};E.prototype.addEventTypes=function(){var t=d3.dispatch.apply(d3,arguments);this._copyEventTypes(t,true);return this};E.prototype.on=function(t,l){return this._edp_dispatch.on(t,l)};E.prototype.destroy=function(){var d=this._edp_dispatch;if(d){for(var i in d){if(d.hasOwnProperty(i)){d.on(i,null)}}}this._edp_dispatch=null};return E});define('sap/viz/elements/common/Base',['sap/viz/base/EventDispatch'],function(E){var B=function(){this._eDispatch=new E()};B.prototype.__new_style__=true;B.prototype.getDispatch=function(){return this._eDispatch};B.prototype.dispatch=function(){return this._eDispatch};B.prototype._exposeMoreEvents=function(){this._eDispatch.addEventTypes.apply(this._eDispatch,arguments);return this};B.prototype.destroy=function(){if(this._eDispatch&&this._eDispatch.destroy){this._eDispatch.destroy();this._eDispatch=null}};return B});define('sap/viz/elements/common/BaseGraphic',['sap/viz/base/utils/oo','sap/viz/elements/common/Base','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects'],function Setup(o,B,O,T,a){var b=function(m,c){b.superclass.constructor.apply(this,arguments);this._width=0;this._height=0;this._data=null;this._props=m.props(null);this._randomSuffix=O.guid();this._parent=null;this._manifest=m;this._ctx=c;this._effectManager=this._ctx.effectManager;this._styleManager=this._ctx.styleManager;this._exposeMoreEvents('initialized')};o.extend(b,B);b.prototype.render=function(s){this._parent=s;if(T.isFunction(this._props.preRendering)){this._props.preRendering.call(this,s,this._data)}this._doRender(s);if(T.isFunction(this._props.postRendering)){this._props.postRendering.call(this,s,this._data)}return this};b.prototype._doRender=function(s){};b.prototype.getWidth=function(){return this._width};b.prototype.setWidth=function(v){this._width=v;return this};b.prototype.width=function(v){if(!arguments.length){return this.getWidth()}return this.setWidth(v)};b.prototype.getHeight=function(){return this._height};b.prototype.setHeight=function(v){this._height=v;return this};b.prototype.height=function(v){if(!arguments.length){return this.getHeight()}return this.setHeight(v)};b.prototype.getSize=function(){return{width:this._width,height:this._height}};b.prototype.setSize=function(v){if(v){this.setWidth(v.width).setHeight(v.height)}return this};b.prototype.size=function(v){if(!arguments.length){return this.getSize()}return this.setSize(v)};b.prototype.getData=function(){return this._data};b.prototype.setData=function(v){this._data=v};b.prototype.data=function(v){if(!arguments.length){return this.getData()}return this.setData(v)};b.prototype.getProperties=function(){return this._props};b.prototype.setProperties=function(v){a.extend(true,this._props,v);return this};b.prototype.properties=function(v){if(!arguments.length){return this.getProperties()}return this.setProperties(v)};b.prototype.parent=function(){return this._parent};b.prototype.destroy=function(){b.superclass.destroy.apply(this,arguments);this._parent=null;this._manifest=null;if(this._ctx){this._ctx.destroy();this._ctx=null}if(this._effectManager){this._effectManager.destroy();this._effectManager=null}if(this._styleManager){this._styleManager.destroy();this._styleManager=null}};b.prototype.getPreferredSize=function(){return{'minWidth':1,'minHeight':1,}};return b});define('sap/viz/chart/elements/axis/utils/PositionUtils',["sap/viz/modules/Constants"],function(C){var u={isVertical:function(p){return p===C.POSITION.LEFT||p===C.POSITION.RIGHT},isHorizontal:function(p){return p===C.POSITION.TOP||p===C.POSITION.BOTTOM}};return u});define('sap/viz/chart/elements/axis/BaseAxis',["sap/viz/base/utils/oo","sap/viz/elements/common/BaseGraphic","sap/viz/modules/Constants","sap/viz/util/ignite","sap/viz/util/append","sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/chart/elements/axis/utils/PositionUtils"],function(o,B,C,i,a,N,T,O,l,P){var A=C.CSS.CLASS.AXIS;var D="Axis Title";var M=1/3;var b=function(m,c){b.superclass.constructor.apply(this,arguments);this._parseProperties();this._drawable=true;this._spaceLimit=0;this._scale=null;this._title=null;this._bindingFields=null;this._style={realStyle:{},defaultStyle:{}};this._layoutAlgorithm=null;this._titleModule=null;this._bodyModule=null;this._modules=null;this._selections=null;this._exposeMoreEvents('moveTo')};o.extend(b,B);b.prototype.visible=function(){return this._props.visible};b.prototype.setProperties=function(_){b.superclass.setProperties.apply(this,arguments);this._validateProperties(_);return this};b.prototype.setWidth=function(_){b.superclass.setWidth.apply(this,arguments);this._setSpaceLimit();return this};b.prototype.setHeight=function(_){b.superclass.setHeight.apply(this,arguments);this._setSpaceLimit();return this};b.prototype.setSize=function(_){b.superclass.setSize.apply(this,arguments);this._setSpaceLimit();return this};b.prototype.render=function(s){this._parent=s;this._initializeModules();var p=s.select("g."+A.CONTAINER);if(!p.node()){p=s.append("g").attr("class",A.CONTAINER)}this._initializeSelections(p);this._updateData();this._updateStyles();this._updateProperties();this._updateContainerSize();this._doLayout();var c=this._bodyModule.getAvailableLayersNumber();this._titleModule.setTitleHiddenItems(c);this._doRender();this._eDispatch.initialized()};b.prototype.getParent=function(){return this._parent};b.prototype.destroy=function(){this._style.realStyle=null;this._style.defaultStyle=null;this._style=null;if(this._scale&&this._scale.destroy()){this._scale.destroy();this._scale=null}if(this._layoutAlgorithm&&this._layoutAlgorithm.destroy()){this._layoutAlgorithm.destroy();this._layoutAlgorithm=null}var k=null;if(this._modules&&this._modules instanceof Object){for(k in this._modules){if(this._modules.hasOwnProperty(k)&&this._modules[k].destroy){this._modules[k].destroy();this._modules[k]=null}}}this._modules=null;if(this._selections&&this._selections instanceof Object){for(k in this._selections){if(this._selections.hasOwnProperty(k)){this._selections[k]=null}}}this._selectioons=null;this._titleModule=null;this._bodyModule=null;b.superclass.destroy.apply(this,arguments)};b.prototype.getPreferredSize=function(){this._initializeModules();this._updateData();this._updateStyles();this._updateProperties();this._updateContainerSize();var c=this._getLayoutComponents();this._layoutAlgorithm.setComponents(c).setRefSize(this._getScaleRange());var d=this._layoutAlgorithm.getPreferredSize();var p={width:d.width,height:d.height};return N.preciseObject(p)};b.prototype.setBindingFields=function(_){this._bindingFields=_;return this};b.prototype.setScale=function(_){this._scale=_;return this};b.prototype.gridlineLength=function(){};b.prototype.setColor=function(_){var c=_;if(c===undefined){return this}this._props.isAxisLineColorFromPlot=true;if(this._customizedColor){c=this._customizedColor}if(!c){c=this._defaultColor}O.extend(true,this._props,{"color":c});return this};b.prototype.drawable=function(_){if(!arguments.length){return this._drawable}this._drawable=_;if(_===false){this.setSize({width:0,height:0})}return this};b.prototype._getPadding=function(c){if(!this._drawable){return 0}var f;if(c){f="startPadding"}else{f="endPadding"}var m=this._modules;var p=0;for(var k in m){if(m.hasOwnProperty(k)){if(T.isFunction(m[k][f])){var t=m[k][f]();if(t>p){p=t}}}}return p};b.prototype.startPadding=function(){return this._getPadding(true)};b.prototype.endPadding=function(){return this._getPadding(false)};b.prototype._doRender=function(){var m=this._modules;var s=this._selections;for(var k in s){if(s.hasOwnProperty(k)){s[k].call(m[k])}}};b.prototype._doLayout=function(){var c=this._getLayoutComponents();this._layoutAlgorithm.setComponents(c).setSpaceLimit(this._spaceLimit).setRefSize(this._getScaleRange());var r=this._layoutAlgorithm.calculate();var m=this._modules;var s=this._selections;for(var k in m){if(m.hasOwnProperty(k)){var d=m[k];var e=s?s[k]:null;var f=r[k];d.setWidth(f.width);d.setHeight(f.height);if(d.layout){d.layout()}if(e){e.attr("transform","translate("+f.x+","+f.y+")")}}}return r};b.prototype._initializeModules=function(){if(this._modules){return}var m=this._config.modules;var d=(this._modules={});var e=[];for(var k in m){if(m.hasOwnProperty(k)){var f=m[k];var g=f.configure;if(g.isLayoutAlgorithm){var h=g.properties;this._layoutAlgorithm=i(f.id,this._ctx,"v-sap_viz_modules_layout_key");this._layoutAlgorithm.setGravity(h.gravity).setDirection(h.direction).setSizeFn(function(c){return c.module.getPreferredSize()})}else{var j=(d[k]=i(f.id,this._ctx,"v-m-"+k));if(g.isTitle){this._titleModule=j}else if(g.isBody){this._bodyModule=j}j.alias=f.name;j.setProperties(this._props);j.setDispatch(this._eDispatch)}}}};b.prototype._initializeSelections=function(p){if(this._selections){return}var s=(this._selections={});var m=this._modules;for(var k in m){if(m.hasOwnProperty(k)){s[k]=a.apply(p,["g",{"class":"v-m-"+k}])}}};b.prototype._getLayoutComponents=function(){var c=[];var m=this._modules;if(!m){m=(this._modules=this._initializeModules())}var d=this._config.modules;var e,f,p;var g=true;if(this._ctx.generalSettings&&this._ctx.generalSettings.layout){g=!!this._ctx.generalSettings.layout.hideAxisTitleFirst}for(var k in m){if(m.hasOwnProperty(k)){e=m[k];f=d[k].configure.layoutConfig;p=f.priority;if(e===this._titleModule&&!g){p=1}c.push({module:e,order:f.order,priority:p,offset:f.offset})}}return c};b.prototype._parseProperties=function(){this._position=this._props.position;this._config=this._getConfig(this._position);this._isAxisTitleApplyLineColor=!!this._props.title.applyAxislineColor;this._defaultColor=this._props.color;this._customizedColor=null;this._props.isAxisLineColorFromPlot=false;this._props.axisLine.size=parseFloat(this._props.axisLine.size)};b.prototype._validateProperties=function(_){this._position=this._props.position;this._config=this._getConfig(this._position);this._isAxisTitleApplyLineColor=!!this._props.title.applyAxislineColor;if(_.color){this._customizedColor=_.color}this._props.axisLine.size=parseFloat(this._props.axisLine.size)};b.prototype._updateData=function(){var m=this._modules;if(m){for(var k in m){if(m.hasOwnProperty(k)){var c=m[k];if(c.setData&&this._scale){c.setData(this._scale)}if(c.setBindingFields&&this._bindingFields){c.setBindingFields(this._bindingFields)}}}if(this._titleModule&&this._scale){this._titleModule.setData(this._getTitle())}}};b.prototype._updateContainerSize=function(){var m=this._modules;if(m){for(var k in m){if(m.hasOwnProperty(k)){var c=m[k];if(c.setContainerSize){c.setContainerSize({width:this._width,height:this._height})}}}}};b.prototype._updateProperties=function(){var m=this._modules;if(m){this._prepareProperties();for(var k in m){if(m.hasOwnProperty(k)){var c=m[k];if(c.setProperties){c.setProperties(this._props)}}}}};b.prototype._updateStyles=function(){var m=this._modules;if(m){this._getThemeStyleDef();for(var k in m){if(m.hasOwnProperty(k)){var c=m[k];if(c.setStyles){c.setStyles(this._style)}}}}};b.prototype._getTitle=function(){var t={};t.text="";t.isCustomized=false;t.items=[];var c="";if(T.isString(this._props.title.text)){c=this._props.title.text;t.isCustomized=true}else if(this._bindingFields){c=this._constructTitle(this._bindingFields,t.items)}else{c=D;t.isCustomized=true}t.text=c;return t};b.prototype._constructTitle=function(){return""};b.prototype._getThemeStyleDef=function(){var r,d,t,c,h;function e(f){var g={};O.extend(true,g,f);g.cssString=f.toString();return g}r=this._style.realStyle;d=this._style.defaultStyle;t=A.TITLE;h=A.TITLE_HIDDEN;c=A.LABEL;r.title={"fill":this._props.title.style.color,"font-family":this._props.title.style.fontFamily,"font-size":this._props.title.style.fontSize,"font-weight":this._props.title.style.fontWeight,"font-style":this._props.title.style.fontStyle,"cssString":"fill:"+this._props.title.style.color+";font-family:"+this._props.title.style.fontFamily+";font-size:"+this._props.title.style.fontSize+";font-weight:"+this._props.title.style.fontWeight+";font-style:"+this._props.title.style.fontStyle+";"};r.label={"fill":this._props.label.style.color,"font-family":this._props.label.style.fontFamily,"font-size":this._props.label.style.fontSize,"font-weight":this._props.label.style.fontWeight,"font-style":this._props.label.style.fontStyle,"cssString":"fill:"+this._props.label.style.color+";font-family:"+this._props.label.style.fontFamily+";font-size:"+this._props.label.style.fontSize+";font-weight:"+this._props.label.style.fontWeight+";font-style:"+this._props.label.style.fontStyle+";"};r.hiddenTitle={"fill":this._props.hiddenTitle.color,"cssString":"fill:"+this._props.hiddenTitle.color+";"};d.title=r.title;d.label=r.label;d.hiddenTitle=r.hiddenTitle;if(this._isAxisTitleApplyLineColor){r.title.fill=this._props.color;d.title.fill=this._props.color}};b.prototype._prepareProperties=function(){var e=this._effectManager;function g(c){var d={drawingEffect:"normal",fillColor:c};return e.register(d)}var p=this._props;var s=this._style;if(p.customizedColor){p.color=p.customizedColor}if(!e){return}p.color=g(p.color);p.gridline.color=g(p.gridline.color);s.defaultStyle.label.fill=g(s.defaultStyle.label.fill);s.defaultStyle.title.fill=g(s.defaultStyle.title.fill)};b.prototype._setSpaceLimit=function(){if(P.isVertical(this._position)){this._spaceLimit=this._width}else{this._spaceLimit=this._height}};b.prototype._getScaleRange=function(){var r=0;if(this._scale){var c=this._scale.getRange();r=Math.abs(c[0]-c[1])}return r};b.prototype._getConfig=function(p){return null};return b});define('sap/viz/chart/elements/axis/sub/BaseAxisSub',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/elements/common/Base","sap/viz/base/utils/Objects","sap/viz/util/NumberUtils","sap/viz/util/TextUtils","sap/viz/chart/elements/axis/utils/PositionUtils"],function(C,o,B,O,N,T,P){var a=function(m,c){a.superclass.constructor.apply(this,arguments);this._ctx=c;this._data=null;this._width=0;this._height=0;this._props={};this._styles={};this._position=C.POSITION.BOTTOM;this._preferredSize={minWidth:0,minHeight:0};this._formerStyle=null;this._styleChanged=false;this._containerSize=null;this._eDispatch=null};o.extend(a,B);a.prototype.setData=function(_){this._data=_;return this};a.prototype.setWidth=function(_){this._width=_;return this};a.prototype.setHeight=function(_){this._height=_;return this};a.prototype.setProperties=function(_){O.extend(true,this._props,_);this._position=this._props.position;return this};a.prototype.setStyles=function(_){var f=this._formerStyle;var c=JSON.stringify(_);if(!this._styles||f!==c){this._styleChanged=true}this._styles=_;this._formerStyle=c;return this};a.prototype.setDispatch=function(_){this._eDispatch=_;return this};a.prototype.destroy=function(){a.superclass.destroy.apply(this,arguments);this._preferredSize=null;if(this._data&&this._data.destroy){this._data.destroy();this._data=null}this._formerStyle=null;this._containerSize=null};a.prototype.render=function(){};a.prototype.setContainerSize=function(_){this._containerSize=_};a.prototype._measureTextSize=function(t,s){var b=T.canvasMeasure(t,s['font-size'],s['font-weight'],s['font-family']);return N.preciseObject(b)};a.prototype._isVertical=function(){return P.isVertical(this._position)};a.prototype._isHorizontal=function(){return P.isHorizontal(this._position)};a.prototype._isSpaceEnough=function(){if(this._width===0||this._height===0){return false}if(!this._containerSize.width||!this._containerSize.height){return false}var p=this._preferredSize;return p.minHeight<=this._height&&p.minWidth<=this._width};a.prototype._updatePfdSize=function(s){this._preferredSize.minWidth=s.minWidth;this._preferredSize.minHeight=s.minHeight};return a});define('sap/viz/modules/util/ClippathUtil',['sap/viz/base/utils/ObjectUtils'],function Setup(O){var c='v-clippath';var C={drawClippath:function(s,w,h,x,y){if(w<0){w=0}if(h<0){h=0}if(s.select('.'+c).node()===null){var i='clip-path-'+O.guid();var a=s.insert('clipPath',':first-child').attr('class',c).attr('id',i);a.append('rect').attr('x',x).attr('y',y).attr('width',w).attr('height',h);return i}else{s.select('.'+c).select('rect').attr('width',w).attr('height',h).attr('x',x).attr('y',y);return s.select('.'+c).attr('id')}}};return C});define('sap/viz/chart/elements/axis/sub/AxisTitle',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/BaseAxisSub","sap/viz/base/utils/TypeUtils","sap/viz/util/NumberUtils","sap/viz/util/TextUtils","sap/viz/modules/util/ClippathUtil"],function(C,o,B,T,N,a,b){var A=C.CSS.CLASS.AXIS;var c=function(){c.superclass.constructor.apply(this,arguments);this.visibleItemsNumber=-1};o.extend(c,B);var d=function(e,l){var i;for(i=0;i<e.length;i++){if(i>=l){e[i].isHidden=true}else{e[i].isHidden=false}}};c.prototype.render=function(s){s.select("g."+A.TITLE).remove();s.selectAll(".v-m-axisTitleEventLayer").remove();if(T.isString(this._data.text)&&this._isSpaceEnough()&&this._props.visible&&this._props.title.visible){var t=this._data.text;var e=A.TITLE+" "+A.TITLE_BACKWORD;var h=A.TITLE_HIDDEN;var f=this._styles.defaultStyle.title;var g=this._styles.defaultStyle.hiddenTitle;var r=this._styles.realStyle.title;var i=a.getTextBaselineOffset(r);var j=s.append("g").attr("class",e).attr("fill",f.fill).attr("font-size",f['font-size']).attr("font-weight",f['font-weight']).attr("font-family",f['font-family']).attr("font-style",f['font-style']).append("text").text(t).attr("text-anchor","middle").attr("dominant-baseline","auto");var k="";if(this._isVertical()){j.attr("x",this._width-i).attr("y",this._containerSize.height/2).attr("transform","rotate(-90,"+(this._width-i)+","+(this._containerSize.height/2)+")");k=a.ellipsis(t,j.node(),this._containerSize.height,r.cssString)}else{j.attr("x",this._containerSize.width/2).attr("y",this._height-i);k=a.ellipsis(t,j.node(),this._containerSize.width,r.cssString)}var l=this._data;if(!l.isCustomized){d(l.items,this.visibleItemsNumber);j.text("");if(k!==t&&j.select("title").empty()){j.append("title").text(t)}var I;for(I=0;I<l.items.length;I++){var m=j.append("tspan");m.attr("class",e);m.attr("dominant-baseline","auto");if(l.items[I].isHidden&&!l.isCustomized){m.attr("class",e+" "+h);m.attr("fill",g.fill)}if(k.length>l.items[I].text.length){if(((k.length-3)<l.items[I].text.length)&&k.substring(k.length-3)==="..."){m.text(k);break}else{m.text(l.items[I].text);k=k.substring(l.items[I].text.length)}}else{m.text(k);break}}}else{if(!l.isCustomizedColor&&this.visibleItemsNumber===0){j.attr("class",e+" "+h);j.attr("fill",g.fill)}}}};c.prototype.setTitleHiddenItems=function(_){this.visibleItemsNumber=_};c.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(T.isString(this._data.text)&&this._props.visible&&this._props.title.visible){var s=this._measureTextSize(this._data.text,this._styles.realStyle.title);var m=this._getMinTextWidth(this._data.text,this._styles.realStyle.title);if(this._isVertical()){p.minWidth=s.height;p.maxWidth=s.height;p.minHeight=m;p.maxHeight=s.width}else{p.minWidth=m;p.maxWidth=s.width;p.minHeight=s.height;p.maxHeight=s.height}p.spacings[0].interval=s.height}var e=N.preciseObject(p);this._updatePfdSize(e);return e};c.prototype._getMinTextWidth=function(t,s){var e=this._measureTextSize(t,s);var m=e.width;if(m>0&&t.length){var f=this._measureTextSize(t[0]+"...",s);if(m>f.width){m=f.width}}return m};return c});define('sap/viz/chart/elements/manifests/axis/sub/Base',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants"],function Setup(M,C){var m={"id":"sap.viz.chart.elements.axis.sub.base","type":C.Type.Supplementary,"name":"baseAxisSub","properties":{},"css":null,"configure":null,fn:null};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/manifests/axis/sub/Title',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/AxisTitle","sap/viz/chart/elements/manifests/axis/sub/Base"],function Setup(M,C,f,B){var m={"id":"sap.viz.chart.elements.axis.sub.title","name":"axisTitle","base":"sap.viz.chart.elements.axis.sub.base",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/axis/renderer/ValueBodyRenderer',["sap/viz/modules/Constants","sap/viz/util/NumberUtils","sap/viz/util/TextUtils","sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/common/SVG"],function(C,N,T,a,S){var A=C.CSS.CLASS.AXIS;var b=6;var c=5;var L=6;var r={};r.drawLines=function(s,d,w,h,p,e){var l=e.isAxisLineColorFromPlot?A.FIXED_PERIMETER:A.PERIMETER;l=l+" "+A.LINE;var x=0,y=0,f=0,g=0;var i=e.color;var j=e.axisLine.size;var k,m;if(d[0]<d[1]){k=d[0]-j/2;m=d[1]+j/2}else{k=d[1]-j/2;m=d[0]+j/2}switch(p){case C.POSITION.LEFT:x=w;y=k;f=w;g=m;break;case C.POSITION.RIGHT:x=0;y=k;f=0;g=m;break;case C.POSITION.TOP:x=k;y=h;f=m;g=h;break;case C.POSITION.BOTTOM:x=k;y=0;f=m;g=0;break}s.append("line").attr("class",l).attr("stroke",i).attr("stroke-width",j).attr("shape-rendering","crispEdges").attr("x1",x).attr("y1",y).attr("x2",f).attr("y2",g)};r.drawTicks=function(s,t,w,h,p,e,f){var g=e.isAxisLineColorFromPlot?A.FIXED_PERIMETER:A.PERIMETER;g=g+" "+A.TICK;var j=e.color;var k=e.axisLine.size;var l=[];if(t&&a.isArray(t)){if(f){l=t}else if(t.length>=2){if(Math.abs(t[0]-t[1])<b){l=[t[0],t[t.length-1]]}else{l=t}}}var i=0,m=l.length;var x=[],y=[],n=[],o=[];switch(p){case C.POSITION.LEFT:for(;i<m;++i){x[i]=w;y[i]=l[i];n[i]=w-c;o[i]=l[i]}break;case C.POSITION.RIGHT:for(;i<m;++i){x[i]=0;y[i]=l[i];n[i]=c;o[i]=l[i]}break;case C.POSITION.TOP:for(;i<m;++i){x[i]=l[i];y[i]=h;n[i]=l[i];o[i]=h-c}break;case C.POSITION.BOTTOM:for(;i<m;++i){x[i]=l[i];y[i]=0;n[i]=l[i];o[i]=c}break}var q=s.selectAll("."+A.TICK).data(l);q.enter().append("line");q.exit().remove();q.each(function(d,i){this.setAttribute("class",g);this.setAttribute("stroke",j);this.setAttribute("stroke-width",k);this.setAttribute("shape-rendering","crispEdges");this.setAttribute("x1",x[i]);this.setAttribute("y1",y[i]);this.setAttribute("x2",n[i]);this.setAttribute("y2",o[i])})};r.drawLabels=function(s,e,l,w,h,p,f,g){var j=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var k=g.defaultStyle.label.fill;var m=g.defaultStyle.label['font-size'];var n=g.defaultStyle.label['font-weight'];var o=g.defaultStyle.label['font-family'];var q=g.defaultStyle.label['font-style'];var t=T.getTextBaselineOffset(g.realStyle.label);var i=0,u=l.length;var v;switch(p){case C.POSITION.LEFT:for(;i<u;++i){v=l[i];v.textAnchor="end";v.x=w-c-L;v.y=e.scale(v.value)+v.height/2-t}break;case C.POSITION.RIGHT:for(;i<u;++i){v=l[i];v.textAnchor="start";v.x=c+L;v.y=e.scale(v.value)+v.height/2-t}break;case C.POSITION.TOP:for(;i<u;++i){v=l[i];v.textAnchor="middle";v.x=e.scale(v.value);v.y=h-c-L-t}break;case C.POSITION.BOTTOM:for(;i<u;++i){v=l[i];v.textAnchor="middle";v.x=e.scale(v.value);v.y=c+L+v.height-t}break}var x=s.selectAll("."+A.LABEL).data(l);x.enter().append("g");x.exit().remove();x.each(function(d,i){this.setAttribute("class",j);this.setAttribute("fill",k);this.setAttribute("font-size",m);this.setAttribute("font-weight",n);this.setAttribute("font-family",o);this.setAttribute("font-style",q);var y=S.create("text");y.textContent=d.text;y.setAttribute("text-anchor",d.textAnchor);y.setAttribute("x",d.x);y.setAttribute("y",d.y);this.appendChild(y)})};return r});define('sap/viz/chart/elements/scale/BaseScale',[],function(){var B=function(d,r){this.__className="sap.viz.chart.elements.scale.BaseScale";this._scale=undefined;this._domain=d;this._range=r;this._isReset=false};B.prototype.scale=function(v){};B.prototype.getDomain=function(){return this._domain};B.prototype.setDomain=function(d){this._domain=d;this._isReset=true};B.prototype.getRange=function(){return this._range};B.prototype.setRange=function(r){this._range=r;this._isReset=true};B.prototype.destroy=function(){this._domain=[];this._range=[];var s=this._scale;if(s){if(s.domain){s.domain([])}if(s.range){s.range([])}}this._scale=null};return B});define('sap/viz/chart/elements/scale/ValueScale',['sap/viz/base/utils/oo','sap/viz/chart/elements/scale/BaseScale'],function(o,B){var V=function(d,r,a){V.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.scale.ValueScale";this._tickHint=undefined;this._domainFixed=a?a:[false,false]};o.extend(V,B);V.prototype.scale=function(v){if(this._scale===undefined||this._isReset===true){this._initScale()}return this._scale(v)};V.prototype.nice=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}this._scale=this._scale.nice();this._domain=this._scale.domain();this._range=this._scale.range();return this};V.prototype.ticks=function(n){if(this._scale===undefined){this._initScale()}return this._scale.ticks(n)};V.prototype.getTickHint=function(){return this._tickHint};V.prototype.setTickHint=function(n){this._tickHint=n};V.prototype.isFixed=function(){return this._domainFixed&&(this._domainFixed[0]||this._domainFixed[1])};V.prototype.getDomainFixed=function(){return this._domainFixed};V.prototype._initScale=function(){this._scale=d3.scale.linear();if(this._domain){this._scale.domain(this._domain)}if(this._range){this._scale.range(this._range)}this._isReset=false};return V});define('sap/viz/chart/elements/scale/ScaleUtil',['sap/viz/util/NumberUtils',"sap/viz/chart/elements/scale/ValueScale"],function Setup(N,V){var S={getRoughTickNum:function(_){var c=2;var r=-1;var a=_.getRange();var b=Math.abs(a[0]-a[a.length-1]);if(b>10){r=c+Math.round(b/100)}else{r=c}_.setTickHint(r);return r},nice:function(_){if(!_.isFixed()){this.perfect(_)}else{var d=_.getDomainFixed();if(!(d[0]&&d[1])){var a=_.getDomain();var h=new V(a,_.getRange());this.perfect(h);var r=h.getDomain();if(d[0]){_.setDomain([a[0],r[1]])}else{_.setDomain([r[0],a[1]])}}this.getRoughTickNum(_)}},perfect:function(_){var q=_.nice();var c=2;var a=100;var d=_.getDomain(),b=d.length;d=N.preciseObject(d);var o=d[0];var e=d[d.length-1];var r=this.getRoughTickNum(_);var t=q.ticks(r);t=N.preciseObject(t);var f=true;var g;if(t.length===0){f=false}else if(t.length>1){g=t[1]-t[0]}else{var h=Math.abs(d[0]-t[0]);var i=Math.abs(d[b-1]-t[0]);if(h>i){g=h}else{g=i}}var j=c;var k=t.length;if(f){j=k;var s,l;if(d[0]<d[1]){s=0;l=b-1}else{s=b-1;l=0}if(t[0]!==d[s]){d[s]=t[0]-g;j++}if(t[k-1]!==d[l]){d[l]=t[k-1]+g;j++}}q.tickNum=j;q.distance=g;q.setTickHint(j-1);q.setDomain(N.preciseObject(d));return q},sync:function(_,a){var d=_.getDomain();var b=a.getDomain();var r=_.getRange();var c=a.getRange();if((d[0]>d[d.length-1]&&b[0]<b[b.length-1])||(d[0]<d[d.length-1]&&b[0]>b[b.length-1])||(d[0]<0&&d[d.length-1]<0)||(b[0]<0&&b[b.length-1]<0)||(d[0]>0&&d[d.length-1]>0)||(b[0]>0&&b[b.length-1]>0)||(Math.abs(r[0]-r[r.length-1])!==Math.abs(c[0]-c[c.length-1]))){return}var p=0;var n=0;var e=0;var f=0;var t=_.tickNum;var g=a.tickNum;var h=(d[d.length-1]-d[0])/(t-1);h=N.preciseSimple(h);var i,j,m;for(i=0;i<t;i++){j=N.preciseSimple(d[0]+i*h);if(j>0){p++}else if(j<0){n++}}var k=(b[b.length-1]-b[0])/(g-1);k=N.preciseSimple(k);for(i=0;i<g;i++){j=N.preciseSimple(b[0]+i*k);if(j>0){e++}else if(j<0){f++}}if(p>e){m=p-e;if(b[0]<b[b.length-1]){b[b.length-1]+=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[0]+=(m*Math.abs(k));a.tickNum+=m}}else if(p<e){m=e-p;if(d[0]<d[d.length-1]){d[d.length-1]+=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[0]+=(m*Math.abs(h));_.tickNum+=m}}if(n>f){m=n-f;if(b[0]<b[b.length-1]){b[0]-=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[b.length-1]-=(m*Math.abs(k));a.tickNum+=m}}else if(n<f){m=f-n;if(d[0]<d[d.length-1]){d[0]-=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[d.length-1]-=(m*Math.abs(h));_.tickNum+=m}}d[0]=N.preciseSimple(d[0]);d[1]=N.preciseSimple(d[1]);b[0]=N.preciseSimple(b[0]);b[1]=N.preciseSimple(b[1]);_.setDomain(d);a.setDomain(b);_.setTickHint(_.tickNum-1);a.setTickHint(a.tickNum-1)}};return S});define('sap/viz/chart/elements/scale/ValueScaleUtil',["sap/viz/util/NumberUtils","sap/viz/modules/Constants","sap/viz/chart/elements/scale/ScaleUtil","sap/viz/chart/elements/scale/ValueScale"],function(N,C,S,V){var D=7;var r={};r.getTicksPosition=function(t,s){var a=[];for(var i=0,l=t.length;i<l;++i){a.push(s.scale(t[i]))}return a};r.getTicks=function(_){function g(d,a){a=N.preciseObject(a);var b;var e;var c=d.length;if(d[0]<=d[c-1]){b=d[0];e=d[c-1]}else{b=d[c-1];e=d[0]}if(a.length>0){if(a[0]!==b){a.unshift(b)}if(a[a.length-1]!==e){a.push(e)}}return a}var t=_.getTickHint()||D;var a=_.ticks(t);var f=g(_.getDomain(),a);return N.preciseObject(f)};r.perfectTicks=function(s){S.nice(s)};r.perfectTimeTicks=function(s){var d=s.getDomain();var h=1000*60*60;var a=h*24;var m=a*30;var y=m*12;if(N.isNoValue(d[0])){d[0]=0}if(N.isNoValue(d[1])){d[1]=d[0]+1}var g=d[1]-d[0];var b=new Date(d[0]);var e=new Date(d[1]);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);var t;if(g<3*a){e.setHours(e.getHours()+1);t=0;g=(e.getTime()-b.getTime())/h}else if(g<3*m){b.setHours(0);e.setHours(0);e.setDate(e.getDate()+1);t=1;g=(e.getTime()-b.getTime())/a}else if(g<3*y){b.setHours(0);b.setDate(1);e.setHours(0);e.setDate(1);e.setMonth(e.getMonth()+1);t=2;g=(e.getFullYear()-b.getFullYear())*12+e.getMonth()-b.getMonth()}else{b.setHours(0);b.setDate(1);b.setMonth(0);e.setHours(0);e.setDate(1);e.setMonth(0);e.setFullYear(e.getFullYear()+1);t=3;g=e.getFullYear()-b.getFullYear()}var c=S.getRoughTickNum(s);var i,j;OUT:for(i=0;c>2;i++){for(j=c-1;j>1;j--){if((g+i)%j===0){break OUT}}}s.tickNum=c>2?j+1:c;s.timeUnitGap=(g+i)/j;if(t===0){e.setHours(e.getHours()+i)}else if(t===1){e.setDate(e.getDate()+i)}else if(t===2){e.setMonth(e.getMonth()+i)}else if(t===3){e.setFullYear(e.getFullYear()+i)}var f=s.getDomainFixed();if(!f[0]&&!f[1]){s.setDomain([b.getTime(),e.getTime()])}else if(!f[0]){s.setDomain([b.getTime(),d[1]])}else if(!f[1]){s.setDomain([d[0],e.getTime()])}s.timeUnit=t};r.syncTicks=function(s,a){if(!s.isFixed()&&!a.isFixed()){S.sync(s,a)}};return r});define('sap/viz/chart/elements/axis/sub/ValueAxisBody',["sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/BaseAxisSub","sap/viz/modules/Constants","sap/viz/util/Objects","sap/viz/util/NumberUtils","sap/viz/modules/util/BoundUtil","sap/viz/chart/elements/axis/renderer/ValueBodyRenderer","sap/viz/chart/elements/scale/ValueScaleUtil"],function(o,B,C,V,N,a,b,c){var T=5;var L=6;var A=C.CSS.CLASS.AXIS;var d=function(){d.superclass.constructor.apply(this,arguments)};o.extend(d,B);d.prototype.render=function(s){var w=this._width;var h=this._height;a.drawBound(s,w,h,null,true);s.select("g."+A.LINE_GROUP).remove();s.select("g."+A.TICK_GROUP).remove();s.select("g."+A.LABEL_GROUP).remove();if(this._data&&this._isSpaceEnough()&&this._props.visible){var p=this._position;var e=this._props;var f=this._styles;var g=this._data;var r=g.getRange();var t=c.getTicks(g);var i=c.getTicksPosition(t,g);var l=this._getAllLabels(t,g);var j=null;if(e.axisLine.visible){j=s.append("g").attr("class",A.LINE_GROUP);b.drawLines(j,r,w,h,p,e)}if(e.axisTick.visible){j=s.append("g").attr("class",A.TICK_GROUP);b.drawTicks(j,i,w,h,p,e)}if(e.label.visible){j=s.append("g").attr("class",A.LABEL_GROUP);b.drawLabels(j,g,l,w,h,p,e,f)}}};d.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._data&&this._props.visible){var e=this._props;var s=this._data;var r=s.getRange();var f=Math.abs(r[0]-r[1]);var g=L+T;var t=[],l=[];if(e.label.visible){t=c.getTicks(s);l=this._getAllLabels(t,s)}if(this._isVertical()){g+=this._getWidestLabel(l);var h=this._styles.realStyle.label;var i=this._measureTextSize("0",h).width;p.minWidth=g;p.maxWidth=g+i;p.minHeight=f;p.maxHeight=f}else{g+=this._getHighestLabel(l);p.minWidth=f;p.maxWidth=f;p.minHeight=g;p.maxHeight=g}p.spacings=[{"interval":g,"type":C.SPACING_TYPE.STEP}]}var j=N.preciseObject(p);this._updatePfdSize(j);return j};d.prototype.getAvailableLayersNumber=function(){var l=0;if(this._data&&this._isSpaceEnough()&&this._props.visible){l=1}return l};d.prototype.startPadding=function(){var p=0;if(this._data&&this._props.label.visible){var t=this._getEndTick(this._data.getDomain()).firstTick.toString();p=this._getPadding(t,this._styles.realStyle.label)}return p};d.prototype.endPadding=function(){var p=0;if(this._data&&this._props.label.visible){var t=this._getEndTick(this._data.getDomain()).lastTick.toString();p=this._getPadding(t,this._styles.realStyle.label)}return p};d.prototype._getEndTick=function(e){var f=e[0];var l=e[1];if(e[0]>e[1]){f=e[1];l=e[0]}return{firstTick:f,lastTick:l}};d.prototype._getPadding=function(t,s){var p=0;var e=this._measureTextSize(t,s);if(this._isVertical()){p=e.height/2}else{p=e.width/2}return p};d.prototype._getAllLabels=function(t,s){var p=this._props;var e=p.isPercentMode;var f=p.label.formatString;var l=[];var g=t.length;for(var i=0;i<g;i++){var h={};var j=t[i];h.value=j;if(f){h.text=N.format(j,f,this._props.label.unitFormatType)}else if(e){h.text=N.preciseSimple(j*100).toString()}else{h.text=N.preciseSimple(j).toString();h.text=N.format(h.text,f,this._props.label.unitFormatType)}l.push(h)}this._setLabelsPosition(l,s);return this._filterLabels(l)};d.prototype._setLabelsPosition=function(l,s){var e=l.length;var f=this._styles.realStyle.label;for(var i=0;i<e;++i){var g=l[i];if(!N.isNoValue(g.value)){var h=this._measureTextSize(g.text,f);var w=h.width,j=h.height;g.width=w;g.height=j;var k=s.scale(g.value);if(this._isVertical()){g.start=k-j/2;g.end=k+j/2}else{g.start=k-w/2;g.end=k+w/2}}}};d.prototype._getWidestLabel=function(l){var t=0;var e=l.length;for(var i=0;i<e;++i){if(t<l[i].width){t=l[i].width}}return t};d.prototype._getHighestLabel=function(l){var t=0;var e=l.length;for(var i=0;i<e;++i){if(t<l[i].height){t=l[i].height}}return t};d.prototype._filterLabels=function(e){function f(r,s){return(r.start>=s.start&&r.start<=s.end)||(r.end>=s.start&&r.end<=s.end)||(s.start>=r.start&&s.start<=r.end)||(s.end>=r.start&&s.end<=r.end)}function g(e){var r=e.length;var s=[];for(var u=0;u<=(r-1);u++){var v=true;for(var i=0;i<r-1;i+=(u+1)){var w=e[i];if(i!==0){var x=s[s.length-1];if(f(w,x)){if(s.length>1){v=false;break}}else{s.push(w)}}else{s.push(w)}}if(e.length&&s.length){var y=e[r-1];var z=s[s.length-1];if(f(y,z)){s.pop()}s.push(y)}if(v){break}else{s=[]}}return s}var l=[];if(e.length>0){var t=e.length;if((e[0].value<0||e[t-1].value<0)&&(e[0].value>0||e[t-1].value>0)){var n=[];var p=[];for(var i=0;i<e.length;i++){if(e[i].value<=0){n.push(e[i])}if(e[i].value>=0){p.push(e[i])}}var h;var j=n.length;if(n[0].value<=n[j-1].value){h=n[0]}else{h=n[j-1]}var k;var m=p.length;if(p[0].value<=p[m-1].value){k=p[m-1]}else{k=p[0]}n=g(n);p=g(p);if(n[0].value>n[n.length-1].value){n.reverse()}if(p[0].value>p[p.length-1].value){p.reverse()}if(n[n.length-1].value===0&&p[0].value===0){n.pop()}var q=n.concat(p);if(h.value!==q[0].value){q.splice(0,0,h)}if(k.value!==q[q.length-1].value){q.push(k)}if(q[0].start>q[q.length-1].start){q.reverse()}l=g(q)}else{l=g(e)}if(l.length<=1||(l.length===2&&f(l[0],l[1]))){l=[]}}return l};return d});define('sap/viz/chart/elements/manifests/axis/sub/ValueBody',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/ValueAxisBody","sap/viz/chart/elements/manifests/axis/sub/Base"],function Setup(M,C,f,B){var m={"id":"sap.viz.chart.elements.axis.sub.valueBody","name":"valueAxisBody","base":"sap.viz.chart.elements.axis.sub.base",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/layout/axisStack',["sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/Constants","sap/viz/util/NumberUtils"],function Setup(o,B,C,N){var S=C.DIRECTION.HORIZONTAL;var c=C.DIRECTION.VERTICAL;function s(a,b){return a.order-b.order}function d(a,b){return a.priority-b.priority}function e(x){return x.size()}function f(x){return x.order}function g(x){return x.priority}function h(x){return x.offset}var j=function(){j.superclass.constructor.apply(this,arguments);this._sortOrderFn=s;this._sortPriorityFn=d;this._orderFn=f;this._priorityFn=g;this._offsetFn=h;this._sizeFn=e;this._componentsPriority=null;this._componentsOrder=null;this._gravity=-1;this._direction=S;this._spaceLimit=0;this._refSize=0;this._isNoHide=false};o.extend(j,B);j.prototype.setSizeFn=function(_){this._sizeFn=_;return this};j.prototype.setGravity=function(_){this._gravity=_;return this};j.prototype.setDirection=function(_){this._direction=_;return this};j.prototype.setComponents=function(_){this._componentsPriority=_.slice().sort(this._sortPriorityFn);this._componentsOrder=_.slice().sort(this._sortOrderFn);return this};j.prototype.setSpaceLimit=function(_){this._spaceLimit=N.preciseSimple(_);return this};j.prototype.setRefSize=function(_){this._refSize=N.preciseSimple(_);return this};j.prototype.setIsNoHide=function(_){this._isNoHide=_;return this};j.prototype.render=function(){};j.prototype.getPreferredSize=function(){var a=this._componentsPriority;var r=this._refSize;var b=[];var i=0,l=a.length,m=0,n,p,q,t;var u=(this._direction===S),v,w;if(u){v="maxWidth";w="minHeight"}else{v="maxHeight";w="minWidth"}for(;i<l;++i){n=a[i];p=this._sizeFn(n);if(p[w]<=r&&p[v]){t=this._offsetFn(n);m+=t+p[v];q=p.spacings;if(q&&q.length){q[q.length-1].interval+=t}b=b.concat(q)}}var x=0,y=0;if(u){x=m;y=r}else{x=r;y=m}return{width:x,height:y}};function k(l,a){var b=0;var m;if(!a){return b}for(var i=0,n=a.length;i<n;++i){m=a[i];b+=m.interval;if(b>l){switch(m.type){case C.SPACING_TYPE.STEP:b-=m.interval;break;case C.SPACING_TYPE.RANGE:b=l;break}}}return b}j.prototype.calculate=function(){var a=this._componentsPriority;var b=this._componentsOrder;var r=this._refSize;var l=(this._direction===S),m,n,p,q,t,u;if(l){q="minWidth";t="maxWidth";u="minHeight";m="width";n="height";p="x"}else{q="minHeight";t="maxHeight";u="minWidth";m="height";n="width";p="y"}var v=this._spaceLimit+0.00001;var i=0,w=a.length,x,y,z;var A=this._gravity;var D=false;for(;i<w;++i){x=a[i];if(D){x.isEnough=false;continue}y=this._sizeFn(x);if(this._isNoHide){x.isEnough=true;x[m]=y[t];continue}z=this._offsetFn(x);if(y[t]&&v-z-y[q]>=0&&y[u]<=r){x.isEnough=true;v-=z;if(v>=y[t]){x[m]=y[t];v-=y[t]}else{x[m]=k(v,y.spacings);v=0}}else{x.isEnough=false;if(y[t]){D=true}}v=N.preciseSimple(v)}v=this._spaceLimit;i=0,w=b.length;var E={};var F,G;if(A<0){G=0;for(;i<w;++i){F={x:0,y:0,width:0,height:0};x=b[i];if(x.isEnough){z=this._offsetFn(x);G+=z;F[p]=G;G+=(F[m]=x[m]);F[n]=r}E[x.module.alias]=F}}else{G=v;for(;i<w;++i){F={x:0,y:0,width:0,height:0};x=b[i];if(x.isEnough){z=this._offsetFn(x);G-=z;G-=(F[m]=x[m]);F[p]=G;F[n]=r}E[x.module.alias]=F}}return E};j.prototype.destroy=function(){this._sortOrderFn=null;this._sortPriorityFn=null;this._orderFn=null;this._priorityFn=null;this._offsetFn=null;this._sizeFn=null;this._componentsPriority=null;this._componentsOrder=null};return j});define('sap/viz/chart/elements/manifests/layout/AxisStack',['sap/viz/modules/manifests/Module',"sap/viz/modules/Constants",'sap/viz/chart/elements/layout/axisStack','sap/viz/modules/manifests/layout/Base'],function Setup(M,C,f,B){var m={'id':"sap.viz.chart.elements.layout.axisStack",'name':"stack",'base':"sap.viz.modules.layout.base",'description':"The stack layout algorithm for info axis",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/axis/config/buildValueConfig',["sap/viz/modules/Constants","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/chart/elements/manifests/axis/sub/Title","sap/viz/chart/elements/manifests/axis/sub/ValueBody","sap/viz/chart/elements/manifests/layout/AxisStack"],function(C,O,U){var b=function(p){var g=p===C.POSITION.TOP||p===C.POSITION.LEFT?1:-1;var l=p===C.POSITION.TOP||p===C.POSITION.BOTTOM?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var c={modules:{axisBody:{id:"sap.viz.chart.elements.axis.sub.valueBody",name:"axisBody",configure:{isBody:true,layoutConfig:{order:1,priority:2,offset:0}}},axisTitle:{id:"sap.viz.chart.elements.axis.sub.title",name:"axisTitle",configure:{isTitle:true,layoutConfig:{order:3,priority:3,offset:12}}},layout:{id:"sap.viz.chart.elements.layout.axisStack",configure:{isLayoutAlgorithm:true,properties:{gravity:g,direction:l}}}}};return O.extend(true,{},c)};return b});define('sap/viz/chart/elements/axis/BaseValueAxis',["sap/viz/base/utils/oo","sap/viz/chart/elements/axis/BaseAxis","sap/viz/base/utils/TypeUtils","sap/viz/modules/Constants","sap/viz/chart/elements/axis/config/buildValueConfig",'sap/viz/format/FormatManager'],function Setup(a,B,T,C,b,f){var c=function(m,d){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.axis.BaseValueAxis"};a.extend(c,B);c.prototype._parseProperties=function(){c.superclass._parseProperties.apply(this,arguments)};c.prototype._validateProperties=function(_){c.superclass._validateProperties.apply(this,arguments);if(this._props.label.formatString){if(T.isArray(this._props.label.formatString)){if(T.isArray(this._props.label.formatString[0])){this._props.label.formatString=this._props.label.formatString[0][0]}}this._props.label.formatString=this._props.label.formatString.toString();if(this._props.label.unitFormatType!==C.UNITFORMATTYPE.METRICUNITS){this._props.label.unitFormatType=C.UNITFORMATTYPE.FINANCIALUNITS}}};c.prototype._getConfig=function(p){return b(p)};c.prototype._constructTitle=function(h,t){var d=h.map(function(o){return o.name||o.id}).join(" & ");var i={};i.isHidden=false;i.text=d;t.push(i);return d};return c});define('sap/viz/chart/elements/axis/sub/Indicator',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/BaseAxisSub","sap/viz/base/UADetector","sap/viz/util/NumberUtils"],function(C,o,B,U,N){var I=C.CSS.CLASS.AXIS;var a={LINE_STROKE:"#BEBEBE",LINE_STROKE_WIDTH:1,RECT_FILL:"#BBBBBB",RECT_STROKE:"#707070",RECT_SIZE:3,RECT_STROKE_WIDTH:1};var b=function(){b.superclass.constructor.apply(this,arguments)};o.extend(b,B);b.prototype.render=function(s){s.select("g."+I.INDICATOR_LINE).remove();s.select("g."+I.INDICATOR_RECT).remove();if(this._data&&this._isSpaceEnough()&&this._props.visible&&U.isMobile()&&this._props.indicator.enable){var i=s.append("g").attr("class",I.INDICATOR_LINE).attr("stroke",a.LINE_STROKE).attr("stroke-width",a.LINE_STROKE_WIDTH).attr("shape-rendering","crispEdges").append("line");var c=s.append("g").attr("class",I.INDICATOR_RECT).attr("fill",a.RECT_FILL).attr("stroke",a.RECT_STROKE).attr("stroke-width",a.RECT_STROKE_WIDTH).attr("shape-rendering","crispEdges").append("rect").attr("x",0).attr("y",0);var r=this._getRangeLong(this._data);var d=a.RECT_SIZE;if(this._isVertical()){i.attr("x1",d/2).attr("y1",0).attr("x2",d/2).attr("y2",r);c.attr("width",d).attr("height",r)}else{i.attr("x1",0).attr("y1",d/2).attr("x2",r).attr("y2",d/2);c.attr("width",r).attr("height",d)}}};b.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._data&&this._props.visible&&U.isMobile()&&this._props.indicator.enable){var r=this._getRangeLong(this._data);if(this._isVertical()){p.minWidth=a.RECT_SIZE;p.maxWidth=a.RECT_SIZE;p.minHeight=r;p.maxHeight=r}else{p.minWidth=r;p.maxWidth=r;p.minHeight=a.RECT_SIZE;p.maxHeight=a.RECT_SIZE}p.spacings[0].interval=a.RECT_SIZE}return p};b.prototype._getRangeLong=function(s){var r=s.getRange();return N.preciseSimple(Math.abs(r[0]-r[1]))};return b});define('sap/viz/chart/elements/manifests/axis/sub/Indicator',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/Indicator","sap/viz/chart/elements/manifests/axis/sub/Base"],function Setup(M,C,f,B){var m={"id":"sap.viz.chart.elements.axis.sub.indicator","name":"Indicator","base":"sap.viz.chart.elements.axis.sub.base",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/util/ScrollBar',['sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector'],function Setup(O,T,U){var S=function(){this._props={contentSize:0,size:0,vertical:true,visibility:'visible',eventWrapper:undefined,style:{thumbSize:6,fill:'#a6a6a6',hoverFill:'#a6a6a6',opacity:1,padding:2,hasScrollingArea:false,scrollingArea:{fill:'#F7F7F7',opacity:1},isRoundCorner:true,useMinScrollbarSize:true},onScroll:function(){}},this._scrollPosition=0;this._factor=undefined;this._scrollbarWrapper=undefined;this._scrollbarSlotWrapper=undefined;this._startPos=undefined;this._maxScrollPosition=0;this._minFactor=1;this._contentStartPos=0;this._selection=undefined;this._isPressed=false;this._scrollbarSize=undefined;this._moveStep=0};S.prototype.render=function(s){this._selection=s;var w=s.selectAll('g');var t=this._props.style.thumbSize;if(w.empty()){w=s.append('g')}var b=w.selectAll('rect.v-m-scrollBar');var c=w.selectAll('rect.v-m-scrollBarSlot');if(this._props.style.hasScrollingArea&&c.empty()){c=w.append('rect').attr('class','v-m-scrollBarSlot').attr('fill',this._props.style.scrollingArea.fill).attr('opacity',this._props.style.scrollingArea.opacity).attr('visibility',this._props.visibility)}if(this._props.vertical){c.attr('width',t).attr('height',this._props.size)}else{c.attr('width',this._props.size).attr('height',t)}this._scrollbarSlotWrapper=c;if(b.empty()){b=w.append('rect').attr('class','v-m-scrollBar').attr('fill',this._props.style.fill).attr('opacity',this._props.style.opacity).attr('visibility',this._props.visibility);if(this._props.style.isRoundCorner){b.attr('rx',t/2).attr('ry',t/2)}}this._scrollbarWrapper=b;this._factor=this._props.size/this._props.contentSize;var d=this._factor*this._props.size;this._moveStep=d;this._maxScrollPosition=this._props.size-d;this._scrollPosition=-this._contentStartPos*this._factor;if(this._props.style.useMinScrollbarSize){var m=this._props.style.thumbSize*2+this._props.style.padding*2;this._minFactor=1;if(d<m){this._minFactor=m/d;d=m;this._factor=d/this._props.size;this._maxScrollPosition=this._props.size-d;this._scrollPosition=-this._contentStartPos*this._factor/this._minFactor}}this._scrollbarSize=d;if(this._props.vertical){b.attr('width',t).attr('height',d).attr('transform','translate('+this._props.style.padding+','+this._scrollPosition+')')}else{b.attr('width',d).attr('height',t).attr('transform','translate('+this._scrollPosition+','+this._props.style.padding+')')}if(U.isWindowsSurface()||U.isMobile()){return w}var f=this;var h=function(e){l.call(f,e);e.preventDefault();e.stopPropagation()};var u=function(e){k.call(f,e);if(window.removeEventListener!==undefined){window.removeEventListener("mousemove",h);window.removeEventListener("mouseup",u)}else{document.body.removeEventListener("mousemove",h);document.body.removeEventListener("mouseup",u)}e.preventDefault();e.stopPropagation()};b.on('mousedown',function(){j.call(f,d3.event);if(window.addEventListener!==undefined){window.addEventListener('mousemove',h);window.addEventListener('mouseup',u)}else{document.body.addEventListener("mousemove",h);document.body.addEventListener("mouseup",u)}}).on('mouseover',function(){n.call(f)}).on('mouseleave',function(){o.call(f)});c.on('click',function(){i.call(f,d3.event)});var i=function(e){f._startPos=0;var p=f._moveStep;var q=f._scrollbarWrapper.node().getBoundingClientRect();if(f._props.vertical){if(e.clientY<q.top){p=-p}}else{if(e.clientX<q.left){p=-p}}_.call(f,p)};var j=function(e){if(this._props.vertical){this._startPos=e.clientY}else{this._startPos=e.clientX}this._scrollbarWrapper.attr('fill',this._props.style.hoverFill);this._isPressed=true};var k=function(e){this._startPos=undefined;this._isPressed=false;if(e.target!==this._scrollbarWrapper.node()){this._scrollbarWrapper.attr('fill',this._props.style.fill)}};var l=function(e){if(this._startPos!==undefined){if(this._props.vertical){_.call(this,e.clientY-this._startPos);this._startPos=e.clientY}else{_.call(this,e.clientX-this._startPos);this._startPos=e.clientX}this._scrollbarWrapper.attr('visibility','visible')}};var n=function(){this._scrollbarWrapper.attr('fill',this._props.style.hoverFill)};var o=function(){if(!this._isPressed){this._scrollbarWrapper.attr('fill',this._props.style.fill)}};return w};S.prototype.setProperties=function(p){O.extend(true,this._props,p);return this};S.prototype.destroy=function(){if(this._scrollbarWrapper){this._scrollbarWrapper.remove()}if(this._scrollbarSlotWrapper){this._scrollbarSlotWrapper.remove()}this._factor=undefined};S.prototype.scrollTo=function(o,b){if(o){_.call(this,o,b)}};S.prototype.setVisibility=function(v){this._scrollbarWrapper.attr('visibility',v);if(this._scrollbarSlotWrapper){this._scrollbarSlotWrapper.attr('visibility',v)}};S.prototype.resetPos=function(){this._startPos=undefined};var _=function(o,b){if(U.isMobile()){o*=(this._factor/this._minFactor)}var c=this._scrollPosition+o;if(c<0){c=0}else if(c>this._maxScrollPosition){c=this._maxScrollPosition}this._scrollPosition=c;if(this._props.vertical){this._scrollbarWrapper.attr('transform','translate('+this._props.style.padding+','+this._scrollPosition+')')}else{this._scrollbarWrapper.attr('transform','translate('+this._scrollPosition+', '+this._props.style.padding+')')}a.call(this,'onScroll',b)};var a=function(t,o){var s=-Math.round(this._scrollPosition*this._minFactor/this._factor),b=this._scrollPosition,c=(100*(b/(this._props.size-this._factor*this._props.size)));if(c===100){s=this._props.size-this._props.contentSize}this._contentStartPos=s;var m={start:s,thumbStart:b,startPct:c,option:o};this._props[t].call(this,m)};var g=function(){if(d3.event){return d3.event}else{return window.event}};return S});define('sap/viz/chart/elements/axis/sub/AxisScrollBar',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/BaseAxisSub","sap/viz/base/utils/TypeUtils","sap/viz/util/NumberUtils","sap/viz/util/TextUtils","sap/viz/util/ScrollBar","sap/viz/base/UADetector"],function(C,o,B,T,N,a,S,U){var A=C.CSS.CLASS.AXIS;var b=function(){b.superclass.constructor.apply(this,arguments);this._axis_scrollBar=undefined;this._axisScrollbar_isFixedDataPointSize=false;this._axisScrollbar_thumbSize=12;if(U.isMobile()){this._axisScrollbar_thumbSize=8}this._moveState={position:{x:0,y:0}}};o.extend(b,B);b.prototype.render=function(s){s.select("g."+A.SCROLLBAR).remove();if(!this._axisScrollbar_isFixedDataPointSize){return}var c=Math.abs(this._data._range[1]-this._data._range[0]);if(c>(this._position==='right'?this._containerSize.height:this._containerSize.width)){var d=s.append("g").attr("class",A.SCROLLBAR);this._axis_scrollBar=new S();var e={thumbSize:this._axisScrollbar_thumbSize,fill:'#E5E5E5',hoverFill:'#DEDEDE',opacity:1,padding:0,hasScrollingArea:true,isRoundCorner:false};var f=[];var g=this._isHorizontal();var h=s.node().parentNode.parentNode.parentNode;if(h){var p=d3.select(h);var j='.v-m-xAxis';if(!g){j='.v-m-yAxis2'}f.push(p.select(j).select('.v-m-axisTitle'));f.push(p.select(j).select('.v-m-axisBody'))}var t=this;this._axis_scrollBar.setProperties({size:this._position==='right'?this._containerSize.height:this._containerSize.width,contentSize:c,vertical:!g,style:e,eventWrapper:f,onScroll:function(k){var l=k.start;if(U.isMobile()){l=g?k.option.transform.x:k.option.transform.y}var m=d3.select(this._selection.node().parentNode.parentNode.parentNode);if(m){var n="";if(g){n='translate('+l+',0)'}else{n='translate(0,'+l+')'}var q=m.select('.v-plot-main');if(q&&!q.empty()){q.attr('transform',n)}var r=m.select('.v-effect-group');r.attr('transform',n);var u=[];if(!g){u.push(m.select('.v-m-yAxis'));u.push(m.select('.v-m-yAxis2'))}else{u.push(m.select('.v-m-xAxis'))}for(var i=0;i<u.length;i++){if(u[i]&&!u[i].empty()){var v=u[i].select('.v-tick-group');if(v&&!v.empty()){v.attr('transform',n)}var w=u[i].select('.v-label-group');if(w&&!w.empty()){w.attr('transform',n)}}}}var x={direction:{},offset:{x:0,y:0}};if(g){x.direction='X';x.offset.x=l-t._moveState.position.x;t._moveState.position.x=l}else{x.direction='Y';x.offset.y=l-t._moveState.position.y;t._moveState.position.y=l}t._eDispatch.moveTo(x)}}).render(s)}};b.prototype.getPreferredSize=function(){var p={};if(this._axisScrollbar_isFixedDataPointSize){if(this._position==='right'){p={minWidth:0,maxWidth:this._axisScrollbar_thumbSize,minHeight:0,maxHeight:this._containerSize.height}}else if(this._position==='bottom'){p={minWidth:0,maxWidth:this._containerSize.width,minHeight:0,maxHeight:this._axisScrollbar_thumbSize}}}else{p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0}}var c=N.preciseObject(p);this._updatePfdSize(c);return c};b.prototype.scrollTo=function(s){if(s.direction==="Y"){this._axis_scrollBar.scrollTo(-s.offset.y,s.option)}else if(s.direction==="X"){this._axis_scrollBar.scrollTo(-s.offset.x,s.option)}};b.prototype.setOtherModuleProps=function(p){this._axisScrollbar_isFixedDataPointSize=p.isFixedDataPointSize;return this};return b});define('sap/viz/chart/elements/manifests/axis/sub/AxisScrollBar',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/AxisScrollBar","sap/viz/chart/elements/manifests/axis/sub/Base"],function Setup(M,C,f,B){var m={"id":"sap.viz.chart.elements.axis.sub.axisscrollbar","name":"AxisScrollBar","base":"sap.viz.chart.elements.axis.sub.base",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/manifests/axis/Base',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/chart/elements/manifests/axis/sub/Title","sap/viz/chart/elements/manifests/axis/sub/Indicator","sap/viz/chart/elements/manifests/layout/AxisStack","sap/viz/chart/elements/manifests/axis/sub/AxisScrollBar"],function Setup(M,C,U,A,a,b,c){var m={"id":"sap.viz.chart.elements.axis.base","type":C.Type.Supplementary,"name":"baseAxis","properties":{"layout":{"name":"layout","supportedValueType":"Object","supportedValues":{"position":{"name":"position","supportedValueType":"String","defaultValue":"right","description":"Set the position of the axis","isExported":false},"priority":{"name":"priority","supportedValueType":"Int","defaultValue":0,"description":"Set the priority of the position for the axis","isExported":false},"maxWidth":{"name":"maxWidth","supportedValueType":"String","defaultValue":null,"description":"Set the width of the axis. It should be a pixel or a ratio regarding to its container.",'isExported':true},"maxHeight":{"name":"maxHeight","supportedValueType":"String","defaultValue":null,"description":"Set the height of the axis. It should be a pixel or a ratio regarding to its container.",'isExported':true},"bodyWidth":{"name":"bodyWidth","supportedValueType":"String","defaultValue":0.8,"description":"Set the width of the axis body. It should be a ratio regarding to the whole axis.","isExported":false},"bodyHeight":{"name":"bodyHeight","supportedValueType":"String","defaultValue":0.8,"description":"Set the height of the axis body. It should be a ratio regarding to the whole axis.","isExported":false}},"description":"Settings for layout of axis"},"title":{"name":"title",'cssClass':'.viz-axis-title.v-title',"description":"Settings for axis title.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":false,"description":"Set visibility of axis title."},"text":{"name":"text","supportedValueType":"String","defaultValue":null,"description":"Set text of axis title."},"applyAxislineColor":{"name":"applyAxislineColor","supportedValueType":"Boolean","defaultValue":false,"description":"Set title color same with axisline color.","isExported":false},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#000000','description':'Set the color of the axis title.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the axis title.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'14px','description':'Set the font size of the axis title.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'bold','description':'Set the font weight of the axis title.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the axis title.'}}},'hiddenTitle':{'name':"hiddenTitle",'cssClass':'.v-hidden-title','description':'Settings for axis title for a hidden layer.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#a6a6a6','description':'Set the color of the axis title for a hidden layer.'}},"isExported":false},"gridline":{"name":"gridline","description":"Settings for axis gridline.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis gridline."},"color":{"name":"color","supportedValueType":"String","defaultValue":"#d8d8d8","description":"Set color of gridline."},"size":{"name":"size","supportedValueType":"PositiveInt","defaultValue":1,"description":"Set line stroke width of gridline."},"type":{"name":"type","supportedValueType":"String","supportedValues":[C.GRIDLINE_TYPE.SOLID,C.GRIDLINE_TYPE.DASHED,C.GRIDLINE_TYPE.INCISEDS],"defaultValue":C.GRIDLINE_TYPE.SOLID,"description":"Set render type of gridline."}},"isExported":false},"color":{"name":"color","supportedValueType":"String","defaultValue":"#6c6c6c","description":"Set color of axisline."},"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis."},"axisLine":{"name":"axisLine","description":"Settings for axisline.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axisline."},"size":{"name":"size","supportedValueType":"PositiveInt","defaultValue":"1","description":"Set line size of axis.","isExported":true,"example":"<a href='"+C.DocExample.SnippetUrl+"88' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}}},"axisTick":{"name":"axisTick","description":"Settings for axis ticks.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis ticks. For mobile, default value will be false."}},"isExported":true},"indicator":{"name":"indicator","description":"Settings for axis indicator","supportedValueType":"Object","supportedValues":{"enable":{"name":"enable","supportedValueType":"Boolean","defaultValue":false,"description":"Set visibility of axis indicator."}},"isExported":false},"axisScrollBar":{"name":"axisScrollBar","description":"Settings for axis axisScrollBar","supportedValueType":"Object","supportedValues":{"enable":{"name":"enable","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis axisScrollBar."}},"isExported":false},"position":{"name":"position","supportedValueType":"String","supportedValues":[C.POSITION.LEFT,C.POSITION.RIGHT,C.POSITION.TOP,C.POSITION.BOTTOM],"defaultValue":C.POSITION.BOTTOM,"description":"Set position of axis.","isExported":false}},"css":{".viz-axis-title.v-title":{"description":"Define style for the axis title.","value":{"fill":"#000000","font-family":"\"Open Sans\", Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".v-hidden-title":{'description':'Define the style of the axis title for a hidden layer','value':{'fill':'#a6a6a6'}},".viz-axis-label.v-label":{"description":"Define style for the axis label.","value":{"fill":"#333333","font-family":"\"Open Sans\", Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},"configure":null,fn:null};var d={viz:[],module:[m].concat(A.module,a.module,b.module,c.module),feeds:[].concat(A.feeds,a.feeds,b.feeds)};return d});define('sap/viz/chart/elements/manifests/axis/ValueAxis',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/chart/elements/axis/BaseValueAxis","sap/viz/chart/elements/manifests/axis/Base","sap/viz/chart/elements/manifests/axis/sub/ValueBody"],function Setup(M,C,U,f,B,V){var m={"id":"sap.viz.chart.elements.axis.value","base":"sap.viz.chart.elements.axis.base","name":"valueAxis","properties":{"isPercentMode":{"name":"isPercentMode","supportedValueType":"Boolean","defaultValue":false,"description":"Show the label 0.1 as 10","isExported":false},"label":{"name":"label",'cssClass':'.viz-axis-label.v-label',"description":"Settings for axis label.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis label."},"formatString":{"name":"formatString","supportedValueType":"String","defaultValue":null,"description":"Set format string of value axis. "+"Any character in \"MDYHSAmdyhsau#?%0@\" is reserved as a token for format code. "+"The end \"u\" of format string let value format with SI units, "+"the other format string will explained as Excel format string, "+"The value that bigger than 1e8 or less than 1e-6 and be not 0 format with Exponential style. "+"The following is a simple sample format string for label for axis as \"0.00%\"."},"unitFormatType":{"name":"unitFormatType","supportedValueType":"String","supportedValues":[C.UNITFORMATTYPE.METRICUNITS,C.UNITFORMATTYPE.FINANCIALUNITS],"defaultValue":C.UNITFORMATTYPE.FINANCIALUNITS,"description":"Set the unit format type. If set MetricUnits, unit K,M,G,T will be applied, eg, 5000 will display as 5K, 5000000 will display as 5M, 5000000000 will display as 5G and so on. If set FinancialUnits, unit K,M,B,T will be applied. 5000000000 will display as 5B.","isExported":false},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#333333','description':'Set the color of the axis label.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the axis label.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'12px','description':'Set the font size of the axis label.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the axis label.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the axis label.'}}},"scale":{"name":"scale","description":"Set scale for value axis. this property just work on value type axis.","supportedValueType":"Object","supportedValues":{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Enable/disable fixed axis range according minValue and maxValue."},"minValue":{"name":"minValue","supportedValueType":"Number","defaultValue":0,"description":"Set minValue of value axis."},"maxValue":{"name":"maxValue","supportedValueType":"Number","defaultValue":0,"description":"Set maxValue of value axis."}},"isExported":false}},fn:f};var a={viz:[],module:[m].concat(B.module,V.module),feeds:[].concat(B.feeds,V.feeds)};return a});define('sap/viz/chart/elements/axis/renderer/DefaultCategoryLabelRenderer',["sap/viz/modules/Constants","sap/viz/chart/elements/common/SVG","sap/viz/util/NumberUtils","sap/viz/util/TextUtils"],function(C,S,N,T){function d(c){var a=5;var L=6;var s=a+L-1,b;var t=L;var e=S.create("text");var f=c.text,g=c.styles;e.innerHTML=f;e.textContent=f;var o=T.getTextBaselineOffset(c.styles);var h=c.size,i=T.canvasMeasure(f,g['font-size'],g['font-weight'],g['font-family']);i=N.preciseObject(i);var x,y,j;switch(c.position){case C.POSITION.LEFT:case C.POSITION.RIGHT:y=i.height/2-o;if(c.childCells&&c.childCells.length){y+=c.childCells[0].cellHeight/2}else{y+=h.height/2}if(c.position===C.POSITION.LEFT){x=h.width-t;j="end"}else{x=t;j="start"}break;case C.POSITION.TOP:if(c.rotated){j="start";x=h.width/2+i.height/2-o;y=h.height-t}else{j="middle";x=h.width/2;y=h.height-t-o}break;case C.POSITION.BOTTOM:if(c.rotated){j="end";x=h.width/2+i.height/2-o;y=t}else{j="middle";x=h.width/2;y=t+i.height-o}break}b=-1;if(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM){if(c.rotated){b=c.size.height}}else{b=c.size.width}if(b>=0){b-=s;T.ellipsis(c.text,e,b,g.cssString)}e.setAttribute("x",x);e.setAttribute("y",y);e.setAttribute("text-anchor",j);if(c.rotated){e.setAttribute("transform","rotate(-90,"+x+","+y+")")}return e}function m(t,s){var a=T.canvasMeasure(t,s['font-size'],s['font-weight'],s['font-family']);a=N.preciseObject(a);return a}d.getPreferredSize=function(c){var t=c.text,s=c.styles;var M=m("MMM...",s).width;var a=m(t,s);var b=a.height,e=a.width,r;if((c.rotated||a.width>c.size)&&(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM)){r=true;b=a.width;e=a.height;if(e>c.size&&c.layer>0){b=0}}var f={cellWidth:e,cellHeight:b,rotated:r};if(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM){f['minCellHeight']=r?Math.min(M,a.width):a.height}else{f['minCellWidth']=Math.min(M,a.width)}return f};d.autoHide=function(i,l){return true};return d});define('sap/viz/chart/elements/axis/renderer/CategoryBodyRenderer',["sap/viz/modules/Constants","sap/viz/util/NumberUtils","sap/viz/util/TextUtils","sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/axis/renderer/ValueBodyRenderer","sap/viz/chart/elements/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/chart/elements/common/SVG","sap/viz/chart/elements/axis/utils/PositionUtils"],function(C,N,T,a,V,D,S,P){var A=C.CSS.CLASS.AXIS;var b=5;var L=6;var c="#B3B3B3";var r={};r.drawLines=function(s,l,d,w,h,p,e){V.drawLines(s,d,w,h,p,e)};r.drawTicks=function(s,l,t,w,h,p,e){var f=this;function j(l,t){var d=t[0].length;var q=[];var K,M,O=l.length;for(var i=0;i<d;++i){M=0;K=t[M][i];while(M<O&&t[M].indexOf(K)>-1){M++}var Q=b;var R=false;if(M>1){Q=f._getLayersBand(l,M);R=true}q.push({length:Q,isLongTick:R})}return q}var k=l.length;if(k===1){V.drawTicks(s,t[0],w,h,p,e)}else if(k>1){var n=t.slice().reverse();var o=l.slice().reverse();var q=j(o,n);var u=e.isAxisLineColorFromPlot?A.FIXED_PERIMETER:A.PERIMETER;var v=u+" "+A.TICK;var x=u+" "+A.LONGTICK;var y=e.color;var z=e.axisLine.size;var i=0,B=n[0],E=B.length;var F=[],G=[],H=[],I=[];switch(p){case C.POSITION.LEFT:for(;i<E;++i){F[i]=w;G[i]=B[i];H[i]=w-q[i].length;I[i]=B[i]}break;case C.POSITION.RIGHT:for(;i<E;++i){F[i]=0;G[i]=B[i];H[i]=q[i].length;I[i]=B[i]}break;case C.POSITION.TOP:for(;i<E;++i){F[i]=B[i];G[i]=h;H[i]=B[i];I[i]=h-q[i].length}break;case C.POSITION.BOTTOM:for(;i<E;++i){F[i]=B[i];G[i]=0;H[i]=B[i];I[i]=q[i].length}break}var J=s.selectAll("."+A.TICK).data(B);J.enter().append("line");J.exit().remove();J.each(function(d,i){var K=v;var M=y;if(q[i].isLongTick){K=x;M=c}this.setAttribute("class",K);this.setAttribute("stroke",M);this.setAttribute("stroke-width",z);this.setAttribute("shape-rendering","crispEdges");this.setAttribute("x1",F[i]);this.setAttribute("y1",G[i]);this.setAttribute("x2",H[i]);this.setAttribute("y2",I[i])})}};r.drawLabels=function(s,l,w,h,p,d,e){var f=l.length;if(f===1){this.drawSingleLayerLabels(s,l[0],w,h,p,d,e,0,-1)}else if(f>1){var j=l.slice().reverse();var k=0;for(var i=0;i<j.length;++i){k=this._getLayersBand(j,i);this.drawSingleLayerLabels(s,j[i],w,h,p,d,e,k,i,j)}}};r.drawSingleLayerLabels=function(s,l,w,h,p,f,j,k,n,o){var q=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var t=f.enableLabelSelection;if(t){q+=" "+A.LABEL_SELECTION}var u=f.labelRenderer;var v=true;if(!a.isFunction(u)){u=D;v=false}var x=j.defaultStyle.label;var y=j.realStyle.label;var z=x.fill;var B=x['font-size'];var E=x['font-weight'];var F=x['font-family'];var G=x['font-style'];var H=l.cells.slice().filter(function(e){return e.isVisible});var I=l.rotated;var J=n===-1?L:b;this._setLabelParameters(H,p,k,w,h,J,v,t);var K=s.selectAll(".index_"+n).data(H);K.enter().append("g");K.exit().remove();K.each(function(d,i){this.setAttribute("class",q+" index_"+n);this.setAttribute("fill",z);this.setAttribute("font-size",B);this.setAttribute("font-weight",E);this.setAttribute("font-family",F);this.setAttribute("font-style",G);this.setAttribute("transform","translate("+d.x+","+d.y+")");if(t){var e=S.create("rect");e.setAttribute("x",d.rectX);e.setAttribute("y",d.rectY);e.setAttribute("width",d.rectWidth);e.setAttribute("height",d.rectHeight);e.setAttribute("class",A.BACKGROUND_RECT);e.setAttribute("fill","transparent");this.appendChild(e)}var M=g(o,n,i);var O=P.isVertical(p);var Q=O?"cellHeight":"cellWidth";var R=d._preferredSize;var U=Math.max(d[Q],R[Q]);var W=O?{width:d.cellWidth,height:U}:{width:U,height:d.cellHeight};var X={size:W,position:p,text:d.text,ctx:d.ctx,rotated:I,styles:y,childCells:M};var Y=u(X);if(Y===undefined){Y=D(X)}if(Y){var Z=document.createElementNS('http://www.w3.org/2000/svg',"g");var J=d[Q]-R[Q];if(J<0){Z.setAttribute("transform","translate("+(O?("0, "+J/2):(J/2+",0"))+")")}Z.appendChild(Y);this.appendChild(Z)}})};function g(l,d,e){if(!l||d<1){return null}var f=l[0].cells;var h=l[d].cells[e].ctx;var j=[];for(var i=0,k=f.length;i<k;++i){if(m(h,f[i].ctx)){j.push(f[i])}}return j}function m(t,d){var i=true;for(var k in t){if(t.hasOwnProperty(k)){if(!d.hasOwnProperty(k)||d[k]!==t[k]){i=false;break}}}return i}r._getLayersBand=function(l,d){var r=0;for(var i=0;i<d;++i){r+=l[i].layerBand}return r};r._setLabelParameters=function(l,p,d,w,h,t,n,e){var i=0,f=l.length,j;switch(p){case C.POSITION.LEFT:for(i=0;i<f;++i){j=l[i];j.x=w-d-j.cellWidth;j.y=j.cellStart}break;case C.POSITION.RIGHT:for(i=0;i<f;++i){j=l[i];j.x=d;j.y=j.cellStart}break;case C.POSITION.TOP:for(i=0;i<f;++i){j=l[i];j.x=j.cellStart;j.y=h-d-j.cellHeight}break;case C.POSITION.BOTTOM:for(i=0;i<f;++i){j=l[i];j.x=j.cellStart;j.y=d}break}if(e){var k=false;if(!n&&l.length){switch(p){case C.POSITION.LEFT:case C.POSITION.RIGHT:if(l[0].cellHeight-2<l[0].textHeight){k=true}break;case C.POSITION.TOP:case C.POSITION.BOTTOM:if(l[0].cellWidth-2<l[0].textWidth){k=true}break}}if(k){switch(p){case C.POSITION.LEFT:for(i=0;i<f;++i){j=l[i];j.rectX=j.cellWidth-j.textWidth-t;j.rectY=(j.cellHeight-j.textHeight)/2;j.rectWidth=j.textWidth;j.rectHeight=j.textHeight}break;case C.POSITION.RIGHT:for(i=0;i<f;++i){j=l[i];j.rectX=t;j.rectY=(j.cellHeight-j.textHeight)/2;j.rectWidth=j.textWidth;j.rectHeight=j.textHeight}break;case C.POSITION.TOP:for(i=0;i<f;++i){j=l[i];j.rectX=(j.cellWidth-j.textWidth)/2;j.rectWidth=j.textWidth;j.rectHeight=j.textHeight;j.rectY=j.cellHeight-j.textHeight-t}break;case C.POSITION.BOTTOM:for(i=0;i<f;++i){j=l[i];j.rectX=(j.cellWidth-j.textWidth)/2;j.rectY=t;j.rectWidth=j.textWidth;j.rectHeight=j.textHeight}break}}else{for(i=0;i<f;++i){j=l[i];j.rectX=1;j.rectY=1;j.rectWidth=j.cellWidth-2<0?0:j.cellWidth-2;j.rectHeight=j.cellHeight-2<0?0:j.cellHeight-2}}}};return r});define('sap/viz/chart/elements/axis/sub/CategoryAxisBody',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/BaseAxisSub","sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils","sap/viz/base/utils/Objects","sap/viz/modules/util/BoundUtil","sap/viz/chart/elements/axis/renderer/CategoryBodyRenderer","sap/viz/chart/elements/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/lang/langManager","sap/viz/modules/util/ClippathUtil",'sap/viz/chart/elements/data/Utils'],function(C,a,B,N,T,O,b,c,D,l,d,e){var f=5;var L=6;var A=C.CSS.CLASS.AXIS;var g=function(){g.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.axis.sub.CategoryAxisBody";this._layers=null;this._domainChanged=true;this._rawLayers=null;this._bindingFieldIds=null};a.extend(g,B);g.prototype.setData=function(_){var i=this._data;if(!i||JSON.stringify(i.getDomain())!==JSON.stringify(_.getDomain())){this._domainChanged=true}return g.superclass.setData.apply(this,arguments)};g.prototype.setBindingFields=function(_){var i=_.map(function(o){return o.id});if(JSON.stringify(this._bindingFieldIds)!==JSON.stringify(i)){this._domainChanged=true}this._bindingFieldIds=i;this._bindingFields=_;return this};g.prototype.render=function(s){s.select("g."+A.LINE_GROUP).remove();s.select("g."+A.TICK_GROUP).remove();s.select("g."+A.LABEL_GROUP).remove();var i=d.drawClippath(s,this._containerSize.width+1,this._containerSize.height+0.5,0,-0.5);s.attr('clip-path','url(#'+i+')');if(this._data&&this._isSpaceEnough()&&this._props.visible){var w=this._width;var j=this._height;var p=this._position;var k=this._props;var n=this._styles;var o=this._data;var r=o.getRange();var q=this._getAvailableLayers();var t=this._getTicks(q);var u=null;if(k.axisLine.visible){u=s.append("g").attr("class",A.LINE_GROUP);c.drawLines(u,q,r,w,j,p,k)}if(k.axisTick.visible){u=s.append("g").attr("class",A.TICK_GROUP);c.drawTicks(u,q,t,w,j,p,k)}u=s.append("g").attr("class",A.LABEL_GROUP);c.drawLabels(u,q,w,j,p,k,n)}};g.prototype.getPreferredSize=function(){var j;if(this._data&&this._props.visible){j=(this._layers=this._buildLayers(this._data))}var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(j){var r=this._data.getRange();var k=Math.abs(r[0]-r[1]);var i,n=j.length;var o,q,s,t;if(n){s=(p.spacings=[]);for(i=0;i<n;++i){t=j[i];if(i===0&&t.minLayerBand<t.layerBand){s.push({"interval":t.minLayerBand,"type":C.SPACING_TYPE.STEP});s.push({"interval":t.layerBand-t.minLayerBand,"type":C.SPACING_TYPE.RANGE})}else{s.push({"interval":t.layerBand,"type":C.SPACING_TYPE.STEP})}}o=this._getMinLayersSize(s);q=this._getMaxLayersSize(s);if(this._isVertical()){p.minWidth=o;p.maxWidth=q;p.minHeight=k;p.maxHeight=k}else{p.minWidth=k;p.maxWidth=k;p.minHeight=o;p.maxHeight=q}}}var u=N.preciseObject(p);this._updatePfdSize(u);return u};g.prototype.destroy=function(){g.superclass.destroy.apply(this,arguments);this._layers=null;this._rawLayers=null;this._bindingFieldIds=null};g.prototype._getMinLayersSize=function(s){return s[0].interval};g.prototype._getMaxLayersSize=function(s){var j=0;for(var i=0,k=s.length;i<k;++i){j+=s[i].interval}return j};g.prototype._getTicks=function(k){var t=[];var n;if(this._isVertical()){n="cellHeight"}else{n="cellWidth"}var o,p,q;for(var i=0,r=k.length;i<r;++i){o=[];p=0;q=k[i].cells;for(var j=0;j<q.length;++j){if(j===0){o.push(p)}p+=q[j][n];o.push(p)}t.push(o)}return N.preciseObject(t)};g.prototype.getAvailableLayersNumber=function(){var i=this._getAvailableLayers();return i.length};g.prototype._getAvailableLayers=function(){var s;if(this._isVertical()){s=N.preciseSimple(this._width)}else{s=N.preciseSimple(this._height)}var j=this._layers;var k;var n=[];if(j){for(var i=0,o=j.length;i<o;++i){k=j[i];s-=k.layerBand;if(s<0){if(i===0&&s+k.layerBand-k.minLayerBand>=0){n.push(k)}break}else{n.push(k)}}}return n};g.prototype._buildLayers=function(s){if(this._domainChanged||this._styleChanged){this._domainChanged=false;this._styleChanged=false;this._rawLayers=h.mergeLabels.call(this,s.getDomain())}var i=this._rawLayers;h.assignCellSize.call(this,i,s.getRangeInterval());h.layoutCells.call(this,i,s.getRange());return h.getVisibleLayers.call(this,i)};g.prototype.layout=function(){if(!(this._layers&&this._layers.length)){return}var j=this._isVertical()?this._width:this._height;var k=this._layers[0],n,o,i;if(j<k.layerBand&&j>=k.minLayerBand){n=k.cells;for(i=-1;++i<n.length;){o=n[i];if(this._isVertical()){if(o.cellWidth>0){o.cellWidth=j}}else{if(o.cellHeight>0){o.cellHeight=j}}}}};var h={};h.mergeLabels=function(k){var n=this._bindingFieldIds;function o(k){var I=0;if(k.length&&k[0].length){I=k[0].length}return I}function p(u,I){var J=I===undefined?u[0].length:I;var K={};for(var i=0;i<J;++i){K[n[i]]=u[0][i]}return K}function s(t,I){t.text=I}var q=[],r,t,u;var i,j,v,w,x;var y,z,E;var F=o(k);var G=k.map(e.getDisplayTextsConverter(this._bindingFields));for(i=0,v=F;i<v;++i){r={cells:[]};y=0;z=0;E=0;u=[];for(j=0,w=k.length;j<w;++j){t={};x=k[j][i];var H=G[j][i];u.push(k[j]);if(i===v-1){s(t,H);t.ctx=p([k[j]]);t.space=1}else{++y;++z;if(i>0&&z>=q[i-1].cells[E].space){s(t,H);t.ctx=p(u,i+1);t.space=y;y=0;z=0;++E}else{if(j+1<w&&x===k[j+1][i]){continue}else{s(t,H);t.ctx=p(u,i+1);t.space=y;y=0}}}r.cells.push(t);u=[]}q.push(r)}return q};h.assignCellSize=function(k,r){var n,o,p,s;var i,q,j,t,u,v,w;var x;if(this._isVertical()){for(i=0,q=k.length;i<q;++i){n=k[i];s=0;o=n.cells;for(j=0,t=o.length;j<t;++j){p=o[j];u=m.getRangeInfo(r,s,p.space);p.cellHeight=u.rangeLong;p.middle=(v=u.middle);p.cellStart=u.start;p.cellEnd=u.end;s+=p.space}}}else{for(i=0,q=k.length;i<q;++i){n=k[i];s=0;o=n.cells;x=-1;for(j=0,t=o.length;j<t;++j){p=o[j];u=m.getRangeInfo(r,s,p.space);p.cellWidth=u.rangeLong;p.middle=(v=u.middle);p.cellStart=u.start;p.cellEnd=u.end;s+=p.space}}}};h.layoutCells=function(n,r){var s=this._styles.realStyle.label;var o=this._props.labelRenderer||D,p;var q=(function(a1,b1,s,c1){return function(x,v,Q){return m.fillPreferredSize(a1,b1,x,s,v,c1,Q)}})(o,this._isVertical(),s,this._position);var t=L+f;var u=r.slice();if(u[0]>u[1]){u.reverse()}var v,w,x;var i,y,j,z,E,F;var G,H,I;var J,K;if(this._isVertical()){G="cellHeight";H="minCellWidth";I="cellWidth";J="bodyWidth";K="width"}else{G="cellWidth";H="minCellHeight";I="cellHeight";J="bodyHeight";K="height"}for(i=0,y=n.length;i<y;++i){var M=!o.autoHide||!o.autoHide(this._isVertical(),i);v=n[i];v.isVisible=true;v.rotated=false;w=v.cells;E=0;if(i===0){var P=[false,true],Q,R,S,U=0;var V=function(x){return q(x,0,Q)};for(var k=0;k<P.length;k++){v.rotated=Q=P[k];var W=w.slice();if(!M){m.excludeCrossBoundCells(W,u,V)}R=[];var X;var Y;var Z=W.length;Y=M?1:m.getStep(W,0,V);var $=0;var _=false;for(j=0;j<Z;j+=Y){x=W[j];if(Y===undefined){if(!Q){_=true}else{R.push(x);p=x._preferredSize;E=p[I];U=p[H]}break}p=q(x,0,Q);if(!Q&&p.rotated){_=true;break}if(!M&&j!==0&&x.start<X.end){j=-Y;E=U=0;Y=m.getStep(W,$,V);R.splice(0);continue}$=j;R.push(x);p=x._preferredSize;if(E<p[I]){E=p[I]}S=p[H];if(S&&U<S){U=S}X=x}if(!_){break}}if(R.length===0){v.isVisible=false;E=-t;U=-t}F=N.preciseSimple(E+t);for(j=0,z=w.length;j<z;++j){x=w[j];x.isVisible=false}for(j=0,z=R.length;j<z;++j){x=R[j];x[I]=F;x.isVisible=true}v.layerBand=F;v.minLayerBand=N.preciseSimple(U+t)}else{for(j=0,z=w.length;j<z;++j){x=w[j];x.isVisible=true;p=q(x,i,v.rotated);if(p.rotated&&!v.rotated){v.rotated=true;j=-1;continue}if(E<p[I]){E=p[I]}if(!M&&p[G]>x[G]){v.isVisible=false;E=-t;break}}F=N.preciseSimple(E+t);for(j=0,z=w.length;j<z;++j){w[j][I]=F}v.layerBand=F}}};h.getVisibleLayers=function(j){var v=[];if(this._props.label.hideSubLevels){if(j.length){v=[j[0]]}}else{for(var i=0,k=j.length;i<k;++i){if(j[i].isVisible){v.push(j[i])}}}return v};var m={};m.defaultLabelGetPreferredSize=function(i){return{cellWidth:i.size,cellHeight:i.size}};m.getRangeInfo=function(r,o,j){var k=0;var n;var s,p;for(var i=0;i<j;++i){n=r[i+o];k+=Math.abs(n[0]-n[1]);if(i===0){s=n[0]}if(i===j-1){p=n[1]}}return{rangeLong:k,start:s,end:p,middle:(s+p)/2}};m.fillPreferredSize=function(r,i,j,s,k,p,n){var o,q;if(i){o="cellHeight";q="minCellWidth"}else{o="cellWidth";q="minCellHeight"}var t=r.getPreferredSize||m.defaultLabelGetPreferredSize,u;var v={ctx:j.ctx,styles:s,text:j.text,layer:k,size:j[o]-0.0001,position:p,rotated:n};u=t.call(r,v);if(!u){u=D.getPreferredSize(v)}if(u[q]===undefined){u[q]=0}j._preferredSize=u;j.contentWidth=u.cellWidth;j.contentHeight=u.cellHeight;var w=j.middle;var x=u[o]/2;j.start=w-x;j.end=w+x;return u};m.isCellOutOfBound=function(i,j){var k=[i.start,i.end];if(k[0]>k[1]){k.reverse()}return k[0]<j[0]||k[1]>j[1]};m.findBoundaryBinary=function(i,r,j,s,k){if(k-s===1){return s}var n=Math.floor((k+s)/2);j(i[n]);if(m.isCellOutOfBound(i[n],r)){return m.findBoundaryBinary(i,r,j,n,k)}else{return m.findBoundaryBinary(i,r,j,s,n)}};m.excludeCrossBoundCells=function(j,r,k){var n;var s=Math.floor(j.length*0.1)||1;var i,o=-1,p=j.length;for(i=0;i<p;){k(j[i]);if(!m.isCellOutOfBound(j[i],r)){o=i;break}if(i===p-1){break}i=Math.min(i+s,p-1)}if(o>0){n=m.findBoundaryBinary(j,r,k,o-s,o)}else if(o<0){j.splice(0);return}if(n!==undefined){j.splice(0,n+1);p=j.length;var q=p-(n+1);if(q>=0){n=undefined;k(j[q]);if(m.isCellOutOfBound(j[q],r)){n=q;for(i=q-1;i>=0;i--){k(j[i]);if(!m.isCellOutOfBound(j[i],r)){break}n=i}}else{for(i=q+1;i<p;i++){k(j[i]);if(m.isCellOutOfBound(j[i],r)){n=i;break}}}j.splice(n,p-n)}}};m.getStep=function(i,s,n){if(i.length<=1){return 1}var o;var p=i[s];var q=p.end;var r=i.length;var t;for(var j=s+1;j<r;j++){t=i[j];if(t.cellStart>=q){for(var k=j;k<r;k++){n(i[k]);if(i[k].start>=q){o=k-s;break}}break}}return o};return g});define('sap/viz/chart/elements/manifests/axis/sub/CategoryBody',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/CategoryAxisBody","sap/viz/chart/elements/manifests/axis/sub/Base"],function Setup(M,C,f,B){var m={"id":"sap.viz.chart.elements.axis.sub.categoryBody","name":"categoryAxisBody","base":"sap.viz.chart.elements.axis.sub.base",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/axis/config/buildCategoryConfig',["sap/viz/modules/Constants","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/chart/elements/manifests/axis/sub/Title","sap/viz/chart/elements/manifests/axis/sub/CategoryBody","sap/viz/chart/elements/manifests/layout/AxisStack"],function(C,O,U){var b=function(p){var g=p===C.POSITION.TOP||p===C.POSITION.LEFT?1:-1;var l=p===C.POSITION.TOP||p===C.POSITION.BOTTOM?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var c={modules:{axisBody:{id:"sap.viz.chart.elements.axis.sub.categoryBody",name:"axisBody",configure:{isBody:true,layoutConfig:{order:1,priority:2,offset:0}}},axisTitle:{id:"sap.viz.chart.elements.axis.sub.title",name:"axisTitle",configure:{isTitle:true,layoutConfig:{order:3,priority:3,offset:12}}},layout:{id:"sap.viz.chart.elements.layout.axisStack",configure:{isLayoutAlgorithm:true,properties:{gravity:g,direction:l}}}}};return O.extend(true,{},c)};return b});define('sap/viz/chart/elements/axis/BaseCategoryAxis',["sap/viz/base/utils/oo","sap/viz/chart/elements/axis/BaseAxis","sap/viz/modules/Constants","sap/viz/chart/elements/axis/config/buildCategoryConfig","sap/viz/chart/elements/axis/utils/PositionUtils","sap/viz/base/utils/TypeUtils","sap/viz/util/NumberUtils","sap/viz/chart/elements/manifests/axis/sub/AxisScrollBar"],function(a,B,C,b,P,T,N){var M="MeasureNamesDimension";var c="All Measures";var d=function(m,e){d.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.axis.BaseCategoryAxis";this._plotProps=null};a.extend(d,B);d.prototype._parseProperties=function(){d.superclass._parseProperties.apply(this,arguments)};d.prototype._validateProperties=function(_){d.superclass._validateProperties.apply(this,arguments);if(!T.isFunction(this._props.labelRenderer)){this._props.labelRenderer=null}this._props.label.hideSubLevels=!!this._props.label.hideSubLevels};d.prototype._getConfig=function(p){var e=b(p);if(p===C.POSITION.BOTTOM||p===C.POSITION.RIGHT){e.modules["axisScrollBar"]={id:"sap.viz.chart.elements.axis.sub.axisscrollbar",name:"axisScrollBar",configure:{layoutConfig:{order:2,priority:1,offset:1}}}}return e};d.prototype.scrollTo=function(s){if(this._modules&&this._modules.axisScrollBar&&this._modules.axisScrollBar.scrollTo){this._modules.axisScrollBar.scrollTo(s)}};d.prototype.setOtherModuleProps=function(p){this._plotProps=p};d.prototype._updateProperties=function(){d.superclass._updateProperties.apply(this,arguments);if(this._modules&&this._modules.axisScrollBar&&this._modules.axisScrollBar.setOtherModuleProps){this._modules.axisScrollBar.setOtherModuleProps(this._plotProps)}};d.prototype._constructTitle=function(h,t){var e=h.map(function(o){return o.name||o.id});t.splice(0,t.length);var f="";var g="";for(var i=0;i<e.length;i++){if(i===0){g=e[i]}else{g=(" / "+e[i])}f+=g;var j={};j.isHidden=false;j.text=g;t.push(j)}return f};return d});define('sap/viz/chart/elements/manifests/axis/CategoryAxis',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/chart/elements/axis/BaseCategoryAxis","sap/viz/chart/elements/manifests/axis/Base","sap/viz/chart/elements/manifests/axis/sub/CategoryBody"],function Setup(M,C,U,f,B,a){var m={"id":"sap.viz.chart.elements.axis.category","base":"sap.viz.chart.elements.axis.base","name":"categoryAxis","properties":{"gridline":{"isExported":false},"isTruncateAvailable":{"name":"isTruncateAvailable","supportedValueType":"Boolean","defaultValue":true,"description":"Mark truncate logic availability for category axis.","isExported":false},"forceLabelArea":{"name":"forceLabelArea","supportedValueType":"Boolean","defaultValue":false,"description":"Make label selection area limit to text area.","isExported":false},"label":{"name":"label",'cssClass':'.viz-axis-label.v-label',"description":"Settings for the labels on this axis","supportedValueType":"Object","supportedValues":{"hideSubLevels":{"name":"hideSubLevels","supportedValueType":"Boolean","defaultValue":false,"description":"Set the visibility of the sub levels of labels on category axis"},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#333333','description':'Set the color of the axis label.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the axis label.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'12px','description':'Set the font size of the axis label.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the axis label.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the axis label.'}}},"enableLabelSelection":{"name":"enableLabelSelection","supportedValueType":"Boolean","defaultValue":true,"description":"Set whether to enable label selection effect. For mobile, default value will be false.","isExported":false},"labelRenderer":{"name":"labelRenderer","supportedValueType":"Function","defaultValue":null},'hoverShadow':{'name':'hoverShadow','cssClass':'.v-hovershadow','description':"Define the color of the hover shadow",'supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#cccccc'}}}},"css":{".v-hovershadow":{"description":"Define style for hover shadow color.","value":{"fill":"#cccccc"}}},fn:f};var b={viz:[],module:[m].concat(B.module,a.module),feeds:[].concat(B.feeds,a.feeds)};return b});define('sap/viz/modules/layout/sequenceScaling',['jquery','sap/viz/modules/Constants',"sap/viz/util/NumberUtils",'sap/viz/util/Objects','sap/viz/base/utils/TypeUtils'],function Setup($,r,N,O,T){var V=['yAxis','yAxis2','xAxis','xAxis2'];var H=['xAxis','xAxis2','yAxis','yAxis2'];var a=['width','width','height','height'];var b=['height','height','width','width'];var l={'height':'maxHeight','width':'maxWidth'};var _=function(){var w,h,p,c,d,e,f;var g=0;var L=1;var B=2;var R=3;function j(i){return{paddingTop:parseFloat(i.paddingTop),paddingBottom:parseFloat(i.paddingBottom),paddingLeft:parseFloat(i.paddingLeft),paddingRight:parseFloat(i.paddingRight)}}function s(){var k=c?b:a;var m=c?H:V;var n={};var q=arguments[0];var i=0;var t=w-(p[L]+p[R]);var u=h-(p[g]+p[B]);t=t>0?t:0;u=u>0?u:0;var v={width:e?e:t,height:f?f:u};var x,o,y;var z={width:t,height:u,x:p[R],y:p[g]};var A={center:false};if(!q.plot){throw"Cannot solve layout without plot"}var C=m.length;for(i=0;i<C;i++){x=q[m[i]];if(!!x){n[x.module.alias]={};o=n[x.module.alias];var D=k[i];y=x.module.properties().layout;o.padding=j(y);var E={width:0,height:0};if(!isNaN(o.padding.paddingTop)){E.height+=o.padding.paddingTop}if(!isNaN(o.padding.paddingBottom)){E.height+=o.padding.paddingBottom}if(!isNaN(o.padding.paddingLeft)){E.width+=o.padding.paddingLeft}if(!isNaN(o.padding.paddingRight)){E.width+=o.padding.paddingLeft}var F;if(T.isFunction(x.module.getPreferredSize)){F=x.module.getPreferredSize()[D]+E[D];var G=N.getSizeValue(y[l[D]],v[D]);G=G>z[D]?z[D]:G;G=F>G?G:F;z[D]=z[D]-G;o[D]=G}else{o[D]=0}}if(i===1){q.plot.module.setSize({width:z.width,height:z.height});d()}}for(i=0;i<C;i++){x=q[m[i]];if(!x){continue}o=n[x.module.alias];if(!o.hasOwnProperty('width')){o.width=z.width}else if(!o.hasOwnProperty('height')){o.height=z.height}switch(x.position){case"top":z.y=z.y+o.height;break;case"left":z.x=z.x+o.width;break}}for(var I in q){if(q.hasOwnProperty(I)){x=q[I];o=n[x.module.alias];y=x.module.properties().layout;switch(x.position){case"top":o.x=z.x;o.y=z.y-o.height;break;case"left":o.x=z.x-o.width;o.y=z.y;break;case"bottom":o.x=z.x;o.y=z.y+z.height;break;case"right":o.x=z.x+z.width;o.y=z.y;break;case"center":o=n[x.module.alias]={};o.x=z.x;o.y=z.y;o.width=z.width;o.height=z.height;break}if(!T.isPlainObject(o.padding)){o.padding=j(y)}if(!isNaN(o.padding.paddingTop)){if(x.position==='top'){o.y+=o.padding.paddingTop}o.height-=o.padding.paddingTop}if(!isNaN(o.padding.paddingBottom)){o.height-=o.padding.paddingBottom}if(!isNaN(o.padding.paddingLeft)){if(x.position==='left'){o.x+=o.padding.paddingLeft}o.width-=o.padding.paddingLeft}if(!isNaN(o.padding.paddingRight)){o.width-=o.padding.paddingRight}z.height=z.height>0?z.height:0;z.width=z.width>0?z.width:0;x.module.setSize({width:o.width,height:o.height})}}return n}s.padding=function(x){if(!arguments.length){return p}p=x;return s};s.width=function(x){if(!arguments.length){return w}w=x;return s};s.height=function(x){if(!arguments.length){return h}h=x;return s};s.totalSize=function(x){if(!arguments.length){return{'width':e,'height':f}}e=x.width;f=x.height;return this};s.isHorizontal=function(x){if(!arguments.length){return c}c=x;return s};s.relayoutEvent=function(x){if(!arguments.length){return d}d=x;return s};s.properties=function(){return s};s.data=function(){return s};s.destroy=function(){};return s};return _});define('sap/viz/modules/manifests/layout/SequenceScaling',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/sequenceScaling','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.sequenceScaling",'name':"sequenceScaling",'base':"sap.viz.modules.layout.base",'description':"The scale layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/container/XYContainer',['jquery','sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/Constants','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout/sequenceScaling','sap/viz/manifest','sap/viz/util/ignite','sap/viz/data/handler/SingleChartDataHandler','sap/viz/modules/dispatch','sap/viz/modules/util/BoundUtil','sap/viz/util/fn/domposition','sap/viz/base/utils/log/Analyzer'],function Setup($,o,B,C,T,O,F,l,M,c,S,e,f,g,A){var X=function(m,a){this._xyc_width=0;this._xyc_height=0;this._xyc_totalHeight=0;this._xyc_totalWidth=0;this._xyc_properties={};this._xyc_data={};this._xyc_config={};this._xyc_modules={};this._xyc_selections={};this._xyc_parent=null;this._xyc_ctx=a;this._xyc_isHorizontal=false;this._xyc_algorithm=l;this._xyc_eDispatch=new e('initialized','relayout');this._xyc_initializedModules=0;this._xyc_innerProperties=m.props(null);this._xyc_initializedCount=0};o.extend(X,B);X.prototype.render=function(s){this._xyc_relayout();this._xyc_initializedCount=0;f.drawBound(s,this._xyc_width,this._xyc_height);this._xyc_parent=s;if(T.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}this._xyc_renderSub()};X.prototype._xyc_relayout=function(){var m=this._xyc_modules;var w=this._xyc_width;var h=this._xyc_height;var s=this._xyc_selections;var a=this._xyc_config;w=w<0?0:w;h=h<0?0:h;if(T.isEmptyObject(m)||!w||!h){return}if(this._xyc_modules.plot&&this._xyc_modules.plot.size){this._xyc_modules.plot.size({width:w,height:h})}this.layout(a,w,h,m,s);this._xyc_eDispatch.relayout()};X.prototype.layout=function(a,w,h,s,b){var i=this._xyc_algorithm;var j=this._xyc_isHorizontal;var r=this._xyc_eDispatch.relayout;var t=this._xyc_totalWidth;var k=this._xyc_totalHeight;function m(x,d){return i(x,d)}function n(x){var q=[0,0,0,0],u={};i.width(w).height(h).padding(q,function(d){return d});if(T.isFunction(i.relayoutEvent)){i.relayoutEvent(r)}if(T.isFunction(i.totalSize)){i.totalSize({width:t,height:k})}if(T.isFunction(i.isHorizontal)){i.isHorizontal(j)}$.each(x,function(d,v){if(d!=="plot"&&d!=="xAxis"&&d!=="xAxis2"&&d!=="yAxis"&&d!=="yAxis2"){return}var y=v.properties().layout||v.properties()[a.modules[d].configure.propertyCategory].layout,z=y.position;u[d]={module:v,position:z}});return u}var p=m(n(s),'RELAYOUT');g(p,b);return p};X.prototype._xyc_initialize=function(){var a=this._xyc_config;var m=this._xyc_modules;var b=this._xyc_ctx;var d=this._xyc_data;var s=this._xyc_selections;var p=this._xyc_parent;if(T.isEmptyObject(a)){F.error('Container configuration missing')}this._xyc_initializedModules=0;this._xyc_initAxis('xAxis');this._xyc_initAxis('yAxis');this._xyc_initAxis('xAxis2');this._xyc_initAxis('yAxis2');this._xyc_initLayoutAlgorithm();var h=a.modules.plot;if(!h){return}var i=m.plot=c(h.id,b,C.CSS.CLASS.MODULEPREFIX+"plot",undefined,h.paras);i.alias="plot";if(h.paras){this._xyc_isHorizontal=h.paras.horizontal}var j=new S(d);i.setData(j.getDataAdapter());var k;if(h.configure){k=this._xyc_resolveProperties(h.configure);i.setProperties(k)}if(i.dispatch){var n=i.dispatch();if(n.initialized){this._xyc_initializedModules++;n.on('initialized.xycontainer',this._xyc_initialized.bind(this))}}if(m.plot&&!s.plot){s.plot=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'plot')}if(m.xAxis&&!s.xAxis){s.xAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis')}if(m.xAxis2&&!s.xAxis2){s.xAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis2')}if(m.yAxis&&!s.yAxis){s.yAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis')}if(m.yAxis2&&!s.yAxis2){s.yAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis2')}};X.prototype._xyc_renderSub=function(){var s=this._xyc_selections;var m=this._xyc_modules;var d=[];var n=[];for(var k in m){if(m.hasOwnProperty(k)){if(m[k].properties().layout){d.push({key:k,module:m[k]})}else{n.push({key:k,module:m[k]})}}}d.sort(function(a,b){return a.module.properties().layout.priority-b.module.properties().layout.priority});var i,h;for(i=0,h=d.length;i<h;++i){A.pnrProfiling("Render:drawing-paint-chart-main-"+d[i].key);s[d[i].key].call(d[i].module);A.pnrProfiling("Render:drawing-paint-chart-main-"+d[i].key)}for(i=0,h=n.length;i<h;++i){A.pnrProfiling("Render:drawing-paint-chart-main-"+n[i].key);s[n[i].key].call(n[i].module);A.pnrProfiling("Render:drawing-paint-chart-main-"+n[i].key)}};X.prototype._xyc_resolveProperties=function(n,i){var p={},a,u,s;var b=this._xyc_properties;if(i){if(n){a=n.propertyCategory;u=b;s={};s[a]=n.properties;O.extend(true,p,s,u)}else{p=b}}else{if(n){a=n.propertyCategory;u=b[a];s=n.properties;O.extend(true,p,s,u)}}return p};X.prototype._xyc_updateProperties=function(i,a){var b=this._xyc_config;var m=this._xyc_modules;var p=this._xyc_properties;var d=b.modules;var h,n,j;if(d[i]&&m[i]){n=d[i].configure;if(a){h=p}else{if(n){j=n.propertyCategory;h=O.extend(true,{},p[j])}else{h={}}}m[i].setProperties(h)}};X.prototype._xyc_updateAxisData=function(i){var m=this._xyc_modules;var a=this._xyc_config;var d=this._xyc_data;if(m[i]){var b=a.modules[i];var h=b.data;if(h){m[i].setData(d.createDataAdapterForModule(h))}}};X.prototype._xyc_initAxis=function(i){var m=this._xyc_modules;var a=this._xyc_config;var b=this._xyc_ctx;if(!a.modules[i]){return}var d=a.modules[i],h=m[i]=c(d.id,b,C.CSS.CLASS.MODULEPREFIX+i);h.alias=i;this._xyc_updateAxisData(i);var p=this._xyc_resolveProperties(d.configure);h.setProperties(p);if(h.dispatch&&h.dispatch()['initialized']){this._xyc_initializedModules++;h.dispatch().on('initialized.xycontainer',this._xyc_initialized.bind(this))}};X.prototype._xyc_initLayoutAlgorithm=function(){var i='layout';var m=this._xyc_config.modules;if(!m[i]){this._xyc_algorithm=l;return}var a=m[i];this._xyc_algorithm=c(a.id,this._xyc_ctx,true)};X.prototype._xyc_initialized=function(){if(this._xyc_initializedModules===++this._xyc_initializedCount){this._xyc_initializedCount=0;this._xyc_eDispatch.initialized()}};X.prototype.width=function(_){if(!arguments.length){return this._xyc_width}this._xyc_width=_;if(this._xyc_height){this._xyc_relayout()}return this};X.prototype.height=function(_){if(!arguments.length){return this._xyc_height}this._xyc_height=_;if(this._xyc_width){this._xyc_relayout()}return this};X.prototype.size=function(_){if(!arguments.length){return{'width':this._xyc_width,'height':this._xyc_height}}this._xyc_height=_.height;this._xyc_width=_.width;return this};X.prototype.setSize=function(_){this.size(_);this._xyc_relayout();return this};X.prototype.setTotalSize=function(_){if(!arguments.length){return{'width':this._xyc_totalWidth,'height':this._xyc_totalHeight}}this._xyc_totalHeight=_.height;this._xyc_totalWidth=_.width;return this};X.prototype.data=function(_){if(!arguments.length){return this._xyc_data}this._xyc_data=_;if(!T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_properties)){var d=new S(this._xyc_data);this._xyc_modules['plot'].data(d.getDataAdapter());this._xyc_updateAxisData('xAxis');this._xyc_updateAxisData('yAxis');this._xyc_updateAxisData('xAxis2');this._xyc_updateAxisData('yAxis2')}return this};X.prototype.properties=function(x){if(!arguments.length){return this._xyc_innerProperties}this._xyc_properties=O.extend(true,{},this._xyc_properties,x);this._xyc_innerProperties=O.extend(true,{},this._xyc_innerProperties,x.xyContainer);if(!T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_data)){this._xyc_updateProperties('xAxis');this._xyc_updateProperties('xAxis2');this._xyc_updateProperties('yAxis');this._xyc_updateProperties('yAxis2');this._xyc_updateProperties('plot')}return this};X.prototype.config=function(_){if(!arguments.length){return this._xyc_config}this._xyc_config=_;if(T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_data)&&!T.isEmptyObject(this._xyc_properties)&&this._xyc_parent!==null){this._xyc_initialize()}return this};X.prototype.modules=function(x){if(!arguments.length){if(T.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}return this._xyc_modules}this._xyc_modules=x;return this};X.prototype.parent=function(_){if(!arguments.length){return this._xyc_parent}this._xyc_parent=_;return this};X.prototype.dispatch=function(_){if(!arguments.length){return this._xyc_eDispatch}this._xyc_eDispatch=_;return this};X.prototype.rotate=function(_){var p=this._xyc_modules['plot'];if(!arguments.length){return p.rotate()}p.rotate(_);return this};X.prototype.getPropertyZone=function(_){var r=[];var b=this._xyc_selections.plot.node().getBoundingClientRect();if(b.width>1.5&&b.height>1.5){var a=[[]];a[0].push([b.left,b.top]);a[0].push([b.right,b.top]);a[0].push([b.right,b.bottom]);a[0].push([b.left,b.bottom]);r.push({"name":'plot',"bound":a})}return r};X.prototype.destroy=function(){this._xyc_parent=null;this._xyc_selections=null;var a=this._xyc_modules;for(var b in a){if(a.hasOwnProperty(b)){var m=a[b];if(m.dispatch){var d=m.dispatch();if(d.initialized){d.on('initialized.xycontainer',null)}}}}this._xyc_modules=null;this._xyc_data=null;if(this._xyc_ctx){this._xyc_ctx.destroy();this._xyc_ctx=null}};return X});define('sap/viz/chart/elements/manifests/container/XYContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/container/XYContainer'],function Setup(M,C,f){var m={'id':'sap.viz.chart.elements.xyContainer','type':C.Type.Container,'name':'single container','properties':null,'css':null,'configure':null,'events':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/ScrollBar',['sap/viz/base/utils/oo','sap/viz/elements/common/Base','sap/viz/util/TextUtils','sap/viz/lang/langManager','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector','sap/viz/util/ScrollBar'],function Setup(o,B,T,l,O,b,U,s){var S=function(m,c){S.superclass.constructor.apply(this,arguments);this._scrollbar_width=0;this._scrollbar_height=0;this._scrollbar_instance=null;this._scrollbar_contentSize=0;this._scrollbar_isFixedDataPointSize=false;this._scrollbar_properties=m.props(null);this._scrollbar_thumbSize=12;if(U.isMobile()){this._scrollbar_thumbSize=8}this._moveState={position:{x:0,y:0}};this._isVertical=true;this._exposeMoreEvents('initialized','moveTo')};o.extend(S,B);S.prototype.render=function(a){if((this._isVertical&&this._scrollbar_width===0)||(!this._isVertical&&this._scrollbar_height===0)){this._eDispatch.initialized();this.clear();return}if(this._scrollbar_isFixedDataPointSize&&(this._scrollbar_contentSize>this._scrollbar_height)){this._scrollbar_instance=new s();var c=[];var d=a.node().parentNode;if(d){var p=d3.select(d).select('.v-m-plot');c.push(p)}var e={thumbSize:this._scrollbar_thumbSize,fill:'#E5E5E5',hoverFill:'#DEDEDE',opacity:1,padding:0,hasScrollingArea:true,isRoundCorner:false};var t=this;this._scrollbar_instance.setProperties({size:this._scrollbar_height,contentSize:this._scrollbar_contentSize,vertical:true,style:e,eventWrapper:c,onScroll:function(f){var g=f.start;if(U.isMobile()){g=f.option.transform.y}var m=d3.select(this._selection.node().parentNode);var h="";if(t._isVertical){h='translate(0,'+g+')'}if(m){var i=m.select('.v-plot-main');if(i&&!i.empty()){i.attr('transform',h)}var y=m.select('.v-m-yAxis');if(y&&!y.empty()){var j=y.select('.v-tick-group');if(j&&!j.empty()){j.attr('transform',h)}var k=y.select('.v-label-group');if(k&&!k.empty()){k.attr('transform',h)}}}var n={direction:{},offset:{x:0,y:0}};if(t._isVertical){n.direction='Y';n.offset.y=g-t._moveState.position.y;t._moveState.position.y=g}t._eDispatch.moveTo(n)}}).render(a)}else{a.select('.v-m-scrollBar').remove();a.select('.v-m-scrollBarSlot').remove()}this._eDispatch.initialized()};S.prototype.width=function(v){if(!arguments.length){return this._scrollbar_width}this._scrollbar_width=v;return this};S.prototype.height=function(v){if(!arguments.length){return this._scrollbar_height}this._scrollbar_height=v;return this};S.prototype.size=function(v){if(!arguments.length){return{width:this._scrollbar_width,height:this._scrollbar_height}}return this.setSize(v)};S.prototype.setSize=function(v){this._scrollbar_width=v.width;this._scrollbar_height=v.height};S.prototype.scrollTo=function(a){if(a.direction==="Y"){this._scrollbar_instance.scrollTo(-a.offset.y,a.option)}else if(a.direction==="X"){this._scrollbar_instance.scrollTo(-a.offset.x,a.option)}};S.prototype.setContentSize=function(_){this._scrollbar_contentSize=_;return this};S.prototype.setOtherModuleProps=function(p){this._scrollbar_isFixedDataPointSize=p.isFixedDataPointSize;return this};S.prototype.destroy=function(){this.clear()};S.prototype.clear=function(){if(this._scrollbar_instance){this._scrollbar_instance.destroy()}};S.prototype.properties=function(p){if(!arguments.length){return this._scrollbar_properties}O.extend(true,this._scrollbar_properties,p);if(this._scrollbar_properties.position==='top'||this._scrollbar_properties.position==='bottom'){this._isVertical=false}return this};S.prototype.getPreferredSize=function(){var p={'maxWidth':0,'maxHeight':0,'minWidth':0,'minHeigh':0,'width':0,'height':0};if(this._scrollbar_isFixedDataPointSize){if(!this._isVertical){p.width=this._scrollbar_width;p.height=this._scrollbar_thumbSize}else{p.width=this._scrollbar_thumbSize;p.height=this._scrollbar_height}}return p};return S});define('sap/viz/chart/elements/manifests/ScrollBar',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/ScrollBar'],function Setup(M,C,f){var m={'id':'sap.viz.chart.elements.scrollbar','type':C.Type.Supplementary,'name':'title','description':"Settings for the main scrollbar",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/xy/InfoBaseXYChart',['sap/viz/manifests/Viz','sap/viz/manifests/InfoBaseChart','sap/viz/chart/elements/manifests/axis/ValueAxis','sap/viz/chart/elements/manifests/axis/CategoryAxis','sap/viz/modules/manifests/layout/SequenceScaling','sap/viz/chart/elements/manifests/container/XYContainer','sap/viz/chart/elements/manifests/ScrollBar'],function(V,I,a,C,S,X,b){var c={id:"info/baseXY","abstract":true,base:"info/base",modules:{root:{modules:{main:{id:'sap.viz.chart.elements.xyContainer',configure:{properties:{layout:{position:'center',priority:2}}},modules:{layout:{id:'sap.viz.modules.layout.sequenceScaling'},plot:{configure:{properties:{background:{border:{left:{visible:true},right:{visible:true},top:{visible:true},bottom:{visible:true}}}}}},xAxis:{configure:{propertyCategory:'xAxis',properties:{position:'bottom',layout:{position:'bottom',alignToCenter:true}}}},yAxis:{configure:{propertyCategory:'yAxis',properties:{position:'left',layout:{position:'left',alignToCenter:true}}}},xAxis2:{configure:{propertyCategory:'xAxis2',properties:{position:'top',layout:{position:'top',alignToCenter:true}}}},yAxis2:{configure:{propertyCategory:'yAxis2',properties:{position:'right',layout:{position:'right',alignToCenter:true}}}}}}}}}};var m={viz:[c].concat(I.viz),module:[].concat(I.module,a.module,C.module,S.module,X.module,b.module),feeds:[].concat(I.feeds,a.feeds,C.feeds,S.feeds,X.feeds)};return m});define('sap/viz/chart/elements/csv/Legend',["sap/viz/chart/elements/legend/ColorLegend",'sap/viz/base/utils/oo','sap/viz/chart/elements/scale/ColorShapeScale','sap/viz/chart/elements/data/Utils'],function(C,a,b,D){var L=function(){L.superclass.constructor.apply(this,arguments)};a.extend(L,C);L.prototype._initColorShapeScale=function(){if(!this._colorShapeScale){var v=Array.isArray(this._shapeScale);var m;if(v){m=D.getMNDIndex(this._bindingFields)}var c=this._colorScale.map(function(d,e){if(d){var f=new b(d,v?null:this._shapeScale);if(v){var g=this._shapeScale[e];if(m<0){var h;for(var i=0,l=g.length;i<l;i++){var t=g[i].shape;if(i===0){h=t}else{if(h!==t){h=null;break}}}if(h!==null){f.each(function(j){j.shape=h})}}else{f.each(function(j){var k=j.data[m];for(var i=0,l=g.length;i<l;i++){var o=g[i];if(o.measureId===k){var h=o.shape;if(h!==null){j.shape=h}return}}})}}return f}},this);var p=c[0],s=c[1];this._colorShapeScale=p?p.append(s):s}};L.prototype.setColorScale=function(c){if(!Array.isArray(c)){c=[c]}this._colorScale=c.map(function(o){return this._updateSemanticStyle(o)},this);this._colorShapeScale=null;return this};return L});define('sap/viz/chart/elements/manifests/csv/Legend',['sap/viz/chart/elements/manifests/legend/ColorLegend','sap/viz/chart/elements/csv/Legend'],function Setup(C,f){var m={'id':'sap.viz.chart.elements.csv.Legend','base':'sap.viz.chart.elements.legend.colorLegend','name':'CSV Color legend','description':'The color legend for csv charts',fn:f};var a={module:[m].concat(C.module)};return a});define('sap/viz/manifests/xy/csv/buildManifest',['sap/viz/manifests/Viz','sap/viz/manifests/xy/InfoBaseXYChart',"sap/viz/chart/elements/csv/stacked/StackedMode",'sap/viz/base/UADetector','sap/viz/chart/elements/manifests/csv/Legend'],function(V,I,S,U,L){function p(x,c,e,k,h,d,i,f,g){var j=h===i;var l=i?"maxWidth":"maxHeight";var m=0;if(j){m='0.3'}else{m='0.25'}var n=j?2:f?1:0;if(!i&&!h){c.push({targetModule:'root.main.xAxis',target:'setOtherModuleProps',sourceModule:'root.main.plot',source:'getModuleProps'});e.push({targetModule:'root.tooltip',listener:'moveTo',sourceModule:'root.main.xAxis',type:'moveTo.tooltip'});if(U.isMobile()){e.push({targetModule:'root.main.xAxis',listener:'scrollTo',sourceModule:'root.main.plot',type:'scrollTo.axisScrollBar'})}}if(i&&f&&h){x[k]={id:"sap.viz.chart.elements.scrollbar",configure:{propertiesOverride:{layout:{maxWidth:{},maxHeight:{}},label:{}},properties:{layout:{priority:n}}}};x[k].configure.properties.layout[l]=m;c.push({targetModule:'root.main.yAxis2',target:'setContentSize',sourceModule:'root.main.plot',source:'getContentSize'});c.push({targetModule:'root.main.yAxis2',target:'setOtherModuleProps',sourceModule:'root.main.plot',source:'getModuleProps'});e.push({targetModule:'root.tooltip',listener:'moveTo',sourceModule:'root.main.yAxis2',type:'moveTo.tooltip'});if(U.isMobile()){e.push({targetModule:'root.main.yAxis2',listener:'scrollTo',sourceModule:'root.main.plot',type:'scrollTo.scrollBar'})}}else if(f&&(j||!d)){x[k]=null}else{x[k]={id:"sap.viz.chart.elements.axis."+(j?"category":"value"),configure:{propertiesOverride:{layout:{maxWidth:{},maxHeight:{}},label:{}},properties:{layout:{priority:n}},propertyCategory:(j?"category":"value")+"Axis"+(f?"2":"")}};x[k].configure.properties.layout[l]=m;if(i){x[k].configure.propertiesOverride.layout.maxHeight.isExported=false}else{x[k].configure.propertiesOverride.layout.maxWidth.isExported=false}if(f){x[k].configure.propertiesOverride.gridline={isExported:false}}if(g&&!j){x[k].configure.propertiesOverride.label.unitFormatType={isExported:false}}var o="root.main."+k;var q;if(!j){q=((!i&&d)===f)}c.push({targetModule:o,target:'setScale',sourceModule:'root.main.plot',source:q===undefined?'getCategoryScale':(q?'getPrimaryScale':'getSecondaryScale')});c.push({targetModule:o,target:'setBindingFields',sourceModule:'root.main.plot',source:q===undefined?"getAxisLabelsFields":(q?'getPrimaryValuesFields':'getSecondaryValuesFields')});if(d&&!j){x[k].configure.propertiesOverride.title={applyAxislineColor:{isExported:true}};c.push({targetModule:o,target:'setColor',sourceModule:'root.main.plot',source:q?'getPrimaryAxisColor':'getSecondAxisColor'})}}}var a=S.NONE,b=S.PERCENTAGE;return function(c,d,h,e,s){s=s||a;var m={base:"info/baseXY",modules:{root:{modules:{legends:{modules:{legend:{id:'sap.viz.chart.elements.csv.Legend'}}},main:{modules:{plot:{id:c.module[0].id,paras:{dual:e,horizontal:h,stackedMode:s},configure:{properties:{dataLabel:{position:(a!==s)?"inside":(h?"right":"up")},background:{gradientDirection:h?"horizontal":"vertical"}},propertiesOverride:{secondaryScale:{isExported:!!e},colorPalette:{isExported:!e},primaryValuesColorPalette:{isExported:e},secondaryValuesColorPalette:{isExported:e},primaryScale:{isExported:b!==s}}}}}}}}},dependencies:{attributes:[undefined,{targetModule:'root.legends.legend',target:'setShapeScale',sourceModule:'root.main.plot',source:'getShape'},{targetModule:'root.legends.legend',target:'setBindingFields',sourceModule:'root.main.plot',source:'getRegionColorFields'}],events:[undefined]}};if(!e){m.feeds={secondaryValues:null}}var x=m.modules.root.modules.main.modules;var f=m.dependencies.attributes;var g=m.dependencies.events;var i=(s===b);p(x,f,g,"xAxis",h,e,false,false,i);p(x,f,g,"xAxis2",h,e,false,true,i);p(x,f,g,"yAxis",h,e,true,false,i);p(x,f,g,"yAxis2",h,e,true,true,i);if(d){d(m,h,e,s)}m.id="info/"+m.id;m.name="IDS_"+(e?"DUAL":"")+m.name+"CHART";var j={viz:[m].concat(I.viz),module:[].concat(I.module,c.module,L.module),feeds:[].concat(I.feeds,c.feeds)};return j}});define('sap/viz/chart/elements/plot/DataLabels',['sap/viz/chart/elements/common/SVG','sap/viz/chart/elements/common/DOM','sap/viz/format/FormatManager',"./DataPoints","sap/viz/chart/elements/common/DataGraphics","sap/viz/base/utils/TypeUtils"],function(S,D,f,a,b,T){function d(i){var t=S.create("text");t.textContent=i.text;return t}var c="v-datalabel",e="v-datalabel-group",g="g",h=g+"."+e;return{render:function(){var l=this._props.dataLabel;var s=l.visible;var p=this._mainNode;var m=p.querySelector(h);if(m){if(s){D.empty(m)}else{m.parentNode.removeChild(m)}}if(s){var n=l.renderer||d;var o=l.hideWhenOverlap;var q={"fill":this._props.dataLabel.style.color,"font-family":this._props.dataLabel.style.fontFamily,"font-size":this._props.dataLabel.style.fontSize,"font-weight":this._props.dataLabel.style.fontWeight,"font-style":this._props.dataLabel.style.fontStyle,"cssString":"fill:"+this._props.dataLabel.style.color+";font-family:"+this._props.dataLabel.style.fontFamily+";font-size:"+this._props.dataLabel.style.fontSize+";font-weight:"+this._props.dataLabel.style.fontWeight+";font-style:"+this._props.dataLabel.style.fontStyle+";"};var r={"fill":this._props.dataLabel.style.color,"font-family":this._props.dataLabel.style.fontFamily,"font-size":this._props.dataLabel.style.fontSize,"font-weight":this._props.dataLabel.style.fontWeight,"font-style":this._props.dataLabel.style.fontStyle,"cssString":"fill:"+this._props.dataLabel.style.color+";font-family:"+this._props.dataLabel.style.fontFamily+";font-size:"+this._props.dataLabel.style.fontSize+";font-weight:"+this._props.dataLabel.style.fontWeight+";font-style:"+this._props.dataLabel.style.fontStyle+";"};if(!m){m=S.create(g,p);m.setAttribute("class",e)}for(var j in r){if(r.hasOwnProperty(j)){m.setAttribute(j,r[j])}}var t=this._findAllDataPointNodes();var u=[];var v;for(var i=0,w=t.length;i<w;i++){var z=t[i];if(T.isExist(l.formatString)){v=l.formatString}var A=a.getContext(z),B=this._getDataLabelInfo(z),C=B.value;if(B.value!==null){if(v!=null){if(v[0]&&T.isArray(v[0])){v=v[0][0]}else if(!T.isString(v)){v=v[B.key]}}C=f.format(B.value,v)}var E=S.create("g",m);b.setContext(E,A);E.setAttribute("class",c);var F={val:B.value,text:C,ctx:A,styles:q};this._processDataLabelRendererConfig(F,z);var G=n(F);if(G===undefined){G=d(F)}if(G){E.appendChild(G);var H=E.getBBox();var I=this._computeDataLabelTranslate(z,z.getTransformToElement(p),l.position,H);if(!I){E.removeChild(G);continue}var x=I[0],y=I[1];E.setAttribute("transform","translate("+x+","+y+")");u.push({node:E,left:x+H.x,right:x+H.x+H.width,top:y+H.y,bottom:y+H.y+H.height})}}if(o){w=u.length;for(var k=0;k<w;k++){var J=u[k];if(J.left<0||J.right>this._width||J.top<0||J.bottom>this._height){J.skip=true}}for(i=0;i<w;i++){var K=u[i];if(K.skip){continue}for(j=i+1;j<w;j++){var L=u[j];if(!L.skip){L.skip=!((K.left>=L.right)||(K.top>=L.bottom)||(K.right<=L.left)||(K.bottom<=L.top))}}}u.forEach(function(J){if(J.skip){var M=J.node;M.parentNode.removeChild(M)}})}}}}});define('sap/viz/chart/elements/common/FlowMonitor',['sap/viz/base/utils/TypeUtils'],function(T){var m={};var a=[];var i=false;m.init=function(){i=false;a=[]};m.on=function(){i=true};m.off=function(){i=false};m.collect=function(e){if(!i){return}e.timestamp=(new Date()).getTime();e.value=s(e.value);a.push(e)};m.getEvents=function(c){var r=[];if(c&&c['eventType']){a.forEach(function(b){if(b.eventType===c['eventType']){r.push(b)}});return r}return a};function s(v){if(T.isFunction(v)){return'Function'}if(v&&v.toString&&v.get&&v.index&&v.length){return v.toString()}try{var r=JSON.stringify(v);return r}catch(e){return""}}return m});define('sap/viz/chart/elements/flow/Flow',['sap/viz/base/utils/FunctionUtils','sap/viz/chart/elements/common/FlowMonitor'],function(F,a){var L=function(i,t,k){var o=this._from=i;var P=this._to=t.getInputPort(k,true);n.call(o,this);d.call(P,this)};var l=L.prototype;l.getFrom=function(){return this._from};l.getTo=function(){return this._to};l.destroy=function(){q.call(this._from,this);e.call(this._to,this);this._from=null;this._to=null};l.equal=function(o){return o._from===this._from&&o._to===this._to};var I=function(i,k,o){this._mandatory=Boolean(k);this._name=i;this._inputLink=undefined;this._node=o};var b=I.prototype;b.getName=function(){return this._name};b.getNode=function(){return this._node};b.isMandatory=function(){return this._mandatory};b.getValue=function(){if(h.call(this)){return g.call(this)}var i=this._inputLink;if(i){return i.getFrom().getOutput()}if(this.isMandatory()){F.error("The port '"+this.getName()+"' is mandatory!")}};b._onValueReset=function(i){if(!i){C.call(this._node)}};b.setValue=function(i){s.call(this,i)};b.destroy=function(){this._node=undefined;e.call(this);c.call(this);this._name=undefined;this._mandatory=undefined};function h(){return this.hasOwnProperty("_value")}function c(){delete this._value}function g(){return this._value}function s(i,k){var o=this._inputLink;if(o){o.destroy()}this._value=i;this._onValueReset(k)}function d(i){var o=this._inputLink;if(o&&o!==i){o.destroy()}this._inputLink=i;c.call(this);this._onValueReset()}function e(){this._inputLink=undefined}var S=function(){this._outputLinks=[]};var f=S.prototype;f.getOutput=F.unimplemented;f.destroy=function(){var i=this._outputLinks;i.forEach(j);i.length=0};f.getOutputLinks=function(){return this._outputLinks.slice(0)};function j(i){i.destroy()}function r(i){i.getTo()._onValueReset()}function m(){this._outputLinks.forEach(r)}function n(i){var k=this._outputLinks;if(!k.some(function(o){return i.equal(o)})){k.push(i)}}function q(i){var k=this._outputLinks;var o=k.indexOf(i);if(o!==-1){k.splice(o,1)}}var B=function(i,o,t){S.call(this);this._name=i;this._inputPorts={};this._inputPortConstructor=t||I;if(o){Object.keys(o).forEach(function(k){var P=o[k];if(P===undefined){P=false}this.registerInputPort(k,P)},this)}};var u=B.prototype=Object.create(f);u.constructor=B;u.getName=function(){return this._name};u.registerInputPort=function(i,k){if(k===undefined){k=true}this._inputPorts[i]=new this._inputPortConstructor(i,k,this)};u.iterateInputPorts=function(i,t){Object.keys(this._inputPorts).forEach(function(k){i.call(t,this.getInputPort(k))},this)};u.getInputPort=function(i,k){var o=this._inputPorts[i];if(!o&&k===true){F.error("Cannot find an input port named as '"+i+"'")}return o};u.getInputPorts=function(){return this._inputPorts};u.setInputPort=function(i,k){w.call(this,i,k);a.collect({eventType:"input",nodeKey:this._name,portName:i,value:k})};u.setInputs=function(k){var o=Object.keys(k),t=o.length,P;for(var i=0;i<t;i++){P=o[i];w.call(this,P,k[P],true)}if(t>0){C.call(this)}};u.getOutput=function(){var i=false;if(x.call(this)){i=true;return z.call(this)}var k=this._evaluate();A.call(this,k);a.collect({eventType:"output",nodeKey:this._name,portName:"out",cacheHit:i,value:k});return k};u._evaluate=F.unimplemented;u.destroy=function(){f.destroy.call(this);this.iterateInputPorts(v);this._inputPorts=undefined;this._name=undefined;y.call(this)};function v(i){i.destroy()}function w(i,k,o){s.call(this.getInputPort(i,true),k,o)}function x(){return this.hasOwnProperty("_result")}function y(){delete this._result}function z(){return this._result}function A(i){this._result=i}function C(){if(x.call(this)){y.call(this);m.call(this)}}var N=function(i,k,o){B.call(this,i,k);this._fn=o};var D=N.prototype=Object.create(u);D.constructor=N;D._evaluate=function(){var i={};var t=(new Date()).getTime();var k=this;this.iterateInputPorts(function(P){i[P.getName()]=P.getValue();a.collect({eventType:"input",nodeKey:k.getName(),portName:P.getName(),value:i[P.getName()]})});a.collect({eventType:"executeStart",nodeKey:this._name});var o=this._fn(i);a.collect({eventType:"executeEnd",nodeKey:this._name,executionTime:(new Date()).getTime()-t,value:o});return o};D.destroy=function(){u.destroy.call(this);this._fn=undefined};var E=function(i,k,o){I.call(this,i,k,o);S.call(this)};var G=E.prototype=Object.create(b);for(var p in f){if(f.hasOwnProperty(p)){G[p]=f[p]}}G.constructor=E;G.getOutput=function(){return this.getValue()};G._onValueReset=function(i){b._onValueReset.call(this,i);m.call(this)};G.destroy=function(){b.destroy.call(this);f.destroy.call(this)};var _=[];var H=function(i,k){B.call(this,i,k,E);this._nodes={};this._links=[];this._endNode=null;_.push(this)};H.getAllFlows=function(){return _.slice(0)};H.getAllFlowNames=function(){var i=0,k=_.length;var o=[];for(;i<k;i++){o.push(_[i].getName())}return o};H.getFlowByName=function(k){var i=0,o=_.length;for(;i<o;i++){if(_[i].getName()===k){return _[i]}}return undefined};var J=H.prototype=Object.create(u);J.constructor=H;J.getAllNodes=function(){return this._nodes};J.getAllLinks=function(){return this._links};J.addNode=function(i,k){var o;if(i instanceof H){o=i}else{o=new N(k||i.name,i.meta,i.fn)}k=o.getName();if(M.call(this,k)){F.error('There has been a node with same name in this flow!')}return this._nodes[k]=o};J.linkNode=function(i,t,k){O.call(this,i);var o=K.call(this,i,t,k);this._links.push(o);return o};J.linkInputPortToNode=function(i,t,k){return K.call(this,this.getInputPort(i,true),t,k)};J.setEndNode=function(i){if(this._endNode!==i){this._endNode=i;y.call(this)}};J._evaluate=function(){return this._endNode.getOutput()};J.getOutput=function(i){if(i){this.setEndNode(i)}return D.getOutput.call(this)};J.destroy=function(){u.destroy.call(this);this._endNode=undefined;var i=this._nodes;Object.keys(i).forEach(function(k){i[k].destroy()});this._nodes=undefined;_.splice(_.indexOf(this),1)};function K(i,t,k){O.call(this,t);return new L(i,t,k)}function M(i){return this._nodes.hasOwnProperty(typeof i==="string"?i:i.getName())}function O(i){if(!M.call(this,i)){F.error(i+' is not in the flow, please add it first!')}}return H});define('sap/viz/chart/elements/plot/flow/AttachMainNodeSpec',[],function(){var I="renderContext";var s={description:"attach the content in main node to parent node",inputPorts:[{id:I,required:true,description:'the render context object'}],output:{description:"the render context object"},fn:function(p){var r=p[I];var a=r.parentNode;var b=r.mainNode;a.appendChild(b.parentNode);return r},INPUT_PORT_KEY_RENDER_CONTEXT:I};var m={};m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/plot/flow/BuildRenderContextNodeSpec',["sap/viz/chart/elements/common/DOM","sap/viz/chart/elements/common/SVG","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/background/render"],function(D,S,a,r){var I="parentNode";var b="randomSuffix";var c="width";var d="height";var e="effectManager";var f="properties";var s={description:"build render context object. And clear parent node. And apply a clip path to plot.",inputPorts:[{id:c,required:true,description:"the width of plot"},{id:d,required:true,description:"the height of plot"},{id:I,required:true,description:"the parent DOM node"},{id:b,required:true,description:"the random suffix"},{id:e,required:true,description:"the effect manager"},{id:f,required:true,description:"the properties"}],output:{description:"the render context object"},fn:function(p){var g=p[I];var h=a.findAll(g);var j={};for(var i=0,l=h.length;i<l;i++){var n=h[i];j[a.getDataId(n)]=n;D.empty(n)}D.empty(g);var w=p[c],k=p[d],o=p[b];var q=S.create("clipPath",g);var t="plot_main_clipPath_"+o;q.setAttribute("id",t);var u=S.create("rect",q);u.setAttribute("width",w);u.setAttribute("height",k);r(g,w,k,p[f],p[e]);var v=S.create("rect",g);v.setAttribute("class","v-plot-bound");v.setAttribute("width",w);v.setAttribute("height",k);v.setAttribute("fill","transparent");var x=S.create("g",S.create("g"));x.setAttribute("class","v-plot-main");x.parentNode.setAttribute("clip-path","url(#"+t+")");return{parentNode:g,mainNode:x,dataShapesGroupNode:S.create("g",x),transitions:[],dataPointNodes:j}},INPUT_PORT_KEY_PARENT_NODE:I,INPUT_PORT_KEY_RANDOM_SUFFIX:b,INPUT_PORT_KEY_WIDTH:c,INPUT_PORT_KEY_HEIGHT:d,INPUT_PORT_KEY_PROPERTIES:f,INPUT_PORT_KEY_EFFECT_MANAGER:e};var m={};m[I]=true;m[b]=true;m[c]=true;m[d]=true;m[e]=true;m[f]=true;s.meta=m;return s});define('sap/viz/chart/elements/plot/AnimationCase',[],function(){return{LOAD:"loading",UPDATE:"updating",RESIZE:"resizing"}});define('sap/viz/chart/elements/plot/flow/AnimationCaseNodeSpec',["../AnimationCase"],function(A){var a=A.LOAD;var b=A.RESIZE;var c=A.UPDATE;var I="width";var d="height";var F="statusMonitor";var e="props";var s={description:"get current animation case: dataLoading, dataUpdating or resizing",inputPorts:[{id:I,required:true,description:"the width of plot"},{id:d,required:true,description:"the height of plot"},{id:F,required:true,description:"the status monitor from ctx"},{id:e,required:true,description:"the properties"}],output:{description:"the animation case"},fn:function(p){var f=p[e].animation;var g=p[F];if(g.initializing){return f.dataLoading&&a}if(g.resizing){return f.resizing&&b}return f.dataUpdating&&c},INPUT_PORT_KEY_WIDTH:I,INPUT_PORT_KEY_HEIGHT:d,FLOW_INPUT_PORT_KEY_STATUS_MONITOR:F,INPUT_PORT_KEY_PROPERTIES:e};var m={};m[I]=true;m[d]=true;m[F]=true;m[e]=true;s.meta=m;return s});define('sap/viz/chart/elements/common/IndexedStringSet',[],function(){var o=Object.prototype.hasOwnProperty;function a(v){if(!this.contain(v)){this._map[v]=this._array.push(v)-1}}var I=function(){this._map={};this._array=[]};var p=I.prototype;p.add=function(v){if(!this.contain(v)){this._map[v]=this._array.push(v)-1}return this.getLength()};p.contain=function(v){return o.call(this._map,v)};p.indexOf=function(v){if(this.contain(v)){return this._map[v]}return-1};p.get=function(i){return this._array[i]};p.forEach=function(f,t){this._array.forEach(function(v,i){f.call(t,v,i)})};p.toArray=function(){return this._array.slice(0)};p.getLength=function(){return this._array.length};return I});define('sap/viz/chart/elements/data/MultiDimensionalView',["sap/viz/chart/elements/common/IndexedStringSet","./MeasureNamesDimension","./Utils"],function(I,M,U){var a=M.EMPTY;var b=M.BIND_ID;var A=function(i,d,j){this._id=i;this._fields=d;d.forEach(function(o){j._fields[o.id]=o});this._view=j};var c=A.prototype;c.getId=function(){return this._id};c.getFields=function(){return this._fields};c.getFieldIds=function(){return this._fields.map(function(o){return o.id})};c.containField=function(i){return this.getFieldIndex(i)!==-1};c.getFieldIndex=function(d){for(var i=0,j=this._fields,o=j.length;i<o;i++){if(j[i].id===d){return i}}return-1};var e=function(){this._axes=[];this._measureGroups=[];this._measures=[];this._data=[];this._fields={}};var m=e.prototype;m.getField=function(i){return this._fields[i]};m.addAnalysisAxis=function(i,d,j){var o=new q(i,d,j,this);this._axes.push(o);return o};m.addMeasureGroup=function(i,d){var j=new s(i,d,this);this._measureGroups.push(j);return j};m.addMeasureValues=function(i,d){g.call(this,i).push(d.map(function(j,o){if(j!==a){return v(j)}},this))};function v(d){return{val:d}}function g(d){var j=this._data;var o=this._axes;for(var i=0,z=o.length;i<z;i++){var B=d[o[i].getId()];var C=j[B];if(!C){C=j[B]=[]}j=C}return j}m.getMeasureValues=function(i,d){return k(g.call(this,i),d)};var f=function(d,i,j){h(this._data,0,this._axes.length,d,i,j)};var h=function(d,i,j,o,z,B){if(i===j){z.call(B,k(d,o))}else{d.forEach(function(d){h(d,i+1,j,o,z,B)})}};var k=function(d,o){var z=[],B=o.length;for(var i=0,C=d.length;i<C;i++){var D=[],E=d[i];for(var j=0;j<B;j++){D[j]=E[o[j]]}z[i]=D}return z};function l(d,j){if(typeof d==="number"){return j[d]}for(var i=0,z=j.length;i<z;i++){var o=j[i];if(o.getId()===d){return o}}return null}function n(d,j){for(var i=0,z=j.length;i<z;i++){var o=j[i];if(o.getId()===d){return i}}return-1}m.getAnalysisAxis=function(i){return l(i,this._axes)};m.getMeasureGroup=function(i){return l(i,this._measureGroups)};m.getMeasureGroups=function(){return this._measureGroups};m.getMeasureIndex=function(d){return n(d,this._measures)};function p(d){this._set.add(U.valuesToString(d));var o=v(d);var i=this._mndFieldIndex;if(i>=0){o.mndName=d[i]}this._data.push(o)}var q=function(i,d,j,o){A.call(this,i,d,o);var z=this.getFieldIndex(b);this._mndFieldIndex=z<0?undefined:z;this._set=new I();this._data=[];j.forEach(p,this)};var r=q.prototype=Object.create(c);r.constructor=q;r.indexOf=function(d){return this._set.indexOf(U.valuesToString(d))};r.get=function(i){return this._data[i]};r.iterateValues=function(j,o){return this._data.forEach(function(d,i){j.call(o,d,i)})};r.getLength=function(){return this._data.length};r.hasMND=function(){return this._mndFieldIndex!==undefined};r.getMNDFieldIndex=function(){return this._mndFieldIndex};var s=function(i,d,j){A.call(this,i,d,j);var o=d.map(u,this);this._measures=o;this._measureIndexes=o.map(t)};function t(d){return d._index}function u(d){var i=new x(d,this._view,this);i._index=this._view._measures.push(i)-1;return i}var w=s.prototype=Object.create(c);w.constructor=s;w.getMeasure=function(i){return this._measures[i]};w.getMeasures=function(){return this._measures};w.getValues=function(i){return this._view.getMeasureValues(i,this._measureIndexes)};w.iterateValues=function(d,i){return f.call(this._view,this._measureIndexes,d,i)};var x=function(d,i,j){A.call(this,d.id,[d],i);this._group=j};var y=x.prototype=Object.create(c);y.constructor=x;y.getValues=function(i){return this._view.getMeasureValues(i,[this.getIndex()])};y.getMeasureGroup=function(){return this._group};y.getIndex=function(){return this._index};return e});define('sap/viz/chart/elements/common/IndexedMap',["./IndexedStringSet"],function(I){function g(k){return"'"+k}var a=function(){this._map={};this._keySet=new I()};a.prototype.set=function(k,v){this._keySet.add(k);this._map[g(k)]=v};a.prototype.get=function(k){return this._map[g(k)]};a.prototype.each=function(f){this._keySet.forEach(function(k){f(k,this.get(k))},this)};return a});define('sap/viz/chart/elements/data/transformToMultiDimensionalView',["sap/viz/chart/elements/data/MultiDimensionalView","sap/viz/chart/elements/common/IndexedStringSet","sap/viz/chart/elements/common/IndexedMap","./MeasureNamesDimension","./Constants","./Utils","sap/viz/lang/langManager"],function(M,I,a,b,C,U,l){function d(r,g){var h=new a(),j=g.length-1;r.forEach(function(m){var n=g.map(function(i){return m[i]});var p=h;n.forEach(function(v,i){var o=U.stringify(v);var s=p.get(o);if(!s&&i!==j){s=new a()}p.set(o,s);p=s})});var k=[];(function collect(m,p){m.each(function(i,m){var n=p?p.slice(0):[];n.push(U.parse(i));if(!m){k.push(n)}else{collect(m,n)}})})(h);return k}var c=Array.prototype.push;var e=b.BIND_ID;var f=b.EMPTY;var D=C.DATA_ID;return function(g,h,i,m){var j=[];var k={};var n,p=[];function q(o,B){o.forEach(function(E){var F=h[E];if(F){F.forEach(function(G,H){var J=k[G]={type:B};if(B==="dimension"){if(!n){if(G===e){n=true;return}}}else{p.push(G)}J.index=j.push(G)-1})}})}q(i,"dimension");q(m,"measure");var r=g.dataInFields(j).map(function(o){return o.data});var s=j.push(D)-1;r.forEach(function(o,B){o[s]=B});k[D]={index:s};if(n){var t=[];r.forEach(function(o){p.forEach(function(B){var E=[];o.forEach(function(F,G){var H=F;var J=j[G];var K=k[J];if(K.type==="measure"&&J!==B){H=f}E[G]=H});E.push(B);t.push(E)})});r=t;k[e]={type:"dimension",index:j.push(e)-1}}function u(o){return k[o].index}function v(o){if(o){return o.map(u)}}var w={};p.forEach(function(o){w[o]=g.metadata(o)[0]});var x=new M();var y={};var z=i.map(function(o){var B=h[o];if(B&&B.length>0){var E=y[o]=v(B);return x.addAnalysisAxis(o,B.map(function(F){if(F===e){return{id:e,name:l.get("IDS_DEFAULTMND"),semanticType:"Dimension",dataType:"String",data:w}}return g.metadata(F)[0]}),d(r,E))}});var A=[];m.map(function(o){var B=h[o];if(B&&B.length>0){x.addMeasureGroup(o,B.map(function(E){return w[E]}));c.apply(A,v(B))}});A.push(s);x.addMeasureGroup(D,[{id:D,name:D,dataType:"Number"}]);r.forEach(function(o){var B={};i.forEach(function(F,G){var H=y[F];if(H){B[F]=z[G].indexOf(H.map(function(J){return o[J]}))}});var E=A.map(function(F){return o[F]});x.addMeasureValues(B,E)});return x}});define('sap/viz/chart/elements/data/flow/MultiDimensionalViewNodeSpec',["sap/viz/chart/elements/data/transformToMultiDimensionalView"],function(t){var I="inputData";var a="aaBindIds";var b="mgBindIds";var s={name:"multiDimensionalView",description:"transform source data to MultiDimensionalView by input bindings",inputPorts:[{id:I,required:true,description:'the input data. It is an object consisting of two members: "dataset" is the data souce such as a flat table and "feeding" is the binding information.'},{id:a,required:true,description:"an array of string to indicate which feeds should be treated as analysis axis"},{id:b,required:true,description:"an array of string to indicate which feeds should be treated as measure groups"}],output:{description:"a MultiDimensionalView object"},fn:function(p){var d=p[I];return t(d.dataset,d.feeding,p[a],p[b])},INPUT_PORT_KEY_DATA:I,INPUT_PORT_KEY_ANALYSIS_AXIS_BIND_IDS:a,INPUT_PORT_KEY_MEASURE_GROUP_BIND_IDS:b};var m={};m[I]=true;m[a]=true;m[b]=true;s.meta=m;return s});define('sap/viz/chart/elements/plot/BasePlot',['sap/viz/base/utils/oo','sap/viz/elements/common/BaseGraphic','sap/viz/chart/elements/common/SVG','./DataLabels','./DataPoints',"sap/viz/chart/elements/flow/Flow","sap/viz/chart/elements/plot/flow/AttachMainNodeSpec","sap/viz/chart/elements/plot/flow/BuildRenderContextNodeSpec","./flow/AnimationCaseNodeSpec","sap/viz/chart/elements/data/flow/MultiDimensionalViewNodeSpec"],function Setup(o,B,S,D,a,F,A,b,c,M){var d=function(j,k,r,s){d.superclass.constructor.call(this,j,k);this._aaFeedIds=r;this._mgFeedIds=s;this._exposeMoreEvents('showTooltip','hideTooltip','startToInit','scrollTo');var t=this._initializeFlow(k.flowName+"-"+this._randomSuffix);this._dragInfo={"point":{},"transform":{"x":0,"y":0},"boundary":{"max":0,"min":0}};this._scrolling=false;var u=this._flow;u.linkNode(t,this._attachMainNode,A.INPUT_PORT_KEY_RENDER_CONTEXT)};var e=d.FLOW_INPUT_PORT_KEY_DATA="data";var f=d.FLOW_INPUT_PORT_KEY_WIDTH="width";var g=d.FLOW_INPUT_PORT_KEY_HEIGHT="height";var h=d.FLOW_INPUT_PORT_KEY_PROPERTIES="properties";var i=d.FLOW_INPUT_PORT_KEY_PARENT_NODE="parentNode";var l=d.FLOW_INPUT_PORT_KEY_STATUS_MONITOR="statusMonitor";var m=M.INPUT_PORT_KEY_DATA;var n=M.INPUT_PORT_KEY_ANALYSIS_AXIS_BIND_IDS;var p=M.INPUT_PORT_KEY_MEASURE_GROUP_BIND_IDS;o.extend(d,B);d.prototype._initializeFlow=function(j){var k=new F(j);this._flow=k;k.registerInputPort(e,true);k.registerInputPort(h,true);k.registerInputPort(f,true);k.registerInputPort(g,true);k.registerInputPort(i,false);k.registerInputPort(l,false);var r=this._dataViewNode=k.addNode(M);k.linkInputPortToNode(e,r,m);var s={};s[n]=this._aaFeedIds;s[p]=this._mgFeedIds;r.setInputs(s);var t=k.addNode(b,"buildRenderContext");k.linkInputPortToNode(i,t,b.INPUT_PORT_KEY_PARENT_NODE);k.linkInputPortToNode(f,t,b.INPUT_PORT_KEY_WIDTH);k.linkInputPortToNode(g,t,b.INPUT_PORT_KEY_HEIGHT);k.linkInputPortToNode(h,t,b.INPUT_PORT_KEY_PROPERTIES);t.setInputPort(b.INPUT_PORT_KEY_EFFECT_MANAGER,this._effectManager);t.setInputPort(b.INPUT_PORT_KEY_RANDOM_SUFFIX,this._randomSuffix);var u=k.addNode(A,"attachMainNode");var v=k.addNode(c,"animationCase");k.linkInputPortToNode(f,v,c.INPUT_PORT_KEY_WIDTH);k.linkInputPortToNode(g,v,c.INPUT_PORT_KEY_HEIGHT);k.linkInputPortToNode(l,v,c.FLOW_INPUT_PORT_KEY_STATUS_MONITOR);k.linkInputPortToNode(h,v,c.INPUT_PORT_KEY_PROPERTIES);this._animationCaseNode=v;this._buildRenderContextNode=t;this._attachMainNode=u};function q(j){var s={};if(!this._horizontal){this._dragInfo.transform.x+=j.x;if(this._dragInfo.transform.x>this._dragInfo.boundary.min){this._dragInfo.transform.x=0}else if(Math.abs(this._dragInfo.transform.x)>this._dragInfo.boundary.max){this._dragInfo.transform.x=-(this._dragInfo.boundary.max)}s.direction="X"}else{this._dragInfo.transform.y+=j.y;if(this._dragInfo.transform.y>this._dragInfo.boundary.min){this._dragInfo.transform.y=0}else if(Math.abs(this._dragInfo.transform.y)>this._dragInfo.boundary.max){this._dragInfo.transform.y=-(this._dragInfo.boundary.max)}s.direction="Y"}s.offset=j;s.option={transform:this._dragInfo.transform};this._eDispatch.scrollTo(s)}d.prototype.dragHandler=function(j){var k={};if(this._scrolling){if(j.name==="dragstart"){this._dragInfo.point=j.data.point}else if(j.name==="dragmove"){k.x=j.data.point.x-this._dragInfo.point.x;k.y=j.data.point.y-this._dragInfo.point.y;q.call(this,k);this._dragInfo.point=j.data.point}else if(j.name==="dragend"){this._dragInfo.point={}}}};d.prototype._doRender=function(s){var r=this._parentNode=s.node();var t=this._flow;var u={};u[i]=r;u[l]=this._ctx.statusMonitor;t.setInputs(u);t.setEndNode(this._attachMainNode);var v=t.getOutput();this._mainNode=v.mainNode;this._dataShapesGroupNode=v.dataShapesGroupNode;var w=v.transitions,x=w.length;if(x>0){var y=this._onRenderEnd.bind(this);for(var j=0;j<x;j++){var z=j;w[z].each("end.baseplot",function(){w[z]=true;for(var k=0;k<x;k++){if(w[k]!==true){return}}y()})}}else{this._onRenderEnd()}};d.prototype._onRenderEnd=function(){if(!this._flow){return}this._dragInfo.boundary.min=0;var j=this.getContentSize();var k=0;if(this._horizontal){k=this._height}else{k=this._width}if(Math.abs(j-k)>0.5){this._scrolling=true}else{this._scrolling=false}this._dragInfo.boundary.max=j-k;if(this._ctx){D.render.call(this)}if(this._eDispatch){this._eDispatch.initialized()}};d.prototype.getContentSize=function(){return this._horizontal?this._height:this._width};d.prototype._getDataLabelValue=function(j){};d.prototype._processDataLabelRendererConfig=function(j){};d.prototype._computeDataLabelPosition=function(j,s,k,r){var x,y;var t=s.x+j.e;var u=s.y+j.f;if(k==="up"||k==="down"||k==="inside"){x=(t+s.width/2)-(r.x+r.width/2);if(k!=="inside"){y=u-(r.y+r.height);if(k==="down"){y+=s.height}}}if(k==="left"||k==="right"||k==="inside"){y=(u+s.height/2)-(r.y+r.height/2);if(k!=="inside"){x=t-(r.x+r.width);if(k==="right"){x+=s.width+r.width}}}return[x,y]};d.prototype._computeDataLabelTranslate=function(j,k,r,s){return this._computeDataLabelPosition(k,this._fixBBoxWhenInvisible(j),r,s)};d.prototype._fixBBoxWhenInvisible=function(j){var s=j.getBBox();if(s.height!==0||s.width!==0){return s}var k=j.childNodes;for(var r=0,t=k.length;r<t;r++){var u=k[r].getAttribute("height");var w=k[r].getAttribute("width");if(u>s.height){s.height=u}if(w>s.width){s.width=w}}return s};d.prototype.setData=function(v){d.superclass.setData.apply(this,arguments);this._flow.setInputPort(e,this.getData());return this};d.prototype.setWidth=function(v){d.superclass.setWidth.apply(this,arguments);this._flow.setInputPort(f,this._width);return this};d.prototype.setHeight=function(v){d.superclass.setHeight.apply(this,arguments);this._flow.setInputPort(g,this._height);return this};d.prototype.setProperties=function(v){d.superclass.setProperties.apply(this,arguments);var j=this._props;this._validateProperties(j);this._flow.setInputPort(h,j);return this};d.prototype._validateProperties=function(){};d.prototype.destroy=function(){d.superclass.destroy.apply(this,arguments);this._flow.destroy();delete this._flow};d.prototype._findAllDataPointNodes=function(){return a.findAll(this._dataShapesGroupNode)};d.prototype._getBindings=function(j){var k=this._data.feeding[j];return k?k.slice(0):undefined};d.prototype.getFieldMeta=function(j){return this._flow.getOutput(this._dataViewNode).getField(j)};return d});define('sap/viz/chart/elements/xy/flow/XYScaleRangeNodeSpec',[],function(){var I="length";var a="reverse";var s={description:"build an array which can be used as range of value scale",inputPorts:[{id:I,required:true,description:"the end value"},{id:a,required:false,description:"a boolean value to indicate whether result should be reversed"}],output:{description:'an array of number to indicates "start" and "end" value'},fn:function(p){var l=p[I];return p[a]?[l,0]:[0,l]},INPUT_PORT_KEY_LENGTH:I,INPUT_PORT_KEY_REVERSE:a};var m={};m[I]=true;m[a]=false;s.meta=m;return s});define('sap/viz/chart/elements/scale/CategoryScale',['sap/viz/base/utils/oo','sap/viz/chart/elements/scale/BaseScale',"sap/viz/chart/elements/data/Utils"],function(o,B,d){var C=function(a,r){C.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.scale.CategoryScale"};o.extend(C,B);C.prototype.scale=function(v){if(this._scale===undefined){this._initScale()}return this._scale(v)};C.prototype.getRangeInterval=function(){if(this._scale===undefined){this._initScale()}return this._scale.range()};C.prototype.getRangeBand=function(){if(this._scale===undefined){this._initScale()}return this._rangeBand};C.prototype._initScale=function(){var t=d3.scale.ordinal();var i,l,a=[],r=[],b=[],c;for(i=0,l=this._domain.length;i<l;i++){a.push(i)}t.domain(a).rangeBands(this._range);b=t.range();c=t.rangeBand();this._rangeBand=c;for(i=0,l=b.length;i<l;i++){r.push([b[i],b[i]+c])}this._scale=d3.scale.ordinal();this._scale.domain(a).range(r)};return C});define('sap/viz/chart/elements/scale/flow/CategoryScaleNodeSpec',['sap/viz/chart/elements/scale/CategoryScale'],function(C){var I="domain";var a="range";var s={description:"create a category scale",inputPorts:[{id:I,required:true,description:'the domain of scale'},{id:a,required:true,description:"the range of scale"}],output:{description:"the scale object"},name:"categoryScale",fn:function(p){return new C(p[I],p[a])},INPUT_PORT_DOMAIN:I,INPUT_PORT_RANGE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec',["sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils"],function(N,T){var I="measureGroup";var a="props";var b="fixedPropName";var m={};m[a]=true;m[b]=true;m[I]=true;return{description:"compute the domain for value scale",inputPorts:[{id:I,required:true,description:"MeasureGroup ojbect or array of MeasureGroup objects"},{id:a,required:true,description:"the properties"},{id:b,required:true,description:"the property name in properties which indicates the fixed setting"}],output:{description:'the domain for value scale. It is an array including two members. The first one is the min object and another is max. Every object consists of two properties. "fixed" is a boolean value to indicate whether it is fixed or not and "val" is the number.'},INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_PROPERTIES:a,INPUT_PORT_FIXED_PROP_NAME:b,meta:m,fn:function(p){var f=p[a][p[b]];var c=f.minValue;var d=f.maxValue;var e=f.fixedRange;var g=(c!=null&&e===true);var h=(d!=null&&e===true);var j,k;if(!(g&&h)){var l=p[I];if(!T.isArray(l)){l=[l]}for(var i=0,n=l.length;i<n;++i){var o=l[i];var q=o.dataRange;if(q){j=q[0];k=q[1]}else{o.iterateValues(function(t){t.forEach(function(u){u.forEach(function(w){if(w===undefined){return}var v=w.val;if(N.isNoValue(v)){return}if(j===undefined){j=k=v}else if(v>k){k=v}else if(v<j){j=v}})})})}}if(j===undefined||j>0){j=0}if(k===undefined||k<0){k=0}}var r=g?parseFloat(c):j;var s=h?parseFloat(d):k;if(r>s){g=false;r=j;h=false;s=k}return[{fixed:g,val:r},{fixed:h,val:s}]}}});define('sap/viz/chart/elements/scale/flow/ValueScaleNodeSpec',['sap/viz/chart/elements/scale/ValueScale'],function(V){var I="domain";var a="range";var b="autoDomain";var s={description:"create a value scale",inputPorts:[{id:I,required:true,description:'the domain of scale'},{id:a,required:true,description:"the range of scale"}],output:{description:"the scale object"},fn:function(p){var d=p[I];var c=d[0];var e=d[1];var f=c.fixed;var g=c.val;var h=e.fixed;var i=e.val;if(!f&&!h){if(i===0&&g===0){i=1}}var j=[g,i];var k=[f,h];return new V(j,p[a],k)},INPUT_PORT_KEY_DOMAIN:I,INPUT_PORT_KEY_RANGE:a,INPUT_PORT_KEY_AUTO_DOMAIN:b};var m={};m[I]=true;m[a]=true;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/xy/flow/PerfectValueScaleNodeSpec',["sap/viz/chart/elements/scale/ValueScaleUtil"],function(V){var I="scale";var a="timeBased";var s={description:"perfect a value scale",inputPorts:[{id:I,required:true,description:"the value scale"},{id:a,required:false,description:"the value based on time or not"}],output:{description:"the perfected value scale"},fn:function(p){var b=p[I];var t=p[a];if(t){V.perfectTimeTicks(b)}else{V.perfectTicks(b)}return b},INPUT_PORT_KEY_SCALE:I,INPUT_PORT_TIMEBASED:a};var m={};m[I]=true;m[a]=false;s.meta=m;return s});define('sap/viz/chart/elements/scale/OrdinalScale',['sap/viz/base/utils/oo','sap/viz/chart/elements/scale/BaseScale',"sap/viz/chart/elements/data/Utils"],function(o,B,d){var O=function(a,r){O.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.scale.OrdinalScale"};o.extend(O,B);O.prototype.scale=function(v){if(this._scale===undefined){this._scale=d3.scale.ordinal();var a=[];for(var i=0,l=this._domain.length;i<l;i++){a.push(d.valuesToString(this._domain[i]))}var r=this._range.concat([]);this._range=r.splice(0,a.length);this._scale.domain(a).range(this._range)}return this._scale(d.valuesToString(v))};return O});define('sap/viz/chart/elements/scale/SemanticColorScale',['sap/viz/base/utils/oo','sap/viz/chart/elements/scale/OrdinalScale','sap/viz/base/utils/Objects','sap/viz/lang/langManager'],function(o,O,a,l){var S=function(d,r,s){S.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.scale.SemanticColorScale";this._semanticStyle=s};o.extend(S,O);S.prototype.updateSemantic=function(){var s=a.extend(true,new S(),this);u(this._semanticStyle,s);return s};S.prototype.getSemanticStyle=function(){return this._semanticStyle};function u(s,c){if(s==null){return}var d;var b=[];var r=[];var e=s.rules;for(var i=0;i<e.length;i++){d=e[i].displayName;if(d===undefined||d===null){d=(l.get("IDS_SEMANTICCOLORRANGE")+(i+1))}b.push([d]);r.push(e[i].properties.color)}if(s.others){r.push(s.others.properties.color);d=s.others.displayName;if(d===undefined||d===null){d=l.get("IDS_SEMANTICCOLOROTHERS")}b.push([d])}c._domain=b;c._range=r}return S});define('sap/viz/chart/elements/scale/flow/ColorScaleNodeSpec',['sap/viz/chart/elements/scale/OrdinalScale','sap/viz/chart/elements/scale/SemanticColorScale','sap/viz/base/utils/TypeUtils',"sap/viz/chart/elements/utils/RuleUtil"],function(C,S,T,R){var I="domain";var a="colorPalette";var b="dual";var c="properties";var s={description:"create a color scale",inputPorts:[{id:I,required:true,description:'the domain of scale'},{id:a,required:true,description:"the color palette of scale"},{id:b,required:false,description:"judge whether the chart is dual chart"},{id:c,required:false,description:"obtain data point style to support semantic color"}],output:{description:"the scale object"},fn:function(p){var d=p[I];var e=p[b];var f=p[c];if(!e&&f!=null&&!i(f.dataPointStyle)){if(R.verify(f.dataPointStyle)){return new S(d,p[a],f.dataPointStyle)}}if(d!=null){return new C(p[I],p[a])}},INPUT_PORT_PROPERTIES:c,INPUT_PORT_DUAL:b,INPUT_PORT_DOMAIN:I,INPUT_PORT_COLOR_PALETTE:a};function i(d){if(d==null){return true}for(var p in d){if(d[p]!=null){for(var e in d[p]){if(d[p][e]!=null){return false}}}else if(T.isArray(d[p])){if(d[p].length!==0){return false}}}return true}var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/flow/ApplyCategoryScaleNodeSpec',[],function(){var I="analysisAxis";var a="categoryScale";var s={name:"applyCategoryScale",description:"compute and attach the category interval for the value objects of AnalysisAxis object",inputPorts:[{id:I,required:true,description:'the AnalysisAxis object'},{id:a,required:true,description:"the category scale"}],output:{description:"the AnalysisAxis object which has category interval information"},fn:function(p){var b=p[a];var c=p[I];c.iterateValues(function(d,i){d.interval=b.scale(i)});return c},INPUT_PORT_ANALYSIS_AXIS:I,INPUT_PORT_SCALE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/GridlineRenderer',["sap/viz/util/NumberUtils","sap/viz/modules/Constants","sap/viz/chart/elements/scale/ValueScaleUtil","sap/viz/chart/elements/common/SVG"],function(N,C,V,S){var G=C.CSS.CLASS.GRIDLINE_GROUP;var a=C.CSS.CLASS.GRIDLINE;var I=C.CSS.CLASS.GRIDLINE_INCISED;var b="#ffffff";var r={};r.drawValueGridline=function(s,w,h,c,p,e){s.select("."+G).remove();if(p.visible){var f=p.color;var j=p.size;var t=g(c);var i=0,l=t.length;var x=[],y=[],k=[],m=[];switch(e){case C.DIRECTION.HORIZONTAL:for(;i<l;++i){x[i]=0;y[i]=t[i];k[i]=N.preciseSimple(w);m[i]=t[i]}break;case C.DIRECTION.VERTICAL:for(;i<l;++i){x[i]=t[i];y[i]=0;k[i]=t[i];m[i]=N.preciseSimple(h)}break}var n=s.append("g").attr("class",G);var o=n.selectAll("."+a).data(t);o.enter().append("g");o.exit().remove();o.each(function(d,i){this.setAttribute("class",a);this.setAttribute("stroke",f);this.setAttribute("stroke-width",j);this.setAttribute("shape-rendering","crispEdges");var q=S.create("line");q.setAttribute("x1",x[i]);q.setAttribute("y1",y[i]);q.setAttribute("x2",k[i]);q.setAttribute("y2",m[i]);this.appendChild(q)});if(p.type===C.GRIDLINE_TYPE.DASHED){o.each(function(d,i){this.setAttribute("stroke-dasharray","3, 2")})}if(p.type===C.GRIDLINE_TYPE.INCISED){switch(e){case C.DIRECTION.HORIZONTAL:o.each(function(d,i){var q=S.create("line");q.setAttribute("stroke",b);q.setAttribute("x1",x[i]);q.setAttribute("y1",y[i]-1);q.setAttribute("x2",k[i]);q.setAttribute("y2",m[i]-1);this.appendChild(q)});break;case C.DIRECTION.VERTICAL:o.each(function(d,i){var q=S.create("line");q.setAttribute("stroke",b);q.setAttribute("x1",x[i]-1);q.setAttribute("y1",y[i]);q.setAttribute("x2",k[i]-1);q.setAttribute("y2",m[i]);this.appendChild(q)});break}}}};function g(s){var t=V.getTicks(s);return V.getTicksPosition(t,s)}return r});define('sap/viz/chart/elements/xy/flow/GridLineNodeSpec',["sap/viz/chart/elements/csv/GridlineRenderer",'sap/viz/modules/Constants'],function(G,C){var I="renderContex";var a="width";var b="height";var c="valueScale";var d="props";var e="horizontal";var s={description:"draw the grid lines",inputPorts:[{id:I,required:true,description:'the render context object'},{id:a,required:true,description:"the width of plot"},{id:b,required:true,description:"the height of plot"},{id:c,required:true,description:"the value scale"},{id:d,required:true,description:"the properties"},{id:e,required:true,description:"a boolean value which indicates whether the plot is horizontal or not"}],output:{description:"the render context object"},fn:function(p){var r=p[I];G.drawValueGridline(d3.select(r.parentNode),p[a],p[b],p[c],p[d].gridline,p[e]?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL);return r},INPUT_PORT_KEY_RENDER_CONTEXT:I,INPUT_PORT_KEY_PLOT_WIDTH:a,INPUT_PORT_KEY_PLOT_HEIGHT:b,INPUT_PORT_KEY_VALUE_SCALE:c,INPUT_PORT_KEY_PROPERTIES:d,INPUT_PORT_KEY_HORIZONTAL:e};var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=true;m[d]=true;m[e]=true;s.meta=m;return s});define('sap/viz/chart/elements/data/MultiDimensionalBinds',['sap/viz/data/feed/Constants','sap/viz/lang/langManager'],function(c,l){var T=c.Type,d=T.Dimension,e=T.Measure;var M=function(a){this._ids=Object.keys(a);this._defs=a};var p=M.prototype;p.toArray=function(){return this._ids.map(f,this)};function f(b){var a=this._defs[b];return Object.create(a,{id:{value:b,enumerable:true},name:{value:a.name,enumerable:true}})}p.getDimensionBindIds=function(){return g.call(this,d)};p.getMeasureBindIds=function(){var r=g.call(this,e);if(r.length>1){r.sort(function(a,b){var h=this._defs;return h[a].mgIndex-h[b].mgIndex}.bind(this))}return r};function g(t){return this._ids.filter(function(b){return this._defs[b].type===t},this)}return M});define('sap/viz/chart/elements/csv/CSVBinds',["sap/viz/chart/elements/data/MultiDimensionalBinds",'sap/viz/data/feed/Constants'],function(M,c){var I="regionColor",a="axisLabels",b="primaryValues",d="secondaryValues";var T=c.Type,e=T.Dimension,f=T.Measure;var g={};g[a]={'name':'IDS_AXISLABELS','type':e,'minNumOfDimensions':1,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'MNDCompatibility':'optional','acceptMND':0};g[I]={'name':'IDS_REGIONCOLOR','type':e,'minNumOfDimensions':0,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'MNDCompatibility':'optional','acceptMND':1};g[b]={'name':'IDS_PRIMARYVALUES','type':f,'minNumOfMeasures':1,'maxNumOfMeasures':Number.POSITIVE_INFINITY};g[d]={'name':'IDS_SECONDARYVALUES','type':f,'minNumOfMeasures':0,'maxNumOfMeasures':Number.POSITIVE_INFINITY};var r=new M(g);r.ID_REGION_COLOR=I;r.ID_AXIS_LABELS=a;r.ID_PRIMARY_VALUES=b;r.ID_SECONDARY_VALUES=d;return r});define('sap/viz/chart/elements/data/flow/AnalysisAxisNodeSpec',[],function(){var I="dataView";var a="analysisAxisIndex";var s={description:"get the AnalysisAxis object from a MultidimensionalView",inputPorts:[{id:I,required:true,description:'the MultidimensionalView object'},{id:a,required:true,description:"if it is a number, it means the index of all AnalysisAxis objects in the MultidimensionalView object; otherwise it will be deemed as the id to get corresponding AnalysisAxis object."}],output:{description:"the AnalysisAxis object"},fn:function(p){return p[I].getAnalysisAxis(p[a])},INPUT_PORT_DATA_VIEW:I,INPUT_PORT_AXIS_INDEX:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/data/flow/MeasureGroupNodeSpec',[],function(){var I="dataView";var a="measureGroupIndex";var s={description:"get the MeasureGroup object from a MultidimensionalView",inputPorts:[{id:I,required:true,description:'the MultidimensionalView object'},{id:a,required:true,description:"if it is a number, it means the index of all MeasureGroup objects in the MultidimensionalView object; otherwise it will be deemed as the id to get corresponding MeasureGroup object."}],output:{description:"the MeasureGroup object"},fn:function(p){return p[I].getMeasureGroup(p[a])},INPUT_PORT_DATA_VIEW:I,INPUT_PORT_MEASURE_GROUP_INDEX:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/data/flow/AnalysisAxisValuesArrayNodeSpec',[],function(){var I="analysisAxis";var a="indexes";var b="getFirst";var s={name:"analysisAxisValuesArray",description:"get the value array from a AnalysisAxis object",inputPorts:[{id:I,required:true,description:'the AnalysisAxis object'},{id:a,required:false,description:"an array of number. If exists, it is used to filter result. The result will only includes the values whose indexes exist in this array."},{id:b,required:false,description:'boolean. Get the first value of the index if true.'}],output:{description:"the value array"},fn:function(p){var c=p[I];var g=p[b];function d(i){var f=this.get(i).val;if(g){f=f.slice(0,1)}return f}function r(f,i,t){for(var j=0;j<f.length;j++){if(t[i-1]===undefined||f[j]!==t[i-1][j]){return true}}return false}if(c){var e=p[a];if(!e){e=[];for(var i=0,l=c.getLength();i<l;i++){e[i]=i}}return e.map(d,c).filter(r)}},INPUT_PORT_AXIS:I,INPUT_PORT_INDEXES:a,INPUT_PORT_GETFIRST:b};var m={};m[I]=true;m[a]=false;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/xy/flow/ApplyColorScaleNodeSpec',[],function(){var I="resultName";var a="analysisAxis";var b="colorScale";var c="indexes";var e="byFirst";var s={description:"compute and attach the colors for the value objects of AnalysisAxis object",inputPorts:[{id:a,required:true,description:'the AnalysisAxis object'},{id:b,required:true,description:"the color scale"},{id:c,required:false,description:"an array of number. If exists, only the value objects whose indexes exist in this array will be processed."},{id:I,required:false,description:'a string which is the name of attached property. Default is "color"'},{id:e,required:false,description:'a boolean whether the scale value is generated by the first data value'}],output:{description:"the AnalysisAxis object which has colors information"},fn:function(p){var r=p[a];if(r){var f=p[b];var g=p[I]||"color";var h=p[e];var j=p[c];if(!j){j=[];for(var i=0,l=r.getLength();i<l;i++){j[i]=i}}j.forEach(function(i){var d=r.get(i);var v=h?d.val.slice(0,1):d.val;d[g]=f.scale(v)})}return r},INPUT_PORT_RESULT_NAME:I,INPUT_PORT_ANALYSIS_AXIS:a,INPUT_PORT_SCALE:b,INPUT_PORT_INDEXES:c,INPUT_PORT_BYFIRST:e};var m={};m[I]=false;m[a]=true;m[b]=true;m[c]=false;m[e]=false;s.meta=m;return s});define('sap/viz/chart/elements/xy/flow/ApplyValueScaleNodeSpec',["sap/viz/util/NumberUtils"],function(N){var I="measureGroup";var a="valueScale";var b="valuePropertyName";var s={description:"apply the value scale to MeasureGroup and attach the result",inputPorts:[{id:I,required:true,description:'the MeasureGroup object'},{id:a,required:true,description:"the value scale"},{id:b,required:false,description:'a string which is the name of source property. It will get the source value from value object with this property. Default is "val"'}],output:{description:"the MeasureGroup object which has been applied value scale"},fn:function(p){var c=p[I];if(!c){return}var v=p[a];var e=p[b]||"val";c.iterateValues(function(f){f.forEach(function(g){g.forEach(function(d){if(d!==undefined){if(d.hasOwnProperty(e)){if(!N.isNoValue(d.val)){d.valuePosition=v.scale(d[e])}}}})})});return c},INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_SCALE:a,INPUT_PORT_VALUE_PROP_NAME:b};var m={};m[I]=true;m[a]=true;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/csv/stacked/StackedValueNodeSpec',["./StackedMode","sap/viz/util/NumberUtils"],function(S,N){var I="stackedMode";var a="measureGroup";var b="regionColorAA";var c="axisLabelsAA";var V="stackedValue";var d="percentageValue";var e=S.PERCENTAGE;var r={name:"stackedValue",description:"compute and attach stacked value to value object",inputPorts:[{id:b,required:true,description:"the regionColor AnalysisAxis object"},{id:c,required:true,description:"the axisLabels AnalysisAxis object"},{id:a,required:true,description:"the MesureGroup object"},{id:I,required:true,description:"the stacked mode"}],output:{description:"the AnalysisAxis object"},fn:function(p){var f=p[I]===e;var g=p[a];var h=g.getMeasures(),l=h.length;var n=p[b];var o=p[c];var q;var s=1,t;if(n){t=n.getId();s=n.getLength();if(n.hasMND()){q=true}}var u=o.getLength();var w=o.getId();if(q===undefined&&o.hasMND()){q=false}var x={};var y;if(f){y=[]}var z,A;function B(v){if(z===undefined){z=A=v}else if(v>A){A=v}else if(v<z){z=v}}for(var i=0;i<u;i++){var C=null;if(q===false){C=o.get(i).mndName}var D=0,E=0;x[w]=i;for(var k=l-1;k>=0;k--){var F=h[k];var G=F.getId();if(C&&C!==G){continue}for(var j=s-1;j>=0;j--){if(n){x[t]=j;if(q===true&&G!==n.get(j).mndName){continue}}F.getValues(x).forEach(function(H){var J=H.length;for(var j=J-1;j>=0;j--){var K=H[j];if(K!==undefined){var v=K.val;if(N.isNoValue(v)){v=0}if(f){v=Math.abs(v);K[d]=v;y.push(K)}v=K[V]=v>=0?(E+=v):(D+=v);if(!f){B(v)}}}})}}if(f&&E>0){y.forEach(function(v){B(v[V]=100*v[V]/E);v[d]=v[d]/E});y.length=0}}if(z==null){z=0}if(A==null){A=0}z=N.preciseSimple(z);A=N.preciseSimple(A);g.dataRange=[z,A];return g},INPUT_PORT_MEASURE_GROUP:a,INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS:c,INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS:b,VALUE_PROP_NAME:V,INPUT_PORT_STACKED_MODE:I};var m={};m[a]=true;m[b]=true;m[c]=true;m[I]=true;r.meta=m;return r});define('sap/viz/chart/elements/csv/flow/RegionColorAAIndexesNodeSpec',[],function(){var I="measureGroup";var a="regionColorAA";var s={description:"get the valid indexes of an AnalysisAxis object by given measure group. In general, all indexes are valid but if MeasureNameDimension exists in AnalysisAxis, only the items whose mnd field exists in the measure group are valid.",inputPorts:[{id:I,required:true,description:'the MeasureGroup'},{id:a,required:true,description:'the AnalysisAxis'}],output:{description:"an array of valid indexes"},fn:function(p){var r=p[a];if(r){var b=r.hasMND();var c=p[I];var d=[];r.iterateValues(function(v,i){if(!b||c.containField(v.mndName)){d.push(i)}});return d}},INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS:a,INPUT_PORT_MEASURE_GROUP:I};var m={};m[a]=true;m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/flow/CalculateRealAxisLengthNodeSpec',[],function(){var I='properties';var a='plotLength';var b='contentSize';var s={'name':'calculateRealAxisLength','description':'Caluculate real axis length when user set value for datapoint size.','inputPorts':[{'id':'properties','required':true,'description':'plot properties'},{'id':'plotLength','required':true,'description':'plot length'},{'id':'contentSize','required':false,'description':'it has a property plotLength that represents actual plot length when datapoint size is customized by user.'}],'output':{'description':'the real plot length'},fn:function(p){var c=p[I],d=p[a],e=p[b].plotLength;if(c.isFixedDataPointSize){if(e){return e}}return d}};var m={};m[a]=true;m[I]=true;m[b]=false;s.INPUT_PORT_PLOT_PROPERTIES=I;s.INPUT_PORT_PLOT_LENGTH=a;s.INPUT_PORT_CONTENT_SIZE=b;s.meta=m;return s});define('sap/viz/chart/elements/csv/flow/ColorPalettesNodeSpecs',[],function(){var I="props";return{create:function(n,f){var s={name:n,description:"get the color palettes map",inputPorts:[{id:I,required:true,description:'the properties'}],output:{description:"the color palettes map which of keys are measure group ids"},fn:function(p){var r={};f(r,p[I]);return r}};var m={};m[I]=true;s.meta=m;return s},INPUT_PORT_PROPERTIES:I}});define('sap/viz/chart/elements/csv/flow/ColorPaletteNodeSpec',[],function(){var I="mgId";var a="colorPalettes";var s={description:"get color palette",inputPorts:[{id:a,required:true,description:'the color palettes map'},{id:I,required:true,description:"the measure group id"}],output:{description:"the color palette"},fn:function(p){return p[a][p[I]]},INPUT_PORT_MEASURE_GROUP_ID:I,INPUT_PORT_COLOR_PALETTES:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/xy/flow/ValueScaleAutoRangeNodeSpec',["sap/viz/util/NumberUtils","sap/viz/chart/elements/scale/ValueScaleUtil",'sap/viz/chart/elements/scale/ValueScale'],function(N,V,a){var I="measureGroup";var b="properties";var c="range";var m={};m[b]=true;m[I]=true;m[c]=true;return{INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_PROPERTIES:b,INPUT_PORT_KEY_RANGE:c,meta:m,fn:function(p){var d,e;var f=p[I];var g=f.dataRange;if(g){d=g[0];e=g[1]}else{f.iterateValues(function(i){i.forEach(function(j){j.forEach(function(k){if(k===undefined){return}var v=k.val;if(N.isNoValue(v)){return}if(d===undefined){d=e=v}else if(v>e){e=v}else if(v<d){d=v}})})})}if(d===undefined||d>0){d=0}if(e===undefined||e<0){e=0}var s=new a([e,d],p[c],[false,false]);V.perfectTicks(s);var h=s.getDomain();if(f._id.indexOf('primary')>-1){p[b].primaryScale.autoMaxValue=h[0];p[b].primaryScale.autoMinValue=h[1]}else if(f._id.indexOf('secondary')>-1){p[b].secondaryScale.autoMaxValue=h[0];p[b].secondaryScale.autoMinValue=h[1]}return[{val:h[0]},{val:h[1]}]}}});define('sap/viz/chart/elements/csv/BaseCSV',['sap/viz/base/utils/oo','sap/viz/chart/elements/plot/BasePlot',"sap/viz/chart/elements/xy/flow/XYScaleRangeNodeSpec","sap/viz/chart/elements/scale/flow/CategoryScaleNodeSpec","sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec","sap/viz/chart/elements/scale/flow/ValueScaleNodeSpec","sap/viz/chart/elements/xy/flow/PerfectValueScaleNodeSpec","sap/viz/chart/elements/scale/flow/ColorScaleNodeSpec","./flow/ApplyCategoryScaleNodeSpec","sap/viz/chart/elements/xy/flow/GridLineNodeSpec","./stacked/StackedMode","./CSVBinds","sap/viz/chart/elements/data/flow/AnalysisAxisNodeSpec","sap/viz/chart/elements/data/flow/MeasureGroupNodeSpec","sap/viz/chart/elements/data/flow/AnalysisAxisValuesArrayNodeSpec","sap/viz/chart/elements/xy/flow/ApplyColorScaleNodeSpec","sap/viz/chart/elements/xy/flow/ApplyValueScaleNodeSpec","./stacked/StackedValueNodeSpec","./flow/RegionColorAAIndexesNodeSpec","./flow/CalculateRealAxisLengthNodeSpec","sap/viz/chart/elements/plot/DataPoints","./flow/ColorPalettesNodeSpecs","./flow/ColorPaletteNodeSpec","sap/viz/chart/elements/data/MeasureNamesDimension","sap/viz/chart/elements/xy/flow/ValueScaleAutoRangeNodeSpec"],function Setup(o,B,X,C,V,a,P,b,A,G,S,c,d,M,e,f,g,h,R,i,D,j,k,l,m){var n=l.BIND_ID;var F=B.FLOW_INPUT_PORT_KEY_DATA;var p=B.FLOW_INPUT_PORT_KEY_PROPERTIES;var q=d.INPUT_PORT_DATA_VIEW;var r=d.INPUT_PORT_AXIS_INDEX;var s=M.INPUT_PORT_DATA_VIEW;var t=M.INPUT_PORT_MEASURE_GROUP_INDEX;var u=e.INPUT_PORT_AXIS;var v=e.INPUT_PORT_INDEXES;var w=C.INPUT_PORT_DOMAIN;var x=C.INPUT_PORT_RANGE;var y=V.INPUT_PORT_MEASURE_GROUP;var z=V.INPUT_PORT_PROPERTIES;var E=V.INPUT_PORT_FIXED_PROP_NAME;var H=h.INPUT_PORT_MEASURE_GROUP;var I=h.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS;var J=h.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS;var K=h.INPUT_PORT_STACKED_MODE;var L=h.VALUE_PROP_NAME;var N=A.INPUT_PORT_ANALYSIS_AXIS;var O=A.INPUT_PORT_SCALE;var Q=f.INPUT_PORT_ANALYSIS_AXIS;var T=f.INPUT_PORT_SCALE;var U=f.INPUT_PORT_RESULT_NAME;var W=f.INPUT_PORT_INDEXES;var Y=g.INPUT_PORT_MEASURE_GROUP;var Z=g.INPUT_PORT_SCALE;var $=g.INPUT_PORT_VALUE_PROP_NAME;var _=R.INPUT_PORT_MEASURE_GROUP;var a1=R.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS;var b1=j.INPUT_PORT_PROPERTIES;var c1=k.INPUT_PORT_MEASURE_GROUP_ID;var d1=k.INPUT_PORT_COLOR_PALETTES;var e1=c.ID_REGION_COLOR;var f1=c.ID_AXIS_LABELS;var g1=c.ID_PRIMARY_VALUES;var h1=c.ID_SECONDARY_VALUES;var i1=[f1,e1];var j1=function(o1,p1,q1){this._mgFeedIds=q1;this._horizontal=p1.horizontal;var r1=this._stackedMode=p1.stackedMode;this._stacked=r1!==m1;var s1=new p1.extension();this._renderExtension=s1;p1.flowName+=s1.getName();this._valueScaleDomainNodes=[];j1.superclass.constructor.call(this,o1,p1,i1,q1)};o.extend(j1,B);j1.prototype._buildApplyColorValueScaleNodes=function(){};function k1(o1,p1,q1,r1){var s1=o1.addNode(d,r1);o1.linkNode(p1,s1,q);s1.setInputPort(r,q1);return s1}j1.prototype._getColorPalettesNodeSpec=function(){};j1.prototype._initializeFlow=function(){j1.superclass._initializeFlow.apply(this,arguments);var o1=this._mgFeedIds;var p1=this._flow;var q1=this._colorPalettesNode=p1.addNode(this._getColorPalettesNodeSpec());p1.linkInputPortToNode(p,q1,b1);var r1=this._dataViewNode;var s1=this._regionColorAANode=k1(p1,r1,e1,"regionColorAnalysisAxis");var t1=this._axisLabelsAANode=k1(p1,r1,f1,"axisLabelsAnalysisAxis");this._measureGroupNodes=o1.map(function(id,G1){var H1=p1.addNode(M,"measureGroup-"+id);p1.linkNode(this._dataViewNode,H1,s);H1.setInputPort(t,G1);return H1},this);var u1=this._horizontal;var v1=p1.addNode(X,"widthScaleRange");var w1=p1.addNode(X,"heightScaleRange");var x1=p1.addNode(i,"calculateRealAxisLength");this._realAxisLengthNode=x1;p1.linkInputPortToNode(p,x1,i.INPUT_PORT_PLOT_PROPERTIES);if(u1){p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,x1,i.INPUT_PORT_PLOT_LENGTH);p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,v1,X.INPUT_PORT_KEY_LENGTH);p1.linkNode(x1,w1,X.INPUT_PORT_KEY_LENGTH)}else{p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,x1,i.INPUT_PORT_PLOT_LENGTH);p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,w1,X.INPUT_PORT_KEY_LENGTH);p1.linkNode(x1,v1,X.INPUT_PORT_KEY_LENGTH)}var y1=p1.addNode(e,"categoryScaleDomain");p1.linkNode(t1,y1,u);var z1=p1.addNode(C);p1.linkNode(u1?w1:v1,z1,x);p1.linkNode(y1,z1,w);this._categoryScaleNode=z1;var A1=u1?v1:w1;if(!u1){A1.setInputPort(X.INPUT_PORT_KEY_REVERSE,true)}this._valueScaleRangeNode=A1;var B1=p1.addNode(A);p1.linkNode(z1,B1,O);p1.linkNode(t1,B1,N);this._appliedScaleAxisLabelsAANode=B1;var C1=this._buildApplyColorValueScaleNodes();this._appliedScaleRegionColorAANode=C1[0];this._appliedValueScaleMeasureGroupsNode=C1[1];this._regionColorAAIndexesNode=C1[2];var D1=p1.addNode(G,"gridLine");p1.linkNode(this._buildRenderContextNode,D1,G.INPUT_PORT_KEY_RENDER_CONTEXT);p1.linkNode(this._getPrimaryValueScaleNode(),D1,G.INPUT_PORT_KEY_VALUE_SCALE);p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,D1,G.INPUT_PORT_KEY_PLOT_WIDTH);p1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,D1,G.INPUT_PORT_KEY_PLOT_HEIGHT);p1.linkInputPortToNode(p,D1,G.INPUT_PORT_KEY_PROPERTIES);D1.setInputPort(G.INPUT_PORT_KEY_HORIZONTAL,u1);this._gridLineNode=D1;var E1=this._renderExtension;var F1=E1.setup(this);this._shapeNode=E1.getShapeNode();return F1};var l1=function(o1){return o1};var m1=S.NONE,n1=S.PERCENTAGE;j1.prototype._buildColorValueScaleNodes=function(o1,p1,q1){q1=q1||l1;var r1=this._flow;var s1=this._mgFeedIds[p1];var t1=this._measureGroupNodes[p1];var u1=this._regionColorAANode;var v1=r1.addNode(V,q1("valueScaleDomain"));if(this._stacked){var w1=r1.addNode(h,q1("stackedValue"));r1.linkNode(t1,w1,H);r1.linkNode(u1,w1,I);r1.linkNode(this._axisLabelsAANode,w1,J);w1.setInputPort(K,this._stackedMode);t1=w1}r1.linkNode(t1,v1,y);r1.linkInputPortToNode(p,v1,V.INPUT_PORT_PROPERTIES);v1.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,o1);this._valueScaleDomainNodes.push(v1);var x1=r1.addNode(m,q1("valueScaleAutoRange"));r1.linkNode(t1,x1,y);r1.linkNode(this._valueScaleRangeNode,x1,m.INPUT_PORT_KEY_RANGE);x1.setInputPort(p,this._props);var y1=r1.addNode(a,q1("valueScale"));r1.linkNode(v1,y1,a.INPUT_PORT_KEY_DOMAIN);r1.linkNode(this._valueScaleRangeNode,y1,a.INPUT_PORT_KEY_RANGE);r1.linkNode(x1,y1,a.INPUT_PORT_KEY_AUTO_DOMAIN);var z1=r1.addNode(P,q1("perfectValueScale"));r1.linkNode(y1,z1,P.INPUT_PORT_KEY_SCALE);var A1=r1.addNode(k,q1("colorPalette"));r1.linkNode(this._colorPalettesNode,A1,d1);A1.setInputPort(c1,s1);var B1=r1.addNode(R,q1("regionColorAAIndexes"));r1.linkNode(u1,B1,a1);r1.linkNode(t1,B1,_);var C1=r1.addNode(e,q1("colorScaleDomain"));r1.linkNode(u1,C1,u);r1.linkNode(B1,C1,v);var D1=r1.addNode(b,q1("colorScale"));r1.linkNode(A1,D1,b.INPUT_PORT_COLOR_PALETTE);r1.linkNode(C1,D1,b.INPUT_PORT_DOMAIN);D1.setInputPort(b.INPUT_PORT_DUAL,this._ctx.dual);D1.setInputPort(b.INPUT_PORT_PROPERTIES,this._props);var E1=r1.addNode(f,q1("applyColorScale"));r1.linkNode(D1,E1,T);r1.linkNode(u1,E1,Q);r1.linkNode(B1,E1,W);E1.setInputPort(U,s1);return{colorScale:D1,valueScale:z1,applyColorScale:E1}};j1.prototype._buildApplyValueScaleMeasuresNodes=function(o1,p1,q1){var r1=this._flow;q1=q1||l1;var s1=r1.addNode(g,q1("applyValueScale"));r1.linkNode(p1,s1,Z);r1.linkNode(this._measureGroupNodes[o1],s1,Y);if(this._stacked){s1.setInputPort($,L)}return s1};j1.prototype.getColorScale=function(){return this._flow.getOutput(this._getColorScaleNode())};j1.prototype.getPrimaryScale=function(o1){return this._flow.getOutput(this._getPrimaryValueScaleNode())};j1.prototype.getCategoryScale=function(){return this._flow.getOutput(this._categoryScaleNode)};j1.prototype.getContentSize=function(){return this._flow.getOutput(this._realAxisLengthNode)};j1.prototype.getModuleProps=function(){return{isFixedDataPointSize:this._props.isFixedDataPointSize}};j1.prototype._validateProperties=function(o1){this._props=o1;j1.superclass._validateProperties.apply(this,arguments);if(isNaN(parseFloat(o1.primaryScale.minValue))){o1.primaryScale.minValue=null}if(isNaN(parseFloat(o1.primaryScale.maxValue))){o1.primaryScale.maxValue=null}if(!isNaN(parseFloat(o1.primaryScale.minValue))&&!isNaN(parseFloat(o1.primaryScale.maxValue))&&o1.primaryScale.minValue>=o1.primaryScale.maxValue){o1.primaryScale.minValue=null;o1.primaryScale.maxValue=null}if(isNaN(parseFloat(o1.secondaryScale.minValue))){o1.secondaryScale.minValue=null}if(isNaN(parseFloat(o1.secondaryScale.maxValue))){o1.secondaryScale.maxValue=null}if(!isNaN(parseFloat(o1.secondaryScale.minValue))&&!isNaN(parseFloat(o1.secondaryScale.maxValue))&&o1.secondaryScale.minValue>=o1.secondaryScale.maxValue){o1.secondaryScale.minValue=null;o1.secondaryScale.maxValue=null}};j1.prototype.getPrimaryValuesFields=function(){return this._flow.getOutput(this._measureGroupNodes[0]).getFields()};j1.prototype.getColorBindings=function(){return this._getBindings(e1)};j1.prototype.getRegionColorFields=function(){var o1=this._flow.getOutput(this._regionColorAANode);return o1?o1.getFields():null};j1.prototype.getAxisLabelsFields=function(){return this._flow.getOutput(this._axisLabelsAANode).getFields()};j1.prototype._getColorScaleNode=function(){};j1.prototype._getPrimaryValueScaleNode=function(){};j1.prototype._processDataLabelRendererConfig=function(o1,p1){o1.horizontal=this._horizontal;var q1=p1.getBBox();o1.dataPointWidth=q1.width;o1.dataPointHeight=q1.height};j1.prototype.setData=function(o1){j1.superclass.setData.apply(this,arguments);return this};j1.prototype._getDataLabelInfo=function(o1){var p1=D.getContext(o1);return{key:p1[n],value:p1[p1[n]]}};j1.prototype.getShape=function(){var o1=this._shapeNode;if(o1){return this._flow.getOutput(o1)}};j1.prototype.getStackedMode=function(){return this._stackedMode};return j1});define('sap/viz/chart/elements/csv/single/ColorPalettesNodeSpec',["./../CSVBinds","./../flow/ColorPalettesNodeSpecs"],function(C,a){var B=C.ID_PRIMARY_VALUES;return a.create("singleColorPalettes",function(r,p){r[B]=p.colorPalette})});define('sap/viz/chart/elements/csv/SingleCSV',['sap/viz/base/utils/oo','sap/viz/chart/elements/csv/BaseCSV',"sap/viz/chart/elements/plot/BasePlot","./CSVBinds","./single/ColorPalettesNodeSpec"],function Setup(o,B,a,C,b){var c=[C.ID_PRIMARY_VALUES];var S=function(m,d){d.flowName="Single";S.superclass.constructor.call(this,m,d,c)};S.prototype._buildApplyColorValueScaleNodes=function(){var f=this._flow;var d=this._buildColorValueScaleNodes("primaryScale",0);var e=(this._colorScaleNode=d.colorScale);var v=(this._valueScaleNode=d.valueScale);return[d.applyColorScale,this._buildApplyValueScaleMeasuresNodes(0,v)]};o.extend(S,B);S.prototype._getColorScaleNode=function(){return this._colorScaleNode};S.prototype._getPrimaryValueScaleNode=function(){return this._valueScaleNode};S.prototype._getColorPalettesNodeSpec=function(){return b};return S});define('sap/viz/chart/elements/csv/dual/AssembleNodeSpec',[],function(){var I="primary";var a="secondary";var s={description:"Assemeble primary and secondary objects to an array",inputPorts:[{id:I,required:true,description:'the primary object'},{id:a,required:true,description:"the secondary object"}],output:{description:"an array"},fn:function(p){return[p[I],p[a]]},INPUT_PORT_PRIMARY:I,INPUT_PORT_SECONDARY:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/dual/SyncValueScalesNodeSpec',["sap/viz/chart/elements/scale/ValueScaleUtil"],function(V){var I="primaryScale";var a="secondaryScale";var s={description:"synchronize value scales",inputPorts:[{id:I,required:true,description:'the primary value scale'},{id:a,required:true,description:"the secondary value scale"}],output:{description:"the synchronized value scales"},fn:function(p){var b=p[I];var c=p[a];V.syncTicks(b,c);return[b,c]},INPUT_PORT_KEY_PRIMARY_SCALE:I,INPUT_PORT_KEY_SECONDARY_SCALE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/dual/DispatchValueScalesNodeSpec',[],function(){var I="scales";var a="isPrimary";var s={description:"dispatch value scales by given parameter",inputPorts:[{id:I,required:true,description:'the value scales array'},{id:a,required:true,description:"a boolean value. If true, return primary value scale. Otherwise secondary scale."}],output:{description:"the value scale"},fn:function(p){return p[I][p[a]?0:1]},INPUT_PORT_KEY_SCALES:I,INPUT_PORT_KEY_IS_PRIMARY:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/dual/AppliedScaleRegionColorAANodeSpec',[],function(){var I="appliedPrimaryScaleRegionColorAA";var a="appliedSecondaryScaleRegionColorAA";var s={name:"appliedScaleRegionColorAA",description:"Assemeble the regionColor AnalysisAxis object",inputPorts:[{id:I,required:true,description:'the regionColor AnalysisAxis object which has applied primary color scales'},{id:a,required:true,description:"the regionColor AnalysisAxis object which has applied secondary color scales"}],output:{description:"the regionColor AnalysisAxis object which has applied color scales"},fn:function(p){return p[a]},INPUT_PORT_ANALYSIS_AXIS_APPLIED_PRIMARY_SCALE:I,INPUT_PORT_ANALYSIS_AXIS_APPLIED_SECONDARY_SCALE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/dual/ColorPalettesNodeSpec',["./../CSVBinds","./../flow/ColorPalettesNodeSpecs"],function(C,a){var B=C.ID_PRIMARY_VALUES;var b=C.ID_SECONDARY_VALUES;return a.create("dualColorPalettes",function(r,p){r[B]=p.primaryValuesColorPalette;r[b]=p.secondaryValuesColorPalette})});define('sap/viz/chart/elements/csv/DualCSV',['sap/viz/base/utils/oo','sap/viz/chart/elements/csv/BaseCSV',"./dual/AssembleNodeSpec","./dual/SyncValueScalesNodeSpec","./dual/DispatchValueScalesNodeSpec","sap/viz/chart/elements/plot/BasePlot","./CSVBinds","./dual/AppliedScaleRegionColorAANodeSpec","./dual/ColorPalettesNodeSpec"],function Setup(o,B,A,S,D,a,C,b,c){var d=C.ID_PRIMARY_VALUES;var e=C.ID_SECONDARY_VALUES;var M=[d,e];var n=M.map(function(i){return function(m){return m+"-"+i}});var V=["primaryScale","secondaryScale"];var f=b.INPUT_PORT_ANALYSIS_AXIS_APPLIED_PRIMARY_SCALE;var g=b.INPUT_PORT_ANALYSIS_AXIS_APPLIED_SECONDARY_SCALE;var h=A.INPUT_PORT_PRIMARY;var j=A.INPUT_PORT_SECONDARY;var k=function(m,i){i.flowName="Dual";k.superclass.constructor.call(this,m,i,M)};o.extend(k,B);k.prototype._buildApplyColorValueScaleNodes=function(){var m=this._flow;var r=this._regionColorAANode,p=this._axisLabelsAANode;var q=[];for(var i=0;i<2;i++){q[i]=this._buildColorValueScaleNodes(V[i],i,n[i])}var s=q[0];var t=q[1];var u=m.addNode(A,"assembleColorScales");m.linkNode(s.colorScale,u,h);m.linkNode(t.colorScale,u,j);this._assembleColorScalesNode=u;var v=m.addNode(S,"syncValueScales");m.linkNode(s.valueScale,v,S.INPUT_PORT_KEY_PRIMARY_SCALE);m.linkNode(t.valueScale,v,S.INPUT_PORT_KEY_SECONDARY_SCALE);var w=[];var x=[];for(i=0;i<2;i++){var y=n[i];var z=m.addNode(D,y("dispatchValueScales"));m.linkNode(v,z,D.INPUT_PORT_KEY_SCALES);z.setInputPort(D.INPUT_PORT_KEY_IS_PRIMARY,i===0);w[i]=z;x[i]=this._buildApplyValueScaleMeasuresNodes(i,z,y)}this._dispatchValueScalesNodes=w;var E=m.addNode(A,"assembleAppliedScaleMeasureGroups");m.linkNode(x[0],E,h);m.linkNode(x[1],E,j);var F=m.addNode(b);m.linkNode(s.applyColorScale,F,f);m.linkNode(t.applyColorScale,F,g);return[F,E]};k.prototype._getColorScaleNode=function(){return this._assembleColorScalesNode};k.prototype._getPrimaryValueScaleNode=function(){return this._dispatchValueScalesNodes[0]};k.prototype.getSecondaryScale=function(){return this._flow.getOutput(this._dispatchValueScalesNodes[1])};function l(i){return this._flow.getOutput(this._colorPalettesNode)[M[i]][0]}k.prototype.getPrimaryAxisColor=function(){return l.call(this,0)};k.prototype.getSecondAxisColor=function(){return l.call(this,1)};k.prototype.getSecondaryValuesFields=function(){return this._flow.getOutput(this._measureGroupNodes[1]).getFields()};k.prototype._getColorPalettesNodeSpec=function(){return c};return k});define('sap/viz/chart/elements/csv/createConstructor',['sap/viz/chart/elements/csv/SingleCSV','sap/viz/chart/elements/csv/DualCSV','sap/viz/base/utils/oo','sap/viz/modules/Base'],function(S,D,o,B){return function(E){var F=function(m,c){var a=c.dual?D:S;c.extension=E;return new a(m,c)};o.extend(F,B);return F}});define('sap/viz/chart/elements/csv/flow/RenderMeasuresNodeSpec',[],function(){var I="dataView";var a="bindIds";var s={name:"renderMeasures",description:"get a structure containing Measures to render",inputPorts:[{id:I,required:true,description:'the MultiDimensionalView'},{id:a,required:true,description:'the measure group bind ids'}],output:{description:"the struture is a 2-d array like [[M1,M2], [M3,M4]]. The Measures in same group will be put into an array at first."},fn:function(p){var d=p[I];return p[a].map(function(b){return d.getMeasureGroup(b).getMeasures()})},INPUT_PORT_DATA_VIEW:I,INPUT_PORT_MEASURE_BIND_IDS:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/elements/flow/EchoNodeSpec',[],function(){var I="input";var s={name:"echo",description:"do nothing. Just return the input.",inputPorts:[{id:I,required:true,description:'the input'}],output:{description:"same as input"},fn:function(p){return p[I]},INPUT_PORT_INPUT:I};var m={};m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/RenderExtension',["./flow/RenderMeasuresNodeSpec","sap/viz/base/utils/FunctionUtils","sap/viz/elements/flow/EchoNodeSpec",'sap/viz/chart/elements/plot/BasePlot'],function(R,F,E,B){var a=function(n){this._name=n};a.prototype.getName=function(){return this._name};a.prototype.getShapeNode=F.noop;a.prototype.setup=function(c){var f=c._flow;var p=this._propsNode=f.addNode(E);f.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,p,E.INPUT_PORT_INPUT);var r=f.addNode(R);f.linkNode(c._dataViewNode,r,R.INPUT_PORT_DATA_VIEW);r.setInputPort(R.INPUT_PORT_MEASURE_BIND_IDS,c._mgFeedIds);return r};return a});define('sap/viz/chart/elements/csv/RenderNodeSpecs',["sap/viz/chart/elements/data/Constants","sap/viz/chart/elements/data/MeasureNamesDimension","sap/viz/chart/elements/common/DataGraphics","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/utils/RuleUtil"],function(D,M,a,b,R){var I="regionColorAA";var c="axisLabelsAA";var d="measureModels";var e="renderContext";var f="properties";var g="effectManager";var h="horizontal";var i="dataView";var j="colorPalettes";var k="appliedScalesMeasureGroups";var l="dual";var m=D.DATA_ID;var n=M.BIND_ID;return{INPUT_PORT_HORIZONTAL:h,INPUT_PORT_MEASURES:d,INPUT_PORT_PROPERTIES:f,INPUT_PORT_RENDER_CONTEXT:e,INPUT_PORT_EFFECT_MANAGER:g,INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS:I,INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS:c,INPUT_PORT_DATA_VIEW:i,INPUT_PORT_COLOR_PALETTES:j,INPUT_PORT_APPLIED_SCALES_MEASURE_GROUPS:k,INPUT_PORT_DUAL:l,create:function(o,p){var s={name:o,inputPorts:[{id:e,required:true,description:'the render context object'},{id:g,required:true,description:"the EffectManager object"},{id:I,required:true,description:"the regionColor AnalysisAxis object which has applied color scale"},{id:c,required:true,description:"the axisLabels AnalysisAxis object which has applied category scale"},{id:k,required:true,description:"the MesureGroup objects which have applied value scales"},{id:d,required:true,description:"the Measures to render"},{id:i,required:true,description:"the MultiDimensionalView object"},{id:j,required:true,description:"the color palettes map"},{id:h,required:true,description:"a boolean value which indicates whether the plot is horizontal or not"},{id:f,required:true,description:"the properties"},{id:l,required:true,description:"a boolean value which indicates whether the plot is dual or not"}],output:{description:"the render context object"},fn:function(r){var t=r[j];var u=r[I];var v=r[c];var w=r[d];var x=r[i];var y=r[h];var z=r[e];var A=r[f];var B=r[g];var C=x.getMeasureIndex(m);var E=[m,undefined];var F=[undefined,undefined];var G=[n,undefined];var H=[G,E,F];var J=1,K,L;if(u){L=u.getId();J=u.getLength();K=[u.getFieldIds(),undefined];H.push(K)}var N=v.getLength(),O=[v.getFieldIds(),undefined],P=v.getId();H.push(O);var Q=z.dataPointNodes;var S=p(r);var T=S.fillMeasureGroupLoopContext;var U=S.effectParas;U.drawingEffect=A.drawingEffect;var V=S.populateDataPoint;var W=S.defaultRenderer;var X=S.postDataPoint;var Y=A.markerRenderer||W;var Z=B?{}:undefined;var $={};for(var _=0;_<N;_++){$[P]=_;var a1=v.get(_);O[1]=a1.val;var b1=a1.interval;var c1={axisLabelsAAI:_};var d1=a1.mndName;for(var e1=w.length-1;e1>=0;e1--){var f1=w[e1];var g1={index:e1};if(T){T(g1)}for(var h1=f1.length-1;h1>=0;h1--){var i1=f1[h1];var j1=i1.getId();if(d1&&j1!==d1){continue}F[0]=G[1]=j1;var k1=i1.getMeasureGroup().getId();var l1={measure:i1,index:h1};for(var m1=J-1;m1>=0;m1--){var n1,o1={regionColorAAI:m1};if(u){var p1=u.get(m1);if(!d1){var q1=p1.mndName;if(q1&&j1!==q1){continue}}n1=p1[k1];$[L]=m1;o1.value=K[1]=p1.val}else{n1=t[k1][0]}o1.color=n1;var r1=x.getMeasureValues($,[i1.getIndex(),C]);var s1;if(B){s1=Z[n1];if(s1===undefined){U.fillColor=n1;s1=Z[n1]=B.register(U)}}else{s1=n1}for(var t1=0,u1=r1.length;t1<u1;t1++){var v1=r1[t1];var w1=v1[0];if(w1===undefined){continue}var x1=v1[1].val;var y1=x1+"_"+j1;var z1=w1.valuePosition;var A1=null;if(z1!==undefined){E[1]=x1;F[1]=w1.val;A1=Q[y1];if(!A1){A1=b.create(null,y1)}var B1=b.setContext(A1,H);var C1=n1,D1=s1;if(r.dual===false){var E1=R.analyze(B1,A.dataPointStyle);if(E1&&E1.color){C1=E1.color;if(B){D1=Z[C1];if(D1===undefined){U.fillColor=C1;D1=Z[C1]=B.register(U)}}else{D1=C1}}}var F1={color:C1};if(w1.percentageValue){F1['percentageValue']=w1.percentageValue}a.setData(A1,F1);var G1={graphic:{fill:D1},horizontal:y,ctx:B1,data:F1};var H1=V(F1,G1,g1,l1,o1,b1,z1,w1);A1.setAttribute("transform","translate("+H1[0]+","+H1[1]+")");var I1=Y(G1);if(I1===undefined){I1=W(G1)}if(I1){A1.appendChild(I1)}}if(X){X(A1,y1,g1,o1,l1,c1)}}}}}}var J1=S.post;if(J1){J1()}return z}};var q={};q[f]=true;q[d]=true;q[e]=true;q[f]=true;q[g]=true;q[I]=true;q[c]=true;q[h]=true;q[i]=true;q[j]=true;q[k]=true;q[l]=true;s.meta=q;return s}}});define('sap/viz/chart/elements/csv/attachRenderFlow',["./RenderNodeSpecs",'sap/viz/chart/elements/plot/BasePlot'],function(R,B){var a=R.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS;var b=R.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS;var c=R.INPUT_PORT_MEASURES;var d=R.INPUT_PORT_RENDER_CONTEXT;var e=R.INPUT_PORT_PROPERTIES;var f=R.INPUT_PORT_EFFECT_MANAGER;var g=R.INPUT_PORT_HORIZONTAL;var h=R.INPUT_PORT_DATA_VIEW;var i=R.INPUT_PORT_COLOR_PALETTES;var j=R.INPUT_PORT_APPLIED_SCALES_MEASURE_GROUPS;var k=R.INPUT_PORT_DUAL;var F=B.FLOW_INPUT_PORT_KEY_HEIGHT;return function(l,r,m,p){var n=l._flow;var o=n.addNode(r);n.linkNode(l._dataViewNode,o,h);n.linkNode(m,o,c);n.linkNode(l._appliedScaleRegionColorAANode,o,a);n.linkNode(l._appliedScaleAxisLabelsAANode,o,b);n.linkNode(l._gridLineNode,o,d);n.linkNode(p,o,e);n.linkNode(l._colorPalettesNode,o,i);n.linkNode(l._appliedValueScaleMeasureGroupsNode,o,j);o.setInputPort(f,l._effectManager);o.setInputPort(g,l._horizontal);o.setInputPort(k,l._ctx.dual);return o}});define('sap/viz/chart/elements/csv/bar/renderBarShape',["sap/viz/chart/elements/common/SVG"],function(S){return function(c){var n=S.create("rect");n.setAttribute("width",c.graphic.width);n.setAttribute("height",c.graphic.height);n.setAttribute("fill",c.graphic.fill);return n}});define('sap/viz/chart/elements/csv/bar/RenderNodeSpec',["./renderBarShape","sap/viz/chart/elements/csv/stacked/StackedMode","sap/viz/chart/elements/plot/DataPoints",'sap/viz/chart/elements/common/SVG','sap/viz/modules/Constants',"sap/viz/chart/elements/common/DataGraphics","./../RenderNodeSpecs"],function(r,S,D,c,C,d,R){var I="stackedMode";var e="valueScale";var f="categoryScale";var g=R.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS;var j=R.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS;var k=R.INPUT_PORT_MEASURES;var l=R.INPUT_PORT_HORIZONTAL;var m=R.INPUT_PORT_PROPERTIES;var n=R.INPUT_PORT_RENDER_CONTEXT;var o="barlayout";var p=S.NONE;var s=R.create("renderBarLayer",function(i){var v=i[I]!==p;var z=i[g];var A=i[j];var B=i[k];var E=B.length;var F=i[l];var G=i[m];var H=G.stackDecorator;var J=i[o];var K=J.indexFn;var L=J.barSize;var M=J.categoryGap;var N=i[e].scale(0);var O=i[n].dataShapesGroupNode;var P=[];var a=9*L/8,b=M/2;return{populateDataPoint:function(Q,T,U,V,W,X,Y,Z){var $=X[0]+a*K(U.index,V.measure.getId(),W.regionColorAAI)+b;var _=Z[v?"stackedValue":"val"]<0;var a1=U[_?"anotherNegativeValuePosition":"anotherPositiveValuePosition"];var b1=a1.val;var c1=Math.abs(Y-b1);var x,y,w,h;if(T.horizontal){x=_?Y:b1;y=$;w=c1;h=L}else{x=$;y=_?b1:Y;w=L;h=c1}if(v){a1.val=Y}T.negative=_;var d1=T.graphic;Q.width=d1.width=w;Q.height=d1.height=h;return Q.translate=[x,y]},fillMeasureGroupLoopContext:function(h){h.anotherPositiveValuePosition={val:N};h.anotherNegativeValuePosition={val:N}},effectParas:{direction:F?'vertical':'horizontal'},defaultRenderer:r,postDataPoint:function(h,w,x,y,Q,T){if(!h){return}if(!v){O.appendChild(h);return}var U=P[T.axisLabelsAAI]=P[T.axisLabelsAAI]||[];U[x.index]=U[x.index]||q();U[x.index].appendChild(h)},post:function(){if(!v){return}var h=A.getFieldIds();for(var w=0,x=P.length;w<x;w++){var y=P[w];if(!y){continue}var Q=A.get(w);var T=[];for(var U=0;U<h.length;U++){T[U]=[];T[U][0]=h[U];T[U][1]=Q.val[U]}for(var V=0;V<E;V++){var W=y[V];if(!W){continue}var X=D.setContext(W,T);O.appendChild(W);if(H){var Y=t(W,X,V,F);if(Y){H(Y)}}}}}}});function q(){var a=c.create("g");a.setAttribute("class",C.CSS.CLASS.STACK);return a}function t(a,b,h,v){var w={"g":a,"mgIndex":h,"ctx":b};var x=w.graphic={"x":0,"y":0,"width":0,"height":0};var y=a.childNodes;if(y.length===0){return null}var z=d.getData(y[0]);x.width=z.width;x.height=z.height;x.x=z.translate[0];x.y=z.translate[1];for(var i=1,A=y.length;i<A;i++){z=d.getData(y[i]);if(v){x.x=Math.min(x.x,z.translate[0]);x.width+=z.width}else{x.y=Math.min(x.y,z.translate[1]);x.height+=z.height}}return w}var u=s.meta;u[I]=true;u[e]=true;u[f]=true;u[o]=true;s.INPUT_PORT_STACKED_MODE=I;s.INPUT_PORT_VALUE_SCALE=e;s.INPUT_PORT_CATEGORY_SCALE=f;s.INPUT_PORT_BAR_LAYOUT=o;s.description="Render bar layer";s.inputPorts.push({id:I,required:true,description:"the stacked mode"},{id:e,required:true,description:"the value scale. It is used to compute the position of zero. Since value scales are synchronized, using primay or secondary is same here."},{id:f,required:true,description:"the category scale"},{id:o,required:true,description:"the bar layout object"});return s});define('sap/viz/chart/elements/csv/bar/BarLayoutNodeSpec',["sap/viz/chart/elements/common/IndexedStringSet","sap/viz/chart/elements/csv/stacked/StackedMode"],function(I,S){var a="stackedMode";var b='regionColorAnalysisAxis';var c='axisLabelsAnalysisAxis';var d='measures';var e=S.NONE;function f(g){var r=new I();for(var h=0,i=g.length;h<i;h++){var k=g[h];for(var j=0,l=k.length;j<l;j++){r.add(k[j].getId())}}return r}var s={name:"barLayout",'description':'Caluculate bar layout object','inputPorts':[{'id':'stackedMode','required':true,'description':'stackedmode flag'},{'id':'regionColorAnalysisAxis','required':true,'description':'region color analysis axis'},{'id':'axisLabelsAnalysisAxis','required':true,'description':'axis labels analysis axis'},{'id':'measures','required':true,'description':'all measures which will be rendered as bar.'}],'output':{'description':'the bar layout object'},fn:function(p){var g,h;var j=p[d];var k;if(p[a]===e){var r=p[b];var l=r?r.getLength():1;var n=r&&r.hasMND();if(n){k=f(j);var o={};var q=0;for(var i=0;i<l;i++){if(k.contain(r.get(i).mndName)){o[i]=q++;continue}}g=q;h=function(){return o[arguments[2]]}}else{var t=p[c];if(t.hasMND()){g=l;h=function(){return arguments[2]}}else{k=f(j);h=function(){return k.indexOf(arguments[1])*l+arguments[2]};g=l*k.getLength()}}}else{g=j.length;h=function(){return arguments[0]}}return{count:g,indexFn:h}}};var m={};m[a]=true;m[b]=true;m[c]=true;m[d]=true;s.INPUT_PORT_STACKED_MODE=a;s.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS=b;s.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS=c;s.INPUT_PORT_MEASURES=d;s.meta=m;return s});define('sap/viz/chart/elements/csv/bar/BarSizeNodeSpec',['sap/viz/base/UADetector'],function(U){var I='properties';var a='barLayout';var b='barGroup';var c='plotLength';var s={name:"barSize",'description':'Caluculate the bar size and attach to bar layout object','inputPorts':[{'id':'properties','required':true,'description':'plot properties'},{'id':a,'required':true,'description':'bar layout object'},{'id':'barGroup','required':true,'description':'bar group number'},{'id':'plotLength','required':true,'description':'plot length'}],'output':{'description':'bar layout object'},fn:function(p){var d=p[a];var e=p[I],f=d.count,g=p[b].getLength(),h=p[c];var r=h;var i,j=false;var k=8*h/((g*(9*f+7)));var l=k;if(e.isFixedDataPointSize){var n=48,o=96;var q=24,t=96;if(e.barSize){n=e.barSize.mobile.minValue;o=e.barSize.mobile.maxValue;q=e.barSize.desktop.minValue;t=e.barSize.desktop.maxValue}if(U.isMobile()||U.isWindowsSurface()){if(k<n){l=n;j=true}else if(k>o){l=o;j=true}}else{if(k<q){l=q;j=true}else if(k>t){l=t;j=true}}}if(l!==k){k=l;r=l*g*(9*f+7)/8}i=k;if(r<h){i=h/g-l*f-(l/8)*(f-1)}else{h=r}d.categoryGap=i;d.barSize=k;d.plotLength=h;return d}};var m={};m[a]=true;m[b]=true;m[c]=true;m[I]=true;s.INPUT_PORT_PLOT_PROPERTIES=I;s.INPUT_PORT_BAR_LAYOUT=a;s.INPUT_PORT_BAR_GROUP=b;s.INPUT_PORT_PLOT_LENGTH=c;s.meta=m;return s});define('sap/viz/chart/elements/csv/bar/attachFlow',["../attachRenderFlow","./RenderNodeSpec","./BarLayoutNodeSpec","./BarSizeNodeSpec","sap/viz/chart/elements/plot/BasePlot","../flow/CalculateRealAxisLengthNodeSpec"],function(a,R,B,b,c,C){var d=R.INPUT_PORT_STACKED_MODE;var e=R.INPUT_PORT_VALUE_SCALE;var f=R.INPUT_PORT_CATEGORY_SCALE;return function(g,r,p){var h=a(g,R,r,p);var i=g._flow;var j=i.addNode(B);i.linkNode(r,j,B.INPUT_PORT_MEASURES);j.setInputPort(B.INPUT_PORT_STACKED_MODE,g._stackedMode);i.linkNode(g._regionColorAANode,j,B.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS);i.linkNode(g._axisLabelsAANode,j,B.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS);var k=i.addNode(b);i.linkNode(j,k,b.INPUT_PORT_BAR_LAYOUT);i.linkNode(g._axisLabelsAANode,k,b.INPUT_PORT_BAR_GROUP);i.linkNode(p,k,b.INPUT_PORT_PLOT_PROPERTIES);var l=g._horizontal;if(l){i.linkInputPortToNode(c.FLOW_INPUT_PORT_KEY_HEIGHT,k,b.INPUT_PORT_PLOT_LENGTH)}else{i.linkInputPortToNode(c.FLOW_INPUT_PORT_KEY_WIDTH,k,b.INPUT_PORT_PLOT_LENGTH)}i.linkNode(k,g._realAxisLengthNode,C.INPUT_PORT_CONTENT_SIZE);i.linkNode(k,h,R.INPUT_PORT_BAR_LAYOUT);i.linkNode(g._getPrimaryValueScaleNode(),h,e);i.linkNode(g._categoryScaleNode,h,f);h.setInputPort(d,g._stackedMode);return{endNode:h}}});define('sap/viz/chart/elements/csv/bar/BarExtension',['sap/viz/base/utils/oo',"sap/viz/chart/elements/csv/RenderExtension","./attachFlow"],function(o,R,a){var B=function(){B.superclass.constructor.call(this,"Bar")};o.extend(B,R);B.prototype.setup=function(c){return a(c,B.superclass.setup.apply(this,arguments),this._propsNode).endNode};return B});define('sap/viz/chart/elements/Bar',['sap/viz/chart/elements/csv/createConstructor','sap/viz/chart/elements/csv/bar/BarExtension'],function Setup(c,B){return c(B)});define('sap/viz/chart/elements/manifests/Plot',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/enableBackground'],function Setup(M,C,e){var m={'id':'sap.viz.chart.elements.plot','abstract':true,'type':C.Type.Chart,'name':'plot base module','properties':{'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable data updating animation of plot area.'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable resizing animation of plot area.'}},'description':'Settings for animation related properties.','isExported':false,'example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of plotArea.','isExported':true},"dataPointStyle":{"name":"dataPointStyle","defaultValue":{},'supportedValueType':'RuleObject','uncheck':true,"isExported":true,"description":'<div style="line-height: 16px;"><div>This property can define color and legend according to specific condition that can accept an object which contains "rule" and "others" property.</div><div>The structure of dataPointStyle is as following:</div><div style="padding-left: 24px; margin-bottom: 4px;"><div><div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">rules</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span> ObjectArray</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Rules may have one or more rule objects. If one data point matches many rules, the last rule will win.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">dataContext</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object or ObjectArray</div><div><span style="color: #BCD; font-weight: bold;">Description: </span><div>1 - For <b>dimension</b>, we support three kinds of operations (equal, notEqual, contain). <br />Judgement priority: equal > notEqual > contain. If you set {equal: "123", contain: ["China"]}, only the equal keyword will work.</div></div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">equal:</div><div>1) You can use it directly without keyword equal.</div><div>example: dataContext: {Country: "China"}</div><div>2) You can use it with keyword equal</div><div>example: dataContext: {Country: {equal: "China"}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">notEqual:</div><div>example: dataContext: {Country: {notEqual: "China"}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">contain:</div><div>example: dataContext: {Country: {contain:["China","USA"]}}</div></div><div style="margin-top: 4px;">2 - For <b>measure</b>, we support three kinds of operations (max&min, min, max). <br />Judgement priority: max && min > max > min.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">max&min:</div><div>example: dataContext: {Age: {min: 10, max: 20}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">min:</div><div>example: dataContext: {Age: {min: 10}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">max:</div><div>example: dataContext: {Age: {max: 20}}</div></div><div style="margin-top: 4px;">If you want to match the data that its measure is revenue, you can config it as following:</div><div style="padding-left: 24px; padding-top: 4px;"><div style="margin-bottom: 4px;">1) Use "MeasureNamesDimension" keyword:</div><div style="margin-bottom: 4px;">example: {dataContext: {MeasureNamesDimension: "Revenue"}}</div><div style="margin-bottom: 4px;">2) Use *:</div><div style="margin-bottom: 4px;">example: {dataContext: {Revenue: "*"}}</div></div><div style="border: 1px dashed #999999; padding: 6px; display: inline-block;"><div style="font-weight: bold;">Attention:</div><ul type="circle" style="margin: 0px; padding-left: 24px; padding-top: 4px;"><li>If you set many data context with Array, the result will be the union of all data context.<div>example: dataContext: [{Country: {contain: ["China","USA"]}}, {Revenue: "*"}]</div><div>(i.e. The data context will match the data which country contains China and USA, or the data which measure is revenue)</div></li><li style="padding-top: 4px;">If you set many dimension and measure condition in one data context, the result will be the intersection of all condition.<div>example: dataContext: {Country: {contain: ["China","USA"]}, Revenue: "*"}}</div><div>(i.e. The data context will match the data which country contains [China, USA] and measure is revenue)</div></li></ul></div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">properties</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>We only support data point color now.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">color:</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set data point color.</div></div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">displayName</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the display text (i.e. legend label) of data point style which matches conditions.</div></div></div><div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">others</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>If you set rules, this property is necessary to define default style.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">properties</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>We only support data point color now.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">color:</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set default data point color.</div></div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">displayName</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set default display text (i.e. legend label) of data point style which matches conditions.</div></div></div><div style="border: 1px dashed #999999; padding: 6px; margin-top: 9px;"><div style="font-weight: bold; margin-bottom: 4px;">Sample:</div><div>var chartOption = {</div><div style="padding-left: 24px;">plotArea: {</div><div style="padding-left: 48px;">dataPointStyle: {</div><div style="padding-left: 72px;">rules: [</div><div style="padding-left: 72px;">{</div><div style="padding-left: 96px;">dataContext: {Country: "USA"},</div><div style="padding-left: 96px;">properties: {</div><div style="padding-left: 120px;">color: "#EACF5E"</div><div style="padding-left: 96px;">},</div><div style="padding-left: 96px;">displayName: "USA"</div><div style="padding-left: 72px;">}</div><div style="padding-left: 72px;">],</div><div style="padding-left: 72px;">others: {</div><div style="padding-left: 96px;">properties: {</div><div style="padding-left: 120px;">color: "#EB271B"</div><div style="padding-left: 96px;">},</div><div style="padding-left: 96px;">displayName: "Others"</div><div style="padding-left: 72px;">}</div><div style="padding-left: 48px;">}</div><div style="padding-left: 24px;">}</div><div>}</div></div></div></div></div>'},'dataLabel':{'name':'dataLabel','cssClass':'.v-datalabel','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether data label is visible.'},'formatString':{'name':'formatString','supportedValueType':'String, Object','defaultValue':null,'description':'Set format string of data label. If value type of format string is String, the format string will be used to format all measures. If value type is Object, each format string in the Object will be used to format the measure specified. Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code. Simple samples: "0.00%", {measureName : "0.00%"}.'},'renderer':{'name':'renderer','supportedValueType':'Function','defaultValue':null},'hideWhenOverlap':{'name':'hideWhenOverlap','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether data label is hidden when overlapping.'},'position':{'name':'position','supportedValueType':'String','defaultValue':null,'description':'Set the position of data label',"isExported":false},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#333333','description':'Set the fill color of the data label.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"'Open Sans', Arial, Helvetica, sans-serif",'description':'Set the font family of the data label.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'12px','description':'Set the font size color of the data label.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the data label.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the data label.'}}}},'events':{'renderComplete':C.Event.Initialized.desc},'configure':null};e(m);var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/manifests/csv/Base',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/csv/CSVBinds","sap/viz/chart/elements/manifests/Plot"],function Setup(M,C,b,P){var m={"id":"sap.viz.chart.elements.csv","abstract":true,"name":"csv base module","base":"sap.viz.chart.elements.plot","datastructure":"DATA STRUCTURE DOC","properties":{"gridline":{"name":"gridline","description":"Settings for axis gridline.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis gridline."},"color":{"name":"color","supportedValueType":"String","defaultValue":"#d8d8d8","description":"Set color of gridline."},"size":{"name":"size","supportedValueType":"PositiveInt","defaultValue":1,"description":"Set line stroke width of gridline."},"type":{"name":"type","supportedValueType":"String","supportedValues":[C.GRIDLINE_TYPE.SOLID,C.GRIDLINE_TYPE.DASHED,C.GRIDLINE_TYPE.INCISEDS],"defaultValue":C.GRIDLINE_TYPE.SOLID,"description":"Set render type of gridline."}}},"primaryScale":{"name":"primaryScale","description":"Set primaryScale for value axis. this property just work on value type axis.","supportedValueType":"Object","supportedValues":{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Set whether the axis range is limited to the range between the minValue and maxValue"},"minValue":{"name":"minValue","supportedValueType":"Number","defaultValue":null,"description":"Set minValue of primary data value. Setting null stands for disable."},"maxValue":{"name":"maxValue","supportedValueType":"Number","defaultValue":null,"description":"Set maxValue of primary data value. Setting null stands for disable."},"autoMinValue":{"name":"autoMinValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale minValue of primary data value.","uncheck":true,"isExported":false},"autoMaxValue":{"name":"autoMaxValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale maxValue of primary data value.","uncheck":true,"isExported":false}}},"secondaryScale":{"name":"secondaryScale","description":"Set secondaryScale for value axis. this property just work on value type axis.","supportedValueType":"Object","supportedValues":{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Set whether the axis range is limited to the range between the minValue and maxValue"},"minValue":{"name":"minValue","supportedValueType":"Number","defaultValue":null,"description":"Set minValue of secondary data value. Setting null stands for disable."},"maxValue":{"name":"maxValue","supportedValueType":"Number","defaultValue":null,"description":"Set maxValue of secondary data value. Setting null stands for disable."},"autoMinValue":{"name":"autoMinValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale minValue of secondary data value."},"autoMaxValue":{"name":"autoMaxValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale maxValue of secondary data value."}}},"colorPalette":{"name":"colorPalette","supportedValueType":"StringArray","defaultValue":C.COLOR.SAPColorSingleAxis,"description":"Set color palette for non-dual chart. Or dual chart\"s color palette when MND is not fed on legend color.","example":"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>","isExported":true},"primaryValuesColorPalette":{"name":"primaryValuesColorPalette","supportedValueType":"StringArray","defaultValue":C.COLOR.SAPColorDualAxis1,"description":"Set axis 1 color palette for dual chart.","isExported":false},"secondaryValuesColorPalette":{"name":"secondaryValuesColorPalette","supportedValueType":"StringArray","defaultValue":C.COLOR.SAPColorDualAxis2,"description":"Set axis 2 color palette for dual chart.","isExported":false},"drawingEffect":{"name":"drawingEffect","supportedValueType":"String","supportedValues":["normal","glossy"],"defaultValue":"normal","description":"Set drawing effect of plotArea.","isExported":true},"isFixedDataPointSize":{"name":"isFixedDataPointSize","supportedValueType":"Boolean","defaultValue":false,"description":"Enable or disable to use fixed datapoint size layout strategy","isExported":true}},"feeds":b.toArray()};var a={viz:[],module:[m].concat(P.module),feeds:[]};return a});define('sap/viz/chart/elements/manifests/csv/BarProperties',[],function(){return{"markerRenderer":{"name":"markerRenderer","supportedValueType":"Function","defaultValue":null},"stackDecorator":{"name":"stackDecorator","supportedValueType":"Function","defaultValue":null,'isExported':false},'imageFill':{'name':'imageFill','supportedValueType':'Boolean','defaultValue':false,'isExported':false,'description':'Set enabled/disabled image fill.'},'imagePalette':{'name':'imagePalette','supportedValueType':'StringArray','defaultValue':['http://www.sap.com/global/ui/images/global/sap-logo.png'],'isExported':false,'description':'images to fill the bar'},'barSize':{'name':'barSize','supportedValueType':'Object','supportedValues':{'desktop':{'name':'desktop','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':24,'description':'Set minValue of bar width for desktop environment.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':96,'description':'Set maxValue  of bar width for desktop environment.'}}},'mobile':{'name':'mobile','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':48,'description':'Set minValue of bar width for mobile environment.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':96,'description':'Set maxValue  of bar width for desktop environment.'}}}},'description':'Set Minimun and Maximun Bar Size for bar chart.','isExported':false}}});define('sap/viz/chart/elements/manifests/csv/Bar',['sap/viz/modules/manifests/Module','sap/viz/chart/elements/Bar','sap/viz/chart/elements/manifests/csv/Base',"sap/viz/base/utils/Objects","./BarProperties"],function Setup(M,f,B,O,a){var p={'dataLabel':{'supportedValues':{'position':{'supportedValues':['up','down','left','right','inside']}}}};O.extend(true,p,a);var m={'id':'sap.viz.chart.elements.bar','name':'bar',base:"sap.viz.chart.elements.csv",'properties':p,fn:f};var b={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return b});define('sap/viz/manifests/xy/csv/buildBarManifest',['sap/viz/manifests/xy/csv/buildManifest','sap/viz/chart/elements/manifests/csv/Bar',"sap/viz/chart/elements/csv/stacked/StackedMode"],function(b,p,S){var a=S.NONE,c=S.PERCENTAGE;function d(m,h,e,s){m.id='info/'+(s===c?"100_":"")+(e?"dual_":"")+(s!==a?"stacked_":"")+(h?"bar":"column");var n,i;if(h){n="BAR";i="bar"}else{n="VERTICALBAR";i="column"}if(s!==a){n="STACKED"+n;i="stacked_"+i}if(e){i="dual_"+i}if(s===c){n="PERCENTAGE"+n;i="100_"+i;m.modules.root.modules.tooltip={configure:{properties:{formatString:"0.00%"}}}}m.name=n;m.id=i}return function(h,e,s){return b(p,d,h,e,s)}});define('sap/viz/manifests/xy/csv/InfoBarChart',['./buildBarManifest'],function Setup(b){return b(true,false)});define('sap/viz/impls/InfoBarChart',['sap/viz/manifests/xy/csv/InfoBarChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoColumnChart',['./buildBarManifest'],function Setup(b){return b(false,false)});define('sap/viz/impls/InfoColumnChart',['sap/viz/manifests/xy/csv/InfoColumnChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualBarChart',['./buildBarManifest'],function Setup(b){return b(true,true)});define('sap/viz/impls/InfoDualBarChart',['sap/viz/manifests/xy/csv/InfoDualBarChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualColumnChart',['./buildBarManifest'],function Setup(b){return b(false,true)});define('sap/viz/impls/InfoDualColumnChart',['sap/viz/manifests/xy/csv/InfoDualColumnChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/chart/elements/csv/line/renderMarker',["sap/viz/chart/elements/common/SVG"],function(S){return function(c){var n=S.create("path");var g=c.graphic;n.setAttribute("d",g.d);n.setAttribute("fill",g.fill);return n}});define('sap/viz/chart/elements/manifests/csv/LineProperties',[],function(){return{"markerRenderer":{"name":"markerRenderer","supportedValueType":"Function","defaultValue":null},'width':{'name':"width",'supportedValueType':'Number','defaultValue':2,'min':'0','max':'7','description':'Set width of line, range[0,7]. When beyond the range, the line width is default size 2.'},'lineRenderer':{'name':'lineRenderer','supportedValueType':'Function','defaultValue':null},'lineVisible':{'name':'lineVisible','supportedValueType':'Boolean','defaultValue':true,'description':'Set show line or not.'},'marker':{'name':'marker','description':'Settings for marker/data point graphics','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set show marker or not.'},'shape':{'name':'shape','supportedValueType':'String','supportedValues':['circle','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':'Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6.'}}},'lineStyle':{'name':'lineStyle','supportedValueType':'RuleObject','uncheck':true,'defaultValue':{},'description':'<div style="line-height: 16px;"><div>Set line style individually. This property can accept an object which contains rule property. If there is no style setting within it, the default style (i.e. "plotArea.width" for line width)will be adopted.</div><div>The structure of lineStyle is as following:</div><div style="padding-left: 24px"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">rules</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>ObjectArray</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Rules may have one or more rule objects. If one data point matches many rules, the last rule will win.</div><div style="padding-left: 24px; margin-bottom: 4px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">dataContext</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object or ObjectArray</div><div><span style="color: #BCD; font-weight: bold;">Description: </span></div><div>We support three kinds of operations (equal, notEqual, contain) for dimension. <br /> Judgement priority: equal > notEqual > contain. If you set {equal: "123", contain: ["China"]}, only the equal keyword will work.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">equal:</div><div>1) You can use it directly without keyword equal.</div><div>example: dataContext: {Country: "China"}</div><div>2) You can use it with keyword equal</div><div>example: dataContext: {Country: {equal: "China"}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">notEqual:</div><div>example: dataContext: {Country: {notEqual: "China"}}</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">contain:</div><div>example: dataContext: {Country: {contain:["China","USA"]}}</div></div><div style="margin-top: 4px;">If you want to match the data that its measure is revenue, you can config it as following:</div><div style="padding-left: 24px; padding-top: 4px;"><div style="margin-bottom: 4px;">1) Use "MeasureNameDimension" keyword:</div><div style="margin-bottom: 4px;">example: {dataContext: {MeasureNamesDimension: "Revenue"}}</div><div style="margin-bottom: 4px;">2) Use *:</div><div style="margin-bottom: 4px;">example: {dataContext: {Revenue: "*"}}</div></div><div style="border: 1px dashed #999999; padding: 6px; display: inline-block;"><div style="font-weight: bold;">Attention:</div><ul type="circle" style="margin: 0px; padding-left: 24px; padding-top: 4px;"><li>If you set many data context with Array, the result will be the union of all data context.<div>example: dataContext: [{Country: {contain: ["China", "USA"]}}, {Revenue: "*"}]</div><div>(i.e. The data context will match the data which country contains China and USA, or the data which measure is revenue)</div></li><li style="padding-top: 4px;">If you set many dimension and measure condition in one data context, the result will be the intersection of all condition.<div>example: dataContext: {Country: {contain: ["China", "USA"]}, Revenue: "*"}}</div></li></ul></div></div><div style="padding-left: 24px; margin-bottom: 4px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">properties</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>We only support line width now.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">width:</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>You can use it to set line width individually, range[0,7]. When beyond the range, the line width is default size 2.</div></div></div></div></div>','isExported':true},'categorySize':{'name':'categorySize','supportedValueType':'Object','supportedValues':{'desktop':{'name':'desktop','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':24,'description':'Set minValue of bar width for desktop environment.'}}},'mobile':{'name':'mobile','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':48,'description':'Set minValue of bar width for mobile environment.'}}}},'description':'Set Minimun Category Size for line chart.','isExported':false}}});define('sap/viz/chart/elements/csv/line/RenderNodeSpec',["./renderMarker","./../RenderNodeSpecs",'sap/viz/util/DrawUtil',"sap/viz/chart/elements/common/DataGraphics","./renderLine","./Constants","sap/viz/chart/elements/data/MeasureNamesDimension",'sap/viz/chart/elements/common/SVG',"sap/viz/chart/elements/utils/RuleUtil","sap/viz/chart/elements/manifests/csv/LineProperties"],function(r,R,D,a,b,C,M,S,c,l){var I=R.INPUT_PORT_HORIZONTAL;var d=R.INPUT_PORT_PROPERTIES;var e=R.INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS;var f=R.INPUT_PORT_AXIS_LABELS_ANALYSIS_AXIS;var g=R.INPUT_PORT_EFFECT_MANAGER;var h=R.INPUT_PORT_RENDER_CONTEXT;var j="plotWidth";var k="plotHeight";var m="shape";var n=C.CLASS_NAME_LINE;var o=M.BIND_ID;function v(i){var q=l.width.min;var t=l.width.max;var u=l.width.defaultValue;if(i<q||i>t){i=u}return i}var s=R.create("renderLineLayer",function(q){var t=q[d];var u=[q[j],q[k]];var w=t.marker;var z=w.size/2;var A=w.visible;var B=q[m];var E=D.createMarkerData({type:B,rx:z,ry:z,borderWidth:2});var F=t.lineVisible;var G={graphType:"line"};var H=[];var J=[];var K=q[e],L;if(K){L=K.getFieldIds()}var N=q[f];var O=N.hasMND();var P=q[g];var Q=t.lineRenderer||b;var T=q[h].dataShapesGroupNode;return{populateDataPoint:function(i,U,V,W,X,Y,Z,$){var x,y,_=(Y[0]+Y[1])/2;if(U.horizontal){x=Z;y=_}else{x=_;y=Z}U.bandLength=Y[1]-Y[0];U.plotSize=u;U.graphic.d=E;i.shape=B;return i.translate=[x,y]},effectParas:{graphType:B,direction:q[I]?'horizontal':'vertical'},defaultRenderer:r,postDataPoint:function(i,x,y,U,V,W){if(i){var X=i.firstChild;if(X){if(!A){X.setAttribute("fill-opacity","0");X.setAttribute("stroke-opacity","0")}else{X.removeAttribute("fill-opacity");X.removeAttribute("stroke-opacity")}}}var Y=y.index;var Z=H[Y];if(!Z){Z=H[Y]=[]}var $=U.regionColorAAI;var _=Z[$];if(!_){_=Z[$]=[]}var a1,b1=V.measure.getId();if(O){a1=_;var c1=a1.measureNames;if(!c1){a1.measureNames=c1={}}c1[b1]=true}else{var d1=V.index;a1=_[d1];if(!a1){a1=_[d1]=[];a1.measureName=b1}}if(a1.length===0){J.push(a1);a1.color=U.color;a1.regionColorAAValue=U.value}var e1=W.axisLabelsAAI;var f1=a1[e1];if(!f1){a1[e1]={node:i,id:x}}},post:function(){J.forEach(function(x){var y=S.create("g",T);var U=[];var V,W;for(var i=0,X=x.length;i<X;i++){var Y=x[i],Z=null,$=null;var _=Y?Y.node:null;if(_){y.appendChild(_);$=a.getData(_);Z=Y.id;U[i]=$.translate;if(V){V.next=Z;$.prev=W}}V=$;W=Z}if(U.length===0){return}if(F){var a1=[];if(L){a1.push([L,x.regionColorAAValue])}a1.push([o,x.measureName||Object.keys(x.measureNames)]);var b1=a.buildContext(a1);var c1=c.analyze(b1,t.lineStyle,true);var d1=v((c1&&c1.width!=null)?c1.width:t.width);var e1=x.color;if(t.dataPointStyle&&t.dataPointStyle.others&&t.dataPointStyle.others.properties&&t.dataPointStyle.others.properties.color){e1=t.dataPointStyle.others.properties.color}var f1=e1;if(P){G.fillColor=f1;f1=P.register(G)}var g1={points:U,graphic:{color:f1,width:d1},ctx:b1};var h1=Q(g1);if(h1===undefined){h1=b(g1)}if(h1){a.setContext(h1,b1);a.setData(h1,{color:e1,width:d1});h1.setAttribute("class",n);y.insertBefore(h1,y.firstChild)}}})}}});var p=s.meta;p[j]=true;p[k]=true;p[m]=true;s.INPUT_PORT_PLOT_WIDTH=j;s.INPUT_PORT_PLOT_HEIGHT=k;s.INPUT_PORT_SHAPE=m;s.description="Render line layer";s.inputPorts.push({id:j,required:true,description:"the width of plot"},{id:k,required:true,description:"the height of plot"});return s});define('sap/viz/chart/elements/csv/line/AnimationNodeSpec',["sap/viz/chart/elements/common/SVG"],function(S){var I="renderContext";var a="case";var b="plotHeight";var c="plotWidth";var d="horizontal";var e="randomSuffix";var s={name:"lineAnimation",description:"Add animation for line layer",inputPorts:[{id:I,required:true,description:'the render context object'},{id:c,required:true,description:"the width of plot"},{id:b,required:true,description:"the height of plot"},{id:e,required:true,description:"the random suffix"},{id:a,required:true,description:"the animation case"},{id:d,required:true,description:"a boolean value which indicates whether the plot is horizontal or not"}],output:{description:"the render context object"},fn:function(p){var f=p[a];var r=p[I];if(f){var h=p[d];var w=p[c];var g=p[b];var i=p[e];var j=r.dataShapesGroupNode;var k=S.create("clipPath",j);var l="line_clipPath_"+i;k.setAttribute("id",l);var n=S.create("rect",k);if(h){n.setAttribute("width",w)}else{n.setAttribute("height",g)}var o=d3.select(n);var q=o.transition().duration(1000);if(h){q.attr("height",g)}else{q.attr("width",w)}var t=[];r.transitions.push(q);q.each("end",function(){var j=k.parentNode;if(j){j.removeAttribute("clip-path");j.removeChild(k)}});j.setAttribute("clip-path","url(#"+l+")")}return r},INPUT_PORT_RENDER_CONTEXT:I,INPUT_PORT_CASE:a,INPUT_PORT_PLOT_HEIGHT:b,INPUT_PORT_PLOT_WIDTH:c,INPUT_PORT_PLOT_HORIZONTAL:d,INPUT_PORT_RANDOM_SUFFIX:e};var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=true;m[d]=true;m[e]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/line/AdjustValueScaleDomainNodeSpec',[],function(){var I="domain";var a="range";var m={};m[I]=true;m[a]=true;return{INPUT_PORT_DOMAIN:I,INPUT_PORT_RANGE:a,meta:m,name:"adjustValueScaleDomain",description:"For charts having line layer, the range of value scale should be extended to provid padding",inputPorts:[{id:I,required:true,description:'the domain of value scale'},{id:a,required:true,description:'the range of value scale'}],output:{description:"the adjusted range of value scale"},fn:function(p){var d=p[I];var r=p[a];var b=d[0];var c=d[1];var e=b.fixed;var f=b.val;var g=c.fixed;var h=c.val;var o=(h-f)*5/(Math.abs(r[1]-r[0]));if(!e&&f!==0){f-=o}if(!g&&h!==0){h+=o}return[{fixed:e,val:f},{fixed:g,val:h}]}}});define('sap/viz/chart/elements/csv/line/AdjustMinCategorySizeNodeSpec',['sap/viz/base/UADetector'],function(U){var I='properties';var a='categoryNumber';var b='plotLength';var s={name:"adjustMinimumCategorySize",'description':'Caluculate category axis length according to minimum size of category.','inputPorts':[{'id':'properties','required':true,'description':'plot properties'},{'id':'category number','required':true,'description':'axis category number'},{'id':'plotLength','required':true,'description':'plot length'}],'output':{'description':'real plot length when category size has minimum and maximum size.'},fn:function(p){var c=p[I],d=p[a].getLength(),e=p[b];if(!c.isFixedDataPointSize){return e}else{var f=24,g=48;if(c.categorySize){f=c.categorySize.mobile.minValue;g=c.categorySize.desktop.minValue}var r,h;var i=false;var j=e/d;if(U.isMobile()||U.isWindowsSurface()){if(j<f){r=f;i=true}}else{if(j<g){r=g;i=true}}if(i){h=r*d;if(h>e){return{plotLength:h}}}return{plotLength:e}}}};var m={};m[I]=true;m[a]=true;m[b]=true;s.INPUT_PORT_PLOT_PROPERTIES=I;s.INPUT_PORT_CATEGORY_NUMBER=a;s.INPUT_PORT_PLOT_LENGTH=b;s.meta=m;return s});define('sap/viz/chart/elements/plot/flow/GetPropertyNodeSpec',[],function(){var I="props";var a="path";var s={description:"get property value by given path",inputPorts:[{id:I,required:true,description:"the properties"},{id:a,required:true,description:'the path like "a.b.c"'}],output:{description:"the property value"},fn:function(p){var b=p[I];p[a].split(".").forEach(function(i){b=b[i]});return b},INPUT_PORT_KEY_PROPERTIES:I,INPUT_PORT_KEY_PROPERTY_PATH:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/line/attachFlow',["sap/viz/chart/elements/csv/line/RenderNodeSpec","sap/viz/chart/elements/csv/line/AnimationNodeSpec",'sap/viz/chart/elements/plot/BasePlot',"./AdjustValueScaleDomainNodeSpec","../attachRenderFlow","./AdjustMinCategorySizeNodeSpec","../flow/CalculateRealAxisLengthNodeSpec","sap/viz/chart/elements/plot/flow/GetPropertyNodeSpec"],function(R,A,B,a,b,c,C,G){var d=A.INPUT_PORT_RENDER_CONTEXT;var e=A.INPUT_PORT_CASE;var f=A.INPUT_PORT_PLOT_HEIGHT;var g=A.INPUT_PORT_PLOT_WIDTH;var h=A.INPUT_PORT_PLOT_HORIZONTAL;var i=A.INPUT_PORT_RANDOM_SUFFIX;var j=a.INPUT_PORT_DOMAIN;var k=a.INPUT_PORT_RANGE;var F=B.FLOW_INPUT_PORT_KEY_WIDTH;var l=B.FLOW_INPUT_PORT_KEY_HEIGHT;var m=R.INPUT_PORT_PLOT_WIDTH;var n=R.INPUT_PORT_PLOT_HEIGHT;return function(o,r,p){var q=b(o,R,r,p);var s=o._flow;var t=s.addNode(G,"lineShape");s.linkNode(p,t,G.INPUT_PORT_KEY_PROPERTIES);t.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,"marker.shape");s.linkNode(t,q,R.INPUT_PORT_SHAPE);var v=o._valueScaleRangeNode;o._valueScaleDomainNodes.forEach(function(y){var z=s.addNode(a,y.getName()+"-line-adjust");s.linkNode(v,z,k);y.getOutputLinks().forEach(function(D){var E=D.getTo();s.linkNode(z,E.getNode(),E.getName())});s.linkNode(y,z,j)});var u=s.addNode(c);s.linkNode(p,u,c.INPUT_PORT_PLOT_PROPERTIES);s.linkNode(o._axisLabelsAANode,u,c.INPUT_PORT_CATEGORY_NUMBER);s.linkNode(u,o._realAxisLengthNode,C.INPUT_PORT_CONTENT_SIZE);var w=o._horizontal;if(w){s.linkInputPortToNode(l,u,c.INPUT_PORT_PLOT_LENGTH);s.linkNode(o._realAxisLengthNode,q,n);s.linkInputPortToNode(F,q,m)}else{s.linkInputPortToNode(F,u,c.INPUT_PORT_PLOT_LENGTH);s.linkNode(o._realAxisLengthNode,q,m);s.linkInputPortToNode(l,q,n)}var x=s.addNode(A);s.linkNode(q,x,d);s.linkInputPortToNode(F,x,g);s.linkInputPortToNode(l,x,f);x.setInputPort(h,o._horizontal);x.setInputPort(i,o._randomSuffix);s.linkNode(o._animationCaseNode,x,e);return{endNode:x,shapeNode:t}}});define('sap/viz/chart/elements/csv/line/LineExtension',['sap/viz/base/utils/oo',"sap/viz/chart/elements/csv/RenderExtension","./attachFlow"],function(o,R,a){var L=function(){L.superclass.constructor.call(this,"Line")};o.extend(L,R);L.prototype.setup=function(c){var r=a(c,L.superclass.setup.apply(this,arguments),this._propsNode);this._shapeNode=r.shapeNode;return r.endNode};R.prototype.getShapeNode=function(){return this._shapeNode};return L});define('sap/viz/chart/elements/Line',['sap/viz/chart/elements/csv/createConstructor','sap/viz/chart/elements/csv/line/LineExtension'],function Setup(c,L){return c(L)});define('sap/viz/chart/elements/manifests/csv/Line',['sap/viz/modules/manifests/Module','sap/viz/chart/elements/Line','sap/viz/chart/elements/manifests/csv/Base',"sap/viz/base/utils/Objects","./LineProperties"],function Setup(M,f,B,O,L){var p={'dataLabel':{'supportedValues':{'position':{'supportedValues':['up','down','left','right']}}}};O.extend(true,p,L);var m={'id':'sap.viz.chart.elements.line','name':'line',base:'sap.viz.chart.elements.csv','properties':p,fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/csv/buildLineManifest',['sap/viz/manifests/xy/csv/buildManifest','sap/viz/chart/elements/manifests/csv/Line'],function(b,p){function c(m,h,d){var n="LINE",i="line";if(h){n="HORIZONTAL"+n;i="horizontal_"+i}if(d){i="dual_"+i}m.name=n;m.id=i}return function(h,d){return b(p,c,h,d)}});define('sap/viz/manifests/xy/csv/InfoLineChart',['./buildLineManifest'],function Setup(b){return b(false,false)});define('sap/viz/impls/InfoLineChart',['sap/viz/manifests/xy/csv/InfoLineChart'],function Setup(L){var m={viz:[].concat(L.viz),module:[].concat(L.module),feeds:[].concat(L.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualHorizontalLineChart',['./buildLineManifest'],function Setup(b){return b(true,true)});define('sap/viz/impls/InfoHorizontalLineChart',['sap/viz/manifests/xy/csv/InfoDualHorizontalLineChart'],function Setup(L){var m={viz:[].concat(L.viz),module:[].concat(L.module),feeds:[].concat(L.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualLineChart',['./buildLineManifest'],function Setup(b){return b(false,true)});define('sap/viz/impls/InfoDualLineChart',['sap/viz/manifests/xy/csv/InfoDualLineChart'],function Setup(L){var m={viz:[].concat(L.viz),module:[].concat(L.module),feeds:[].concat(L.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoHorizontalLineChart',['./buildLineManifest'],function Setup(b){return b(true,false)});define('sap/viz/impls/InfoDualHorizontalLineChart',['sap/viz/manifests/xy/csv/InfoHorizontalLineChart'],function Setup(L){var m={viz:[].concat(L.viz),module:[].concat(L.module),feeds:[].concat(L.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoStackedBarChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(true,false,S.NORMAL)});define('sap/viz/impls/InfoStackedBarChart',['sap/viz/manifests/xy/csv/InfoStackedBarChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoStackedColumnChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(false,false,S.NORMAL)});define('sap/viz/impls/InfoStackedColumnChart',['sap/viz/manifests/xy/csv/InfoStackedColumnChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualStackedBarChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(true,true,S.NORMAL)});define('sap/viz/impls/InfoDualStackedBarChart',['sap/viz/manifests/xy/csv/InfoDualStackedBarChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualStackedColumnChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(false,true,S.NORMAL)});define('sap/viz/impls/InfoDualStackedColumnChart',['sap/viz/manifests/xy/csv/InfoDualStackedColumnChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoPercentageStackedBarChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(true,false,S.PERCENTAGE)});define('sap/viz/impls/InfoPercentageStackedBarChart',['sap/viz/manifests/xy/csv/InfoPercentageStackedBarChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoPercentageStackedColumnChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(false,false,S.PERCENTAGE)});define('sap/viz/impls/InfoPercentageStackedColumnChart',['sap/viz/manifests/xy/csv/InfoPercentageStackedColumnChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualPercentageStackedBarChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(true,true,S.PERCENTAGE)});define('sap/viz/impls/InfoDualPercentageStackedBarChart',['sap/viz/manifests/xy/csv/InfoDualPercentageStackedBarChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/manifests/xy/csv/InfoDualPercentageStackedColumnChart',['./buildBarManifest',"sap/viz/chart/elements/csv/stacked/StackedMode"],function Setup(b,S){return b(false,true,S.PERCENTAGE)});define('sap/viz/impls/InfoDualPercentageStackedColumnChart',['sap/viz/manifests/xy/csv/InfoDualPercentageStackedColumnChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/chart/elements/scatter/ShapeScaleDomainNodeSpec',[],function(){var I="distinctRegionShape";var s={fn:function(p){var d=p[I];return d?d.get():[[]]},INPUT_PORT_KEY_DISTINCT_REGION_SHAPE:I};var m={};m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/renderScatter',["sap/viz/chart/elements/common/SVG",'sap/viz/util/DrawUtil'],function(S,D){return function(c){var s=S.create("path");var a={'stroke-width':1},O='0.8';var p={drawingEffect:c.properties.drawingEffect,fillColor:c.graphic.color,graphType:c.graphic.shape,direction:'vertical',rx:c.graphic.width/2,ry:c.graphic.height/2,borderWidth:a['stroke-width'],borderColor:a['stroke'],node:d3.select(s),visibility:"visible"};D.drawGraph(p,c.effectManager).attr('opacity',O);return s}});define('sap/viz/chart/elements/scatter/BubbleBinds',["sap/viz/chart/elements/data/MultiDimensionalBinds",'sap/viz/data/feed/Constants'],function(M,c){var I="regionColor",a="regionShape",b="primaryValues",d="secondaryValues",e="bubbleWidth",f="bubbleHeight";var T=c.Type,g=T.Dimension,h=T.Measure;var i={};i[I]={'name':'IDS_REGIONCOLOR','type':g,'minNumOfDimensions':0,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'acceptMND':-1};i[a]={'name':'IDS_REGIONSHAPE','type':g,'minNumOfDimensions':0,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'acceptMND':-1};i[b]={'name':'IDS_PRIMARYVALUES','type':h,'minNumOfMeasures':1,'maxNumOfMeasures':1};i[d]={'name':'IDS_SECONDARYVALUES','type':h,'minNumOfMeasures':1,'maxNumOfMeasures':1};i[e]={'name':'IDS_BUBBLEWIDTH','type':h,'minNumOfMeasures':1,'maxNumOfMeasures':1};i[f]={'name':'IDS_BUBBLEHEIGHT','type':h,'minNumOfMeasures':0,'maxNumOfMeasures':1};var r=new M(i);r.ID_REGION_COLOR=I;r.ID_REGION_SHAPE=a;r.ID_PRIMARY_VALUES=b;r.ID_SECONDARY_VALUES=d;r.ID_BUBBLE_WIDTH=e;r.ID_BUBBLE_HEIGHT=f;return r});define('sap/viz/chart/elements/scatter/RenderNodeSpec',["sap/viz/chart/elements/scatter/renderScatter","sap/viz/chart/elements/common/SVG","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/data/Constants","sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/scatter/BubbleBinds","sap/viz/chart/elements/common/DataGraphics","sap/viz/chart/elements/utils/RuleUtil"],function(r,S,D,a,T,B,b,R){var I="dataView";var c="regionColorAA";var d="regionShapeAA";var e="primaryMeasure";var f="secondaryMeasure";var g="widthMeasure";var l="heightMeasure";var o="renderContext";var q="properties";var s="effectManager";var t="width";var u="height";var v="horizontal";var z="colorPalettes";var A="shapePalettes";var C=a.DATA_ID;var M=10,E=4,F=32;var G={fn:function(J){var K=J[I];var L=J[c];var N=J[d];var O=J[e];var P=J[f];var Q=J[z];var U=J[A];var V,W;var X=false;var Y=K._measureGroups.length;for(var i=0;i<Y;i++){if(K._measureGroups[i].getId().indexOf(B.ID_BUBBLE_HEIGHT)===0){X=true}}if(J[g]){V=J[g];if(X){W=J[l]}else{W=V}}var Z=J[I];var $=J[v];var _=J[o];var a1=_.dataPointNodes;var b1=J[q];var c1=J[s];var d1=J[u];var e1=Z.getMeasureIndex(C);var f1=b1.markerRenderer||r;var g1=1,h1,i1;if(L){i1=L.getId();g1=L.getLength();h1=L.getFieldIds()}var j1=1,k1,l1;if(N){l1=N.getId();j1=N.getLength();k1=N.getFieldIds()}var m1=_.dataShapesGroupNode;var n1=S.create("g",m1);var o1={},p1=[],q1=[],r1,s1,t1,u1;var v1="primaryValues";var w1=O.getMeasure(0).getId();var x1=P.getMeasure(0).getId();var y1=V?V.getMeasure(0).getId():undefined;var z1=X?W.getMeasure(0).getId():undefined;for(var k=0;k<j1;k++){q1=[];if(N){o1[l1]=k;var A1=N.get(k);u1=A1.val;r1=A1[v1]}else{r1=U[0]}for(var j=0;j<g1;j++){if(L){o1[i1]=j;var B1=L.get(j);t1=B1.val;s1=B1[v1]}else{s1=Q[0]}var C1=[0,1];if(V){C1.push(2)}if(X){C1.push(3)}var D1=Z.getMeasureValues(o1,C1);for(var m=0,E1=D1.length;m<E1;m++){var F1=D1[m];var G1=Z.getMeasureValues(o1,[e1])[m][0].val;var H1=[];if(h1){H1.push([h1,t1])}if(k1){H1.push([k1,u1])}H1.push([w1,F1[0].val]);H1.push([x1,F1[1].val]);if(V){H1.push([y1,F1[2].val])}if(X){H1.push([z1,F1[3].val])}H1.push([C,G1]);var I1={ctx:H1,dpId:G1,color:s1,shape:r1,primaryPosition:F1[0].valuePosition,secondaryPosition:F1[1].valuePosition};if(V){I1.width=F1[2].valuePosition}if(X){I1.height=F1[3].valuePosition}else{I1.height=I1.width}if(I1.primaryPosition!==undefined&&I1.secondaryPosition!==undefined){q1.push(I1)}}}p1.push(q1)}var J1=b1.markerSize;J1=T.isExist(J1)&&J1<=F&&J1>=E?J1:M;for(var p=0,K1=p1.length;p<K1;p++){var L1=p1[p];for(var n=0,M1=L1.length;n<M1;n++){var N1=L1[n];var O1=N1.dpId;var P1=a1[O1];if(!P1){P1=D.create(n1,O1)}else{n1.appendChild(P1)}var Q1=N1.color;var x,y,w,h,R1=D.setContext(P1,N1.ctx);var S1=R.analyze(R1,b1.dataPointStyle);if(S1&&S1.color){Q1=S1.color}var T1={color:Q1,shape:N1.shape};b.setData(P1,T1);var U1={color:Q1,shape:N1.shape,x:N1.primaryPosition,y:N1.secondaryPosition,width:J1,height:J1};if(N1.width){U1.width=N1.width}if(N1.height){U1.height=N1.height}var V1={graphic:U1,properties:b1,effectManager:c1,ctx:R1};P1.setAttribute("transform","translate("+U1.x+","+U1.y+")");P1.setAttribute('stroke','#ffffff');P1.appendChild(f1(V1))}}return _},INPUT_PORT_HORIZONTAL:v,INPUT_PORT_PRIMARY_MEASURES:e,INPUT_PORT_SECONDARY_MEASURES:f,INPUT_PORT_WIDTH_MEASURES:g,INPUT_PORT_HEIGHT_MEASURES:l,INPUT_PORT_PROPERTIES:q,INPUT_PORT_RENDER_CONTEXT:o,INPUT_PORT_EFFECT_MANAGER:s,INPUT_PORT_PLOT_WIDTH:t,INPUT_PORT_PLOT_HEIGHT:u,INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS:c,INPUT_PORT_REGION_SHAPE_ANALYSIS_AXIS:d,INPUT_PORT_DATA_VIEW:I,INPUT_PORT_COLOR_PALETTES:z,INPUT_PORT_SHAPE_PALETTES:A};var H={};H[c]=true;H[d]=true;H[e]=true;H[f]=true;H[g]=false;H[l]=false;H[o]=true;H[q]=true;H[s]=true;H[t]=true;H[u]=true;H[v]=true;H[I]=true;H[z]=true;H[A]=true;G.meta=H;return G});define('sap/viz/chart/elements/scale/flow/ShapeScaleNodeSpec',['sap/viz/chart/elements/scale/OrdinalScale'],function(S){var I="domain";var a="shapePalette";var s={fn:function(p){return new S(p[I],p[a])},INPUT_PORT_DOMAIN:I,INPUT_PORT_SHAPE_PALETTE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/ScatterBinds',["sap/viz/chart/elements/data/MultiDimensionalBinds",'sap/viz/data/feed/Constants'],function(M,c){var I="regionColor",a="regionShape",b="primaryValues",d="secondaryValues";var T=c.Type,e=T.Dimension,f=T.Measure;var g={};g[I]={'name':'IDS_REGIONCOLOR','type':e,'minNumOfDimensions':0,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'acceptMND':-1};g[a]={'name':'IDS_REGIONSHAPE','type':e,'minNumOfDimensions':0,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'acceptMND':-1};g[b]={'name':'IDS_PRIMARYVALUES','type':f,'minNumOfMeasures':1,'maxNumOfMeasures':1};g[d]={'name':'IDS_SECONDARYVALUES','type':f,'minNumOfMeasures':1,'maxNumOfMeasures':1};var r=new M(g);r.ID_REGION_COLOR=I;r.ID_REGION_SHAPE=a;r.ID_PRIMARY_VALUES=b;r.ID_SECONDARY_VALUES=d;return r});define('sap/viz/chart/elements/scatter/flow/ScatterValueScaleDomainNodeSpec',["sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec","sap/viz/chart/elements/scatter/ScatterBinds","sap/viz/util/NumberUtils"],function(V,S,N){var I="measureGroup";var a=V.INPUT_PORT_PROPERTIES;var b=V.INPUT_PORT_FIXED_PROP_NAME;var c="timeBased";var B=1/6;var p=S.PRIMARY_VALUES;var s=S.SECONDARY_VALUES;var d={fn:function(e){var f=e[I];if(!f){return null}var i=f.getId();var g=e[a][e[b]];var h=g?g.minValue:null;var j=g?g.maxValue:null;var k=g?g.fixedRange:false;var l=(h!=null&&k===true);var n=(j!=null&&k===true);var o,q,r,t,u=0,w=false;e[I].iterateValues(function(z){z.forEach(function(A){A.forEach(function(C){if(C!==undefined&&!N.isNoValue(C.val)){var v=(i==='bubbleWidth'||i==='bubbleHeight')?Math.abs(C.val):C.val;if(v!==r&&v!==t){u++}if(r===undefined||v<r){r=v}if(t===undefined||v>t){t=v}}else{w=true}})})});o={fixed:l,val:l?parseFloat(h):r},q={fixed:n,val:n?parseFloat(j):t};if(o.val>q.val){o.fixed=false;o.val=r;q.fixed=false;q.val=t}if(e[c]&&i==='primaryValues'){var x=o.val===q.val?1:parseInt((q.val-o.val)*B,10);if(!o.fixed){o.val-=x}if(N.isNoValue(o.val)){o.val=0}if(!q.fixed){q.val+=x}if(N.isNoValue(q.val)){q.val=o.val+1}}else if(i==='primaryValues'||i==='secondaryValues'){if(!o.fixed){o.val=o.val<0?o.val*(1+B):0}if(N.isNoValue(o.val)){o.val=0}if(!q.fixed){q.val=q.val<0?0:q.val*(1+B)}if(N.isNoValue(q.val)){q.val=o.val+1}}var y=[o,q];y.num=u;y.withNoValue=w;return y}};var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=false;d.INPUT_PORT_MEASURE_GROUP=I;d.INPUT_PORT_TIMEBASED=c;d.meta=m;return d});define('sap/viz/chart/elements/scatter/flow/ApplyShapeScaleNodeSpec',[],function(){var I="resultName";var a="analysisAxis";var b="shapeScale";var s={fn:function(p){var c=p[b];var r=p[I]||"shape";var e=p[a];if(e){e.iterateValues(function(d){d[r]=c.scale(d.val.slice(0,1))})}return e},INPUT_PORT_RESULT_NAME:I,INPUT_PORT_ANALYSIS_AXIS:a,INPUT_PORT_SCALE:b};var m={};m[I]=false;m[a]=true;m[b]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/flow/ReferenceLineRenderer',['sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/chart/elements/common/SVG','sap/viz/TemplateManager'],function(C,T,S,a){var R="g";var b="v-referenceline-group";var c="v-referenceline-label-group";var I="#ffffff";var P=2;var e,l,f;var r={};r.draw=function(s,w,d,i,p){f=p['defaultStyle'];l=f.label;g(s,w,d,i,p['line']);h(s,w,d,i,p['line'])};function g(s,w,j,k,p){s.select("."+b).remove();var n=s.append(R).attr("class",b);for(var m in p){if(p.hasOwnProperty(m)&&k.hasOwnProperty(m)){var o=n.selectAll("g.v-referenceline-"+m).data(p[m]);o.enter().append("g");o.exit().remove();o.each(function(d,i){this.setAttribute("class","v-referenceline-"+m);if(false!==d.visible&&undefined!==d.value){this.setAttribute("stroke",d.color?d.color:f.color);if(C.GRIDLINE_TYPE.DASHED===(d.type?d.type:f.type)){this.setAttribute("stroke-dasharray","3, 2")}var q=d.size?d.size:f.size;if(q<1||q>7){q=1}this.setAttribute("stroke-width",q);this.setAttribute("shape-rendering","crispEdges");var t=S.create("line",this);var u;if(d.label&&false!==d.label.visible&&d.label.text){u=T.fastMeasure(d.label.text,d.label.style&&d.label.style.fontSize?d.label.style.fontSize:l.fontSize,d.label.style&&d.label.style.fontWeight?d.label.style.fontWeight:l.fontWeight,d.label.style&&d.label.style.fontFamily?d.label.style.fontFamily:l.fontFamily)}if(C.GRIDLINE_TYPE.INCISED===(d.type?d.type:f.type)){t.setAttribute("stroke",I)}var v=k[m].scale._scale(d.value);if(!isNaN(v)){switch(k[m].refLineDirection){case C.DIRECTION.VERTICAL:if(0<=v&&v<=w){t.setAttribute("x1",v);t.setAttribute("y1",j);t.setAttribute("x2",v);t.setAttribute("y2",u?u.height+P*2:0)}else{this.removeChild(t)}break;case C.DIRECTION.HORIZONTAL:if(0<=v&&v<=j){t.setAttribute("x1",0);t.setAttribute("y1",v);t.setAttribute("x2",u?w-u.height-P*2:w);t.setAttribute("y2",v)}else{this.removeChild(t)}break}}}})}}}function h(s,w,j,k,p){s.select("."+c).remove();var n=s.append(R).attr("class",c);for(var m in p){if(p.hasOwnProperty(m)&&k.hasOwnProperty(m)){var o=n.selectAll("g.v-referenceline-label-"+m).data(p[m]);o.enter().append("g");o.exit().remove();o.each(function(d,i){this.setAttribute("class","v-referenceline-label-"+m);if(d.label&&undefined!==d.value&&false!==d.label.visible&&d.label.text){this.setAttribute("fill",d.label.style&&d.label.style.color?d.label.style.color:l.color);this.setAttribute("font-size",d.label.style&&d.label.style.fontSize?d.label.style.fontSize:l.fontSize);this.setAttribute("font-weight",d.label.style&&d.label.style.fontWeight?d.label.style.fontWeight:l.fontWeight);this.setAttribute("font-family",d.label.style&&d.label.style.fontFamily?d.label.style.fontFamily:l.fontFamily);this.setAttribute("font-style",d.label.style&&d.label.style.fontStyle?d.label.style.fontStyle:l.fontStyle);var t=S.create("text",this);t.textContent=d.label.text;var q=T.fastMeasure(d.label.text,d.label.style&&d.label.style.fontSize?d.label.style.fontSize:l.fontSize,d.label.style&&d.label.style.fontWeight?d.label.style.fontWeight:l.fontWeight,d.label.style&&d.label.style.fontFamily?d.label.style.fontFamily:l.fontFamily);var u='font-family:'+(d.label.style&&d.label.style.fontFamily?d.label.style.fontFamily:l.fontFamily)+';font-size:'+(d.label.style&&d.label.style.fontSize?d.label.style.fontSize:l.fontSize)+';font-weight:'+(d.label.style&&d.label.style.fontWeight?d.label.style.fontWeight:l.fontWeight)+';font-style:'+(d.label.style&&d.label.style.fontStyle?d.label.style.fontStyle:l.fontStyle)+';fill:'+(d.label.style&&d.label.style.color?d.label.style.color:l.color);t.setAttribute("text-anchor","middle");t.setAttribute("dominant-baseline","central");var v=k[m].scale._scale(d.value);if(!isNaN(v)){switch(k[m].refLineDirection){case C.DIRECTION.VERTICAL:if(0<=v&&v<=w){t.setAttribute("y",q.height/2+P);var x;if(q.width<=w-P*2){if(v-q.width/2<P){x=P+q.width/2}else if(v+q.width/2>w-P){x=w-P-q.width/2}else{x=v}t.setAttribute("x",x)}else{var y;if(v<=w/2){y=v-P>=30?(v-P)*2:60;x=y/2+P}else{y=w-v-P>=30?(w-v-P)*2:60;x=w-y/2-P}t.setAttribute("x",x);T.ellipsis(d.label.text,t,y,u)}}else{this.removeChild(t)}break;case C.DIRECTION.HORIZONTAL:if(0<=v&&v<=j){t.setAttribute("x",w-q.height/2-P);var z;if(q.width<=j-P*2){if(v-q.width/2<P){z=P+q.width/2}else if(v+q.width/2>j-P){z=j-P-q.width/2}else{z=v}t.setAttribute("y",z)}else{var A;if(v<=j/2){A=v-P>=30?(v-P)*2:60;z=A/2+P}else{A=j-v-P>=30?(j-v-P)*2:60;z=j-A/2-P}t.setAttribute("y",z);T.ellipsis(d.label.text,t,A,u)}t.setAttribute("transform","rotate(90,"+(w-q.height/2-P)+","+z+")")}else{this.removeChild(t)}break}}}})}}}return r});define('sap/viz/chart/elements/scatter/flow/ReferenceLineNodeSpec',['sap/viz/chart/elements/scatter/flow/ReferenceLineRenderer'],function(R,S){var I="renderContext";var a="width";var b="height";var c="valueScale";var d="props";var e="g";var s={name:"referenceLine",description:"Draw reference line in plot area",inputPorts:[{id:I,required:true,description:"the render context"},{id:a,required:true,description:"the width of the plot area"},{id:b,required:true,description:"the height of the plot area"},{id:c,required:true,description:"the scales and direction for reference line"},{id:d,required:true,description:"the properties of the reference lines"}],output:{description:"the render context"},fn:function(p){var r=p[I];var f=p[d];var w=p[a];var h=p[b];var v=p[c];R.draw(d3.select(r.dataShapesGroupNode),w,h,v,f.referenceLine);return r},INPUT_PORT_KEY_RENDER_CONTEXT:I,INPUT_PORT_KEY_PLOT_WIDTH:a,INPUT_PORT_KEY_PLOT_HEIGHT:b,INPUT_PORT_KEY_VALUE_SCALE:c,INPUT_PORT_KEY_PROPERTIES:d};var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=true;m[d]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/flow/ScalesForReferenceLineNodeSpec',['sap/viz/modules/Constants'],function(C){var I="primaryValueScale";var a="secondaryValueScale";var s={name:"scalesForReferenceLine",description:"Draw reference line in plot area",inputPorts:[{id:I,required:true,description:"the primary value scale"},{id:a,required:true,description:"the secondary value scale"}],output:{description:"the scales and direction for reference line"},fn:function(p){var b=p[I];var c=p[a];var d={primaryValues:{scale:b,refLineDirection:C.DIRECTION.VERTICAL},secondaryValues:{scale:c,refLineDirection:C.DIRECTION.HORIZONTAL}};return d},INPUT_PORT_KEY_PRIMARY_VALUE_SCALE:I,INPUT_PORT_KEY_SECONDARY_VALUE_SCALE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/Scatter',['sap/viz/base/utils/oo','sap/viz/chart/elements/plot/BasePlot','sap/viz/chart/elements/data/flow/AnalysisAxisValuesArrayNodeSpec','sap/viz/chart/elements/scatter/ShapeScaleDomainNodeSpec','sap/viz/chart/elements/flow/Flow','sap/viz/chart/elements/scatter/RenderNodeSpec','sap/viz/chart/elements/xy/flow/XYScaleRangeNodeSpec','sap/viz/chart/elements/xy/flow/GridLineNodeSpec','sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec','sap/viz/chart/elements/scale/flow/ValueScaleNodeSpec','sap/viz/chart/elements/xy/flow/PerfectValueScaleNodeSpec','sap/viz/chart/elements/plot/flow/GetPropertyNodeSpec','sap/viz/chart/elements/scale/flow/ColorScaleNodeSpec','sap/viz/chart/elements/scale/flow/ShapeScaleNodeSpec','sap/viz/chart/elements/scatter/flow/ScatterValueScaleDomainNodeSpec','sap/viz/chart/elements/scatter/ScatterBinds','sap/viz/chart/elements/data/flow/AnalysisAxisNodeSpec','sap/viz/chart/elements/data/flow/MeasureGroupNodeSpec','sap/viz/chart/elements/xy/flow/ApplyColorScaleNodeSpec','sap/viz/chart/elements/xy/flow/ApplyValueScaleNodeSpec','sap/viz/chart/elements/scatter/flow/ApplyShapeScaleNodeSpec','sap/viz/chart/elements/scatter/flow/ReferenceLineNodeSpec','sap/viz/chart/elements/scatter/flow/ScalesForReferenceLineNodeSpec',"sap/viz/chart/elements/plot/DataPoints"],function Setup(o,B,A,S,F,R,X,G,V,a,P,b,C,c,d,e,f,M,g,h,i,j,k,D){var p="primaryScale";var s="secondaryScale";var l=B.FLOW_INPUT_PORT_KEY_DATA;var m=B.FLOW_INPUT_PORT_KEY_WIDTH;var n=B.FLOW_INPUT_PORT_KEY_HEIGHT;var q=B.FLOW_INPUT_PORT_KEY_PROPERTIES;var r=f.INPUT_PORT_DATA_VIEW;var t=f.INPUT_PORT_AXIS_INDEX;var u=M.INPUT_PORT_DATA_VIEW;var v=M.INPUT_PORT_MEASURE_GROUP_INDEX;var w=A.INPUT_PORT_AXIS;var x=g.INPUT_PORT_ANALYSIS_AXIS;var y=g.INPUT_PORT_SCALE;var z=g.INPUT_PORT_RESULT_NAME;var E=i.INPUT_PORT_ANALYSIS_AXIS;var H=i.INPUT_PORT_SCALE;var I=i.INPUT_PORT_RESULT_NAME;var J=h.INPUT_PORT_MEASURE_GROUP;var K=h.INPUT_PORT_SCALE;var L=e.ID_REGION_COLOR;var N=e.ID_REGION_SHAPE;var O=e.ID_PRIMARY_VALUES;var Q=e.ID_SECONDARY_VALUES;var T="regionColorAA";var U="regionShapeAA";var W="primaryMeasure";var Y="secondaryMeasure";var Z="dataView";var $=[e.ID_PRIMARY_VALUES,e.ID_SECONDARY_VALUES];var _=[L,N],a1=[O,Q];var b1=function(f1,g1){g1.flowName="Scatter";this._horizontal=g1.horizontal;b1.superclass.constructor.call(this,f1,g1,_,this._getBindMeasureIds())};o.extend(b1,B);var c1=$.map(function(id){return function(f1){return f1+"-"+id}});b1.prototype._addDomainAndScaleNode=function(){var f1=this._flow;var g1=g1||d1;var h1=f1.addNode(A,"colorScaleDomain");f1.linkNode(this._regionColorAANode,h1,w);h1.setInputPort(A.INPUT_PORT_GETFIRST,true);var i1=f1.addNode(A,"shapeScaleDomain");f1.linkNode(this._regionShapeAANode,i1,w);i1.setInputPort(A.INPUT_PORT_GETFIRST,true);var j1=f1.addNode(d,g1("primaryValueScaleDomain"));f1.linkNode(this._measureGroupNodes[0],j1,d.INPUT_PORT_MEASURE_GROUP);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,j1,V.INPUT_PORT_PROPERTIES);j1.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,p);j1.setInputPort(d.INPUT_PORT_TIMEBASED,this._ctx.timeBased);var k1=f1.addNode(a,g1("primaryValueScale"));f1.linkNode(j1,k1,a.INPUT_PORT_KEY_DOMAIN);f1.linkNode(this._primaryValueScaleRangeNode,k1,a.INPUT_PORT_KEY_RANGE);var l1=f1.addNode(P,g1("primaryPerfectValueScale"));f1.linkNode(k1,l1,P.INPUT_PORT_KEY_SCALE);l1.setInputPort(P.INPUT_PORT_TIMEBASED,this._ctx.timeBased);var m1=f1.addNode(d,g1("secondaryValueScaleDomain"));f1.linkNode(this._measureGroupNodes[1],m1,d.INPUT_PORT_MEASURE_GROUP);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,m1,V.INPUT_PORT_PROPERTIES);m1.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,s);var n1=f1.addNode(a,g1("valueScale"));f1.linkNode(m1,n1,a.INPUT_PORT_KEY_DOMAIN);f1.linkNode(this._secondaryValueScaleRangeNode,n1,a.INPUT_PORT_KEY_RANGE);var o1=f1.addNode(P,g1("secondaryPerfectValueScale"));f1.linkNode(n1,o1,P.INPUT_PORT_KEY_SCALE);this._colorPaletteNode=f1.addNode(b,g1("colorPalette"));f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,this._colorPaletteNode,b.INPUT_PORT_KEY_PROPERTIES);this._colorPaletteNode.setInputPort(b.INPUT_PORT_KEY_PROPERTY_PATH,'colorPalette');var p1=f1.addNode(C,g1("colorScale"));f1.linkNode(this._colorPaletteNode,p1,C.INPUT_PORT_COLOR_PALETTE);f1.linkNode(h1,p1,C.INPUT_PORT_DOMAIN);p1.setInputPort(C.INPUT_PORT_DUAL,this._ctx.dual);p1.setInputPort(C.INPUT_PORT_PROPERTIES,this._props);this._shapePaletteNode=f1.addNode(b,g1("shapePalette"));f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,this._shapePaletteNode,b.INPUT_PORT_KEY_PROPERTIES);this._shapePaletteNode.setInputPort(b.INPUT_PORT_KEY_PROPERTY_PATH,'shapePalette');var q1=f1.addNode(c,g1("shapeScale"));f1.linkNode(this._shapePaletteNode,q1,c.INPUT_PORT_SHAPE_PALETTE);f1.linkNode(i1,q1,c.INPUT_PORT_DOMAIN);this._valuesColumnIds=[];this._valuesColumnIds.push(p);this._valuesColumnIds.push(s);this._colorScaleNode=p1;this._shapeScaleNode=q1;this._primaryValueScaleNode=l1;this._secondaryValueScaleNode=o1;var r1=this._applyColorScaleNode=f1.addNode(g,g1("applyColorScale"));f1.linkNode(p1,r1,y);f1.linkNode(this._regionColorAANode,r1,x);r1.setInputPort(z,a1[0]);r1.setInputPort(g.INPUT_PORT_BYFIRST,true);var s1=this._applyShapeScaleNode=f1.addNode(i,g1("applyShapeScale"));f1.linkNode(q1,s1,H);f1.linkNode(this._regionShapeAANode,s1,E);s1.setInputPort(I,a1[0])};b1.prototype._buildApplyValueScaleMeasuresNodes=function(f1,g1,h1,i1,j1){var k1=this._flow;var l1=k1.addNode(h1,i1);k1.linkNode(g1,l1,K);k1.linkNode(this._measureGroupNodes[f1],l1,J);return l1};b1.prototype._buildMeasureModelsNode=function(){this._addDomainAndScaleNode();return this._buildApplyScalesNodesGroup()};b1.prototype._buildApplyScalesNodesGroup=function(){var f1=this._flow;var g1=d1;var h1=[];h1[0]=this._buildApplyValueScaleMeasuresNodes(0,this._primaryValueScaleNode,h,'applyPrimaryValueScale',c1[0]);h1[1]=this._buildApplyValueScaleMeasuresNodes(1,this._secondaryValueScaleNode,h,'applySecondaryValueScale',c1[1]);return[this._applyColorScaleNode,this._applyShapeScaleNode,h1[0],h1[1]]};var d1=function(f1){return f1};function e1(f1,g1,h1,i1){var j1=f1.addNode(f,i1);f1.linkNode(g1,j1,r);j1.setInputPort(t,h1);return j1}b1.prototype._getBindMeasureIds=function(){return a1};b1.prototype._initializeFlow=function(){b1.superclass._initializeFlow.apply(this,arguments);var f1=this._flow;var g1=this._dataViewNode;var h1=this._regionColorAANode=e1(f1,g1,L,"regionColorAnalysisAxis");var i1=this._regionShapeAANode=e1(f1,g1,N,"regionShapeAnalysisAxis");this._measureGroupNodes=this._getBindMeasureIds().map(function(id,o1){var p1=f1.addNode(M,"measureGroup-"+id);f1.linkNode(this._dataViewNode,p1,u);p1.setInputPort(v,id);return p1},this);var j1=f1.addNode(X,"widthScaleRange");f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,j1,X.INPUT_PORT_KEY_LENGTH);var k1=f1.addNode(X,"heightScaleRange");f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,k1,X.INPUT_PORT_KEY_LENGTH);var l1=false;this._primaryValueScaleRangeNode=j1;this._secondaryValueScaleRangeNode=k1;this._secondaryValueScaleRangeNode.setInputPort(X.INPUT_PORT_KEY_REVERSE,true);var m1=this._buildMeasureModelsNode();this._appliedScaleRegionColorAANode=m1[0];this._appliedScaleRegionShapeAANode=m1[1];this._appliedPrimaryValueScaleMeasuresNode=m1[2];this._appliedSecondaryValueScaleMeasuresNode=m1[3];var n1=f1.addNode(G,"gridLine");f1.linkNode(this._buildRenderContextNode,n1,G.INPUT_PORT_KEY_RENDER_CONTEXT);f1.linkNode(this._getSecondaryValueScaleNode(),n1,G.INPUT_PORT_KEY_VALUE_SCALE);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,n1,G.INPUT_PORT_KEY_PLOT_WIDTH);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,n1,G.INPUT_PORT_KEY_PLOT_HEIGHT);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,n1,G.INPUT_PORT_KEY_PROPERTIES);n1.setInputPort(G.INPUT_PORT_KEY_HORIZONTAL,this._horizontal);this._gridLineNode=n1;return this._buildRenderFlow(f1)};b1.prototype.getColorScale=function(){return this._flow.getOutput(this._getColorScaleNode())};b1.prototype.getColorBindings=function(){return this._getBindings("regionColor")};b1.prototype.getShapeScale=function(){return this._flow.getOutput(this._getShapeScaleNode())};b1.prototype.getColorShapeFields=function(){var f1=[];var g1=this._flow.getOutput(this._regionColorAANode);if(g1){f1=f1.concat(g1.getFields().slice(0,1))}var h1=this._flow.getOutput(this._regionShapeAANode);if(h1){f1=f1.concat(h1.getFields().slice(0,1))}return f1};b1.prototype.getPrimaryScale=function(){return this._flow.getOutput(this._getPrimaryValueScaleNode())};b1.prototype.getPrimaryValuesFields=function(){return this._flow.getOutput(this._measureGroupNodes[0]).getFields()};b1.prototype.getSecondaryValuesFields=function(){return this._flow.getOutput(this._measureGroupNodes[1]).getFields()};b1.prototype._getPrimaryValueScaleNode=function(){return this._primaryValueScaleNode};b1.prototype.getSecondaryScale=function(){return this._flow.getOutput(this._getSecondaryValueScaleNode())};b1.prototype._getSecondaryValueScaleNode=function(){return this._secondaryValueScaleNode};b1.prototype._getColorScaleNode=function(){return this._colorScaleNode};b1.prototype._getShapeScaleNode=function(){return this._shapeScaleNode};b1.prototype._getDataLabelInfo=function(f1){var g1=D.getContext(f1);return{key:this._data.feeding.secondaryValues[0],value:g1[this._data.feeding.secondaryValues[0]]}};b1.prototype._buildRenderFlow=function(f1){var g1=f1.addNode(R,"render");f1.linkNode(this._dataViewNode,g1,Z);f1.linkNode(this._appliedScaleRegionColorAANode,g1,T);f1.linkNode(this._appliedScaleRegionShapeAANode,g1,U);f1.linkNode(this._appliedPrimaryValueScaleMeasuresNode,g1,W);f1.linkNode(this._appliedSecondaryValueScaleMeasuresNode,g1,Y);f1.linkNode(this._colorPaletteNode,g1,R.INPUT_PORT_COLOR_PALETTES);f1.linkNode(this._shapePaletteNode,g1,R.INPUT_PORT_SHAPE_PALETTES);f1.linkInputPortToNode(m,g1,R.INPUT_PORT_PLOT_WIDTH);f1.linkInputPortToNode(n,g1,R.INPUT_PORT_PLOT_HEIGHT);f1.linkNode(this._gridLineNode,g1,R.INPUT_PORT_RENDER_CONTEXT);f1.linkInputPortToNode(q,g1,R.INPUT_PORT_PROPERTIES);g1.setInputPort(R.INPUT_PORT_EFFECT_MANAGER,this._effectManager);g1.setInputPort(R.INPUT_PORT_HORIZONTAL,this._horizontal);var h1=f1.addNode(j);f1.linkNode(g1,h1,j.INPUT_PORT_KEY_RENDER_CONTEXT);var i1=f1.addNode(k);f1.linkNode(this._getPrimaryValueScaleNode(),i1,k.INPUT_PORT_KEY_PRIMARY_VALUE_SCALE);f1.linkNode(this._getSecondaryValueScaleNode(),i1,k.INPUT_PORT_KEY_SECONDARY_VALUE_SCALE);f1.linkNode(i1,h1,j.INPUT_PORT_KEY_VALUE_SCALE);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,h1,j.INPUT_PORT_KEY_PLOT_WIDTH);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,h1,j.INPUT_PORT_KEY_PLOT_HEIGHT);f1.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,h1,j.INPUT_PORT_KEY_PROPERTIES);this._renderNode=g1;this._referenceLineNode=h1;return h1};return b1});define('sap/viz/chart/elements/Scatter',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/chart/elements/scatter/Scatter'],function Setup(o,B,S){var F=function(m,c){var a=S;return new a(m,c)};o.extend(F,B);return F});define('sap/viz/chart/elements/manifests/scatter/Base',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/scatter/ScatterBinds',"sap/viz/chart/elements/manifests/Plot"],function Setup(M,C,b,P){var m={'id':'sap.viz.chart.elements.baseScatter','abstract':true,'name':'base scatter','base':"sap.viz.chart.elements.plot",'properties':{'gridline':{'name':'gridline','description':'Settings for axis gridline.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis gridline.'},'color':{'name':'color','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Set color of gridline.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set line stroke width of gridline.'},'type':{'name':'type','supportedValueType':'String','supportedValues':[C.GRIDLINE_TYPE.SOLID,C.GRIDLINE_TYPE.DASHED,C.GRIDLINE_TYPE.INCISEDS],'defaultValue':C.GRIDLINE_TYPE.SOLID,'description':'Set render type of gridline.'}}},'primaryScale':{'name':'primaryScale','description':'Set scale for value axis. this property just work on value type axis.','supportedValueType':'Object','supportedValues':{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Set whether the axis range is limited to the range between the minValue and maxValue"},'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':null,'description':'Set minValue of primary data value. Setting null stands for disable.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':null,'description':'Set maxValue of primary data value. Setting null stands for disable.'}}},'secondaryScale':{'name':'secondaryScale','description':'Set scale for value axis. this property just work on value type axis.','supportedValueType':'Object','supportedValues':{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Set whether the axis range is limited to the range between the minValue and maxValue"},'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':null,'description':'Set minValue of secondary data value. Setting null stands for disable.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':null,'description':'Set maxValue of secondary data value. Setting null stands for disable.'}}},'referenceLine':{'name':'referenceLine','description':'Set reference line value & style','supportedValueType':'Object','isExported':false,'supportedValues':{'defaultStyle':{'name':'defaultStyle','description':'Set the default style for the reference line and label text.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','description':'Set the default color of the reference line.','supportedValueType':'String','defaultValue':'#666666'},'size':{'name':'size','description':'Set the default stroke width of the reference line.','supportedValueType':'Number','defaultValue':1},'type':{'name':'type','description':'Set the default line type of the reference line.','supportedValueType':'String','supportedValues':[C.GRIDLINE_TYPE.SOLID,C.GRIDLINE_TYPE.DASHED,C.GRIDLINE_TYPE.INCISED],'defaultValue':C.GRIDLINE_TYPE.DASHED},'label':{'name':'label','description':'Set the default label text style for the reference line.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','description':'Set the default font color for the label.','supportedValueType':'String','defaultValue':'#333333'},'fontSize':{'name':'fontSize','description':'Set the default font size for the label.','supportedValueType':'String','defaultValue':'12px'},'fontFamily':{'name':'fontFamily','description':'Set the default font family for the label.','supportedValueType':'String','defaultValue':'"Open Sans", Arial, Helvetica, sans-serif'},'fontWeight':{'name':'fontWeight','description':'Set the default font weight for the label.','supportedValueType':'String','defaultValue':'normal'},'fontStyle':{'name':'fontStyle','description':'Set the default font style for the label.','supportedValueType':'String','defaultValue':'normal'}}}}},'line':{'name':'line','description':'<div style="line-height: 16px;"><div>Set reference line value & style individually. This property can accept an object using value scale name (i.e. primaryValues and so on) as property name, and an object array as property value, in which the object describes the reference line value and style. If there is no style setting within it, the default style will be adopted.</div><div>The structure of referenceLine is as following:</div><div style="padding-left: 24px"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">primaryValues</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>ObjectArray</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Lines refers to the primary value scale. Each line should at least contains the value property.</div><div>The structure of the object in the array is as following:</div><div style="padding-left: 24px; margin-bottom: 4px;"><div style="color: #007dc0; font-weight: normal; line-height: 24px;">value</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Number</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the value of the reference line, which describes the position of the it.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">visible</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Boolean</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>true</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the visibility of the reference line.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">color</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"#666666"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the color of the reference line.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">size</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Number</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"1"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the stroke width of the reference line.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">type</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">SupportedValue: </span>["line", "dotted", "incised"]</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"line"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the line type of the reference line.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">label</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the label text & style for the reference line.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">text</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the text of the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">visible</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Boolean</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>true</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the visibility of the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">style</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>Object</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the style of the font for the label.</div><div style="padding-left: 24px;"><div style="color: #007dc0; font-weight: bold; line-height: 24px;">color</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"#666666"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the font color for the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">fontSize</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"12px"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the font size for the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">fontFamily</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"\'Open Sans\', Arial, Helvetica, sans-serif"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the font family for the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">fontWeight</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"bold"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the font weight for the label.</div><div style="color: #007dc0; font-weight: bold; line-height: 24px;">fontStyle</div><div><span style="color: #BCD; font-weight: bold;">SupportedType: </span>String</div><div><span style="color: #BCD; font-weight: bold;">DefaultValue: </span>"normal"</div><div><span style="color: #BCD; font-weight: bold;">Description: </span>Set the font style for the label.</div></div></div></div></div>','supportedValueType':'RuleObject','uncheck':true,'defaultValue':{}}}},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set color palette for non-dual chart. Or dual chart\'s color palette when MND is not fed on legend color.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'shapePalette':{'name':'shapePalette','supportedValueType':'StringArray','defaultValue':['circle','square','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'supportedValues':['circle','square','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'description':'Set marker shape of bubble.'},'markerRenderer':{'name':'markerRenderer','supportedValueType':'Function','defaultValue':null},'markerSize':{'name':'markerSize','supportedValueType':'PositiveInt','defaultValue':10,'description':'Set marker size of data point. The available range is from 4 to 32.'}},'feeds':b.toArray()};var a={viz:[],module:[m].concat(P.module),feeds:[]};return a});define('sap/viz/chart/elements/manifests/scatter/Scatter',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Scatter','sap/viz/chart/elements/manifests/scatter/Base'],function Setup(M,C,f,B){var m={'id':'sap.viz.chart.elements.scatter','abstract':false,'base':'sap.viz.chart.elements.baseScatter','type':C.Type.Chart,'name':'scatter','datastructure':'DATA STRUCTURE DOC','properties':{'dataLabel':{'supportedValues':{'position':{'supportedValues':['up','down','left','right'],'defaultValue':"up"}}}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/scatter/InfoScatterChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/scatter/Scatter','sap/viz/manifests/xy/InfoBaseXYChart'],function Setup(M,C,p,I){var c={id:'info/scatter',name:'IDS_SCATTERCHART',base:'info/baseXY',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.chart.elements.scatter',configure:{description:'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea'}},xAxis:{id:'sap.viz.chart.elements.axis.value',configure:{properties:{layout:{maxHeight:'0.25'}},propertyCategory:'valueAxis',propertiesOverride:{layout:{maxWidth:{isExported:false}}}}},yAxis:{id:'sap.viz.chart.elements.axis.value',configure:{properties:{layout:{maxWidth:'0.25'}},propertyCategory:'valueAxis2',propertiesOverride:{layout:{maxHeight:{isExported:false}}}}},xAxis2:null,yAxis2:null}}}}},dependencies:{attributes:[undefined,{targetModule:'root.legends.legend',target:'setBindingFields',sourceModule:'root.main.plot',source:'getColorShapeFields'},{targetModule:'root.legends.legend',target:'setShapeScale',sourceModule:'root.main.plot',source:'getShapeScale'},{targetModule:'root.main.xAxis',target:'setScale',sourceModule:'root.main.plot',source:'getPrimaryScale'},{targetModule:'root.main.yAxis',target:'setScale',sourceModule:'root.main.plot',source:'getSecondaryScale'},{targetModule:'root.main.xAxis',target:'setBindingFields',sourceModule:'root.main.plot',source:'getPrimaryValuesFields'},{targetModule:'root.main.yAxis',target:'setBindingFields',sourceModule:'root.main.plot',source:'getSecondaryValuesFields'}]}};var m={viz:[c].concat(),module:[].concat(p.module),feeds:[].concat(p.feeds)};return m});define('sap/viz/impls/InfoScatterChart',['sap/viz/manifests/scatter/InfoScatterChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/chart/elements/scatter/flow/ApplySizeScaleNodeSpec',["sap/viz/util/NumberUtils"],function(N){var I="measureGroup";var a="valueScale";var b="valuePropertyName";var s={description:"apply the value scale to MeasureGroup and attach the result",inputPorts:[{id:I,required:true,description:'the MeasureGroup object'},{id:a,required:true,description:"the value scale"},{id:b,required:false,description:'a string which is the name of source property. It will get the source value from value object with this property. Default is "val"'}],output:{description:"the MeasureGroup object which has been applied value scale"},fn:function(p){var c=p[I];if(!c){return}var e=p[a];var f=p[b]||"val";c.iterateValues(function(g){g.forEach(function(h){h.forEach(function(d){if(d!==undefined){if(d.hasOwnProperty(f)){var v=(null==d[f]?d[f]:Math.abs(d[f]));d.valuePosition=e.scale(v)}}})})});return c},INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_SCALE:a,INPUT_PORT_VALUE_PROP_NAME:b};var m={};m[I]=true;m[a]=true;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/scatter/flow/SizeScaleDomainNodeSpec',['sap/viz/util/NumberUtils',"sap/viz/chart/elements/scatter/BubbleBinds","sap/viz/chart/elements/plot/BasePlot"],function(N,B,a){var I="dataView";var b="domain";var c=a.FLOW_INPUT_PORT_KEY_WIDTH;var d=a.FLOW_INPUT_PORT_KEY_HEIGHT;var e=a.FLOW_INPUT_PORT_KEY_PROPERTIES;var f="forWidth";var g=1/6;var s={fn:function(p){var h=p[b];var j=p[e].markerSize;if(!h){return{scale:function(C){return j}}}var k=p[I];var l=p[f];var n=p[c];var o=p[d];var q=false;var t=k._measureGroups.length;for(var i=0;i<t;i++){if(k._measureGroups[i].getId().indexOf(B.ID_BUBBLE_HEIGHT)===0){q=true}}var u=p[e].minMarkerSize;var v;if(l){v=(!q&&(o<n))?o:n}else{v=o}var r,w,x=v*g;if(u){if(u<0){u=j}w=u<x?u:x}var M=h[0].val,y=h[1].val;var z=h.withNoValue;var A=function(C){if(N.isNoValue(C)||(N.isNoValue(y)&&N.isNoValue(M))){return w?w:4}if(M===y){if(z){return x}else{return j}}if(w){if(y>M&&C>=M&&C<=y){r=Math.pow((Math.abs(C)-M)/(y-M),0.5)*(x-w)+w}else{r=w}}else{r=Math.pow(Math.abs(C)/y,0.5)*x}return r>4?r:4};return{scale:A}},INPUT_PORT_DATA_VIEW:I,INPUT_PORT_KEY_DOMAIN:b,INPUT_PORT_KEY_PLOT_WIDTH:c,INPUT_PORT_KEY_PLOT_HEIGHT:d,INPUT_PORT_KEY_FOR_WIDTH:f,INPUT_PORT_KEY_PROPERTIES:e};var m={};m[I]=true;m[b]=true;m[c]=true;m[d]=true;m[f]=true;m[e]=true;s.meta=m;return s});define('sap/viz/chart/elements/scatter/Bubble',['sap/viz/base/utils/oo','sap/viz/chart/elements/scatter/Scatter','sap/viz/chart/elements/plot/BasePlot','sap/viz/chart/elements/common/DataGraphics','sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec','sap/viz/chart/elements/scatter/flow/ApplySizeScaleNodeSpec','sap/viz/chart/elements/scatter/flow/SizeScaleDomainNodeSpec','sap/viz/chart/elements/scatter/flow/ScatterValueScaleDomainNodeSpec','sap/viz/chart/elements/flow/Flow','sap/viz/chart/elements/scatter/RenderNodeSpec','sap/viz/chart/elements/data/MeasureNamesDimension','sap/viz/chart/elements/data/Constants','sap/viz/chart/elements/scatter/ScatterBinds','sap/viz/chart/elements/scatter/BubbleBinds'],function Setup(o,S,B,D,V,A,a,b,F,R,M,c,d,e,C){var w="bubbleWidth";var h="bubbleHeight";var f=['widthValues','heightValues'];var g=M.BIND_ID;var i=c.DATA_ID;var j=d.ID_PRIMARY_VALUES;var k=d.ID_SECONDARY_VALUES;var l=e.ID_BUBBLE_WIDTH;var m=e.ID_BUBBLE_HEIGHT;var n=[j,k,l,m];var p=function(s,t){t.flowName="Bubble";this._horizontal=t.horizontal;p.superclass.constructor.call(this,s,t)};o.extend(p,S);var q=f.map(function(s){return function(t){return t+"-"+s}});p.prototype._getBindMeasureIds=function(){return n};p.prototype._buildMeasureModelsNode=function(){p.superclass._addDomainAndScaleNode.apply(this,arguments);var s=this._flow;var t=t||r;var u=s.addNode(b,t("widthScaleDomain"));s.linkNode(this._measureGroupNodes[2],u,b.INPUT_PORT_MEASURE_GROUP);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,u,V.INPUT_PORT_PROPERTIES);u.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,w);var v=s.addNode(b,t("heightScaleDomain"));s.linkNode(this._measureGroupNodes[3],v,b.INPUT_PORT_MEASURE_GROUP);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,v,V.INPUT_PORT_PROPERTIES);v.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,h);var x=s.addNode(a,t("perfectWidthScale"));s.linkNode(this._dataViewNode,x,R.INPUT_PORT_DATA_VIEW);s.linkNode(u,x,a.INPUT_PORT_KEY_DOMAIN);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,x,a.INPUT_PORT_KEY_PLOT_WIDTH);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,x,a.INPUT_PORT_KEY_PLOT_HEIGHT);x.setInputPort(a.INPUT_PORT_KEY_FOR_WIDTH,true);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,x,R.INPUT_PORT_PROPERTIES);var y=s.addNode(a,t("perfectHeightScale"));s.linkNode(this._dataViewNode,y,R.INPUT_PORT_DATA_VIEW);s.linkNode(v,y,a.INPUT_PORT_KEY_DOMAIN);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,y,a.INPUT_PORT_KEY_PLOT_WIDTH);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,y,a.INPUT_PORT_KEY_PLOT_HEIGHT);y.setInputPort(a.INPUT_PORT_KEY_FOR_WIDTH,false);s.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,y,R.INPUT_PORT_PROPERTIES);var z=p.superclass._buildApplyScalesNodesGroup.apply(this,arguments);this._appliedWidthValueScaleMeasuresNode=this._buildApplyValueScaleMeasuresNodes(2,x,A,'applyWidthValueScale',q[0]);this._appliedHeightValueScaleMeasuresNode=this._buildApplyValueScaleMeasuresNodes(3,y,A,'applyHeightValueScale',q[1]);this._widthScaleDomainNode=u;this._widthValueScaleNode=x;return z};p.prototype._buildRenderFlow=function(s){p.superclass._buildRenderFlow.apply(this,arguments);var t=this._renderNode;s.linkNode(this._appliedWidthValueScaleMeasuresNode,t,R.INPUT_PORT_WIDTH_MEASURES);s.linkNode(this._appliedHeightValueScaleMeasuresNode,t,R.INPUT_PORT_HEIGHT_MEASURES);return this._referenceLineNode};p.prototype.getBubbleWidthFields=function(){var s=this._flow.getOutput(this._measureGroupNodes[2]);if(s){return s.getFields()}return null};p.prototype.getSizeLegendInfo=function(){var s=this._flow.getOutput(this._widthScaleDomainNode);if(!s){return null}var t=this._flow.getOutput(this._widthValueScaleNode).scale;var u=s[1].val,v=s[0].val,x;if(u===v){if(u===undefined){x=[]}else{if(s.withNoValue){x=[u,null]}else{x=[u]}}}else if(s.withNoValue){if(u/2>v){x=[u,u/2,null]}else{x=[u,null]}}else if(s.num>2){x=[u,(u+v)/2,v]}else if(s.num===2){x=[u,v]}return{labels:x,scale:t,semanticStyle:this._props.dataPointStyle}};p.prototype._computeDataLabelTranslate=function(s,t,u,v){var x=this._fixBBoxWhenInvisible(s);if(this._props.dataLabel.respectShapeWidth&&(v.width>x.width)){return}return this._computeDataLabelPosition(t,x,u,v)};p.prototype.isTimeBubble=function(){return this._ctx.timeBased};var r=function(s){return s};return p});define('sap/viz/chart/elements/Bubble',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/chart/elements/scatter/Bubble'],function Setup(o,B,a){var F=function(m,c){var b=a;return new b(m,c)};o.extend(F,B);return F});define('sap/viz/chart/elements/manifests/scatter/Bubble',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Bubble','sap/viz/chart/elements/manifests/scatter/Base','sap/viz/chart/elements/scatter/BubbleBinds'],function Setup(M,C,f,B,b){var m={'id':'sap.viz.chart.elements.bubble','abstract':false,'base':'sap.viz.chart.elements.baseScatter','type':C.Type.Chart,'name':'bubble','datastructure':'DATA STRUCTURE DOC','properties':{'minMarkerSize':{'name':'minMarkerSize','supportedValueType':'PositiveInt','defaultValue':undefined,'description':'Set minimum marker size of data point.'},'dataLabel':{'supportedValues':{'position':{'supportedValues':['up','down','left','right','inside'],'defaultValue':"inside"},'respectShapeWidth':{'name':'respectShapeWidth','supportedValueType':'Boolean','defaultValue':false,'description':"If set to 'true', the data label is automatically hidden when bubble width isn't enough to show the whole label in single bubble chart.",'isExported':false}}}},fn:f,'feeds':b.toArray()};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/legend/SizeLegend',['sap/viz/base/utils/oo','sap/viz/chart/elements/legend/BaseLegend','sap/viz/util/TextUtils','sap/viz/util/DrawUtil','sap/viz/base/utils/TypeUtils','sap/viz/format/FormatManager','sap/viz/lang/langManager'],function(o,B,T,D,a,F,l){var S=function(m,c){S.superclass.constructor.apply(this,arguments);this._labelFont={'fontfamily':this._props.label.style.fontFamily,'fontsize':this._props.label.style.fontSize,'fontweight':this._props.label.style.fontWeight,'color':this._props.label.style.color,'fontstyle':this._props.label.style.fontStyle};this._layoutInfo={guideLineWidth:10,labelPaddingLeft:15};this._labels=[];this._scale=null;this._semanticStyle=null;this._labelHeight=0;this._selection=null};o.extend(S,B);S.prototype.render=function(s,n){this._selection=s;if(!n){return}if(this._scale&&this._labels.length>0){S.superclass.render.apply(this,arguments)}if(!this._isVisible()){s.selectAll('g.v-content').remove();return this}if(this._scale&&this._labels.length>0){var b=s.selectAll('g.v-content').data(['content']);b.enter().append('g').classed('v-content',true).classed('v-label',true).classed('viz-legend-valueLabel',true);b.exit().remove();b.attr('transform','translate(0, '+this._pos.y+')');var t=parseInt(this._labelFont.fontsize,10);var v=[],c="font-size:"+this._labelFont.fontsize+"; font-weight:"+this._labelFont.fontweight+"; font-family:"+this._labelFont.fontfamily+"; font-style:"+this._labelFont.fontstyle;if(this._labelHeight===0){this._labelHeight=T.fastMeasure('M',this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).height}var e=Math.floor((this._scale(this._labels[0])+t)/this._labelHeight);switch(e){case 0:case 1:v.push(this._labels[0]);break;case 2:v.push(this._labels[0]);if(this._labels.length>1){v.push(this._labels[this._labels.length-1])}break;default:v=this._labels}var f=[],m=-1,g,h;for(var i=0,j=v.length;i<j;i++){f.push(this._scale(v[i])/2);h=this._getLabelValue(v[i]);g=T.fastMeasure(h,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).width;if(g>m){m=g}}var k=f[0];var w=b;var p=w.selectAll('g.v-circles');if(!p.empty()){p.remove()}p=w.append('g').attr('class','v-circles').data([f]);p.attr('transform','translate('+k+','+(k+t/2)+')');var q='#748CB2';var u=true;if(!u&&this._semanticStyle&&!a.isEmptyObject(this._semanticStyle)){if(this._semanticStyle.others&&this._semanticStyle.others.properties&&this._semanticStyle.others.properties.color){q=this._semanticStyle.others.properties.color}}var r={drawingEffect:this._props.drawingEffect,graphType:'circle',fillColor:q};var x=this._ctx.effectManager.register(r);var y=p.selectAll('path').data(f,function(d,i){return d});y.exit().remove();y.enter().append('path').attr('stroke','white').attr('stroke-width',1).attr('fill',x).attr('opacity','1').attr('fill-opacity','0.85');y.attr('d',function(d,i){return D.createMarkerData({type:'circle',borderWidth:0,rx:d,ry:d})}).attr('transform',function(d,i){return['translate(',0,',',k-d,')'].join('')});var z=w.selectAll('g.v-valueLabels');if(z.empty()){z=w.append('g').attr('class','v-valueLabels').data([v])}var A=(k*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m)>this._sizeLA_width?this._sizeLA_width:(k*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m);z.attr('transform','translate('+A+', '+(k+t)+')');var C=z.selectAll('text').data(v,function(d,i){return d});C.exit().remove();C.enter().append('text').attr('text-anchor','end');var E=this;C.text(function(d,i){return E._getLabelValue(d)}).attr('dx',0).attr('dy',function(d,i){var H=(i-1)*k-2;if(v.length===2&&i===1){H=k-2}return H});var G=w.selectAll('g.v-guideLines');if(!G.empty()){G.remove()}G=w.append('g').attr('class','v-guideLines').attr('transform','translate('+k+','+(k+t/2)+')');if(v.length>0){G.append('path').attr('stroke','gray').attr('d','M 0 '+-k+' L '+(k+this._layoutInfo.guideLineWidth)+" "+-k)}if(v.length>1){G.append('path').attr('stroke','gray').attr('d','M 0 '+k+'L'+(k+this._layoutInfo.guideLineWidth)+" "+k)}if(v.length>2){G.append('path').attr('stroke','gray').attr('d','M 0 '+(k-f[1])+' L '+k+" 0"+' M '+k+" 0 "+" L "+(k+this._layoutInfo.guideLineWidth)+" 0")}w.attr('font-family',this._labelFont.fontfamily).attr('font-size',this._labelFont.fontsize).attr('font-weight',this._labelFont.fontweight).attr('fill',this._labelFont.color).attr('font-style',this._labelFont.fontstyle)}return this};S.prototype.destroy=function(){S.superclass.destroy.apply(this,arguments)};S.prototype.getPreferredSize=function(){if(!this._scale||this._labels.length===0){return{width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}}return S.superclass.getPreferredSize.apply(this,arguments)};S.prototype._getBodyPreferredSize=function(){this._getThemeStyleDef();var m=0,b=0,c=0,d=0;if(this._scale&&this._labels.length>0){var e=this._labels,v,f=[],g=-1,h,i,j;for(i=0,j=e.length;i<j;i++){v=this._getLabelValue(e[i]);f[i]=T.fastMeasure(v,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily);if((f[i]===undefined)||(f[i].width>g)){g=f[i].width}}var s=g+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth;h=this._scale(e[0]);b=h+f[j-1].height;m=h+s;c=h+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+f[0].width;d=b;if(this._props.position==='top'||this._props.position==='bottom'){m=m+f[j-1].height;c=c+f[j-1].height}else{b=b+f[j-1].height;d=b}}return{maxWidth:m,maxHeight:b,minWidth:c,minHeight:d}};S.prototype.setSizeLegendInfo=function(i){if(!i){return}this._labels=i.labels;this._scale=i.scale;this._semanticStyle=i.semanticStyle;if(this._selection){this.render(this._selection,true)}};S.prototype._getThemeStyleDef=function(){S.superclass._getThemeStyleDef.apply(this,arguments);var v;v={"fill":this._props.label.style.color,"font-family":this._props.label.style.fontFamily,"font-size":this._props.label.style.fontSize,"font-weight":this._props.label.style.fontWeight,"font-style":this._props.label.style.fontStyle};if(v){if(v['fill']){this._labelFont.color=v['fill']}if(v['font-family']){this._labelFont.fontfamily=v['font-family']}if(v['font-size']){this._labelFont.fontsize=v['font-size']}if(v['font-weight']){this._labelFont.fontweight=v['font-weight']}if(v['font-style']){this._labelFont.fontstyle=v['font-style']}}};S.prototype._getLabelValue=function(v){v=(v===null)?l.get('IDS_ISNOVALUE'):v;v=F.format(v,this._props.formatString);return v};var _=function(v){return v.join(" / ")};return S});define('sap/viz/chart/elements/manifests/legend/SizeLegend',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/legend/BaseLegend','sap/viz/chart/elements/legend/SizeLegend'],function Setup(M,C,B,f){var m={'id':'sap.viz.chart.elements.legend.sizeLegend','type':C.Type.Supplementary,'base':'sap.viz.chart.elements.legend.base','name':'Size legend','description':'The legend is a box containing a symbol and name for each series item or point item in the chart.','properties':{'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':null,'description':'Set format string of legend. Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of legend.','isExported':true,'example':"<a href='"+C.DocExample.SnippetUrl+"9606' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},'css':{},'configure':null,fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/scatter/InfoBubbleChart',['sap/viz/manifests/Viz','sap/viz/chart/elements/manifests/scatter/Bubble','sap/viz/manifests/scatter/InfoScatterChart','sap/viz/chart/elements/manifests/legend/SizeLegend'],function Setup(M,p,I,S){var c={id:'info/bubble',name:'IDS_BUBBLECHART',base:'info/scatter',modules:{root:{modules:{legends:{configure:{propertyCategory:'legendGroup',properties:{layout:{height:0.25}}},modules:{sizeLegend:{id:'sap.viz.chart.elements.legend.sizeLegend',configure:{description:'Settings for the size legend.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend',layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}},legend:{configure:{properties:{layout:{order:1}}}}}},main:{modules:{plot:{id:'sap.viz.chart.elements.bubble',configure:{description:'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea',properties:{dataLabel:{respectShapeWidth:false}},propertiesOverride:{dataLabel:{respectShapeWidth:{isExported:true}}}}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:'root.legends.sizeLegend',target:'setBindingFields',sourceModule:'root.main.plot',source:'getBubbleWidthFields'},{targetModule:'root.legends.sizeLegend',target:'setSizeLegendInfo',sourceModule:'root.main.plot',source:'getSizeLegendInfo'}]}};var m={viz:[c].concat(),module:[].concat(p.module,S.module),feeds:[].concat(p.feeds)};return m});define('sap/viz/impls/InfoBubbleChart',['sap/viz/manifests/scatter/InfoBubbleChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/chart/elements/axis/sub/TimeValueAxisBody',["sap/viz/base/utils/oo","sap/viz/chart/elements/axis/sub/ValueAxisBody","sap/viz/modules/Constants","sap/viz/base/utils/TypeUtils","sap/viz/util/NumberUtils","sap/viz/modules/util/BoundUtil","sap/viz/chart/elements/axis/renderer/ValueBodyRenderer","sap/viz/chart/elements/scale/ValueScaleUtil","sap/viz/lang/langManager"],function(o,V,C,T,N,B,a,b,l){var c=5;var L=6;var A=C.CSS.CLASS.AXIS;var e=function(){e.superclass.constructor.apply(this,arguments)};o.extend(e,V);e.prototype.render=function(s){var w=this._width;var h=this._height;B.drawBound(s,w,h,null,true);s.select("g."+A.LINE_GROUP).remove();s.select("g."+A.TICK_GROUP).remove();s.select("g."+A.LABEL_GROUP).remove();if(this._data&&this._isSpaceEnough()&&this._props.visible){var p=this._position;var d=this._props;var f=this._styles;var g=this._data;var r=g.getRange();var i=g.getDomain();var j=d.axisTick.fixedTicks;var k=this._getAllLabels(j,g);var t=[];k.forEach(function(q){if(q.value<=i[1]&&q.value>=i[0]){t.push(q.value)}});var m=b.getTicksPosition(t,g);this._setLabelsPosition(k,g);k=this._filterLabels(k);var n=null;if(d.axisLine.visible){n=s.append("g").attr("class",A.LINE_GROUP);a.drawLines(n,r,w,h,p,d)}if(d.axisTick.visible){n=s.append("g").attr("class",A.TICK_GROUP);a.drawTicks(n,m,w,h,p,d,true)}if(d.label.visible){n=s.append("g").attr("class",A.LABEL_GROUP);a.drawLabels(n,g,k,w,h,p,d,f)}}};e.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._data&&this._props.visible){var d=this._props;var s=this._data;var r=s.getRange();var f=Math.abs(r[0]-r[1]);var g=L+c;var h=d.axisTick.fixedTicks;var i=[];if(d.label.visible){i=this._getAllLabels(h,s);this._setLabelsPosition(i,s);i=this._filterLabels(i)}if(this._isVertical()){g+=this._getWidestLabel(i);var j=this._styles.realStyle.label;var k=this._measureTextSize("0",j).width;p.minWidth=g;p.maxWidth=g+k;p.minHeight=f;p.maxHeight=f}else{g+=this._getHighestLabel(i);p.minWidth=f;p.maxWidth=f;p.minHeight=g;p.maxHeight=g}p.spacings=[{"interval":g,"type":C.SPACING_TYPE.STEP}]}var m=N.preciseObject(p);this._updatePfdSize(m);return m};e.prototype._getAllLabels=function(t,s){if(t&&t.length>0){t.forEach(function(w){w.text=T.isNonEmptyString(w.text)?w.text:l.get('IDS_ISNOVALUE')});this._setLabelsPosition(t,s);return this._filterFixedLabels(t,s)}var f=s.getDomain();var g=s.timeUnit;var h=s.timeUnitGap;var j=s.tickNum;var k=new Date(f[0]);var m=new Date(f[1]);k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);var n=[];for(var i=0;i<j;i++){var d=new Date();d.setTime(k.getTime());switch(g){case 0:d.setHours(k.getHours()+i*h);break;case 1:d.setDate(k.getDate()+i*h);break;case 2:d.setMonth(k.getMonth()+i*h);break;case 3:d.setFullYear(k.getFullYear()+i*h);break;default:}n[i]=d}var p,q=d3.time.format('%d/%m/%Y %H:%M');switch(g){case 0:p=q;break;case 1:p=d3.time.format('%d/%m/%Y');break;case 2:p=d3.time.format('%m/%Y');break;case 3:p=d3.time.format('%Y');break;default:}var r=[];for(i=0;i<n.length;i++){var u={};u.value=n[i].getTime();u.text=p(n[i]);r.push(u)}var v=s.getDomainFixed();if(v[0]){r=[{value:f[0],text:q(new Date(f[0]))}].concat(r)}if(v[1]){r.push({value:f[1],text:q(new Date(f[1]))})}return r};e.prototype._filterLabels=function(d){function f(i,j){return(i.start>=j.start&&i.start<=j.end)||(i.end>=j.start&&i.end<=j.end)||(j.start>=i.start&&j.start<=i.end)||(j.end>=i.start&&j.end<=i.end)}function g(d){var j=d.length;var t=[];for(var k=0;k<=(j-1);k++){var m=true;for(var i=0;i<j-1;i+=(k+1)){var n=d[i];if(i!==0){var p=t[t.length-1];if(f(n,p)){if(t.length>1){m=false;break}}else{t.push(n)}}else{t.push(n)}}if(d.length&&t.length){var q=d[j-1];var r=t[t.length-1];if(f(q,r)){t.pop()}t.push(q)}if(m){break}else{t=[]}}return t}var h=[];if(d.length>1){h=g(d);if(h.length<=1||(h.length===2&&f(h[0],h[1]))){h=[]}}else if(d.length===1){h=d}return h};e.prototype._filterFixedLabels=function(d,s){var f=[];for(var i=0,g=s.getDomain();i<d.length;i++){if(d[i].value>=g[0]&&d[i].value<=g[1]){f.push(d[i])}}return f};return e});define('sap/viz/chart/elements/manifests/axis/sub/TimeValueBody',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/chart/elements/axis/sub/TimeValueAxisBody","sap/viz/chart/elements/manifests/axis/sub/ValueBody"],function Setup(M,C,f,V){var m={"id":"sap.viz.chart.elements.axis.sub.timeValueBody","name":"timeValueAxisBody","base":"sap.viz.chart.elements.axis.sub.valueBody",fn:f};var a={viz:[],module:[m].concat(V.module),feeds:[].concat(V.feeds)};return a});define('sap/viz/chart/elements/axis/config/buildTimeValueConfig',["sap/viz/modules/Constants","sap/viz/base/utils/Objects","sap/viz/base/UADetector","sap/viz/chart/elements/manifests/axis/sub/Title","sap/viz/chart/elements/manifests/axis/sub/TimeValueBody","sap/viz/chart/elements/manifests/layout/AxisStack"],function(C,O,U){var b=function(p){var g=p===C.POSITION.TOP||p===C.POSITION.LEFT?1:-1;var l=p===C.POSITION.TOP||p===C.POSITION.BOTTOM?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var c={modules:{axisBody:{id:"sap.viz.chart.elements.axis.sub.timeValueBody",name:"axisBody",configure:{isBody:true,layoutConfig:{order:1,priority:2,offset:0}}},axisTitle:{id:"sap.viz.chart.elements.axis.sub.title",name:"axisTitle",configure:{isTitle:true,layoutConfig:{order:3,priority:3,offset:5}}},layout:{id:"sap.viz.chart.elements.layout.axisStack",configure:{isLayoutAlgorithm:true,properties:{gravity:g,direction:l}}}}};return O.extend(true,{},c)};return b});define('sap/viz/chart/elements/axis/TimeValueAxis',["sap/viz/base/utils/oo","sap/viz/chart/elements/axis/BaseValueAxis","sap/viz/base/utils/TypeUtils","sap/viz/modules/Constants","sap/viz/chart/elements/axis/config/buildTimeValueConfig"],function Setup(o,B,T,C,b){var a=function(m,c){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.chart.elements.axis.TimeValueAxis"};o.extend(a,B);a.prototype._getConfig=function(p){return b(p)};return a});define('sap/viz/chart/elements/manifests/axis/TimeValueAxis',["sap/viz/modules/manifests/Module","sap/viz/modules/Constants","sap/viz/base/UADetector","sap/viz/chart/elements/axis/TimeValueAxis","sap/viz/chart/elements/manifests/axis/Base","sap/viz/chart/elements/manifests/axis/sub/TimeValueBody"],function Setup(M,C,U,f,B,V){var m={"id":"sap.viz.chart.elements.axis.timeValue","base":"sap.viz.chart.elements.axis.value","name":"timeValueAxis","properties":{"axisTick":{"name":"axisTick","description":"Settings for axis ticks.","supportedValueType":"Object","supportedValues":{"visible":{"name":"visible","supportedValueType":"Boolean","defaultValue":true,"description":"Set visibility of axis ticks. For mobile, default value will be false."},'fixedTicks':{'name':'fixedTicks','supportedValueType':'Array','description':'Set the specific ticks for value axis. The format should be [{value : "/value/", text : "/text/"}...]. '+'If its length is less than 2, this property will not take effect.'}},"isExported":true}},fn:f};var a={viz:[],module:[m].concat(B.module,V.module),feeds:[].concat(B.feeds,V.feeds)};return a});define('sap/viz/manifests/scatter/InfoTimeValueBubbleChart',['sap/viz/manifests/Viz','sap/viz/chart/elements/manifests/scatter/Bubble','sap/viz/chart/elements/manifests/axis/TimeValueAxis','sap/viz/chart/elements/manifests/controller/info/Interaction','sap/viz/manifests/scatter/InfoTimeValueBubbleChart'],function Setup(M,p,T,I,a){var c={id:'info/time_bubble',name:'IDS_TIMEVALUEBUBBLECHART',base:'info/bubble',modules:{root:{modules:{interaction:{configure:{properties:{extensionPoints:{convertData:function(b,n){return b.getDataOfDataPoint(n)}}}}},main:{modules:{xAxis:{id:'sap.viz.chart.elements.axis.timeValue',configure:{properties:{layout:{height:0.15}},propertyCategory:'valueAxis'}},plot:{id:'sap.viz.chart.elements.bubble',paras:{timeBased:true},configure:{description:'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea',propertiesOverride:{referenceLine:{isExported:true}}}}}}}}}};var m={viz:[c].concat(),module:[].concat(p.module,T.module),feeds:[].concat(p.feeds)};return m});define('sap/viz/impls/InfoTimeValueBubbleChart',['sap/viz/manifests/scatter/InfoTimeValueBubbleChart'],function Setup(I){var m={viz:[].concat(I.viz),module:[].concat(I.module),feeds:[].concat(I.feeds)};return m});define('sap/viz/chart/elements/utils/ContextUtil',[],function Setup(){var C={isEqualArray:function(s,t){if(!s||!t){return false}var e=true;if(s.length===t.length&&t.length>0){for(var i=0;i<s.length;i++){if(s[i]!==t[i]){e=false;break}}}else{e=false}return e},getUniqueFieldName:function(f){if(!f){return null}var a=null;if(f.hasOwnProperty("id")){a=f.id}else if(f.hasOwnProperty("name")){a=f.name}return a},getContextObjByFieldsArray:function(c,f){if(!c||!f||(c&&c.length<1)||(f&&f.length<1)){return null}var a=null;if(c&&f){var b=c.length;var d=f.length;if(b>=d&&d>0){for(var i=0;i<b;i++){var e=c[i];if(e&&e.length>0){var g=false;for(var j=0;j<e.length;j++){var h=e[j];if(h&&h.length>0&&h.length===d){if(C.isEqualArray(h,f)){g=true}else{if(g){for(var m=0;m<d;m++){if(!a){a={}}if(f[m]){a[f[m]]=e[j][m]}}break}}}else{break}}if(g){break}}else{break}}}}return a},filterDimensionContext:function(a,c){if(!a||!c){return null}var r=null;if(a.length>0){for(var k in c){if(c.hasOwnProperty(k)){if(!r){r={}}var b=true;for(var i=0;i<a.length;i++){if(k===a[i]){a.splice(i,1);b=false;break}}if(!b){continue}r[k]=c[k]}}}return r},getDimensionKeyAndValueString:function(d){if(!d){return null}var r=null;if(d&&typeof d==='object'){var c=0;for(var p in d){if(d.hasOwnProperty(p)){var i=p+"="+d[p];if(i){++c;if(c>1){r=r+"&"+i}else{r=i}}}}}return r},getDimensionKeyAndValueStringFromAxes:function(a,b){if(!a||!a._data||!a._fields){return null}var r=null;if(a._data.length>0&&a._fields.length>0&&b<a._data.length){var l=a._fields.length;var f=a._fields;var d=a._data;if(d[b]&&d[b].val){var i=0;var p=null;var c=null;var e=C.getUniqueFieldName(f[i]);for(;i<l;i++){if(f[i]&&e){if(!r){r={}}c=e;p=d[b].val[i];r[c]=p}}}}return r},isEmptyObj:function(o){if(!o){return true}var r=true;if(o){for(var p in o){if(o.hasOwnProperty(p)){r=false;break}}}return r},getHighlightContextIndexOfAxes:function(a,h){if(!a||!h||C.isEmptyObj(h)){return-1}var b=-1;if(a&&a._data&&a._data.length>0&&a._fields&&a._fields.length>0){var f=a._fields;var l=f.length;var i=0;var d=a._data;var c=this.getDimensionKeyAndValueString(h);var g=function(a,b){var r=null;for(var i=0;i<l;i++){var e=C.getUniqueFieldName(a._fields[i]);if(e){var t=e+"="+a._data[b].val[i];if(i>0){r=r+"&"+t}else{r=t}}}return r};if(d&&d.length>0&&l){for(;i<d.length;i++){if(c===g(a,i)){b=i;break}}}}return b},equalCtx:function(c,a){var k=Object.keys(c),b=Object.keys(a);return(k.length>0)&&k.every(function(d){return c[d]===a[d]})},match:function(c,d){if(!c){return false}if(!Array.isArray(c)){c=[c]}return c.some(function(a){if(!a){return true}return C.equalCtx(a,d)})},getContextInfo:function(c,a){var b=c;if(!Array.isArray(a)){a=[a]}var d;for(var j=0,l=a.length;j<l;j++){var e=a[j],f=e.ctx,g=e.paras;if(!f){d=g}}var h=this._parameters,k,n=-1,o,p;for(var i=0,q=a.length;i<q;i++){var r=a[i],s=r.ctx,t=r.paras;if(!s){p=i}else if(C.match(s,b)){o=0;for(var m in s){if(s.hasOwnProperty(m)){o++}}if(n<o){n=o;p=i}}}if(a[p]){return a[p].paras}return d}};return C});define('sap/viz/chart/elements/pie/renderPie',["sap/viz/chart/elements/common/SVG",'sap/viz/util/DrawUtil','sap/viz/chart/elements/common/DataGraphics','sap/viz/chart/elements/utils/ContextUtil'],function(S,D,a,C){return function(c){var g=c.graphic;var s=S.create("path");var i=0;if(g.innerRadius){i=g.innerRadius}var b=c.ctx;var f=g.color;var p=c.properties;var e=c.existHighlightContext;var d=null;var h=function(){var r=null;if(p.hasOwnProperty('sectorSizeMeasure')){var t=['_id'];var u=p.sectorSizeMeasure.getFields();if(u&&u.length>0&&u.constructor===Array&&u[0].name){t=t.concat(u[0].name)}r=C.filterDimensionContext(t,b)}return r};if(b&&p){var j=p.contextInfos;if(j&&j.length>0){if(!d){d=h()}if(d&&j){var k=C.getContextInfo(d,j);var l=null;if(k&&k.color){l=k.color}if(l){f=l}}}if(e&&e===true){var m=p.highlightContext;if(m&&m.length>0){m=m[0]}else{m={}}var n=false;if(!d){d=h()}if(m&&d){for(var o in m){if(m[o]!==d[o]){n=true;break}}if(n){f=p.unhighlightSliceColor}}}}var q=d3.svg.arc().innerRadius(i).outerRadius(g.outerRadius).startAngle(g.startAngle).endAngle(g.endAngle)();s.setAttribute("fill",f);s.setAttribute("d",q);a.setContext(s,{innerRadius:g.innerRadius,outerRadius:g.outerRadius,startAngle:g.startAngle,endAngle:g.endAngle});return s}});define('sap/viz/chart/elements/pie/renderCenter',["sap/viz/chart/elements/common/SVG","sap/viz/util/TextUtils"],function(S,T){function c(p,t,a,s){var D=20;var d=document.createTextNode(t);var b=S.create("tspan");var o=a&&a.hasOwnProperty("fontSize")?parseFloat(a["fontSize"])/2:D/2;b.setAttribute("class",s);b.appendChild(d);p.appendChild(b);return{"node":b,"offset":o}}return function(a){var D="v-donut-centername",b="v-donut-centervalue",d="centerName",e="centerValue";var L=6;var p=a.properties;var t=S.create("text");var f,g,h=0,i=0;var r,j;var k=a.customizedColor;if(p.centerName.visible){j=p[d]['style'];r=c(t,a.centerName,j,D);if(r){f=r.node;h=r.offset;f.style.fill=(k===null||k===undefined)?j["color"]:k;f.style.fontFamily=j["fontFamily"];f.style.fontSize=j["fontSize"];f.style.fontWeight=j["fontWeight"];f.style.fontStyle=j["fontStyle"]}}if(p.centerValue.visible){j=p[e]['style'];r=c(t,a.centerValue,j,b);if(r){g=r.node;i=r.offset;g.style.fill=(k===null||k===undefined)?j["color"]:k;g.style.fontFamily=j["fontFamily"];g.style.fontSize=j["fontSize"];g.style.fontWeight=j["fontWeight"];g.style.fontStyle=j["fontStyle"]}}if(f){f.setAttribute("x",0);f.setAttribute("y",h-i-L/2)}if(g){g.setAttribute("x",0);g.setAttribute("y",h+i+L/2)}t.setAttribute("text-anchor","middle");return t}});define('sap/viz/chart/elements/pie/flow/RenderNodeSpec',["sap/viz/chart/elements/pie/renderPie","sap/viz/chart/elements/pie/renderCenter","sap/viz/chart/elements/common/SVG","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/data/Constants","sap/viz/base/utils/TypeUtils","sap/viz/util/TextUtils","sap/viz/format/FormatManager","sap/viz/chart/elements/common/DataGraphics",'sap/viz/chart/elements/utils/ContextUtil',"sap/viz/util/NumberUtils"],function(r,a,S,D,b,T,c,f,d,C,N){var I="dataView";var e="regionColorAA";var g="sectorSizeMeasure";var h="properties";var j="effectManager";var l="styleManager";var o="renderContext";var q="horizontal";var s="renderContext";var t="wrapperData";var u=b.DATA_ID;var v="v-donut-title";var w=function(i,k,m){return i(k,m)};var x={fn:function(z){var A=z[e];var B=z[g];var E=z[I];var F=z[q];var G=z[o];var H=G.dataPointNodes;var J=z[h];var K=J.isDonut;var L=z[j];var M=z[l];var O=z[t];var P=E.getMeasureIndex(u);var Q=J.sliceRenderer||r;var R=J.centerRenderer||a;var U=A.getLength();var V=A.getFieldIds();var W=A.getId();var X={};var Y=[];var Z=[];var $="pieSectorSize";var _=null;if(J&&J.contextInfos){_=J.contextInfos}var a1=B.getMeasure(0).getId();for(var k=0;k<U;k++){X[W]=k;var b1=A.get(k);var c1=b1.val;var d1=b1[$];Z=[];var e1=[0];var f1=E.getMeasureValues(X,e1);for(var m=0,g1=f1.length;m<g1;m++){var h1=f1[m];var i1=h1[0].val;if(N.isNoValue(i1)||i1<0){continue}var j1=E.getMeasureValues(X,[P])[0][0].val;var k1=[[V,c1]];k1.push([a1,h1[0].val]);k1.push([u,j1]);var l1={ctx:k1,dpId:j1,color:d1,startAngle:h1[0].startAngle,endAngle:h1[0].endAngle};if(h1[0].startAngle!==undefined){Z.push(l1)}}Y.push(Z)}var m1=G.dataShapesGroupNode;var n1=S.create("g",m1);n1.setAttribute("transform","translate("+O.w/2+","+(O.p.valign==="center"?O.h/2:(O.or+O.padding))+")"+'scale('+O.p.plotScale+')');if(z.hasOwnProperty('sectorSizeMeasure')){J.sectorSizeMeasure=z.sectorSizeMeasure}var o1=0;var p1=false;var q1=-1;var r1=z.properties;var s1=r1.highlightContext;if(s1&&s1.length>0){s1=s1[0]}else{s1=null}if(r1&&s1&&A){q1=C.getHighlightContextIndexOfAxes(A,s1);p1=q1>-1}if(K){if(!T.isNaN(J.innerRadiusRatio)){o1=(O.or+O.padding)*J.innerRadiusRatio}else{o1=O.ir}}var t1=Y.length;var u1=(s1!==null)&&q1>-1&&q1<t1;var v1,w1,n,x1,i;for(var p=0;p<t1;p++){v1=Y[p];for(n=0,x1=v1.length;n<x1;n++){w1=v1[n];var y1=w1.dpId;var z1=H[y1];if(!z1){z1=D.create(n1,y1)}else{n1.appendChild(z1);z1.removeAttribute("style")}var A1={color:w1.color};d.setData(z1,A1);if(u1&&q1!==p){z1.removeAttribute("class");z1.setAttribute("style","fill-opacity:1")}var B1=D.setContext(z1,w1.ctx);var C1={color:w1.color,startAngle:w1.startAngle,endAngle:w1.endAngle,innerRadius:o1,outerRadius:O.or+O.padding};var D1={graphic:C1,properties:J,effectManager:L,ctx:B1};D1.existHighlightContext=p1;if(!J.sliceRenderer){z1.appendChild(Q(D1))}else{z1.appendChild(w(Q,D1,r))}}}if(u1){var E1=J.dataLabel.formatString!==null?J.dataLabel.formatString:"0.0%";if(E1[0]&&T.isArray(E1[0])){E1=E1[0][0]}v1=Y[q1];for(n=0,t1=v1.length;n<t1;n++){w1=v1[n];var F1=w1.ctx[0][1];var G1="";if(T.isArray(F1)){for(i=0,x1=F1.length;i<x1;i++){G1+=F1[i];if(i!==(x1-1)){G1+='/'}}}var H1={centerName:G1,centerValue:f.format((w1.endAngle-w1.startAngle)/(2*Math.PI),E1),properties:J,ir:O.ir,styleManager:M};if(_&&_.length>0){var I1=C.getContextObjByFieldsArray(w1.ctx,V);var J1=null;if(I1){var K1=C.getContextInfo(I1,_);if(K1&&K1.color){J1=K1.color}}if(J1){H1.customizedColor=J1}}else{var L1=C.getHighlightContextIndexOfAxes(A,s1);if(L1>-1&&z.properties&&z.properties.colorPalette&&z.properties.colorPalette.length>0){var M1=z.properties.colorPalette;var N1=M1.length;var O1=M1[L1%N1];if(z.properties&&z.properties.centerName&&z.properties.centerName.style&&z.properties.centerName.style.color){z.properties.centerName.style.color=O1}if(z.properties&&z.properties.centerValue&&z.properties.centerValue.style&&z.properties.centerValue.style.color){z.properties.centerValue.style.color=O1}}}var P1=w(R,H1,a);if(P1&&P1.setAttribute){P1.setAttribute("style","fill-opacity:1");n1.appendChild(P1)}}}return G},INPUT_PORT_HORIZONTAL:q,INPUT_PORT_PROPERTIES:h,INPUT_PORT_RENDER_CONTEXT:o,INPUT_PORT_EFFECT_MANAGER:j,INPUT_PORT_STYLE_MANAGER:l,INPUT_PORT_REGION_COLOR_ANALYSIS_AXIS:e,INPUT_PORT_SECTOR_MEASURES:g,INPUT_PORT_DATA_VIEW:I,INPUT_PORT_KEY_RENDER_CONTEXT:s,INPUT_PORT_WRAPPER_DATA:t};var y={};y[e]=true;y[g]=true;y[o]=true;y[h]=true;y[j]=true;y[l]=true;y[q]=false;y[I]=true;y[s]=true;y[t]=true;x.meta=y;return x});define('sap/viz/chart/elements/pie/PieBinds',['sap/viz/chart/elements/data/MultiDimensionalBinds','sap/viz/data/feed/Constants'],function(M,c){var I="pieSectorColor",a="pieSectorSize";var T=c.Type,b=T.Dimension,d=T.Measure;var e={};e[I]={'name':'IDS_PIESECTORCOLORNAME','type':b,'minNumOfDimensions':1,'maxNumOfDimensions':Number.POSITIVE_INFINITY,'acceptMND':-1};e[a]={'name':'IDS_PIESECTORSIZE','type':d,'minNumOfMeasures':1,'maxNumOfMeasures':Number.POSITIVE_INFINITY};var r=new M(e);r.ID_PIE_SECTOR_COLOR=I;r.ID_PIE_SECTOR_SIZE=a;return r});define('sap/viz/chart/elements/pie/flow/ApplySectorAngleScaleNodeSpec',["sap/viz/util/NumberUtils",'sap/viz/chart/elements/utils/ContextUtil'],function(N,C){var I="measureGroup";var a="valuePropertyName";var b="highlightContext";var c=d3.layout.pie().sort(null).value(function(d){return d.v});var e=function(o){if(!o){return true}var r=true;if(o){for(var p in o){if(o.hasOwnProperty(p)){r=false;break}}}return r};var g=function(d,h){if(!d||!h||e(h)){return-1}if(d._view&&d._view._axes&&d._view._axes.length>0){return C.getHighlightContextIndexOfAxes(d._view._axes[0],h)}else{return-1}};var s={fn:function(f){var h=f[I];var j=f[a]||"val";var k=f[b];if(k&&k.length>0){k=k[0]}else{k=null}var l=[],i=0;h.iterateValues(function(d){d.forEach(function(w){w.forEach(function(x){if(x!==undefined){var v=x.val;if(N.isNoValue(v)||v<=0){v=0}l.push({i:i++,v:v})}})})});var p=c(l),n,o,u,q;var r=false;var t=-1;if(k){t=g(h,k);r=!e(k)&&t>-1&&t<l.length}i=0;if(r){n=p[t].startAngle;o=p[t].endAngle;u=o;q=p[l.length-1].endAngle+n;h.iterateValues(function(v){v.forEach(function(w){w.forEach(function(d){if(d!==undefined){if(d.hasOwnProperty(j)){if(i===t){d.startAngle=n;d.endAngle=o}else if((t!==0&&i===0)||(t===0&&i===1)){d.startAngle=u;d.endAngle=q}else{delete d.startAngle;delete d.endAngle}i++}}})})})}else{h.iterateValues(function(v){v.forEach(function(w){w.forEach(function(d){if(d!==undefined){if(d.hasOwnProperty(j)&&p[i]){d.startAngle=p[i].startAngle;d.endAngle=p[i].endAngle;i++}}})})})}return h},INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_VALUE_PROP_NAME:a,INPUT_PORT_HIGHLIGHT_CONTEXT:b};var m={};m[I]=true;m[a]=false;m[b]=true;s.meta=m;return s});define('sap/viz/chart/elements/pie/flow/ApplyPieWrapperDataSpec',["sap/viz/util/NumberUtils","sap/viz/base/Math"],function(N,M){var I="measureGroup";var a="valuePropertyName";var b="width";var c="height";var d=6,e=2.414;var f=function(w,h){var p;var l=M.min(w,h);if(l<d*2){if(l<(d/4)*2){if(l<(d/8)*2){p=0}else{p=d/8}}else{p=d/4}}else{p=d}return p};var g=function(h,p){return h/2-p};var i=function(w,p){var r=M.max(w/2/(1+1/e),p*e);return M.min(r,w/2-p)};var j=function(w,h,l,p){if(l){return M.min(h/2,w/2)}return M.min(g(h,p),i(w,p))};var k=function(o){return o/e};var s={fn:function(l){var n=l[a];var o=d3.functor(n);var q=d3.functor(l[b]);var r=d3.functor(l[c]);var p=o.apply(this,arguments);var w=q.apply(this,arguments);var h=r.apply(this,arguments);var t=f(w,h);var u=j(w,h,p.maxRadius,t);var v={padding:t,w:w,h:h,p:p,or:u,ir:k(u)};return v},INPUT_PORT_MEASURE_GROUP:I,INPUT_PORT_VALUE_PROP_NAME:a,INPUT_PORT_PLOT_WIDTH:b,INPUT_PORT_PLOT_HEIGHT:c};var m={};m[I]=false;m[a]=true;m[b]=true;m[c]=true;s.meta=m;return s});define('sap/viz/chart/elements/pie/flow/GetColorPaletteNodeSpec',['sap/viz/chart/elements/utils/ContextUtil'],function(C){var I="colorPalette";var a="unhighlightSliceColor";var b="contextInfos";var c="highlightContext";var d="analysisAxis";var e="domain";var s={fn:function(p){var f=p[I];var g=f.length;var h=[];var j=p[e];var k=p.contextInfos||[];var l=p[d];var i,n;var o=p[c];if(o&&o.length>0){o=o[0]}else{o={}}var q=C.getHighlightContextIndexOfAxes(l,o);var r=function(z,A,k){if(!z||!k){return null}var g=z.length;var B=null;var D=null;if(A<g){for(;A<g;A++){B=z[A%g];if(!t(B,k)){D=B;break}}}return D};var t=function(z,k){if(!k||!z){return false}var A=false;if(k.length>0){var x=null;for(var i=0;i<k.length;i++){var w=k[i].params;if(w&&w.color){if(w.color===z){A=true;break}}}}return A};for(i=0,n=j.length;i<n;++i){var u=f[i%g];if(j[i]&&j[i].length>0){if(k&&k.length>0){var v=C.getDimensionKeyAndValueStringFromAxes(l,i);var w=C.getContextInfo(v,k);if(w&&w.color){h.push(w.color)}else{var x=r(f,i,k);if(x){h.push(x)}}}else{h.push(u)}}else{h.push(u)}}if(o&&q>-1&&q<h.length){var y=p[a];for(i=0,n=h.length;i<n;++i){if(q!==i){h[i]=y}}}return h},INPUT_PORT_COLOR_PALETTE:I,INPUT_PORT_HIGHLIGHT_CONTEXT:c,INPUT_PORT_UNHIGHLIGHT_COLOR:a,INPUT_PORT_DOMAIN:e,INPUT_PORT_CONTEXT_INFOS:b,INPUT_PORT_ANALYSIS_AXIS:d};var m={};m[I]=true;m[c]=true;m[a]=true;m[e]=true;m[b]=false;m[d]=false;s.meta=m;return s});define('sap/viz/chart/elements/pie/flow/AnimationNodeSpec',["sap/viz/chart/elements/common/SVG"],function(S){var I="renderContext";var a="case";var b="plotHeight";var c="plotWidth";var e="horizontal";var f="randomSuffix";var g="wrapperData";var h="properties";var s={name:"pieAnimation",fn:function(p){var i,o,j=0,k=Math.PI*2,l,n=0;var q=p[a];var r=p[I];if(q){var u=p[e];var w=p[c];var v=p[b];var x=p[f];var y=p[g];var z=p[h];var A=r.dataShapesGroupNode;var B=z.isDonut;i=B?y.ir:0;o=y.or+y.padding;var C=S.create("clipPath",A);var D="pie_clipPath_"+x;C.setAttribute("id",D);var E=S.create("path",C);E.setAttribute("clip-rule","evenodd");var F=d3.select(E);var G=F.transition().duration(n);var H=d3.interpolateNumber(0,Math.PI*2);var J=function(){return function(t){var d={};var k=H(t);return d3.svg.arc().innerRadius(i).outerRadius(o).startAngle(0).endAngle(k)()}};G.attrTween("d",J);r.transitions.push(G);G.each("end",function(){var A=C.parentNode;if(A){A.removeAttribute("clip-path");A.removeChild(C)}});A.setAttribute("clip-path","url(#"+D+")")}return r},INPUT_PORT_RENDER_CONTEXT:I,INPUT_PORT_CASE:a,INPUT_PORT_PLOT_HEIGHT:b,INPUT_PORT_PLOT_WIDTH:c,INPUT_PORT_RANDOM_SUFFIX:f,INPUT_PORT_WRAPPER_DATA:g,INPUT_PORT_PROPERTIES:h};var m={};m[I]=true;m[a]=true;m[b]=true;m[c]=true;m[f]=true;m[g]=true;m[h]=true;s.meta=m;return s});define('sap/viz/chart/elements/pie/flow/GetMergedHighlightContextNodeSpec',['sap/viz/chart/elements/utils/ContextUtil'],function(C){var I="highlightContext";var a="highlightIndex";var b="analysisAxis";var c="properties";var s={fn:function(p){var d=p[c];var e=p[b];var h=d[a];var f=d[I];var g=null;if(f&&f.length>0){g=f}else{if(h!==null&&h>-1){var i=C.getDimensionKeyAndValueStringFromAxes(e,h);if(i){g=[];g.push(i);p.properties.highlightContext=g;p.properties.highlightIndex=-1}}}return g},INPUT_PORT_HIGHLIGHT_CONTEXT:I,INPUT_PORT_HIGHLIGHT_INDEX:a,INPUT_PORT_ANALYSIS_AXIS:b,INPUT_PORT_PROPERTIES:c};var m={};m[I]=true;m[a]=false;m[b]=true;m[c]=true;s.meta=m;return s});define('sap/viz/chart/elements/pie/Pie',['sap/viz/base/utils/oo','sap/viz/chart/elements/plot/BasePlot','sap/viz/chart/elements/flow/Flow','sap/viz/chart/elements/data/flow/AnalysisAxisValuesArrayNodeSpec','sap/viz/chart/elements/pie/flow/RenderNodeSpec','sap/viz/chart/elements/scale/flow/ValueScaleNodeSpec','sap/viz/chart/elements/plot/flow/GetPropertyNodeSpec','sap/viz/chart/elements/scale/flow/ColorScaleNodeSpec','sap/viz/chart/elements/pie/PieBinds','sap/viz/chart/elements/data/flow/AnalysisAxisNodeSpec','sap/viz/chart/elements/data/flow/MeasureGroupNodeSpec','sap/viz/chart/elements/xy/flow/ApplyColorScaleNodeSpec','sap/viz/chart/elements/pie/flow/ApplySectorAngleScaleNodeSpec','sap/viz/chart/elements/pie/flow/ApplyPieWrapperDataSpec','sap/viz/chart/elements/pie/flow/GetColorPaletteNodeSpec','sap/viz/chart/elements/pie/flow/AnimationNodeSpec','sap/viz/chart/elements/pie/flow/GetMergedHighlightContextNodeSpec'],function Setup(o,B,F,A,R,V,G,C,P,a,M,b,c,d,e,f,g){var p=P.ID_PIE_SECTOR_SIZE;var h=B.FLOW_INPUT_PORT_KEY_DATA;var i=B.FLOW_INPUT_PORT_KEY_WIDTH;var j=B.FLOW_INPUT_PORT_KEY_HEIGHT;var k=B.FLOW_INPUT_PORT_KEY_PROPERTIES;var l=a.INPUT_PORT_DATA_VIEW;var m=a.INPUT_PORT_AXIS_INDEX;var n=M.INPUT_PORT_DATA_VIEW;var q=M.INPUT_PORT_MEASURE_GROUP_INDEX;var r=A.INPUT_PORT_AXIS;var s=b.INPUT_PORT_ANALYSIS_AXIS;var t=b.INPUT_PORT_SCALE;var u=b.INPUT_PORT_RESULT_NAME;var v=c.INPUT_PORT_MEASURE_GROUP;var w=P.ID_PIE_SECTOR_COLOR;var x=P.ID_PIE_SECTOR_SIZE;var I="regionColorAA";var y="sectorSizeMeasure";var z="dataView";var D="styleManager";var E=[P.ID_PIE_SECTOR_COLOR];var H=[w],J=[x];var K=function(Q,S){S.flowName="Pie";this._horizontal=S.horizontal;K.superclass.constructor.call(this,Q,S,H,J)};o.extend(K,B);var L=E.map(function(Q){return function(S){return S+"-"+Q}});K.prototype._addDomainAndScaleNode=function(){var Q=this._flow;var S=S||N;var T=Q.addNode(A,"colorScaleDomain");Q.linkNode(this._regionColorAANode,T,r);var U=Q.addNode(G,S("colorPalette"));Q.linkInputPortToNode(k,U,G.INPUT_PORT_KEY_PROPERTIES);U.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,'colorPalette');var W=Q.addNode(G,S("highlightIndex"));Q.linkInputPortToNode(k,W,G.INPUT_PORT_KEY_PROPERTIES);W.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,'highlightIndex');var X=Q.addNode(G,S("highlightContext"));Q.linkInputPortToNode(k,X,G.INPUT_PORT_KEY_PROPERTIES);X.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,'highlightContext');var Y=this._mergedhighlightContextNode=Q.addNode(g,S("mergedhighlightContext"));Q.linkNode(W,Y,g.INPUT_PORT_HIGHLIGHT_INDEX);Q.linkNode(X,Y,g.INPUT_PORT_HIGHLIGHT_CONTEXT);Q.linkNode(this._regionColorAANode,Y,g.INPUT_PORT_ANALYSIS_AXIS);Y.setInputPort(g.INPUT_PORT_PROPERTIES,this._props);var Z=Q.addNode(G,S("unhighlightSliceColor"));Q.linkInputPortToNode(k,Z,G.INPUT_PORT_KEY_PROPERTIES);Z.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,'unhighlightSliceColor');var $=Q.addNode(G,S("contextInfos"));Q.linkInputPortToNode(k,$,G.INPUT_PORT_KEY_PROPERTIES);$.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,'contextInfos');var _=Q.addNode(e,S("getColorPalette"));Q.linkNode(U,_,e.INPUT_PORT_COLOR_PALETTE);Q.linkNode(Y,_,e.INPUT_PORT_HIGHLIGHT_CONTEXT);Q.linkNode(Z,_,e.INPUT_PORT_UNHIGHLIGHT_COLOR);Q.linkNode(T,_,e.INPUT_PORT_DOMAIN);Q.linkNode($,_,e.INPUT_PORT_CONTEXT_INFOS);Q.linkNode(this._regionColorAANode,_,e.INPUT_PORT_ANALYSIS_AXIS);var a1=Q.addNode(C,S("colorScale"));Q.linkNode(_,a1,C.INPUT_PORT_COLOR_PALETTE);Q.linkNode(T,a1,C.INPUT_PORT_DOMAIN);a1.setInputPort(C.INPUT_PORT_DUAL,this._ctx.dual);a1.setInputPort(C.INPUT_PORT_PROPERTIES,this._props);this._valuesColumnIds=[];this._valuesColumnIds.push(p);this._colorScaleNode=a1;var b1=this._applyColorScaleNode=Q.addNode(b,S("applyColorScale"));Q.linkNode(a1,b1,t);Q.linkNode(this._regionColorAANode,b1,s);b1.setInputPort(u,J[0]);var c1=Q.addNode(d,"applyPieWrapperData");Q.linkInputPortToNode(k,c1,d.INPUT_PORT_VALUE_PROP_NAME);Q.linkInputPortToNode(i,c1,d.INPUT_PORT_PLOT_WIDTH);Q.linkInputPortToNode(j,c1,d.INPUT_PORT_PLOT_HEIGHT);this._applyPieWrapperData=c1};K.prototype._buildApplyValueScaleMeasuresNodes=function(Q,S,T,U){var W=this._flow;var X=W.addNode(c,T);W.linkNode(this._measureGroupNodes[Q],X,v);W.linkNode(this._mergedhighlightContextNode,X,c.INPUT_PORT_HIGHLIGHT_CONTEXT);return X};K.prototype._buildMeasureModelsNode=function(){this._addDomainAndScaleNode();return this._buildApplyScalesNodesGroup()};K.prototype._buildApplyScalesNodesGroup=function(){var Q=this._flow;var S=N;var T=[];T[0]=this._buildApplyValueScaleMeasuresNodes(0,this._sectorSizeScaleNode,'applySectorSizeScale',L[0]);return[this._applyColorScaleNode,T[0]]};var N=function(Q){return Q};function O(Q,S,T,U){var W=Q.addNode(a,U);Q.linkNode(S,W,l);W.setInputPort(m,T);return W}K.prototype._initializeFlow=function(){K.superclass._initializeFlow.apply(this,arguments);var Q=this._flow;var S=this._dataViewNode;var T=this._regionColorAANode=O(Q,S,w,"regionColorAnalysisAxis");this._measureGroupNodes=J.map(function(W,X){var Y=Q.addNode(M,"measureGroup-"+W);Q.linkNode(this._dataViewNode,Y,n);Y.setInputPort(q,X);return Y},this);var U=this._buildMeasureModelsNode();this._appliedScaleRegionColorAANode=U[0];this._appliedSectorSizeScaleMeasuresNode=U[1];return this._buildRenderFlow(Q)};K.prototype.getColorScale=function(){return this._flow.getOutput(this._getColorScaleNode())};K.prototype.getColorBindings=function(){return this._getBindings("pieSectorColor")};K.prototype.getSectorColorFields=function(){return this._flow.getOutput(this._regionColorAANode).getFields()};K.prototype._getColorScaleNode=function(){return this._colorScaleNode};K.prototype._getDataLabelInfo=function(Q){var S=d3.select(Q.childNodes[0]).datum();var T=S.startAngle;var U=S.endAngle;return{key:this._data.feeding.pieSectorSize[0],value:(U-T)/(2*Math.PI)}};K.prototype._computeDataLabelTranslate=function(Q,S,T,U){var W=d3.select(Q.childNodes[0]).datum();var X=W.startAngle;var Y=W.endAngle;var Z=W.innerRadius;var $=W.outerRadius;var _=(X+Y)/2;var a1=Math.sin(_-Math.PI/2);var b1=Math.cos(_-Math.PI/2);var c1,d1;if(this._props.isDonut){c1=(Z+$)/2*b1;d1=(Z+$)/2*a1}else{c1=0.5*$*b1;d1=0.5*$*a1}c1+=S.e;d1+=S.f;return[c1-(U.x+U.width/2),d1-(U.y+U.height/2)]};K.prototype._buildRenderFlow=function(Q){var S=Q.addNode(R,"render");Q.linkNode(this._dataViewNode,S,z);Q.linkNode(this._appliedScaleRegionColorAANode,S,I);Q.linkNode(this._appliedSectorSizeScaleMeasuresNode,S,y);Q.linkNode(this._buildRenderContextNode,S,R.INPUT_PORT_KEY_RENDER_CONTEXT);Q.linkInputPortToNode(k,S,R.INPUT_PORT_PROPERTIES);Q.linkNode(this._applyPieWrapperData,S,R.INPUT_PORT_WRAPPER_DATA);S.setInputPort(R.INPUT_PORT_EFFECT_MANAGER,this._effectManager);S.setInputPort(R.INPUT_PORT_HORIZONTAL,this._horizontal);S.setInputPort(R.INPUT_PORT_STYLE_MANAGER,this._styleManager);var T=Q.addNode(f);Q.linkNode(this._applyPieWrapperData,T,f.INPUT_PORT_WRAPPER_DATA);Q.linkNode(S,T,f.INPUT_PORT_RENDER_CONTEXT);Q.linkInputPortToNode(i,T,f.INPUT_PORT_PLOT_WIDTH);Q.linkInputPortToNode(j,T,f.INPUT_PORT_PLOT_HEIGHT);Q.linkInputPortToNode(k,T,R.INPUT_PORT_PROPERTIES);T.setInputPort(f.INPUT_PORT_RANDOM_SUFFIX,this._randomSuffix);Q.linkNode(this._animationCaseNode,T,f.INPUT_PORT_CASE);return T};return K});define('sap/viz/chart/elements/Pie',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/chart/elements/pie/Pie'],function Setup(o,B,P){var F=function(m,c){var a=P;return new a(m,c)};o.extend(F,B);return F});define('sap/viz/chart/elements/manifests/pie/Base',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/pie/PieBinds',"sap/viz/chart/elements/manifests/Plot"],function Setup(M,C,b,P){var m={'id':'sap.viz.chart.elements.basePie','name':'pie','abstract':true,'base':"sap.viz.chart.elements.plot",'properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color palette for sectors','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a donut or pie'},'isGeoPie':{'name':'isGeoPie','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a geo pie','isExported':false},'valign':{'name':'valign','supportedValueType':'String','supportedValues':['top','center'],'defaultValue':"top",'description':'Set vertical aligment','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set the drawing effect of the pie','isExported':true},'plotScale':{'name':'plotScale','supportedValueType':'PositiveFloat','defaultValue':1,'description':'Set the plot scale of the pie','isExported':false,'isExperimental':true},'highlightIndex':{'name':'highlightIndex','supportedValueType':'PositiveInt','defaultValue':null,'description':'Set which slice to be highlighted. It works in pie chart all the time. For donut chart, it only works when open the version below 1.17, for the version 1.17 or above, use highlightContext instead.'},'unhighlightSliceColor':{'name':'unhighlightSliceColor','supportedValueType':'String','defaultValue':"#dddddd",'description':'Set the of the rest slices\' color when one slice is highlighted'},'dataLabel':{'supportedValues':{'position':{'supportedValues':['inside','outside'],'defaultValue':'inside'},'formatString':{'defaultValue':"0.0%"}}}},'feeds':b.toArray(),'css':{'.v-tooltip-label.viz-pie-tooltip-label-dimensions':{'description':'Define the style for the first label (dimension values) in the tooltip','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal','fill':'#000000'}},'.v-tooltip-value.viz-pie-tooltip-label-value':{'description':'Define the style for the second label (measure value) in the tooltip','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'13px','font-weight':'bold','fill':'#000000'}},'.v-tooltip-percentage.viz-pie-tooltip-label-percentage':{'description':'Define the style for the third label (percentage) in the tooltip','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'10.5px','font-weight':'normal','fill':'#333333'}},'.v-sector.viz-pie-sector':{'description':'Define the style for the sector in the pie','value':{'stroke':'#FFFFFF'}}}};var a={viz:[],module:[m].concat(P.module),feeds:[]};return a});define('sap/viz/chart/elements/manifests/pie/Pie',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Pie','sap/viz/chart/elements/manifests/pie/Base'],function Setup(M,C,f,B){var m={'id':'sap.viz.chart.elements.pie','abstract':false,'base':'sap.viz.chart.elements.basePie','type':C.Type.Chart,'name':'pie','datastructure':'DATA STRUCTURE DOC','properties':{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/pie/InfoPieChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/pie/Pie','sap/viz/manifests/InfoBaseChart','sap/viz/modules/manifests/layout/SequenceScaling'],function Setup(M,C,p,I,S){var c={id:'info/pie',name:'IDS_PIECHART',"abstract":false,base:"info/base",modules:{root:{modules:{main:{id:'sap.viz.chart.elements.xyContainer',modules:{layout:{id:'sap.viz.modules.layout.sequenceScaling'},plot:{id:'sap.viz.chart.elements.pie',configure:{description:'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[undefined,{targetModule:'root.legends.legend',target:'setBindingFields',sourceModule:'root.main.plot',source:'getSectorColorFields'}]}};var m={viz:[c].concat(),module:[].concat(p.module,S.module),feeds:[].concat(p.feeds,S.feeds)};return m});define('sap/viz/impls/InfoPieChart',['sap/viz/manifests/pie/InfoPieChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/chart/elements/manifests/pie/Donut',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Pie','sap/viz/chart/elements/manifests/pie/Base'],function Setup(M,C,f,B){var m={'id':'sap.viz.chart.elements.donut','abstract':false,'base':'sap.viz.chart.elements.basePie','type':C.Type.Chart,'name':'donut','datastructure':'DATA STRUCTURE DOC','properties':{'innerRadiusRatio':{'name':'innerRadiusRatio','supportedValueType':'Number','defaultValue':0.5,'description':'Set the inner Radius Ratio from 0 to 1'},'contextInfos':{'name':'contextInfos','supportedValueType':'Array','defaultValue':[],'isExported':true,'description':'This property can accept an object which contains "ctx" and "paras" property to store the context information like color and context.<br />e.g.contextInfos: [{ctx: {Country: "China"}, paras: {color: "#BCD"}}]<br /> The configuration above means the color of data point which country is china will be #BCD.'},'highlightContext':{'name':'highlightContext','supportedValueType':'Array','defaultValue':[],'isExported':true,'description':'This property can accept an object which contains dimension property to config highlight condition.<br /> e.g. highlightContext: [{Country: "China", Year: "2001", Product: "Car"}]'},'sliceRenderer':{'name':'sliceRenderer','supportedValueType':'Function','defaultValue':null},'centerRenderer':{'name':'centerRenderer','supportedValueType':'Function','defaultValue':null},'centerName':{'name':'centerName','cssClass':'.v-donut-centername','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether center name is visible.'},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#000000','description':'Set the color of the center name.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"Arial, Helvetica, sans-serif",'description':'Set the font family of the center name.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'14px','description':'Set the font size of the center name.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the center name.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the center name.'}}},'centerValue':{'name':'centerValue','cssClass':'.v-donut-centervalue','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether center value is visible.'},'style':{'name':'style','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'fill','supportedValueType':'String','defaultValue':'#000000','description':'Set the color of the center value.'},'fontFamily':{'name':'fontFamily','cssStyle':'font-family','supportedValueType':'String','defaultValue':"Arial, Helvetica, sans-serif",'description':'Set the font family of the center value.'},'fontSize':{'name':'fontSize','cssStyle':'font-size','supportedValueType':'String','defaultValue':'22px','description':'Set the font size of the center value.'},'fontWeight':{'name':'fontWeight','cssStyle':'font-weight','supportedValueType':'String','defaultValue':'normal','description':'Set the font weight of the center value.'},'fontStyle':{'name':'fontStyle','cssStyle':'font-style','supportedValueType':'String','defaultValue':'normal','description':'Set the font style of the data label.'}},'description':'Set the style of the center value.'}}}},'css':{'.v-donut-centername':{'description':'Define style for the center name','value':{'fill':'#000000','font-family':"Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'normal'}},'.v-donut-centervalue':{'description':'Define style for the center value','value':{'fill':'#000000','font-family':"Arial, Helvetica, sans-serif",'font-size':'22px','font-weight':'normal'}}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/pie/InfoDonutChart',['sap/viz/manifests/Viz','sap/viz/chart/elements/manifests/pie/Donut','sap/viz/manifests/pie/InfoPieChart'],function Setup(M,p,I){var c={id:'info/donut',name:'IDS_DONUTCHART',base:"info/pie",modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.chart.elements.donut',configure:{'properties':{'isDonut':true}}}}}}}}};var m={viz:[c].concat(),module:[].concat(p.module),feeds:[].concat(p.feeds)};return m});define('sap/viz/impls/InfoDonutChart',['sap/viz/manifests/pie/InfoDonutChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/chart/elements/csv/combination/DispatchMeasuresNodeSpec',[],function(){var I="measureGroups";var a="renderType";var s={name:"DispatchMeasures",description:"filter the render measures structure by given render type",inputPorts:[{id:I,required:true,description:'the render measures'},{id:a,required:true,description:'the render type. "line" or "bar".'}],output:{description:"the filtered render measures structure"},fn:function(p){var b=p[I];var r=p[a];return b.map(function(c,g){var d=[];c.forEach(function(e){if(e.type===r){d.push(e.measure)}});return d})},INPUT_PORT_MEASURE_GROUPS:I,INPUT_PORT_RENDER_TYPE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/combination/AssembleNodeSpec',[],function(){var I="line";var a="bar";var s={description:"Assemeble line and bar layer",inputPorts:[{id:I,required:true,description:'the output of line layer flow'},{id:a,required:true,description:'the output of bar layer flow'}],output:{description:"the render contex object"},name:"assembleCombination",fn:function(p){return p[I]},INPUT_PORT_LINE:I,INPUT_PORT_BAR:a};var m={};m[a]=true;m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/combination/MergePropertyNodeSpec',['sap/viz/base/utils/Objects'],function(O){var I="targetProps";var a="sourceProps";var b="sourcePath";var s={description:"get property value by given path",inputPorts:[{id:I,required:true,description:"the target properties"},{id:a,required:true,description:'the source properties'},{id:b,required:true,description:'the source path like "a.b.c"'}],output:{description:"the merged property value"},fn:function(p){function c(t,e,f){var g=e,h={},i=h;f=f.split(".");f.forEach(function(j){g=g[j]});f.forEach(function(j,k){if(k<f.length-1){i[j]={}}else{i[j]=g}i=i[j]});return O.extend({},t,h)}var d=p[I];p[b].forEach(function(e){d=c(d,p[a],e)});return d},INPUT_PORT_KEY_TARGET_PROPERTIES:I,INPUT_PORT_KEY_SOURCE_PROPERTIES:a,INPUT_PORT_KEY_SOURCE_PROPERTY_PATH:b};var m={};m[I]=true;m[a]=true;m[b]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/combination/RenderTypeNodeSpec',[],function(){var I="measureGroups";var a="properties";var s={name:"RenderType",description:"decide the render type for measures",inputPorts:[{id:I,required:true,description:'the render measures'},{id:a,required:true,description:'the properties'}],output:{description:"the render measures structure with render type info"},fn:function(p){var b=p[I];var c=p[a].dataShape;return b.map(function(d,g){var e=c[g===0?"primaryAxis":"secondaryAxis"];return d.map(function(f,i){return{measure:f,type:e[i]||"line"}})})},INPUT_PORT_MEASURE_GROUPS:I,INPUT_PORT_PROPS:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/combination/ShapesNodeSpec',[],function(){var I="measureGroups";var a="lineShape";var s={description:"build the shapes info",inputPorts:[{id:I,required:true,description:'the measure groups with type info'},{id:a,required:false,description:'the shape of line marker'}],output:{description:"the shapes info"},name:"combinationShape",fn:function(p){var l=p[a];return p[I].map(function(b){return b.map(function(o){return{measureId:o.measure.getId(),shape:o.type==='line'?l:null}})})},INPUT_PORT_MEASURE_GROUPS:I,INPUT_PORT_LINE_SHAPE:a};var m={};m[a]=false;m[I]=true;s.meta=m;return s});define('sap/viz/chart/elements/csv/combination/CombinationExtension',['sap/viz/base/utils/oo',"sap/viz/chart/elements/csv/RenderExtension","sap/viz/chart/elements/csv/bar/attachFlow","sap/viz/chart/elements/csv/line/attachFlow","./DispatchMeasuresNodeSpec","./AssembleNodeSpec","./MergePropertyNodeSpec","sap/viz/chart/elements/plot/flow/GetPropertyNodeSpec","./RenderTypeNodeSpec","./ShapesNodeSpec"],function(a,R,b,c,D,A,M,G,d,S){var C=function(){C.superclass.constructor.call(this,"Combination")};a.extend(C,R);var r=[{type:"line",attachRenderFlow:c,assemblePort:A.INPUT_PORT_LINE},{type:"bar",attachRenderFlow:b,assemblePort:A.INPUT_PORT_BAR}];C.prototype.setup=function(e){var f=C.superclass.setup.apply(this,arguments);var g=e._flow;var h=g.addNode(A);var p=this._propsNode;var m=g.addNode(d);g.linkNode(f,m,d.INPUT_PORT_MEASURE_GROUPS);g.linkNode(p,m,d.INPUT_PORT_PROPS);var l;r.forEach(function(o){var t=o.type;var i=g.addNode(G,t+"Properties");g.linkNode(p,i,G.INPUT_PORT_KEY_PROPERTIES);i.setInputPort(G.INPUT_PORT_KEY_PROPERTY_PATH,t);var j=g.addNode(M,t+"MergeProperties");j.setInputPort(M.INPUT_PORT_KEY_SOURCE_PROPERTY_PATH,["dataPointStyle","drawingEffect","isFixedDataPointSize"]);g.linkNode(i,j,M.INPUT_PORT_KEY_TARGET_PROPERTIES);g.linkNode(p,j,M.INPUT_PORT_KEY_SOURCE_PROPERTIES);var k=g.addNode(D,t+"MeasuresDispatch");k.setInputPort(D.INPUT_PORT_RENDER_TYPE,t);g.linkNode(m,k,D.INPUT_PORT_MEASURE_GROUPS);var n=o.attachRenderFlow;var q=n(e,k,j);var u=q.endNode;g.linkNode(u,h,o.assemblePort);if(t==='line'){l=q.shapeNode}});var s=this._shapesNode=g.addNode(S);g.linkNode(l,s,S.INPUT_PORT_LINE_SHAPE);g.linkNode(m,s,S.INPUT_PORT_MEASURE_GROUPS);return h};C.prototype.getShapeNode=function(){return this._shapesNode};return C});define('sap/viz/chart/elements/Combination',['sap/viz/chart/elements/csv/createConstructor','sap/viz/chart/elements/csv/combination/CombinationExtension'],function Setup(c,C){return c(C)});define('sap/viz/chart/elements/manifests/csv/Combination',['sap/viz/modules/manifests/Module','sap/viz/chart/elements/Combination','sap/viz/chart/elements/manifests/csv/Base',"./LineProperties","./BarProperties"],function Setup(M,f,B,L,a){var m={'id':'sap.viz.chart.elements.combination','name':'combination',base:"sap.viz.chart.elements.csv",'properties':{'dataShape':{'name':'dataShape','supportedValueType':'Object','supportedValues':{'primaryAxis':{'name':'primaryAxis','supportedValueType':'StringArray','supportedValues':['bar','line'],'defaultValue':['bar','line','line'],'description':'Set the shape of data series on the primary axis'},'secondaryAxis':{'name':'secondaryAxis','supportedValueType':'StringArray','supportedValues':['line','line'],'defaultValue':['line','line','line'],'description':'Set the shape of data series on the secondary axis','isExported':false}},'description':'Settings for the shape of data series'},'dataLabel':{'supportedValues':{'position':{'supportedValues':['up','down','left','right','inside']}}},'bar':{'name':'bar','supportedValueType':'Object','supportedValues':a,'description':'Settings for bar properties'},'line':{'name':'line','supportedValueType':'Object','supportedValues':L,'description':'Settings for line properties'}},fn:f};var b={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return b});define('sap/viz/manifests/xy/csv/buildCombinationManifest',['sap/viz/manifests/xy/csv/buildManifest','sap/viz/chart/elements/manifests/csv/Combination'],function(b,p){function c(m,h,d){var n="COMBINATION",i="combination";if(h){n="HORIZONTAL"+n;i="horizontal_"+i}if(d){i="dual_"+i}m.name=n;m.id=i}return function(h,d){return b(p,c,h,d)}});define('sap/viz/manifests/xy/csv/InfoCombinationChart',['./buildCombinationManifest'],function Setup(b){return b(false,false)});define('sap/viz/impls/InfoCombinationChart',['sap/viz/manifests/xy/csv/InfoCombinationChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/chart/elements/bullet/BulletBinds',["sap/viz/chart/elements/data/MultiDimensionalBinds",'sap/viz/data/feed/Constants'],function(M,c){var I="axisLabels",a="primaryValues",b="targetValues",d="referenceValues";var T=c.Type,e=T.Dimension,f=T.Measure;var g={};g[I]={'name':'IDS_AXISLABELS','type':e,'minNumOfDimensions':1,'maxNumOfDimensions':1,'MNDCompatibility':'optional','acceptMND':0};g[a]={'name':'IDS_PRIMARYVALUES','type':f,'minNumOfMeasures':1,'maxNumOfMeasures':2};g[b]={'name':'IDS_TARGETVALUES','type':f,'minNumOfMeasures':0,'maxNumOfMeasures':1};g[d]={'name':'IDS_REFERENCEVALUES','type':f,'minNumOfMeasures':0,'maxNumOfMeasures':2};var r=new M(g);r.ID_AXIS_LABELS=I;r.ID_PRIMARY_VALUES=a;r.ID_TARGET_VALUES=b;r.ID_REFERENCE_VALUES=d;return r});define('sap/viz/chart/elements/bullet/flow/MergeNodeSpec',[],function(){var I="measureGroup";var a="measureGroup1";var b="measureGroup2";var s={description:"Merge 3 measure groups to one array",inputPorts:[{id:I,required:true,description:'Primary measure group for bullet'},{id:a,required:false,description:"Target measure group for bullet"},{id:b,required:false,description:"Reference measure group for bullet"}],output:{description:"Array of all measure groups"},name:"mergeMeasureGroup",fn:function(p){var r=[];if(p[I]){r.push(p[I])}if(p[a]){r.push(p[a])}if(p[b]){r.push(p[b])}return r},INPUT_PORT_KEY_GROUP:I,INPUT_PORT_KEY_GROUP1:a,INPUT_PORT_KEY_GROUP2:b};var m={};m[I]=true;m[a]=false;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/bullet/flow/renderRect',["sap/viz/chart/elements/common/SVG"],function(S){return function(c){var n=S.create("rect");n.setAttribute("width",c.graphic.width);n.setAttribute("height",c.graphic.height);n.setAttribute("fill",c.graphic.fill);n.setAttribute("x",c.graphic.x);n.setAttribute("y",c.graphic.y);if(c.graphic.stroke){n.setAttribute("stroke",c.graphic.stroke)}if(c.graphic.className){n.setAttribute("class",c.graphic.className)}return n}});define('sap/viz/chart/elements/bullet/flow/RenderNodeSpec',["./renderRect","sap/viz/chart/elements/common/SVG","sap/viz/chart/elements/plot/DataPoints","sap/viz/chart/elements/data/Constants","sap/viz/base/utils/TypeUtils","sap/viz/chart/elements/common/DataGraphics","sap/viz/base/UADetector","sap/viz/chart/elements/utils/RuleUtil","sap/viz/util/NumberUtils"],function(r,S,D,a,T,b,U,R,N){var I="dataView";var c="primaryMeasure";var d="targetMeasure";var e="referenceMeasure";var f="properties";var g="effectManager";var h="width";var j="height";var l="horizontal";var n="renderContext";var o="categoryScale";var p="valueScale";var q="barSize";var A="axisLabels";function s(i,k){var m=d3.select(i).select("defs");if(m.empty()){m=d3.select(i).append("defs")}var v=m.select("#diagonalHatch");if(v.empty()){v=m.append('pattern').attr('id','diagonalHatch').attr('patternUnits','userSpaceOnUse').attr('width',7).attr('height',7);v.append('path').attr('d','M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2').attr('fill',k).attr("fill-opacity","1")}return"url(#diagonalHatch)"}var t={description:"Render Bullet",inputPorts:[{id:I,required:true,description:'Data view'},{id:c,required:true,description:"Primary measure group"},{id:d,required:false,description:"Target measure group"},{id:e,required:false,description:"Reference measure group"},{id:f,required:true,description:"Bullet plotArea properties"},{id:g,required:true,description:"Effect manager"},{id:h,required:true,description:"Plot width"},{id:j,required:true,description:"Plot Height"},{id:l,required:true,description:"Horizontal layout or not"},{id:n,required:true,description:"Render context for plot"},{id:o,required:true,description:"Category scale for plot"},{id:p,required:true,description:"Value scale for plot"}],output:{description:"Rendering result"},name:"renderBulletNode",fn:function(w){var x=w[c];var y=w[d];var z=w[e];var B=w[I];var C=B.getAnalysisAxis(A);var E=C.getLength();var F=w[n];var G=w[o];var H=w[p];var J=F.dataPointNodes;var K=w[f];var L=w[g];var M=w[j];var O=w[h];var P=F.dataShapesGroupNode;var Q=G.getRangeBand();var V={};var W=w[q];var X={};var Y=['v-minReference','v-midReference','v-maxReference'];var Z,v,m,$,_;var a1=y?y.getMeasure(0).getId():undefined;var b1=z?z.getFields():undefined;var c1=x?x.getFields():undefined;var d1=[];var e1={};for(var k=0;k<E;k++){X={};d1=[];var f1=C.getFields();var g1=C.get(k);for(var i=0;i<f1.length;++i){X[f1[i].id]=g1.val[i]}var h1=0;var i1=0;var j1=J[""+k];if(!j1){j1=D.create(P,""+k)}else{P.appendChild(j1)}V[A]=k;if(z){Z=B.getMeasureValues(V,z._measureIndexes);for(m=Math.min(Z[0].length,3)-1;m>=0;m--){v=Z[0][m];h1=N.isNoValue(v.val)?0:v.val;e1={};e1[b1[m].id]=v.val;d1.push(e1);i1=Math.max(h1,i1);if(N.isNoValue(v.val)){continue}$={fill:K.referenceValuesColorPalette[m],x:0,y:G.getRangeInterval()[k][0]+(Q-W.referBarSize)/2,width:v.valuePosition,height:W.referBarSize,className:Y[m]};_={graphic:$,properties:K,effectManager:L};j1.appendChild(r(_))}}if(y){Z=B.getMeasureValues(V,y._measureIndexes);if(Z[0].length>0){v=Z[0][0];e1={};e1[a1]=v.val;d1.push(e1);h1=N.isNoValue(v.val)?0:v.val;i1=Math.max(h1,i1)}}var k1=["v-primary","v-forecast"];var l1=0;if(x){Z=B.getMeasureValues(V,x._measureIndexes);l1=Z[0][0];for(m=Math.min(Z[0].length,2)-1;m>=0;m--){v=Z[0][m];e1={};e1[c1[m].id]=v.val;d1.push(e1);h1=N.isNoValue(v.val)?0:v.val;i1=Math.max(h1,i1)}}for(var m1=d1.length-1;m1>=0;m1--){for(var n1 in d1[m1]){if(d1[m1].hasOwnProperty(n1)){X[n1]=d1[m1][n1]}}}if(x){Z=B.getMeasureValues(V,x._measureIndexes);l1=Z[0][0];for(m=Math.min(Z[0].length,2)-1;m>=0;m--){v=Z[0][m];if(N.isNoValue(v.val)){continue}var o1=K.colorPalette[m];if(m===0){var p1=R.analyze(X,K.dataPointStyle);if(p1&&p1.color){o1=p1.color}}$={fill:o1,shape:"rect",x:0,y:G.getRangeInterval()[k][0]+(Q-W.primaryBarSize)/2,width:v.valuePosition,height:W.primaryBarSize,className:k1[m]};_={graphic:$,properties:K,effectManager:L};j1.appendChild(r(_))}}if(y){Z=B.getMeasureValues(V,y._measureIndexes);if(Z[0].length>0&&Z[0][0]&&!N.isNoValue(Z[0][0].val)){v=Z[0][0];var q1;if(K.showGap&&!N.isNoValue(l1.val)){if(v.val>l1.val){q1=S.create("line");q1.setAttribute("x1",""+l1.valuePosition);q1.setAttribute("x2",""+l1.valuePosition);q1.setAttribute("y1",G.getRangeInterval()[k][0]+(Q-W.primaryBarSize)/2);q1.setAttribute("y2",G.getRangeInterval()[k][0]+(Q+W.primaryBarSize)/2);q1.setAttribute("stroke","white");q1.setAttribute("stroke-width","1");q1.setAttribute("stroke-opacity","1");j1.appendChild(q1)}if(Math.abs(l1.valuePosition-v.valuePosition)>2){$={fill:v.valuePosition<=l1.valuePosition?K.positiveGapColor:s(P,K.negativeGapColor),x:(v.valuePosition<=l1.valuePosition?v.valuePosition:l1.valuePosition+1),y:G.getRangeInterval()[k][0]+(Q-W.primaryBarSize)/2,width:(v.valuePosition<=l1.valuePosition)?l1.valuePosition-v.valuePosition:v.valuePosition-l1.valuePosition-2,height:W.primaryBarSize,className:"v-gap"};_={graphic:$,properties:K,effectManager:L};j1.appendChild(r(_))}}q1=S.create("line");q1.setAttribute("x1",""+v.valuePosition-2);q1.setAttribute("x2",""+v.valuePosition-2);q1.setAttribute("y1",G.getRangeInterval()[k][0]+(Q-W.targetWidth)/2);q1.setAttribute("y2",G.getRangeInterval()[k][0]+(Q+W.targetWidth)/2);q1.setAttribute("stroke","white");q1.setAttribute("stroke-width","1");q1.setAttribute("stroke-opacity","1");j1.appendChild(q1);var r1=S.create("line");r1.setAttribute("x1",""+(v.valuePosition-1));r1.setAttribute("x2",""+(v.valuePosition-1));r1.setAttribute("y1",G.getRangeInterval()[k][0]+(Q-W.targetWidth)/2);r1.setAttribute("y2",G.getRangeInterval()[k][0]+(Q+W.targetWidth)/2);r1.setAttribute("stroke",K.targetValueColor);r1.setAttribute("stroke-width","2");r1.setAttribute("class","v-target");j1.appendChild(r1)}}var s1=H.scale(i1)+0.15*Q;if(s1>O){s1=O}$={fill:"transparent",x:""+0,y:""+(G.getRangeInterval()[k][0]+(Q-W.targetWidth)/2),width:""+s1,height:""+W.targetWidth,className:"v-eventArea"};_={graphic:$,properties:K,effectManager:L};j1.appendChild(r(_));var t1=Q/2-W.targetWidth/2;if(t1>3){t1=3}var u1={x:"0",y:""+(G.getRangeInterval()[k][0]+Q/2-W.targetWidth/2-t1),width:""+(H.scale(i1)+5>=O?O-1:H.scale(i1)+5),height:""+(W.targetWidth+2*t1),color:K.colorPalette[0]};j1.__data__=X;j1.__extra_data__=u1}var v1=S.create("g",F.parentNode);v1.setAttribute("class","v-effect-group");return F},INPUT_PORT_HORIZONTAL:l,INPUT_PORT_PRIMARY_MEASURES:c,INPUT_PORT_TARGET_MEASURES:d,INPUT_PORT_REFERENCE_MEASURES:e,INPUT_PORT_PROPERTIES:f,INPUT_PORT_EFFECT_MANAGER:g,INPUT_PORT_PLOT_WIDTH:h,INPUT_PORT_PLOT_HEIGHT:j,INPUT_PORT_DATA_VIEW:I,INPUT_PORT_RENDER_CONTEXT:n,INPUT_PORT_VALUE_SCALE:p,INPUT_PORT_BAR_SIZE:q,INPUT_PORT_CATEGORY_SCALE:o};var u={};u[c]=true;u[d]=false;u[e]=false;u[f]=true;u[g]=true;u[h]=true;u[j]=true;u[l]=true;u[I]=true;u[n]=true;u[p]=true;u[o]=true;u[q]=true;t.meta=u;return t});define('sap/viz/chart/elements/bullet/flow/DataLabelScaleNodeSpec',['sap/viz/chart/elements/scale/CategoryScale','sap/viz/lang/langManager'],function(C,l){var I="measureGroup";var a="range";var s={description:"create a data label category scale",inputPorts:[{id:I,required:true,description:'The measure group to show data label'},{id:a,required:true,description:"the range of scale"}],output:{description:"the scale object"},name:"dataLabelScale",fn:function(p){var b=p[I];var r=p[a];var d=[];b.iterateValues(function(v){v.forEach(function(c){d.push([""+((c[0].val===null||c[0].val===undefined)?l.get('IDS_ISNOVALUE'):c[0].val)])})});return new C(d,r)},INPUT_PORT_KEY_MEASURE:I,INPUT_PORT_KEY_RANGE:a};var m={};m[I]=true;m[a]=true;s.meta=m;return s});define('sap/viz/chart/elements/bullet/flow/AxisWidthNodeSpec',['sap/viz/base/UADetector'],function(U){var I="properties";var a="plotSize";var b="axisLabels";var s={description:"return drawable axis label area width",inputPorts:[{id:I,required:true,description:'properties of bullet'},{id:a,required:true,description:"axis label plot width"},{id:b,required:true,description:"axis label"}],output:{description:"drawable axis label width"},name:"CalculateRealAxisSize",fn:function(p){var c=p[I];var d=p[a];var e=p[b];var l=e.getLength();var r=d;if(c.isFixedDataPointSize){var f=48;var g=24;if(c.barSize){f=c.barSize.mobile.minValue;g=c.barSize.desktop.minValue}if(U.isMobile()){if(l*f/0.6>d){r=l*f/0.6}}else if(l*g/0.6>d){r=l*g/0.6}}return r},INPUT_PORT_PROPERTIES:I,INPUT_PORT_PLOT_SIZE:a,INPUT_PORT_AXIS:b};var m={};m[I]=true;m[a]=false;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/bullet/flow/BarSizeNodeSpec',['sap/viz/base/UADetector'],function(U){var I="properties";var a="plotSize";var b="axisLabels";var s={description:"return the real bar size",inputPorts:[{id:I,required:true,description:'properties of bullet'},{id:a,required:true,description:"axis label plot width"},{id:b,required:true,description:"axis label"}],output:{description:"real bar size information"},name:"CalculateRealAxisSize",fn:function(p){var c=p[I];var d=p[a];var e=p[b];var l=e.getLength();var f={primaryBarSize:d/l*0.6*0.7143,referBarSize:d/l*0.6*0.8,targetWidth:d/l*0.6};if(c.isFixedDataPointSize){var g=48,h=96;var i=24,j=96;if(c.barSize){g=c.barSize.mobile.minValue;h=c.barSize.mobile.maxValue;i=c.barSize.desktop.minValue;j=c.barSize.desktop.maxValue}var w;if(U.isMobile()){if(l*h/0.6<d){f.targetWidth=h;f.primaryBarSize=h*0.7143;f.referBarSize=h*0.8}else{if(l*g/0.6>d){w=g/0.6}else{w=d/l}f.primaryBarSize=w*0.6*0.7143;f.referBarSize=w*0.6*0.8;f.targetWidth=w*0.6}}else{if(l*j/0.6<d){f.primaryBarSize=j*0.7143;f.referBarSize=j*0.8;f.targetWidth=j}else{if(l*i/0.6>d){w=i/0.6}else{w=d/l}f.primaryBarSize=w*0.6*0.7143;f.referBarSize=w*0.6*0.8;f.targetWidth=w*0.6}}}return f},INPUT_PORT_PROPERTIES:I,INPUT_PORT_PLOT_SIZE:a,INPUT_PORT_AXIS:b};var m={};m[I]=true;m[a]=false;m[b]=false;s.meta=m;return s});define('sap/viz/chart/elements/bullet/Bullet',['sap/viz/base/utils/oo','sap/viz/chart/elements/plot/BasePlot','sap/viz/chart/elements/data/flow/AnalysisAxisValuesArrayNodeSpec','sap/viz/chart/elements/flow/Flow','sap/viz/chart/elements/xy/flow/XYScaleRangeNodeSpec','sap/viz/chart/elements/xy/flow/ValueScaleDomainNodeSpec','sap/viz/chart/elements/scale/flow/ValueScaleNodeSpec','sap/viz/chart/elements/xy/flow/PerfectValueScaleNodeSpec','./BulletBinds','sap/viz/chart/elements/data/flow/AnalysisAxisNodeSpec','sap/viz/chart/elements/data/flow/MeasureGroupNodeSpec','sap/viz/chart/elements/xy/flow/ApplyValueScaleNodeSpec',"sap/viz/chart/elements/plot/DataPoints",'sap/viz/base/UADetector','sap/viz/chart/elements/scale/ValueScale',"sap/viz/chart/elements/scale/flow/CategoryScaleNodeSpec","./flow/MergeNodeSpec","./flow/RenderNodeSpec","./flow/DataLabelScaleNodeSpec","./flow/AxisWidthNodeSpec","./flow/BarSizeNodeSpec"],function Setup(o,B,A,F,X,V,a,P,b,c,M,d,D,U,e,C,f,R,g,h,j){var k=B.FLOW_INPUT_PORT_KEY_DATA;var l=B.FLOW_INPUT_PORT_KEY_PROPERTIES;var m=c.INPUT_PORT_DATA_VIEW;var n=c.INPUT_PORT_AXIS_INDEX;var p=A.INPUT_PORT_AXIS;var q=C.INPUT_PORT_DOMAIN;var r=C.INPUT_PORT_RANGE;var s=M.INPUT_PORT_DATA_VIEW;var t=M.INPUT_PORT_MEASURE_GROUP_INDEX;var u=d.INPUT_PORT_MEASURE_GROUP;var v=d.INPUT_PORT_SCALE;var w=V.INPUT_PORT_MEASURE_GROUP;var x=b.ID_AXIS_LABELS;var y=b.ID_PRIMARY_VALUES;var z=b.ID_TARGET_VALUES;var E=b.ID_REFERENCE_VALUES;var G=[x],H=[y,z,E];var I=function(i,L){L.flowName="Bullet";this._horizontal=L.horizontal;I.superclass.constructor.call(this,i,L,G,H)};o.extend(I,B);var J=function(i){return i};function K(i,L,N,O){var Q=i.addNode(c,O);i.linkNode(L,Q,m);Q.setInputPort(n,N);return Q}I.prototype._initializeFlow=function(){I.superclass._initializeFlow.apply(this,arguments);var L=this._flow;var N=this._dataViewNode;var O=this._horizontal=true;var Q=this._axisLabelsAANode=K(L,N,x,"axisLabelsAnalysisAxis");var S=this._axisWidthNode=L.addNode(h,"axisWidthNode");L.linkInputPortToNode(O?B.FLOW_INPUT_PORT_KEY_HEIGHT:B.FLOW_INPUT_PORT_KEY_WIDTH,S,h.INPUT_PORT_PLOT_SIZE);L.linkInputPortToNode(l,S,h.INPUT_PORT_PROPERTIES);L.linkNode(Q,S,h.INPUT_PORT_AXIS);var T=L.addNode(X,"widthScaleRange");var W=L.addNode(X,"heightScaleRange");if(O){L.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,T,X.INPUT_PORT_KEY_LENGTH);L.linkNode(S,W,X.INPUT_PORT_KEY_LENGTH)}else{L.linkNode(B.axisWidthNode,T,X.INPUT_PORT_KEY_LENGTH);L.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,W,X.INPUT_PORT_KEY_LENGTH)}var Y=L.addNode(A,"categoryScaleDomain");L.linkNode(Q,Y,p);var Z=L.addNode(C);L.linkNode(O?W:T,Z,r);L.linkNode(Y,Z,q);this._categoryScaleNode=Z;var $=O?T:W;if(!O){$.setInputPort(X.INPUT_PORT_KEY_REVERSE,true)}var _=J;this._valueScaleRangeNode=$;this._measureGroupNodes=H.map(function(id,i1){var j1=L.addNode(M,"measureGroup-"+id);L.linkNode(this._dataViewNode,j1,s);j1.setInputPort(t,id);return j1},this);var a1=L.addNode(f,_("mergeNode"));L.linkNode(this._measureGroupNodes[0],a1,f.INPUT_PORT_KEY_GROUP);L.linkNode(this._measureGroupNodes[1],a1,f.INPUT_PORT_KEY_GROUP1);L.linkNode(this._measureGroupNodes[2],a1,f.INPUT_PORT_KEY_GROUP2);var b1=L.addNode(V,_("valueScaleDomain"));L.linkNode(a1,b1,w);L.linkInputPortToNode(l,b1,V.INPUT_PORT_PROPERTIES);b1.setInputPort(V.INPUT_PORT_FIXED_PROP_NAME,"primaryScale");var c1=this._dataLabelScaleNode=L.addNode(g,"dataLabelScale");L.linkNode(this._measureGroupNodes[0],c1,g.INPUT_PORT_KEY_MEASURE);L.linkNode(O?W:T,c1,g.INPUT_PORT_KEY_RANGE);var d1=L.addNode(a,_("valueScale"));L.linkNode(b1,d1,a.INPUT_PORT_KEY_DOMAIN);L.linkNode(this._valueScaleRangeNode,d1,a.INPUT_PORT_KEY_RANGE);var e1=this._primaryNode=L.addNode(P,_("perfectValueScale"));L.linkNode(d1,e1,P.INPUT_PORT_KEY_SCALE);this._applyScaleMeasureNodes=[];for(var i=0;i<this._measureGroupNodes.length;++i){var f1=L.addNode(d,H[i]+_("-applyValueScale"));L.linkNode(d1,f1,v);L.linkNode(this._measureGroupNodes[i],f1,u);this._applyScaleMeasureNodes[i]=f1}var g1=L.addNode(j,"barSizeNode");L.linkInputPortToNode(O?B.FLOW_INPUT_PORT_KEY_HEIGHT:B.FLOW_INPUT_PORT_KEY_WIDTH,g1,j.INPUT_PORT_PLOT_SIZE);L.linkInputPortToNode(l,g1,j.INPUT_PORT_PROPERTIES);L.linkNode(Q,g1,j.INPUT_PORT_AXIS);var h1=L.addNode(R,"renderNode");L.linkNode(this._applyScaleMeasureNodes[0],h1,R.INPUT_PORT_PRIMARY_MEASURES);L.linkNode(this._applyScaleMeasureNodes[1],h1,R.INPUT_PORT_TARGET_MEASURES);L.linkNode(this._applyScaleMeasureNodes[2],h1,R.INPUT_PORT_REFERENCE_MEASURES);L.linkNode(this._dataViewNode,h1,R.INPUT_PORT_DATA_VIEW);L.linkNode(e1,h1,R.INPUT_PORT_VALUE_SCALE);L.linkNode(g1,h1,R.INPUT_PORT_BAR_SIZE);L.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_WIDTH,h1,R.INPUT_PORT_PLOT_WIDTH);L.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_HEIGHT,h1,R.INPUT_PORT_PLOT_HEIGHT);L.linkInputPortToNode(B.FLOW_INPUT_PORT_KEY_PROPERTIES,h1,R.INPUT_PORT_PROPERTIES);L.linkNode(this._buildRenderContextNode,h1,R.INPUT_PORT_RENDER_CONTEXT);h1.setInputPort(R.INPUT_PORT_EFFECT_MANAGER,this._effectManager);h1.setInputPort(R.INPUT_PORT_HORIZONTAL,this._horizontal);L.linkNode(this._categoryScaleNode,h1,R.INPUT_PORT_CATEGORY_SCALE);return h1};I.prototype.getCategoryScale=function(){return this._flow.getOutput(this._categoryScaleNode)};I.prototype.getPrimaryScale=function(){return this._flow.getOutput(this._primaryNode)};I.prototype.getAxisLabelsFields=function(){return this._flow.getOutput(this._axisLabelsAANode).getFields()};I.prototype.getDataLabelsFields=function(){return this._flow.getOutput(this._measureGroupNodes[0]).getFields()};I.prototype.getDataLabelScale=function(){return this._flow.getOutput(this._dataLabelScaleNode)};I.prototype.getContentSize=function(){return this._flow.getOutput(this._axisWidthNode)};I.prototype.getPrimaryValuesFields=function(){return this._flow.getOutput(this._measureGroupNodes[0]).getFields()};I.prototype.getModuleProps=function(){return{isFixedDataPointSize:this._props.isFixedDataPointSize}};return I});define('sap/viz/chart/elements/manifests/bullet/Bullet',['sap/viz/modules/manifests/Module','sap/viz/chart/elements/bullet/Bullet','sap/viz/chart/elements/manifests/Plot','sap/viz/chart/elements/bullet/BulletBinds','sap/viz/modules/Constants'],function Setup(M,f,B,b,C){var m={'id':'sap.viz.chart.elements.bullet','name':'bullet',base:"sap.viz.chart.elements.plot",'properties':{'dataLabel':{isExported:false},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':["#2479BC","#d6d6d6"],'description':'Set the color palette for the chart.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'referenceValuesColorPalette':{'name':'referenceValuesColorPalette','supportedValueType':'StringArray','defaultValue':["#FCDCDA","#FEECDA","#DDF3E4"],'description':'Set the color palette reference value color in bullet chart.','isExported':false},'targetValueColor':{'name':'targetValueColor','supportedValueType':'String','defaultValue':"#333333",'description':'Set color for target line.','isExported':false},'showGap':{'name':'showGap','supportedValueType':'Boolean','defaultValue':false,'description':'Draw gap between actual value and target value.','isExported':true},'positiveGapColor':{'name':'positiveGapColor','supportedValueType':'String','defaultValue':"#87c27e",'description':'Color for the gap when actual value exceeds target value.','isExported':true},'negativeGapColor':{'name':'negativeGapColor','supportedValueType':'String','defaultValue':"#e34352",'description':'Color for the gap when actual value is less than target value.','isExported':true},"isFixedDataPointSize":{"name":"isFixedDataPointSize","supportedValueType":"Boolean","defaultValue":false,"description":"Enable or disable to use fixed datapoint size layout strategy","isExported":true},"primaryScale":{"name":"primaryScale","description":"Set primaryScale for value axis. this property just work on value type axis.","supportedValueType":"Object","isExported":false,"supportedValues":{"fixedRange":{"name":"fixedRange","supportedValueType":"Boolean","defaultValue":false,"description":"Set whether the axis range is limited to the range between the minValue and maxValue"},"minValue":{"name":"minValue","supportedValueType":"Number","defaultValue":null,"description":"Set minValue of primary data value. Setting null stands for disable."},"maxValue":{"name":"maxValue","supportedValueType":"Number","defaultValue":null,"description":"Set maxValue of primary data value. Setting null stands for disable."},"autoMinValue":{"name":"autoMinValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale minValue of primary data value.","isExported":false},"autoMaxValue":{"name":"autoMaxValue","supportedValueType":"Number","defaultValue":null,"description":"Auto scale maxValue of primary data value.","isExported":false}}},'barSize':{'name':'barSize','supportedValueType':'Object',"isExported":false,'supportedValues':{'desktop':{'name':'desktop','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':24,'description':'Set minValue of bar width for desktop environment.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':96,'description':'Set maxValue  of bar width for desktop environment.'}}},'mobile':{'name':'mobile','supportedValueType':'Object','supportedValues':{'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':48,'description':'Set minValue of bar width for mobile environment.'},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':96,'description':'Set maxValue  of bar width for desktop environment.'}}}}}},'feeds':b.toArray(),fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[]};return a});define('sap/viz/manifests/xy/InfoBulletChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/chart/elements/manifests/bullet/Bullet','sap/viz/manifests/xy/InfoBaseXYChart','sap/viz/base/UADetector'],function Setup(M,C,p,I,U){var c={id:'info/bullet',name:'IDS_BULLETCHART',base:'info/baseXY',modules:{root:{modules:{legends:null,interaction:{id:'sap.viz.chart.elements.behaviors.info.interaction',configure:{propertiesOverride:{selectability:{legendSelection:{isExported:false}}}}},main:{modules:{plot:{id:'sap.viz.chart.elements.bullet',paras:{horizontal:true},configure:{description:'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea',properties:{background:{border:{right:{visible:false},bottom:{visible:false}}}},propertiesOverride:{dataLabel:{isExported:false},referenceValuesColorPalette:{isExported:false}}}},xAxis2:{id:'sap.viz.chart.elements.axis.value',configure:{properties:{layout:{maxHeight:'0.25'}},propertyCategory:'valueAxis',propertiesOverride:{label:{hideSubLevels:{isExported:false}},layout:{maxWidth:{isExported:false}}}}},yAxis:{id:'sap.viz.chart.elements.axis.category',configure:{properties:{layout:{maxWidth:'0.25'},title:{visible:false}},propertyCategory:'categoryAxis',propertiesOverride:{label:{hideSubLevels:{isExported:false}},layout:{maxHeight:{isExported:false}}}}},xAxis:null,yAxis2:{id:'sap.viz.chart.elements.axis.category',configure:{properties:{visible:true,layout:{maxWidth:'0.25'},isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:'greedy'},axisLine:{visible:false},axisTick:{visible:false},title:{visible:false},enableLabelSelection:false},propertyCategory:'categoryAxis2',propertiesOverride:{title:{isExported:false},labelRenderer:{isExported:false},hoverShadow:{isExported:false},color:{isExported:false},axisLine:{isExported:false},axisTick:{isExported:false},label:{hideSubLevels:{isExported:false}},layout:{maxHeight:{isExported:false}}}}}}}}}},feeds:{referenceValues:null},dependencies:{attributes:[null,{targetModule:'root.main.xAxis2',target:'setScale',sourceModule:'root.main.plot',source:'getPrimaryScale'},{targetModule:'root.main.yAxis',target:'setBindingFields',sourceModule:'root.main.plot',source:'getAxisLabelsFields'},{targetModule:'root.main.yAxis',target:'setScale',sourceModule:'root.main.plot',source:'getCategoryScale'},{targetModule:'root.main.yAxis2',target:'setBindingFields',sourceModule:'root.main.plot',source:'getDataLabelsFields'},{targetModule:'root.main.yAxis2',target:'setScale',sourceModule:'root.main.plot',source:'getDataLabelScale'},{targetModule:'root.main.xAxis2',target:'setBindingFields',sourceModule:'root.main.plot',source:'getPrimaryValuesFields'},{targetModule:'root.main.yAxis2',target:'setOtherModuleProps',sourceModule:'root.main.plot',source:'getModuleProps'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.tooltip',listener:'moveTo',sourceModule:'root.main.yAxis2',type:'moveTo.tooltip'}]}};if(U.isMobile()){c.dependencies.events.push({targetModule:'root.main.yAxis2',listener:'scrollTo',sourceModule:'root.main.plot',type:'scrollTo.scrollBar'})}var m={viz:[c].concat(),module:[].concat(p.module),feeds:[].concat(p.feeds)};return m});define('sap/viz/impls/InfoBulletChart',['sap/viz/manifests/xy/InfoBulletChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/api/data/CrosstableDataset',['sap/viz/data/CrosstableDataset','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils'],function Setup(C,O,T){var c=function(){this._crosstableDataset=new C()};c.prototype.data=function(v){if(v!==undefined){this._crosstableDataset.data(v)}else{return this._crosstableDataset.data()}};c.prototype.info=function(v){if(v!==undefined&&!T.isString(v)){this._crosstableDataset.info(O.clone(v))}else if(T.isString(v)){return O.clone(this._crosstableDataset.info(v))}else{return O.clone(this._crosstableDataset.info())}};c.prototype.toJSON=function(o){return this._crosstableDataset.toJSON(o)};c.fromJSON=function(a){if(!T.isPlainObject(a)||a.id!=='sap.viz.data.CrosstableDataset'||!a.hasOwnProperty('data')){return}var d=O.clone(a.data);var i=O.clone(a.info);var b=new c();b.data(d);b.info(i);return b};c.prototype.hasFakeData=function(){return this._crosstableDataset.hasFakeData()};return c});define('sap/viz/api/data/FlatTableDataset',['sap/viz/data/FlatTableDataset','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager','sap/viz/base/utils/ObjectUtils'],function Setup(F,T,L,l,O){var a=function(d){this._FlatTableD=new F(d)};a.prototype.data=function(v){return this._FlatTableD.data(v)};a.prototype.metadata=function(i){if(i!=null){return this._FlatTableD.getMetadata(i)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};a.prototype.measures=function(){return this._FlatTableD.getMeasures()};a.prototype.dimensions=function(){return this._FlatTableD.getDimensions()};a.prototype.table=function(){return this._FlatTableD.getTable()};a.prototype.row=function(r,p){if(T.isNumber(r)){if(T.isPlainObject(p)||T.isArray(p)){this._FlatTableD.setRow(r,p)}else{return this._FlatTableD.getRow(r)}}};a.prototype.dataInFields=function(s){return this._FlatTableD.dataInFields(s)};a.prototype.info=function(i){return this._FlatTableD.info(i)};a.prototype.toJSON=function(o){return this._FlatTableD.toJSON(o)};a.fromJSON=function(f){if(!T.isPlainObject(f)||f.id!=='sap.viz.data.FlatTableDataset'||!f.hasOwnProperty('data')){return}var d=O.clone(f.data);var i=O.clone(f.info);if(i!==undefined){d.info=i}var b=new a(d);return b};a.prototype.hasFakeData=function(){return this._FlatTableD.hasFakeData()};return a});define('sap/viz/data/utils/DatasetUtils',['sap/viz/api/data/CrosstableDataset','sap/viz/api/data/FlatTableDataset','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager'],function(C,F,T,a,L){var D={};var b={MNDNAME:"MeasureNamesDimension",MNDCOMPATIBILITY:"MNDCompatibility",DIMENSIONNAME:"Dimension",MEASURENAME:"Measure",EXCLUSIVE:"exclusive",ACCEPTMND:"acceptMND",MAXDEFINITIONTYPE:{'Dimension':"maxNumOfDimensions",'Measure':"maxNumOfMeasures"},MINDEFINITIONTYPE:{'Dimension':"minNumOfDimensions",'Measure':"minNumOfMeasures"},ERRORTYPE:{NOT_MEET_NUMBER_OF_FEED:'not meet feeding maxmin set',IDS_ERROR_INVALID_BINDING:'invalid binding',IDS_ERROR_FEED_NOT_ACCEPT_DATA:'feed not accept data'}};D.isFlatTable=function(d){return(d instanceof Object)&&(d.dataset instanceof F)};D.isCrosstable=function(d){return(d instanceof Object)&&(d.dataset instanceof C)};var m=function(f,d){var e=b.MAXDEFINITIONTYPE[d.type];var g=b.MINDEFINITIONTYPE[d.type];if(f.hasOwnProperty(d.id)){var h=f[d.id];var i=h.length;if(i>d[e]||i<d[g]){throw{key:b.ERRORTYPE.NOT_MEET_NUMBER_OF_FEED,name:d.id}}}else{if(d[g]>0){throw{key:b.ERRORTYPE.NOT_MEET_NUMBER_OF_FEED,name:d.id}}}};var M=function(d,e){var f=d.indexOf(b.MNDNAME);if(f>=0){if(e.type===b.MEASURENAME||!e.hasOwnProperty(b.ACCEPTMND)||e[b.ACCEPTMND]===-1){throw{key:b.ERRORTYPE.IDS_ERROR_INVALID_BINDING,name:e.id}}if(e[b.MNDCOMPATIBILITY]===b.EXCLUSIVE&&d.length>1){throw{key:b.ERRORTYPE.IDS_ERROR_INVALID_BINDING,name:e.id}}}};var c=function(f,d,e){var g=d.length;for(var j=0;j<g;j++){if(d[j]===b.MNDNAME){continue}var h=f.metadata(d[j]);if(h&&h.length>0&&e.type===f.metadata(d[j])[0].semanticType){continue}else{throw{key:b.ERRORTYPE.IDS_ERROR_FEED_NOT_ACCEPT_DATA,name:d[j]}}}};D.checkFlatTableFeedingAcceptable=function(f,d,g){var l=g.length;for(var i=0;i<l;i++){var h=g[i];var j=h.id;try{m(d,h);if(d.hasOwnProperty(j)){var k=d[j];M(k,h);c(f,k,h)}}catch(e){switch(e.key){case b.ERRORTYPE.NOT_MEET_NUMBER_OF_FEED:a.error(L.getLogMessage('IDS_ERROR_NOT_MEET_NUMBER_OF_FEED'),e.name);break;case b.ERRORTYPE.IDS_ERROR_INVALID_BINDING:a.error(L.getLogMessage('IDS_ERROR_INVALID_BINDING'),e.name);break;case b.ERRORTYPE.IDS_ERROR_FEED_NOT_ACCEPT_DATA:a.error(L.getLogMessage('IDS_ERROR_FEED_NOT_ACCEPT_DATA'),e.name)}return false}}return true};return D});define('sap/viz/modules/BaseComposition',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/manifests/Module','sap/viz/modules/dispatch','sap/viz/data/utils/DatasetUtils','sap/viz/manifest','sap/viz/util/fn/dombuilder','sap/viz/util/fn/modulebuilder','sap/viz/base/utils/Objects','sap/viz/util/Constants','sap/viz/base/utils/TypeUtils'],function Setup(o,B,c,e,D,M,d,m,O,C,T){var b=function(){var t=this;for(var k in this._modules){if(this._modules.hasOwnProperty(k)){var g=this._modules[k];if(g.dispatch){if(g.dispatch()['initialized']){g.dispatch().on('initialized.BaseComposition',function(){return function(){a.call(t)}}());t._count++}if(g.dispatch()['relayout']){g.dispatch().on('relayout.BaseComposition',function(){t._charger.func.call(t._charger.scope)})}}}}};var i=function(){if(T.isEmptyObject(this._modules)&&!T.isEmptyObject(this._config)&&this._data!==null){this.init({'dataset':this._data,'conf':this._config,'props':this._properties})}};var u=function(){var t=this;for(var k in this._modules){if(this._modules.hasOwnProperty(k)){var g=this._modules[k];if(g.dispatch){if(g.dispatch()['initialized']){g.dispatch().on('initialized.BaseComposition',null)}if(g.dispatch()['relayout']){g.dispatch().on('relayout.BaseComposition',null)}}}}};var a=function(){if(++this._inits===this._count){this._inits=0;this._dispatch.initialized();this._dispatch.ready()}};var f=function(g,h){f.superclass.constructor.apply(this,arguments);this._context=h;this._config={};this._modules={};this._properties={};this._charger={func:null,scope:null};this._count=0;this._inits=0;this._dispatch=e('initialized','ready');this._ownProperties=g.props(null);this._chartType='';this._parentNode=null;this._selections={};this._data=null};f.prototype.init=function(g){this._selections=this.dombuilder(this._parentNode,this._config.modules);this._modules=this.modulebuilder(g,this._selections,this._context);b.call(this)};o.extend(f,B);f.prototype.config=function(x){if(!arguments.length){return this._config}this._config=x;i.call(this);return this};f.prototype.data=function(x){if(!arguments.length){return this._data}this._data=x;i.call(this);return this};f.prototype.recharge=function(x){if(!arguments.length){return this._charger}this._charger=x;return this};f.prototype.destroy=function(){u.call(this);this._charger=null;this._modules=null;this._parentNode=null;this._properties={};this._data=null;this._context.destroy();this._context=null};f.prototype.dispatch=function(x){if(!arguments.length){return this._dispatch}this._dispatch=x;return this};f.prototype.chartType=function(x){if(!arguments.length){return this._chartType}this._chartType=x;return this};f.prototype.modules=function(x){if(!arguments.length){i.call(this);return this._modules}this._modules=x;return this};f.prototype.parent=function(x){if(!arguments.length){return this._parentNode}this._parentNode=x;return this};f.prototype.getMergedProperties=function(p){var g=this._ownProperties;var h=this._config;var j=h.configure?h.configure.propertyCategory:null;var k=j?p[j]:null;var l=O.extend(true,g,k);return l};f.prototype.properties=function(x){if(!arguments.length){return this._properties}var g=this._modules;var h=this._config;O.extend(true,this._properties,x);this._ownProperties=this.getMergedProperties(x);var p=h.configure?h.configure.propertyCategory:null;O.extend(true,this._properties[p],this._ownProperties);for(var k in g){if(g.hasOwnProperty(k)){if(c.get(h.modules[k].id).type===C.Type.Container){g[k].properties(this._properties)}else if(h.modules[k].configure){g[k].properties(this._properties[h.modules[k].configure.propertyCategory])}}}return this};f.prototype.dombuilder=function(p,s){return d(p,s)};f.prototype.modulebuilder=function(g,s,h){return m(g,s,h)};f.prototype._convert2MultiAxesDataAdapter=function(){if(M.viz.getManifest(this._chartType)[0]){return M.viz.getManifest(this._chartType)[0].legacyDataAdapter===true}return false};f.prototype._isFlatTable=function(){return D.isFlatTable(this._data)};return f});define('sap/viz/modules/background',['sap/viz/base/utils/oo','sap/viz/elements/common/BaseGraphic','sap/viz/modules/Constants','sap/viz/base/utils/ObjectUtils','sap/viz/modules/dispatch','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil'],function Setup(o,B,M,O,a,b,c){var C='v-background-border',e='viz-plot-background-border';var f='v-background-body',g='viz-plot-background';var h=M.CSS.CLASS.MORPHABLEBACKGROUND;function i(){var p=this._props;if(!p.style){p.style={}}p.style.body={'fill':p.color};p.style.border={'stroke':p.border.stroke,'stroke-width':p.border.strokeWidth}}var j=function(m,d){j.superclass.constructor.apply(this,arguments);this._eDispatch=new a('initialized')};o.extend(j,B);j.prototype._doRender=function(s){var p=this._props;if(p.visible){i.call(this);var k=s.select('#'+'background-rect-'+this._randomSuffix);if(k.empty()){k=s.append('svg:rect').attr('class',f+' '+g+' '+h).attr('id','background-rect-'+this._randomSuffix)}var l=this._effectManager.register({graphType:'background',fillColor:p.style.body.fill,drawingEffect:p.drawingEffect,direction:p.direction});k.attr('x',0).attr('y',0).attr('width',this._width).attr('height',this._height).attr('style',"fill:"+l);var m=[];if(p.border.left.visible){m.push({x1:0,y1:0,x2:0,y2:this._height})}if(p.border.right.visible){m.push({x1:this._width,y1:0,x2:this._width,y2:this._height})}if(p.border.top.visible){m.push({x1:0,y1:0,x2:this._width,y2:0})}if(p.border.bottom.visible){m.push({x1:0,y1:this._height,x2:this._width,y2:this._height})}var n=s.selectAll("."+C).data(m);n.enter().append('svg:line').attr('class',C+' '+e);n.exit().remove();n.attr('x1',function(d){return d.x1}).attr('y1',function(d){return d.y1}).attr('x2',function(d){return d.x2}).attr('y2',function(d){return d.y2});n.each(function(d){d3.select(this).attr('shape-rendering','crispEdges');for(var q in p.style.border){if(p.style.border.hasOwnProperty(q)){d3.select(this).attr(q,p.style.border[q])}}})}else{var t=s.node();while(t.hasChildNodes()){t.removeChild(t.firstChild)}}this._eDispatch.initialized();return this};j.prototype.destroy=function(_){j.superclass.destroy.apply(this,arguments);this._eDispatch=null};return j});define('sap/viz/modules/util/BackgroundUtil',['sap/viz/modules/manifests/Module','sap/viz/util/ignite','sap/viz/modules/background'],function Setup(M,i){var C='v-backgroundutil';var B={drawBackground:function(s,b,p){var d=d3.selectAll(s.node().childNodes).filter('.'+C);if(d.empty()){d=s.insert('svg:g',":first-child").attr('class',C)}b.setWidth(p.width).setHeight(p.height).setProperties(p.properties);d.call(b);return b},initModule:function(p){return i('sap.viz.modules.background',p,C)}};return B});define('sap/viz/util/functional',[],function Setup(){var _={tailrec:function(c,t,b){return function(){var a=arguments;for(;!c.apply(this,a);a=b.apply(this,a)){}return t.apply(this,a)}}};return _});define('sap/viz/modules/layout/dock',['jquery','sap/viz/modules/Constants','sap/viz/util/functional','sap/viz/util/Objects',"sap/viz/base/utils/log/Analyzer"],function Setup($,r,l,O,A){function c(a,b){return a-b}function e(x){return x.position}function f(x){return x.value}function g(x){return}function h(x){return x.size()}var _=function(){var s=c,a=e,v=f,b=g,j=h,w=0,k=0,m={func:null,scope:null},n=r.mappings.e2p(1),p=[2*n,2*n,2*n,2*n],t=1,o=[],q=0,u=0,y=0,z=0,B=0,C=0,D=0,E=0;var F,G;function H(){function I(x){return a(x)==='top'||a(x)==='bottom'}function J(x){return a(x)==='left'||a(x)==='right'}function K(x){var d=j(x);if(d===null){return null}return b(x)?b(x).call(this,{edge:a(x),result:{width:d.minWidth,height:d.minHeight},size:{width:w,height:k}}):L(x)}function L(x){var d=j(x);if(d===null){return null}return b(x)?b(x).call(this,{edge:a(x),result:{width:d.maxWidth,height:d.maxHeight},size:{width:w,height:k}}):K(x)}function M(){if(m.func){m.func.call(m.scope)}}function N(x){var d=x.module,i=L(x);if(J(x)){return Math.abs(i.width-d.width())<t}if(I(x)){return Math.abs(i.height-d.height())<t}return true}function P(x){var V=true;x.forEach(function(d){V=N(d)});return V}function Q(W,X){function Y(x){var d=x.module,i=L(x);return I(x)?(i.height-d.height())/2:(i.width-d.width())/2}var Z=X.indexOf(W),V={};V=X.map(function(d,i){if(i<=Z){return d}var x=Y(W),a1=d.module,b1=W.module;if(J(W)){if(x>0){b1.width(b1.width()+x);a1.width(a1.width()-x)}else{b1.width(b1.width()-x);a1.width(a1.width()+x)}}else{if(x>0){b1.height(b1.height()+x);a1.height(a1.height()-x)}else{b1.height(b1.height()-x);a1.height(a1.height()+x)}}return d});M();return V}function R(i,T){var x=i[0],W=i[1];B=0,C=0,D=0,E=0;q=0,u=0,y=0,z=0;B=p[3],C=x-p[1];D=p[0],E=W-p[2];x-=(p[1]+p[3]);W-=(p[0]+p[2]);var X=[x,W];T.forEach(function(d){A.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+d.module.alias);var Y=d.module,Z=j(d),a1=L(d),b1=K(d),c1={width:a1!==null&&b1!==null?d3.max([a1.width,b1.width]):undefined,height:a1!==null&&b1!==null?d3.max([a1.height,b1.height]):undefined};d.acceptable=true;if(c1.width===0||c1.height===0||(a(d)!=='center'&&(Z.minWidth>c1.width||Z.minHeight>c1.height||X[0]<Z.minWidth||X[1]<Z.minHeight))){if(d.module.alias==='legends'&&d.module.modules()['sizeLegend']&&O.size(d.module.modules())===1){d.acceptable=true}else{d.acceptable=false;Y.width(0).height(0);A.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+d.module.alias);return}}switch(a(d)){case'top':Y.width(X[0]).height(c1.height);if(q){X[1]-=(c1.height+F*(q-1))}else{X[1]-=(c1.height+F)}q++;break;case'bottom':Y.width(X[0]).height(c1.height);if(u){X[1]-=(c1.height+F*(u-1))}else{X[1]-=(c1.height+F)}u++;break;case'left':Y.width(c1.width).height(X[1]);if(y){X[0]-=(c1.width+G*(y-1))}else{X[0]-=(c1.width+G)}y++;break;case'right':Y.width(c1.width).height(X[1]);if(z){X[0]-=(c1.width+G*(z-1))}else{X[0]-=(c1.width+G)}z++;break;case'center':Y.size({width:X[0],height:X[1]});X[0]=0,X[1]=0;break}A.pnrProfiling("Render:drawing-layout-calculation-formatValue-"+d.module.alias)})}function S(x){var W=x.map(function(d,i){var Z={x:0,y:0},a1=d.module;if(!d.acceptable){d.anchor=Z;return d}switch(a(d)){case'top':Z.x=B,Z.y=D;D+=(a1.height()+F);break;case'bottom':Z.x=B,Z.y=E-a1.height();E-=(a1.height()+F);break;case'left':Z.x=B,Z.y=D;B+=(a1.width()+G);break;case'right':Z.x=C-a1.width(),Z.y=D;C-=(a1.width()+G);break;case'center':Z.x=B,Z.y=D;B=C,D=E;break}d.anchor=Z;return d}),V={};for(var X in W){if(W.hasOwnProperty(X)){var Y=W[X].module;V[Y.alias]=W[X].anchor;V[Y.alias].width=Y.width();V[Y.alias].height=Y.height()}}return V}var T=[],U=arguments[1],V={};if(!$.isArray(arguments[0])){return V}T=arguments[0].slice().sort(s);o=[];R([w,k],T);M();if(U===r.LAYOUT_ADJUST_POLICY.APPROXIMATE){return S.call(this,(function recur(x){var d=x[0];if(!d.acceptable||N(d)){o.push(x.shift());if(x.length){recur(x)}}else{recur(Q(d,x))}return o})(T))}else if(U===r.LAYOUT_ADJUST_POLICY.RELAYOUT){R([w,k],T);M();return S.call(this,T)}else{return S(T)}}H.filter=function(x){if(!arguments.length){return b}b=x;return H};H.sort=function(x){if(!arguments.length){return s}s=x;return H};H.size=function(x){if(!arguments.length){return j}j=x;return H};H.edge=function(x){if(!arguments.length){return a}a=x;return H};H.value=function(x){if(!arguments.length){return v}v=x;return H};H.rewire=function(x){if(!arguments.length){return m}m=x;return H};H.vgap=function(){if(!arguments.length){return G}G=$.isFunction(arguments[1])?arguments[1](arguments[0]):arguments[0];return H};H.hgap=function(){if(!arguments.length){return F}F=$.isFunction(arguments[1])?arguments[1](arguments[0]):arguments[0];return H};H.padding=function(){if(!arguments.length){return p}var x=arguments[0],b=arguments[1];if($.isArray(x)){x.forEach(function(d,i){p[i]=$.isFunction(b)?b(d):+d})}else{p.forEach(function(d,i){p[i]=x})}return H};H.width=function(x){if(!arguments.length){return w}w=x;return H};H.height=function(x){if(!arguments.length){return k}k=x;return H};H.tolerance=function(x){if(!arguments.length){return t}t=x;return H};H.properties=function(){return H};H.data=function(){return H};H.destroy=function(){m.func=null;m.scope=null;m=null};return H};return _});define('sap/viz/util/FeedingZoneUtil',['jquery','sap/viz/base/utils/Objects','sap/viz/manifest','sap/viz/util/UtilsRegister'],function Setup($,O,m,U){var l=function(d,j){if(d.hasOwnProperty(j)){return d[j]}if(typeof d!=='object'){return}for(var i in d){if(d.hasOwnProperty(i)&&d[i]){var k=l(d[i],j);if(k){return k}}}return};var a=function(d,k){var L=[];for(var i=0;i<d.length;i++){for(var j=0;j<k.length;j++){if(d[i].id===k[j]){L.push(d[i])}}}return L};var b=function(d,i,j){var k=j.select('.v-m-'+d);k=$(k.node());var L=k.offset();var M=k.width();var N=k.height();var P=$('.v-m-root').offset();var Q=[L.left-P.left,L.top-P.top];var R=[Q[0]+M,Q[1]];var S=[Q[0]+M,Q[1]+N];var T=[Q[0],Q[1]+N];var V={name:d,feedDef:i,bound:[[Q,R,S,T]]};return V};var c=function(d,i,j,k){var L=j.select('.v-m-'+d);var M=L.node().getBBox();if(k){M=L.select('.v-bound').node().getBBox()}var N=L.node().getTransformToElement(L.node().ownerSVGElement);var P=[N.e+M.x,N.f+M.y];var Q=[P[0]+M.width,P[1]];var R=[P[0]+M.width,P[1]+M.height];var S=[P[0],P[1]+M.height];var T={name:d,feedDef:i,bound:[[P,Q,R,S]]};return T};var e=function(j,k,L,M){var N=L.selectAll('.v-m-'+j);var P=[];N.each(function(d,i){var R=this.getBBox();if(M){var S=d3.select(this).select('.v-bound').node();if(S===null){return}R=S.getBBox()}var T=this.getTransformToElement(this.ownerSVGElement);var V=[T.e+R.x,T.f+R.y];var W=[V[0]+R.width,V[1]];var X=[V[0]+R.width,V[1]+R.height];var Y=[V[0],V[1]+R.height];P.push([V,W,X,Y])});var Q={name:j,feedDef:k,bound:P};return Q};var f=function(j,k,L,M){var N=[];var P;if(j==='viz/choropleth'||j==='viz/geobubble'||j==='viz/geopie'){P=M.selectAll('.v-m-main');P.each(function(d,i){var S=d3.select(this).select('.v-bound').node();if(S===null){return}var T=S.getBBox();var V=this.getTransformToElement(this.ownerSVGElement);var W=[V.e+T.x,V.f+T.y];var X=[W[0]+T.width,W[1]];var Y=[W[0]+T.width,W[1]+T.height];var Z=[W[0],W[1]+T.height];N.push([W,X,Y,Z])})}if(j==='viz/multi_choropleth'||j==='viz/multi_geobubble'){var Q=M.selectAll('.v-m-plot');for(var i=0;i<Q[0].length;i++){P=M.selectAll('.v-m-plot'+i);P.each(function(d,i){var S=d3.select(this).select('.v-bound').node();if(S===null){return}var T=S.getBBox();var V=this.getTransformToElement(this.ownerSVGElement);var W=[V.e+T.x,V.f+T.y];var X=[W[0]+T.width,W[1]];var Y=[W[0]+T.width,W[1]+T.height];var Z=[W[0],W[1]+T.height];N.push([W,X,Y,Z])})}}var R={name:k,feedDef:L,bound:N};return R};var p=function(i,d,j){var k=m.viz.get(i);var L=k.allFeeds();var M=l(k,'legends');if(M){var N=j?j:e;return[N('legend',a(L,['regionColor']),d,true)]}return};var g=function(i,j,k){var L=m.viz.get(i);var M=L.allFeeds();var N=[];var P=i.indexOf('3d')<0;var Q=e('plot',M.filter(function(d){if(d.id==='multiplier'){return false}return true}),j,P);N.push(Q);var R=l(k?k:L,'xAxis');var S;if(R.configure.properties.type==='value'){S=e('xAxis',a(M,['primaryValues']),j,P)}else{S=e('xAxis',a(M,['axisLabels']),j,P)}N.push(S);var T=l(k?k:L,'xAxis2');if(T){var V=e('xAxis2',a(M,['secondaryValues']),j,P);N.push(V)}var W=l(k?k:L,'yAxis');var X;if(W.configure.properties.type==='value'){X=e('yAxis',a(M,['primaryValues']),j,P)}else{X=e('yAxis',a(M,['axisLabels']),j,P)}N.push(X);var Y=l(k?k:L,'yAxis2');if(Y){var Z=e('yAxis2',a(M,['secondaryValues']),j,P);N.push(Z)}var _=l(k?k:L,'zAxis');if(_){var a1=e('zAxis',a(M,['regionColor']),j,P);N.push(a1)}return N};var h=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=[];var M=l(j,'xAxis');var N;if(M.configure.properties.type==='value'){N=b('xAxis',a(k,['primaryValues']),d)}else{N=b('xAxis',a(k,['axisLabels']),d)}L.push(N);var P=l(j,'xAxis2');if(P){var Q=b('xAxis2',a(k,['secondaryValues']),d);L.push(Q)}var R=l(j,'yAxis');var S;if(R.configure.properties.type==='value'){S=b('yAxis',a(k,['primaryValues']),d)}else{S=b('yAxis',a(k,['axisLabels']),d)}L.push(S);var T=l(j,'yAxis2');if(T){var V=b('yAxis2',a(k,['secondaryValues']),d);L.push(V)}return L};var n=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=[e('legend',a(k,['regionColor','regionShape']),d,true)];if(l(j,'sizeLegend')){L.push(e('sizeLegend',a(k,['bubbleWidth']),d,true))}return L};var o=function(i,j){var k=m.viz.get(i);var L=k.allFeeds();var M=e('plot',L.filter(function(d){if(d.id==='multiplier'){return false}return true}),j,true);var N=e('xAxis',a(L,['primaryValues']),j,true);var P=e('yAxis',a(L,['secondaryValues']),j,true);var Q=[M,N,P];return Q};var q=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=b('xAxis',a(k,['primaryValues']),d);var M=b('yAxis',a(k,['secondaryValues']),d);var N=[L,M];return N};var r=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=e('plot',k,d,true);var M=e('xAxis',a(k,['primaryValues']),d,true);var N=e('yAxis',a(k,['primaryValues']),d,true);var P=[L,M,N];return P};var s=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();return[e('legend',a(k,['pieSectorColor']),d,true)]};var t=function(i,j){var k=m.viz.get(i);var L=k.allFeeds();var M=e('plot',L.filter(function(d){if(d.id==='multiplier'){return false}return true}),j);var N=[M];return N};var u=t;var v=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();return[e('legend',a(k,['rectangleColor']),d,true)]};var w=function(i,d,j){var k=m.viz.get(i);var L=k.allFeeds();var M=e('plot',L,d);var N=[M];var P=l(j?j:k,'xAxis');if(P){var Q=e('xAxis',a(L,['mainLabelAxis']),d,true);N.push(Q)}var R=l(j?j:k,'yAxis');if(R){var S=e('yAxis',a(L,['secondaryLabelAxis']),d,true);N.push(S)}return N};var x=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=[];if(i==='viz/choropleth'||i==='viz/multi_choropleth'){L.push(e('legend',a(k,['featureValues']),d,true))}if(i==='viz/geobubble'||i==='viz/multi_geobubble'){if(l(j,'sizeLegend')){L.push(e('sizeLegend',a(k,['featureValues']),d,true))}if(l(j,'legend')){L.push(e('legend',a(k,['color']),d,true))}}if(i==='viz/geopie'){L.push(e('legend',a(k,['featureAnalysis']),d,true));if(l(j,'sizeLegend')){L.push(e('sizeLegend',a(k,['featureValues']),d,true))}}return L};var y=function(i,j,k){var L=m.viz.get(i);var M=L.allFeeds();var N=f(i,'plot',M.filter(function(d){if(d.id==='multiplier'){return false}return true}),j);var P=[N];return P};var z=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();return[e('legend',a(k,['tagFamily']),d,true)]};var A=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=e('plot',k,d);return[L]};var B=function(i,d){var j=m.viz.get(i);var k=j.allFeeds();var L=e('plot',k,d,true);return[L]};var C=A;var D=function(){};var E=function(){};var F=function(j,k){var L=m.viz.get(j);var M=L.allFeeds();var N=e('plot',M.filter(function(d){if(d.id==='multiplier'){return false}return true}),k);var P=k.selectAll('.v-valueaxis');var Q=[];P.each(function(d,i){var S;if(d3.select(this).select('.v-bound').empty()){S=d3.select(this).node().getBBox()}else{S=d3.select(this).select('.v-bound').node().getBBox()}var T=this.getTransformToElement(this.ownerSVGElement);var V=[T.e+S.x,T.f+S.y];var W=[V[0]+S.width,V[1]];var X=[V[0]+S.width,V[1]+S.height];var Y=[V[0],V[1]+S.height];Q.push([V,W,X,Y])});var R={name:'valueaxis',feedDef:a(M,['radarAxesValues']),bound:Q};return[N,R]};var G=function(d,L){return function(M,N){var P=m.viz.get(M);var Q=P.allFeeds();var R=[];var S=d.call(this,M,N);if(S){R=R.concat(S)}var T=b('plot',Q,N);T.name='mainPlot';R=R.concat(T);var V=L.call(this,M,N);var W=d3.select('.v-m-legends');var X=parseFloat(W.style('left')),Y=parseFloat(W.style('top'));for(var k=0;k<V.length;k++){if(V[k].bound.length===0){continue}for(var i=0;i<V[0].bound.length;i++){for(var j=0;j<V[0].bound[i].length;j++){V[k].bound[i][j][0]+=X;V[k].bound[i][j][1]+=Y}}}R=R.concat(V);var Z=b('trellisXAxis',a(Q,['multiplier']),N);Z.name='multiplier';var _=b('trellisYAxis',a(Q,['multiplier']),N);Z.bound=Z.bound.concat(_.bound);R=R.concat(Z);return R}};var H=function(d,i){return function(j,k){var L=m.viz.get(j);var M=L.allFeeds();var N=k.select('.v-m-plot');var P=d.call(this,j,N,L.modules.root.modules.main.modules.plot.modules);var Q=i.call(this,j,k);P=P.concat(Q);var R=c('plot',M,k,true);R.name='mainPlot';P=P.concat(R);var S=c('xAxis2',a(M,['multiplier']),k,true);S.name='multiplier';var T=c('yAxis',a(M,['multiplier']),k,true);S.bound=S.bound.concat(T.bound);P.push(S);return P}};var I=function(d,i){return function(j,k){var L;if(j==='viz/scatter_matrix'){L=k.select('.v-m-plot')}var M=d.call(this,j,L?L:k);if(i){var N=i.call(this,j,k);if(N){M=M.concat(N)}}return M}};var J=function(i){var d=m.viz.get(i);if(d.feedingZone){return d.feedingZone}var j,k,L,M;if(i==='viz/scatter_matrix'){j=d.modules.root.modules.main.id}else if(i.indexOf('multi')>=0||i.indexOf('trellis')>=0){j=d.modules.root.modules.main.modules.plot.modules.plot.id}else{j=d.modules.root.modules.main.modules.plot.id}switch(m.module.get(j).feeds.id){case'xy':k=g;L=p;M=h;break;case'scatter':k=o;L=n;M=q;break;case'pie':k=t;L=s;M=function(){};break;case'heatMap':case'treeMap':k=w;L=v;break;case'tagCloud':k=A;L=z;break;case'network':k=B;L=D;break;case'tree':k=C;L=E;break;case'radar':k=F;L=n;break;case'scattermatrix':k=r;L=n;break;case'geo':k=y;L=x;break;case'number':k=u;break;default:}if(k===undefined&&L===undefined&&M===undefined){return function(){return[]}}if(i.indexOf('trellis')>=0){return G(M,L)}else if(i.indexOf('multi')>=0){return H(k,L)}else{return I(k,L)}};var K={parse:function(i,d){var j=J(i);return j.call(this,i,d)}};U.register('FeedingZoneUtil',K);return K});define('sap/viz/util/PropertyZoneUtil',['sap/viz/util/UtilsRegister'],function Setup(U){var P={getPropertyZone:function(e,m,g){var h=[],k,v,i,j;if(g.select(".v-m-plot0").empty()){j=false}else{j=true}for(k in m){if(m.hasOwnProperty(k)){v=m[k];if(typeof v.concat==="function"){for(i=0;i<v.length;i++){d(k+'['+i+']',v[i],h,j)}}else{d(k,v,h,j)}}}c(g,h);if(!j){r(m,h)}return h}};function r(m,g){var p=f("plot",g);if(!p){return}function h(l,p){var s=p.bound[0][0];if(l==="xAxis"){s=p.bound[0][3]}else if(l==="yAxis2"){s=p.bound[0][1]}return s}function i(l,p){var v=["yAxis","yAxis2"];var e=p.bound[0];var w,n;if(v.indexOf(l)>-1){w=0;n=Math.abs(e[0][1]-e[2][1])}else{w=Math.abs(e[0][0]-e[2][0]);n=0}return{width:w,height:n}}var j=["xAxis","xAxis2","yAxis","yAxis2"];var k=[];for(var l in m){if(m.hasOwnProperty(l)){j.forEach(function(e){if(l.indexOf(e)>-1){k.push(e)}})}}k.forEach(function(e){if(!f(e,g)){var n=[[]];var s=h(e,p);var o=i(e,p);n[0].push([s[0],s[1]]);n[0].push([s[0]+o.width,s[1]]);n[0].push([s[0]+o.width,s[1]+o.height]);n[0].push([s[0],s[1]+o.height]);g.push({bound:n,name:e})}})}function f(k,e){var g=false;for(var i=0;i<e.length;i++){if(k===e[i].name){g=e[i];break}}return g}function c(e,g){var h=e.node().getBoundingClientRect();var x=h.left;var y=h.top;var i,j,k,l,z,m;for(i=0;i<g.length;i++){l=g[i].bound;for(j=0;j<l.length;j++){z=l[j];for(k=0;k<z.length;k++){m=z[k];m[0]=Math.round(m[0]-x);m[1]=Math.round(m[1]-y)}}}}function a(s,e){var g=null;var i;for(i=0;i<e.length;i++){if(s.name===e[i].name){g=e[i];break}}return g}function b(s,e){var z=a(s,e);if(z){z.bound.push(s.bound[0])}else{e.push(s)}}function d(k,m,e,g){var t,h,j,i,v,l,n,o;if(m&&((typeof m.getPropertyZone)==="function")){t=m.getPropertyZone();if(t){h=k.indexOf("[");j=k.indexOf("]");if(h<0&&j<0){for(i=0;i<t.length;i++){v=t[i];if(g&&(v.name.indexOf("xAxis")>=0||v.name.indexOf("yAxis")>=0)){if(v.name.indexOf("xAxis")>=0){n="columnAxis"}if(v.name.indexOf("yAxis")>=0){n="rowAxis"}l=v.name.indexOf(' ');if(l>=0){o=v.name.substring(l)}else{o=''}v.name=n+o}if(k.indexOf("zAxis")>=0){n='zAxis';l=v.name.indexOf(' ');if(l>=0){o=v.name.substring(l)}else{o=''}v.name=n+o}e.push(v)}}else{for(i=0;i<t.length;i++){b(t[i],e)}}}}}U.register('PropertyZoneUtil',P);return P});define('sap/viz/modules/BaseContainer',['sap/viz/base/utils/oo','sap/viz/modules/BaseComposition','jquery','sap/viz/modules/Constants','sap/viz/modules/manifests/Module','sap/viz/util/ignite','sap/viz/util/append','sap/viz/modules/util/BackgroundUtil','sap/viz/modules/layout/dock','sap/viz/util/fn/domposition','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/log/Analyzer','sap/viz/util/FeedingZoneUtil','sap/viz/util/PropertyZoneUtil'],function Setup(o,B,$,C,c,e,f,g,h,j,F,A,k,P){var r=function(){var a=this._config;var b=this._modules;$.each(a.modules,function(d,v){if(v===null){return}if(c.get(v.id).type===C.Type.Controller){b[d]().module(b[v.configure.clientID])}})};var l=function(){if(!this._bc_defaultLayout){this._bc_defaultLayout=this.getDefaultLayout(this._context)}return this._bc_defaultLayout};var W={'CLASS_PREFIX':C.CSS.CLASS.MODULEPREFIX,'DEFAULT_LAYOUT_KEY':'sap_viz_modules_layout_dock_key'};var m=function(a,b){m.superclass.constructor.apply(this,arguments);this._bc_manifest=a;this._bc_width=0;this._bc_height=0;this._bc_update_checklist=[r];this._bc_backgroundModule=null;this._bc_defaultLayout=null;this._layout={};this._bc_backgroundModule=g.initModule(this._context)};m.prototype.refresh=function(){var u=this._bc_update_checklist;for(var i=0;i<u.length;i++){u[i].call(this)}return this};o.extend(m,B);m.prototype.render=function(s){this._inits=0;this._parentNode=s;var a=this._selections;var b=this._modules;var d=this._config;if(b['interaction']&&b['interaction'].runDecoration){b['interaction'].runDecoration('hideDetail','infoMode');b['interaction'].runDecoration('hideDetail','actionMode')}A.pnrProfiling('Render:drawing-layout');this._layout=this.layout(d,this._bc_width,this._bc_height,b,a);var t=this._chartType.substr(this._chartType.indexOf('/')+1);if(t==='bubble'||t==='multi_bubble'||t==='geobubble'||t==='geopie'||t==='multi_geobubble'){this._layout=this.layout(d,this._bc_width,this._bc_height,b,a)}A.pnrProfiling('Render:drawing-layout');A.pnrProfiling("Render:drawing-paint");A.pnrProfiling("Render:drawing-paint-background");this.drawBackground();A.pnrProfiling("Render:drawing-paint-background");A.pnrProfiling("Render:drawing-paint-chart");for(var i in a){if(a.hasOwnProperty(i)&&a[i]&&b.hasOwnProperty(i)&&b[i]){A.pnrProfiling("Render:drawing-paint-chart-"+i);a[i].call(b[i]);A.pnrProfiling("Render:drawing-paint-chart-"+i)}}A.pnrProfiling("Render:drawing-paint-chart");A.pnrProfiling("Render:drawing-paint")};m.prototype.width=function(x){if(!arguments.length){return this._bc_width}this._bc_width=x;return this};m.prototype.height=function(x){if(!arguments.length){return this._bc_height}this._bc_height=x;return this};m.prototype.size=function(x){if(!arguments.length){return{'width':this._bc_width,'height':this._bc_height}}this._bc_width=x.width;this._bc_height=x.height;return this};var n=function(){var a=this._config;var b=this._modules;var d=this._parentNode;var i=this._chartType;$.each(a.modules,function(p,v){if(v===null){return}if(c.get(v.id).type===C.Type.Behavior&&b[p].module){b[p].module(b);if(b[p].setChartType){b[p].setChartType(i)}b[p].setRootNode(d)}else if(c.get(v.id).type===C.Type.Controller&&b[p].module){if(!v.configure||!v.configure.clientID){F.error('A clientID is required for a controller module:'+v.id)}b[p].module(b[v.configure.clientID])}})};m.prototype.init=function(a){m.superclass.init.apply(this,arguments);n.call(this)};m.prototype.data=function(x){m.superclass.data.apply(this,arguments);var a=this._modules;var b=this._config;var d=this._data;for(var i in a){if(a.hasOwnProperty(i)){if(b.modules[i].data){a[i].data(d.createDataAdapterForModule(b.modules[i].data))}else{if(a[i].data){a[i].data(d)}}}}return this};m.prototype.relayout=function(a){this.layout(this._config,this._bc_width,this._bc_height,this._modules,this._selections)};m.prototype.destroy=function(){m.superclass.destroy.apply(this,arguments);this._selections=null;if(this._bc_backgroundModule){this._bc_backgroundModule.destroy();this._bc_backgroundModule=null}if(this._bc_defaultLayout&&this._bc_defaultLayout.destroy){this._bc_defaultLayout.destroy()}};m.prototype.getDefaultLayout=function(a){var d=W['DEFAULT_LAYOUT_KEY'];return e('sap.viz.modules.layout.dock',a,W.CLASS_PREFIX+d)};m.prototype.drawBackground=function(p){var a={'width':this._bc_width,'height':this._bc_height,'properties':{'border':{'left':{'visible':false},'right':{'visible':false},'top':{'visible':false},'bottom':{'visible':false}}},'parentCtx':this._context};g.drawBackground(this._parentNode,this._bc_backgroundModule,a)};m.prototype.layout=function(p,w,q,s,t){var u=this._charger;var v=s.layout||l.call(this);var x=this._ownProperties.layout;function y(a,b){return(v.width(w).height(q))(a,b)}function z(i){return typeof i!=='undefined'&&i!==null&&i>=0}function D(G,H){A.pnrProfiling("Render:drawing-layout-calculation-formatModule");var I=[24,24,24,24],J=0,K=0,L=[];J=x.vgap;K=x.hgap;if(z(x['padding'])){for(var i=0;i<I.length;i++){I[i]=parseInt(x.padding,10)}}if(z(x['paddingLeft'])){I[3]=x['paddingLeft']<w/2?parseInt(x['paddingLeft'],10):24}if(z(x['paddingRight'])){I[1]=x['paddingRight']<w/2?parseInt(x['paddingRight'],10):24}if(z(x['paddingTop'])){I[0]=x['paddingTop']<q/2?parseInt(x['paddingTop'],10):24}if(z(x['paddingBottom'])){I[2]=x['paddingBottom']<q/2?parseInt(x['paddingBottom'],10):24}v.padding(I,function(d){var a=Math.min(w,q);if(a<=108){return d<=2?d:2}else{return d}}).vgap(J||0,function(d){return d}).hgap(K||0,function(d){return d}).width(w).height(q).rewire(H).sort(function(a,b){return a.priority-b.priority}).size(function(d){return d.module.getPreferredSize?d.module.getPreferredSize():null}).value(function(d){return d.priority}).edge(function(d){return d.position}).filter(function(d){return d.filter}).tolerance(1);$.each(G,function(a,b){if(c.get(p.modules[a].id).type!==C.Type.Container&&c.get(p.modules[a].id).type!==C.Type.Supplementary&&c.get(p.modules[a].id).type!==C.Type.Chart){return}var M=b.properties().layout||b.properties()[p.modules[a].configure.propertyCategory].layout,N=M.position;if(a==='legends'){s.legends.maxWidth(1/3*w-I[0]-I[2]).maxHeight(1/3*q-I[1]-I[3])}L.push({module:b,position:N,filter:function(d){var E={},O=d.result,Q=d.size;if(d.edge==='top'||d.edge==='bottom'){E.height=(O.height>1/3*(Q.height-I[0]-I[2]))?1/3*(Q.height-I[0]-I[2]):O.height;E.width=O.width}if(d.edge==='left'||d.edge==='right'){E.width=(O.width>1/3*(Q.width-I[1]-I[3]))?1/3*(Q.width-I[1]-I[3]):O.width;E.height=O.height}return E},priority:M.priority})});A.pnrProfiling("Render:drawing-layout-calculation-formatModule");return L}A.pnrProfiling("Render:drawing-layout-calculation");var E=y(D(s,u),'RELAYOUT');A.pnrProfiling("Render:drawing-layout-calculation");A.pnrProfiling('Render:drawing-layout-positionsub');j(E,t);A.pnrProfiling('Render:drawing-layout-positionsub');return E};return m});define('sap/viz/base/utils/log/LogUtil',['sap/viz/base/Logger'],function Setup(L){var r={'profiling':function(a){if(window&&window.performance&&window.performance.memory){var m=window.performance.memory;a='['+m.usedJSHeapSize+']['+m.totalJSHeapSize+']['+m.jsHeapSizeLimit+']'+a}L.debug(a,'PROFILING')},'context':function(m){if(window&&window.navigator){m="["+window.navigator.userAgent+"]"+m}L.debug(m,'CONTEXT')}};return r});define('sap/viz/modules/rootContainer',['sap/viz/base/utils/oo','sap/viz/modules/BaseContainer','sap/viz/base/utils/log/LogUtil','sap/viz/util/EffectManager','sap/viz/config'],function Setup(o,B,L,E,c){var R=function(m,a){this._rc_effectManager=new E();a.effectManager=this._rc_effectManager;R.superclass.constructor.apply(this,arguments);this._rc_container=null};o.extend(R,B);R.prototype.container=function(x){if(!arguments.length){return this._rc_container}this._rc_container=x;return this};R.prototype.data=function(x){var r=R.superclass.data.apply(this,arguments);if(!arguments.length){return r}if(this._rc_effectManager&&this._isFlatTable()){this._rc_effectManager.ghostEffect(this._data.dataset.hasFakeData())}else if(!this._isFlatTable()&&this._rc_effectManager&&this._convert2MultiAxesDataAdapter()){this._rc_effectManager.ghostEffect(this._data.fakeData())}return this};R.prototype.parent=function(x){var r=R.superclass.parent.apply(this,arguments);if(!arguments.length){return r}if(this._rc_effectManager){this._rc_effectManager.container(this._parentNode.append("svg:defs"))}return this};R.prototype.destroy=function(){R.superclass.destroy.apply(this,arguments);this._rc_container=null;if(this._rc_effectManager&&this._rc_effectManager.destroy){this._rc_effectManager.destroy()}};return R});define('sap/viz/modules/manifests/RootContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/rootContainer','sap/viz/modules/manifests/BaseContainer'],function Setup(M,C,f,B){var m={id:"sap.viz.modules.rootContainer",base:"sap.viz.modules.basecontainer",type:C.Type.Container,name:"rootContainer",description:"Settings for the root container",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/util/defaultSelectionUtil',[],function Setup(){var d={};d.clearSelectionInfo=function(p,a,e){var i,l;if(e instanceof Array){for(i=0,l=e.length;i<l;i++){I(e[i],a)}}else{I(e,a)}};function I(e,i){var j,a;if(e.__data__){a=e.__data__.info}else{return}if(a instanceof Array){for(j=0;j<a.length;j++){if(a&&a.defaultSelection){a.defaultSelection.isSelected=i}}}else{a.defaultSelection.isSelected=i}}return d});define('sap/viz/modules/util/GestureUtil',['sap/viz/base/UADetector'],function Setup(U){var G={};G.zoomInfo=function(a,g,p,l,t){var s=g;var r=a.range();var b=Math.abs(a.rangeExtent()[1]-a.rangeExtent()[0]);var c=b/r.length;if(g>1){if(c>=l){return null}else if(c*g>=l){s=l/c}}else if(g<1&&g>0){if(b<=l){return null}else if(b*g<=l){s=l/b}}var d=[0,b*s];return{scale:s,rangeBand:d,offset:{x:p.x-s*p.x,y:p.y-s*p.y}}};G.valueAxisZoomInfo=function(a,s,p,w){var r=a.range(),t=a.tickHint;var b=Math.abs(r[0]-r[r.length-1]),c=b/t;if(s>1){if(c>=w){return null}else if(c*s>=w){s=w/c}}else{if(b<=w){return null}else if(b*s<=w){s=w/b}}return{scale:s,offset:{x:p.x-s*p.x,y:p.y-s*p.y}}};G.pinchPointOffset=function(n,a,p){var t=n.getTransformToElement(n.parentNode);var o={};var h,w;var r=0;if(a.yAxis.type==='category'){h=Math.abs(a.yAxis.axis.rangeExtent()[1]-a.yAxis.axis.rangeExtent()[0])}else if(a.yAxis.type==='value'){r=a.yAxis.axis.range();h=Math.abs(r[0]-r[r.length-1])}if(a.xAxis.type==='category'){w=Math.abs(a.xAxis.axis.rangeExtent()[1]-a.xAxis.axis.rangeExtent()[0])}else if(a.xAxis.type==='value'){r=a.xAxis.axis.range();w=Math.abs(r[0]-r[r.length-1])}if(t.e>0){o.x=-t.e}else if(t.e+w<p.width){o.x=p.width-(t.e+w)}else{o.x=0}if(t.f>0){o.y=-t.f}else if(t.f+h<p.height){o.y=p.height-(t.f+h)}else{o.y=0}return o};G.convertToLayerPoint=function(p,s,c){var d;if(c){d=s.select(c)}else{d=s}if(d){var n=d.node();if(n){var t=n.getTransformToElement(n.parentNode);return{x:p.x-t.e,y:p.y-t.f}}}};G.parseTransformString=function(t){var s=',';if(U.isWindowsSurface()){s=' '}var x=t.substring(t.indexOf('(')+1,t.indexOf(s)),y=t.substring(t.indexOf(s)+1,t.indexOf(')'));if(t.indexOf(s)===-1){x=t.substring(t.indexOf('(')+1,t.indexOf(')'));y=0}return{x:x,y:y}};return G});define('sap/viz/modules/BaseGesture',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/dispatch','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/lang/langManager','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/BoundUtil'],function Setup(C,o,B,d,O,a,T,l,b,G,c){var e=function(m,f){e.superclass.constructor.apply(this,arguments);this._width=undefined;this._height=undefined;this._props={orientation:'vertical'};this._d3root=null;this._datashapesgroup=null;this._eDispatch=new d('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit','scale','stretch','stretchEnd');this._categoryScale=d3.scale.ordinal();this._valueAxis1={scale:d3.scale.linear()};this._valueAxis2={scale:d3.scale.linear()};this._dimensionScale=null;this._isPinching=false;this._pinchEvent=null;this._isPanning=false;this._panEvent=null};e.prototype.self=function(){return this};e.prototype.panStart=function(f){this._panEvent=f;this._isPanning=true};function p(f,g,h){f.x=parseFloat(g.x)+f.x;f.y=parseFloat(g.y)+f.y;var x=h.originalWidth-h.currentWidth;var y=h.originalHeight-h.currentHeight;if(f.x<x){f.x=x}if(f.y<y){f.y=y}if(f.x>0){f.x=0}if(f.y>0){f.y=0}}e.prototype.panMove=function(f){var g={x:parseFloat(f.x-this._panEvent.x),y:parseFloat(f.y-this._panEvent.y)};if(g.x!==0||g.y!==0){var t,h={},i=this._datashapesgroup;var j={originalWidth:this._width,originalHeight:this._height,currentWidth:this.getXAxisRange(),currentHeight:this.getYAxisRange()};t=i.attr('transform');if(t){h=G.parseTransformString(t);p(g,h,j);this.dragToOffset({offset:g});this._eDispatch.stretch({offset:g})}else{this._eDispatch.stretch({offset:{x:0,y:0}})}}this._panEvent=f};e.prototype.panEnd=function(f){this.panMove(f);this._isPanning=false;this._eDispatch.stretchEnd()};e.prototype.pinchBegan=function(f){this._pinchEvent=f;this._isPinching=true};e.prototype._pinch_modifyCategoryscale=function(s,r){this._categoryScale.rangeBands(r);if(this._dimensionScale){this._dimensionScale.rangeBands(r)}};e.prototype._pinch_modifyValuescale=function(s){var v=this._valueAxis1.scale.range();if(v[0]!==v[v.length-1]){this._valueAxis1.scale.range([v[0]*s,v[v.length-1]*s])}var f=this._valueAxis2.scale.range();if(f[0]!==f[f.length-1]){this._valueAxis2.scale.range([f[0]*s,f[f.length-1]*s])}};e.prototype.pinch=function(f){var g=this._pinchEvent.pinchProperties;var h=G.convertToLayerPoint(this._pinchEvent.point,this._datashapesgroup);var z;if(this._props.orientation==='horizontal'){z=G.zoomInfo(this._categoryScale,f.scale,h,this._height,'left')}else if(this._props.orientation==='vertical'){z=G.zoomInfo(this._categoryScale,f.scale,h,this._width,'bottom')}if(z){var n=this._datashapesgroup.node();var t=n.getTransformToElement(n.parentNode);var s=z.scale;var i=z.offset;var r=z.rangeBand;if(g.orientation==='horizontal'||g.orientation==='both'){if(this._props.orientation==='horizontal'){this._pinch_modifyValuescale(s)}else if(this._props.orientation==='vertical'){this._pinch_modifyCategoryscale(s,r)}i.x+=t.e}if(g.orientation==='vertical'||g.orientation==='both'){if(this._props.orientation==='horizontal'){this._pinch_modifyCategoryscale(s,r)}else if(this._props.orientation==='vertical'){this._pinch_modifyValuescale(s)}i.y+=t.f}if(g.orientation==='horizontal'){i.y=0}else if(g.orientation==='vertical'){i.x=0}this.render(this._d3root,{isPinching:this._isPinching});this._eDispatch.scale({scale:s});this.dragToOffset({offset:i});this._eDispatch.stretch({offset:i})}};e.prototype.dragToOffset=function(f){var t,g={},h=this._datashapesgroup;if(f.offset){g=f.offset}else{t=f.transform,g=G.parseTransformString(t);var n=h.node(),i=n.getTransformToElement(n.parentNode);g.y=i.f}if(g.hasOwnProperty('x')&&g.hasOwnProperty('y')){h.attr('transform','translate('+g.x+','+g.y+')')}};e.prototype.getAxisList=function(){var f={xAxis:{},yAxis:{}};if(this._props.orientation==="vertical"){if(this._dimensionScale){f.xAxis.axis=this._dimensionScale}else{f.xAxis.axis=this._categoryScale}f.xAxis.type='category';f.yAxis.axis=this._valueAxis1.scale;f.yAxis.type='value'}else if(this._props.orientation==="horizontal"){if(this._dimensionScale){f.yAxis.axis=this._dimensionScale}else{f.yAxis.axis=this._categoryScale}f.yAxis.type='category';f.xAxis.axis=this._valueAxis1.scale;f.xAxis.type='value'}return f};e.prototype.pinchEnd=function(){var f=this._pinchEvent.pinchProperties;var g={};g.width=this._width;g.height=this._height;var h=this.getAxisList();var i=this.getXAxisRange();var j=this.getYAxisRange();var k=this;var m=this._datashapesgroup,n=m.node();var q=G.pinchPointOffset(n,h,g);if(q.x!==0||q.y!==0){var r=n.getAttribute('transform');var s=G.parseTransformString(r);var u=n.getTransformToElement(n.parentNode);m.transition().duration(100).tween('transform',function(){var v=null,w=null,z,x,y;if(f.orientation==='horizontal'||f.orientation==='both'){if(q.x<-0.5){v=d3.interpolate(r,'translate(0, '+u.f+')');x=0}else if(q.x>0.5){v=d3.interpolate(r,'translate('+(k._width-i)+', '+u.f+')');x=k._width-i}else{v=null;x=s.x}}if(f.orientation==='vertical'||f.orientation==='both'){if(q.y<-0.5){w=d3.interpolate(r,'translate('+u.e+', 0)');y=0}else if(q.y>0.5){w=d3.interpolate(r,'translate('+u.e+', '+(k._height-j)+')');y=k._height-j}else{w=null;y=s.y}}z=d3.interpolate(r,'translate('+x+','+y+')');return function(t){var A=null,D=null;if(v){A=v(t)}if(w){D=w(t)}k._eDispatch.stretch({xTransform:A,yTransform:D});var E=z(t);this.setAttribute('transform',E)}}).each('end',function(){k._eDispatch.stretchEnd()})}else{k._eDispatch.stretchEnd()}this._isPinching=false};e.prototype.getXAxisRange=function(){var r;if(this._props.orientation==='vertical'){if(this._dimensionScale){r=this._dimensionScale.rangeExtent()}else{r=this._categoryScale.rangeExtent()}}else if(this._props.orientation==='horizontal'){if(this._valueAxis1.scale.range()[0]!==this._valueAxis1.scale.range()[1]){r=this._valueAxis1.scale.range()}else if(this._valueAxis2.scale.range()[0]!==this._valueAxis2.scale.range()[1]){r=this._valueAxis2.scale.range()}}return Math.abs(r[0]-r[1])};e.prototype.getYAxisRange=function(){var r;if(this._props.orientation==='vertical'){if(this._valueAxis1.scale.range()[0]!==this._valueAxis1.scale.range()[1]){r=this._valueAxis1.scale.range()}else if(this._valueAxis2.scale.range()[0]!==this._valueAxis2.scale.range()[1]){r=this._valueAxis2.scale.range()}}else if(this._props.orientation==='horizontal'){if(this._dimensionScale){r=this._dimensionScale.rangeExtent()}else{r=this._categoryScale.rangeExtent()}}return Math.abs(r[0]-r[1])};e.prototype.render=function(_){};e.prototype.parent=function(_){if(!arguments.length){return this._d3root}this._d3root=_;return this};o.extend(e,B);return e});define('sap/viz/modules/util/dataUtil',['sap/viz/base/utils/TypeUtils'],function Setup(T){var d=function(){var h=function(g,i){if(!g||!i||T.isEmptyObject(g)||T.isEmptyObject(i)){return false}else{return b(g,i)&&c(g,i)}};var a=function(m,g,o){var i=m[g].data.getMeasureValuesGroupDataByIdx();if(T.isArray(i)){for(var j=0,k=i.length;j<k;j++){if(T.isArray(i[j].values)){for(var l=0,n=i[j].values.length;l<n;l++){if(T.isArray(i[j].values[l].rows)){for(var p=0,q=i[j].values[l].rows.length;p<q;p++){var t=i[j].values[l].rows[p];if(T.isArray(t)){for(var r=0,s=t.length;r<s;r++){t[r].metaInfo=o}}}}}}}}};var u=function(m,g,p,i){if(p.hasOwnProperty(g)&&T.isExist(p[g].label)&&T.isExist(p[g].label.formatString)){if(m.hasOwnProperty(g)){var j=m[g].properties();if(j.type==='value'){var k=i.data().getMeasureValuesGroupDataByIdx(0);if(k.values&&T.isArray(k.values)&&T.isArray(k.values[0].rows)){var l=null,n={label:{}};if(T.isArray(p[g].label.formatString)){var F=p[g].label.formatString[k.values[0].rows[0][0].ctx.path.mg];if(F){var o=k.values[0].rows[0][0].ctx.path.mi>=F.length?F.length-1:k.values[0].rows[0][0].ctx.path.mi;l=F[o]}}else if(T.isString(p[g].label.formatString)){l=p[g].label.formatString}if(l){n.label.formatString=l;m[g].properties(n)}}}}}};function b(g,j){var k=[],l=[];var i=0;var t=g.getAnalysisAxisDataByIdx(i);while(t){k.push(t);++i;t=g.getAnalysisAxisDataByIdx(i)}i=0;t=j.getAnalysisAxisDataByIdx(i);while(t){l.push(t);++i;t=j.getAnalysisAxisDataByIdx(i)}if(k.length!==l.length){return false}var m=k.length;for(i=0;i<m;++i){if(k[i].index!==l[i].index){return false}if(!e(k[i].values,l[i].values)){return false}}return true}function c(g,j){var k=[],l=[];var i=0;var t=g.getMeasureValuesGroupDataByIdx(i);while(t){k.push(t);++i;t=g.getMeasureValuesGroupDataByIdx(i)}i=0;t=j.getMeasureValuesGroupDataByIdx(i);while(t){l.push(t);++i;t=j.getMeasureValuesGroupDataByIdx(i)}if(k.length!==l.length){return false}var m=k.length;for(i=0;i<m;++i){if(k[i].index!==l[i].index){return false}if(!f(k[i].values,l[i].values)){return false}}return true}function e(g,j){if(g.length!==j.length){return false}var l=g.length;for(var i=0;i<l;++i){if(g[i].type!==j[i].type){return false}if(g[i].col.val!==j[i].col.val){return false}if(g[i].rows.length!==j[i].rows.length){return false}}return true}function f(g,j){if(g.length!==j.length){return false}var l=g.length;for(var i=0;i<l;++i){if(g[i].col!==j[i].col){return false}if(g[i].rows.length!==j[i].rows.length){return false}}return true}return{hasSameSchema:h,addMetaInfo2Data:a,updateAxisFormatString:u}};return d});define('sap/viz/modules/util/MNDHandler',[],function Setup(){return function(d){var a;var b;var h=false;var m=true;var M=false;var D=false;var c=d.getMeasureValuesGroupDataByIdx(1);var e=d.getMeasureValuesGroupDataByIdx(0);var r=d.getAnalysisAxisDataByIdx(1);var f=d.getAnalysisAxisDataByIdx(0);if((c&&c.values&&c.values.length>0)){D=true}if(f&&f.values&&f.values.length>0){if(f.values[0].type==='MND'){h=true;m=false;M=false}else if(f.values[f.values.length-1].type==='MND'){h=true;m=false;M=true}}if(r&&r.values&&r.values.length>0){if(r.values[0].type==='MND'){h=true;M=false}else if(r.values[r.values.length-1].type==='MND'){h=true;M=true}}function p(o){var q=[];var i,j,k;var s;if(o.values.length<=0){return q}if(h&&!m){for(j=0;j<o.values[0].rows.length;++j){s=new Array(o.values.length*o.values[0].rows[0].length);for(k=0;k<o.values[0].rows[0].length;++k){for(i=0;i<o.values.length;++i){var t={};t.val=o.values[i].rows[j][k].val;t.ctx=o.values[i].rows[j][k].ctx;t.info=o.values[i].rows[j][k].info;if(M){s[k*o.values.length+i]=t}else{s[i*o.values[0].rows[0].length+k]=t}}}q.push(s)}}else{q=new Array(o.values.length*o.values[0].rows.length);for(i=0;i<o.values.length;++i){for(j=0;j<o.values[0].rows.length;++j){s=o.values[i].rows[j];if(!h||!M){q[i*o.values[0].rows.length+j]=s}else{q[j*o.values.length+i]=s}}}}return q}function g(j,k){for(var i=0;i<k.length;++i){j[i]=j[i].concat(k[i])}}function l(n){var o=[];var q=e.values.length;var s=c.values.length;var t=e.values[0].rows[0].length;var u=new Array(e.values[0].rows.length);var v=0;var i,j,k;for(i=0;i<u.length;++i){u[i]=[]}if(M){var w=e.values[0].rows.length;for(i=0;i<t;++i){for(j=0;j<q;++j){for(k=0;k<w;++k){u[k][v]=e.values[j].rows[k][i]}o[v]=0;++v}for(j=0;j<s;++j){for(k=0;k<w;++k){u[k][v]=c.values[j].rows[k][i]}o[v]=1;++v}}}else{for(i=0;i<q;++i){for(j=0;j<t;++j){o[v++]=0}g(u,e.values[i].rows)}for(i=0;i<s;++i){for(j=0;j<t;++j){o[v++]=1}g(u,c.values[i].rows)}}n['MG1']=u;n["MG1Number"]=e.values.length;n['color']=o}var n={};if(D&&!m){l(n)}else{a=p(e);n["MG1Number"]=e.values.length;if(D){b=p(c);n["MG2Number"]=c.values.length}n["MG1"]=a;n["MG2"]=b}n["hasMND"]=h;n["MNDOnColor"]=m;n['MNDInner']=M;return n}});define('sap/viz/util/Scaler',['sap/viz/util/NumberUtils'],function Setup(N){var S={getRoughTickNum:function(_,a){var c=2;var r=-1;if(!a||a<c){var b=_.range();var d=Math.abs(b[0]-b[b.length-1]);if(d>10){r=c+Math.round(d/100)}else{r=c}}else{r=a}_.tickHint=r;return r},toFixedNumber:function(a){if((typeof a)==="object"&&a.length){for(var i=0;i<=(a.length-1);i++){if((typeof a[i])==="number"){a[i]=N.precise(a[i])}}}else if((typeof a)==="number"){a=N.precise(a)}return a},adjustGap:function(s,a,b){var d=b.domain();var r=b.range();var c=Math.abs(r[0]-r[r.length-1]);if(c>0){var e=Math.abs(d[0]-d[d.length-1]);var f=s/c;var g=e*f;var h=a/c;var i=e*h;if(d[0]>d[d.length-1]){d[0]+=g;d[d.length-1]-=i}else{d[0]-=g;d[d.length-1]+=i}b.domain(d)}},perfect:function(_,a,b){var q=_.nice();var c=2;var d=100;var e=_.domain();e=this.toFixedNumber(e);var o=e[0];var f=e[e.length-1];var r=-1;var g=-1;if(!b||b<c){r=this.getRoughTickNum(_,a)}else{g=b}if(g<0){var t=q.ticks(r);t=this.toFixedNumber(t);var h=true;var i;if(t.length===0){h=false}else if(t.length>1){i=t[1]-t[0]}else{var j=Math.abs(e[0]-t[0]);var k=Math.abs(e[e.length-1]-t[0]);if(j>k){i=j}else{i=k}}var l=c;if(h){l=t.length;if(e[0]<e[1]){if(t[0]!==e[0]){e[0]=t[0]-i;l++}if(t[t.length-1]!==e[e.length-1]){e[e.length-1]=t[t.length-1]+i;l++}}else{if(t[0]!==e[e.length-1]){e[e.length-1]=t[0]-i;l++}if(t[t.length-1]!==e[0]){e[0]=t[t.length-1]+i;l++}}}q.tickNum=l;q.distance=i;q.tickHint=l-1;e[0]=this.toFixedNumber(e[0]);e[e.length-1]=this.toFixedNumber(e[e.length-1]);q.domain(e)}else{this.perfect(q,g);if(q.tickNum>g){var m=g;for(;m>=c;){m--;this.perfect(q,m);if(q.tickNum<=g){break}}}if(q.tickNum<g){var n=(g-q.tickNum);var p=q.domain();for(;n>0;){if(p[0]<p[1]){if(Math.abs(p[1]-f)>Math.abs(o-p[0])){p[0]-=q.distance}else{p[1]+=q.distance}n--;q.tickNum++}else{if(Math.abs(p[1]-f)>Math.abs(o-p[0])){p[0]+=q.distance}else{p[1]-=q.distance}n--;q.tickNum++}}q.tickHint=q.tickNum-1;p[0]=N.precise(p[0]);p[p.length-1]=N.precise(p[p.length-1]);q.domain(p)}}q.perfectDomainBegin=e[0];q.perfectDomainEnd=e[e.length-1];return q},perfectDual:function(_,a){this.perfect(_);this.perfect(a);var d=_.domain();var b=a.domain();var r=_.range();var c=a.range();if((d[0]>d[d.length-1]&&b[0]<b[b.length-1])||(d[0]<d[d.length-1]&&b[0]>b[b.length-1])||(d[0]<0&&d[d.length-1]<0)||(b[0]<0&&b[b.length-1]<0)||(d[0]>0&&d[d.length-1]>0)||(b[0]>0&&b[b.length-1]>0)||(Math.abs(r[0]-r[r.length-1])!==Math.abs(c[0]-c[c.length-1]))){return}var p=0;var n=0;var e=0;var f=0;var t=_.tickNum;var g=a.tickNum;var h=(d[d.length-1]-d[0])/(t-1);h=N.precise(h);var i;var j;for(i=0;i<t;i++){j=d[0]+i*h;if(j>0){p++}else if(j<0){n++}}var k=(b[b.length-1]-b[0])/(g-1);k=N.precise(k);for(i=0;i<g;i++){j=b[0]+i*k;if(j>0){e++}else if(j<0){f++}}var m;if(p>e){m=p-e;if(b[0]<b[b.length-1]){b[b.length-1]+=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[0]+=(m*Math.abs(k));a.tickNum+=m}}else if(p<e){m=e-p;if(d[0]<d[d.length-1]){d[d.length-1]+=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[0]+=(m*Math.abs(h));_.tickNum+=m}}if(n>f){m=n-f;if(b[0]<b[b.length-1]){b[0]-=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[b.length-1]-=(m*Math.abs(k));a.tickNum+=m}}else if(n<f){m=f-n;if(d[0]<d[d.length-1]){d[0]-=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[d.length-1]-=(m*Math.abs(h));_.tickNum+=m}}d[0]=N.precise(d[0]);d[1]=N.precise(d[1]);b[0]=N.precise(b[0]);b[1]=N.precise(b[1]);_.domain(d);a.domain(b);_.tickHint=_.tickNum-1;a.tickHint=a.tickNum-1},perfectTime:function(_){if(_.userTicks){return}var d=_.domain();var h=1000*60*60;var a=h*24;var m=a*30;var y=m*12;var g=d[1]-d[0];var s=new Date();s.setTime(d[0]);var e=new Date();e.setTime(d[1]);s.setMinutes(0);s.setSeconds(0);s.setMilliseconds(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);var t;if(g<3*a){e.setHours(e.getHours()+1);t=0;g=(e.getTime()-s.getTime())/h}else if(g<3*m){s.setHours(0);e.setHours(0);e.setDate(e.getDate()+1);t=1;g=(e.getTime()-s.getTime())/a}else if(g<3*y){s.setHours(0);s.setDate(1);e.setHours(0);e.setDate(1);e.setMonth(e.getMonth()+1);t=2;g=(e.getFullYear()-s.getFullYear())*12+e.getMonth()-s.getMonth()}else{s.setHours(0);s.setDate(1);s.setMonth(0);e.setHours(0);e.setDate(1);e.setMonth(0);e.setFullYear(e.getFullYear()+1);t=3;g=e.getFullYear()-s.getFullYear()}var b=this.getRoughTickNum(_);var i,j;OUT:for(i=0;b>2;i++){for(j=b-1;j>1;j--){if((g+i)%j===0){break OUT}}}_.tickNum=b>2?j+1:b;_.timeUnitGap=(g+i)/j;if(t===0){e.setHours(e.getHours()+i)}else if(t===1){e.setDate(e.getDate()+i)}else if(t===2){e.setMonth(e.getMonth()+i)}else if(t===3){e.setFullYear(e.getFullYear()+i)}_.domain([s.getTime(),e.getTime()]);_.timeUnit=t}};return S});define('sap/viz/util/ColorSeriesGenerator',['sap/viz/modules/Constants'],function Setup(c){var C={sap32:function(){return d3.scale.ordinal().range(c.COLOR.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(c.COLOR.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(c.COLOR.SAPColorDualAxis2)}};return C});define('sap/viz/modules/util/tooltipDataHandler',['sap/viz/data/feed/feeder','sap/viz/lang/langManager','sap/viz/modules/Constants'],function Setup(f,l,C){var t=function(){var a=[];var b={};var d=l.get('IDS_ISNOVALUE');var h=function(_){if(_===null||_===undefined){return d}else{return _}};b.generateTooltipData=function(c,s,e,g,n,p){var o=function(c){var r;var u=false;if(s[e][0]!==undefined&&s[e][0].length>0){r=d3.merge([s[e][0],s[e][1]]);u=true}else{r=s[e]}var v={'body':[],'footer':[]};var w=r.length;var x=false;var y=0;var z=[c.getMeasureValuesGroupDataByIdx(0),c.getMeasureValuesGroupDataByIdx(1)];var A=[c.getAnalysisAxisDataByIdx(0),c.getAnalysisAxisDataByIdx(1)];var M=m(A);if(z[0]&&z[1]){x=true;y=z[0].values.length}var B=false;var D;var i=0,j=0,k=0,E;var F;var G;var H;var I;var J;var K;var L={path:{}};if(!M.hasMNDonCate&&!M.hasMNDonColor){if(A[1]){F=0;if(z[0]){for(i=0;i<z[0].values.length;++i){if(z[0].values[i].rows.length>0){L={path:{}};L.path.mg=z[0].values[i].rows[0][0].ctx.path.mg;L.path.mi=z[0].values[i].rows[0][0].ctx.path.mi}G={'name':h(z[0].values[i].col),'val':[],'ctx':L};for(j=0,E=z[0].values[i].rows.length;j<E;++j){H=F*E+j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}v.body.push(G);++F}}if(z[1]){for(i=0;i<z[1].values.length;++i){if(z[1].values[i].rows.length>0){L={path:{}};L.path.mg=z[1].values[i].rows[0][0].ctx.path.mg;L.path.mi=z[1].values[i].rows[0][0].ctx.path.mi}G={'name':h(z[1].values[i].col),'val':[],'ctx':L};for(j=0,E=z[1].values[i].rows.length;j<E;++j){H=F*E+j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':1};G.val.push(J)}v.body.push(G);++F}}}else{if(z[0].values[0].rows.length>0){L={path:{}};L.path.mg=z[0].values[0].rows[0][0].ctx.path.mg;L.path.mi=z[0].values[0].rows[0][0].ctx.path.mi}G={'name':h(z[0].values[0].col),'val':[],'ctx':L};J={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p===undefined?h(r[0].val):p(r[0].val),'valueAxis':0};G.val.push(J);v.body.push(G)}for(i=0,E=A[0].values.length;i<E;++i){K={'label':A[0].values[i].col,'value':A[0].values[i].rows[e]};v.footer.unshift(K)}}else if(M.hasMNDonColor){for(i=0;i<A[1].values.length;++i){if(A[1].values[i].type==='MND'){D=A[1].values[i].rows.length;if(i===0){B=true}break}}F=0;var N;if(z[0]){for(i=0;i<z[0].values.length;++i){if(z[0].values[i].rows.length>0){L={path:{}};L.path.mg=z[0].values[i].rows[0][0].ctx.path.mg;L.path.mi=z[0].values[i].rows[0][0].ctx.path.mi}G={'name':h(z[0].values[i].col),'val':[],'ctx':L};for(j=0,E=z[0].values[i].rows.length;j<E;++j){N=undefined;if(B){H=F*E+j}else if(!u||!x){H=j*D+F}else{H=j*y+F;N=j*D+F}I=[];for(k=0;k<A[1].values.length;++k){if(A[1].values[k].type!=='MND'){I.push(A[1].values[k].rows[j])}}J={'shape':N!==undefined?n[N%n.length]:n[H%n.length],'color':N!==undefined?g[N%g.length]:g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}v.body.push(G);++F}}if(z[1]){for(i=0;i<z[1].values.length;++i){if(z[1].values[i].rows.length>0){L={path:{}};L.path.mg=z[1].values[i].rows[0][0].ctx.path.mg;L.path.mi=z[1].values[i].rows[0][0].ctx.path.mi}G={'name':h(z[1].values[i].col),'val':[],'ctx':L};for(j=0,E=z[1].values[i].rows.length;j<E;++j){N=undefined;if(B){H=F*E+j}else if(!u||!x){H=j*D+F}else{H=j*(D-y)+F-y+parseInt(w*y/D,10);N=j*D+F}I=[];for(k=0;k<A[1].values.length;++k){if(A[1].values[k].type!=='MND'){I.push(A[1].values[k].rows[j])}}J={'shape':N!==undefined?n[N%n.length]:n[H%n.length],'color':N!==undefined?g[N%g.length]:g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':1};G.val.push(J)}v.body.push(G);++F}}for(i=0,E=A[0].values.length;i<E;++i){K={'label':A[0].values[i].col,'value':A[0].values[i].rows[e]};v.footer.unshift(K)}}else{var O=null;var P;for(i=0;i<A[0].values.length;++i){if(A[0].values[i].type==='MND'){D=A[0].values[i].rows.length;var Q=0;if(s.length!==undefined){Q=s.length}else{for(j in s){if(s.hasOwnProperty(j)){++Q}}}P=Q/D;if(i===0){B=true;O=A[0].values[i].rows[parseInt(e/P,10)]}else{O=A[0].values[i].rows[e%D]}break}}G={'name':O,'val':[]};if(A[1]){if(z[0]){for(j=0,E=z[0].values[0].rows.length;j<E;++j){H=j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}}}else{J={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p===undefined?h(r[0].val):p(r[0].val),'valueAxis':0};G.val.push(J)}v.body.push(G);for(i=0,E=A[0].values.length;i<E;++i){if(A[0].values[i].type!=='MND'){K={'label':A[0].values[i].col,'value':null};if(B){K.value=A[0].values[i].rows[e%P]}else{K.value=A[0].values[i].rows[parseInt(e/D,10)]}v.footer.unshift(K)}}}return v};var q=function(i){if(a[i]===undefined){a[i]=o(c)}return a[i]};return q(e)};return b};function m(a){var h=false;var j,b;if(a[0]){for(j=0,b=a[0].values.length;j<b;++j){if(a[0].values[j].type&&a[0].values[j].type==='MND'){h=true}}}var c=false;if(!h){if(a[1]){for(j=0,b=a[1].values.length;j<b;++j){if(a[1].values[j].type&&a[1].values[j].type==='MND'){c=true}}}}return{hasMNDonCate:h,hasMNDonColor:c}}t.formatTooltipData=function(d){var a={name:C.Event.TooltipShow.name,data:d};return a};t.dataTransform=function(o){var d=o['MG1'];var a=o['MG2'];var b=[];var i,j;if(o.hasMND&&o.MNDOnColor&&o.MNDInner){var c=0,e=0,g=0;if(o['MG1Number']){c=o['MG1Number'];g=d.length/c}if(o['MG2Number']){e=o['MG2Number'];g=a.length/e}for(i=0;i<g;i++){for(j=0;j<c;j++){b.push(d[i*c+j])}for(j=0;j<e;j++){b.push(a[i*e+j])}}}else{if(d){for(i=0;i<d.length;i++){b.push(d[i])}}if(a){for(i=0;i<a.length;i++){b.push(a[i])}}}var s=[];var h;if(d.length!==0){h=d[0].length}else{h=a[0].length}for(j=0;j<h;j++){var k=[];for(i=0;i<b.length;i++){k.push(b[i][j])}s.push(k)}return s};return t});define('sap/viz/data/handler/RuntimeSelectionDataHandler',['sap/viz/base/utils/Objects'],function Setup(O){var R={cachedMaps:null,buildMaps:function(t,d,i){var r={};if(!i||t.cachedMaps===null){r.mgMap=t.mgMapGen(d);r.miMap=t.miMapGen(d);r.diiA1Map=t.diiA1MapGen(d);r.diiA2Map=t.diiA2MapGen(d);t.cachedMaps=r}else{r=t.cachedMaps}return r},mgMapGen:function(d){var m=d.getMeasureValuesGroupDataByIdx();var n=m.length;var a=[];var i;for(i=0;i<n;i++){var b={};b.measureValuesGroup=(m[i].index+1);a.push(b)}return a},miMapGen:function(d){var m=d.getMeasureValuesGroupDataByIdx();var a=[];var k;var i;for(k=0;k<m.length;k++){var b=[];for(i=0;i<m[k].values.length;i++){var c={};c.Measure=m[k].values[i].col;b.push(c)}a[m[k].index]=b}return a},mapGenHelper:function(d,m){var a=d.getAnalysisAxisDataByIdx();var b;var i;for(i=0;i<a.length;i++){if(a[i].index===m){b=a[i].values;break}}var c=0;if(b&&b.length>0){for(i=0;i<b.length;i++){if(b[i].type!=="MND"){c=b[i].rows.length}}}var e=[];if(b&&b.length>0){var j;for(j=0;j<c;j++){var f={};for(i=0;i<b.length;i++){if(b[i].type!=="MND"){f[b[i].col.val]=b[i].rows[j].val}}e.push(f)}}return e},indexOfMND:function(d){var a=-1;var b=d.getAnalysisAxisDataByIdx();var i;for(i=0;i<b.length;i++){if(b[i].values[0]&&b[i].values[0].type==="MND"&&b[i].values.length===1){a=b[i].index;break}}return a},diiA1MapGen:function(d){var i=this.indexOfMND(d);var b=d.getBindingInfo();var s=false;if(i===0){if(b&&b[1]===false){s=true}}else{if(b&&b[0]===false){s=true}}var a=0;if(i===0){a=1;if(s){a=2}}else if(i===1){if(s){a=2}}else{if(s){a=1}}var c=this.mapGenHelper(d,a);return c},diiA2MapGen:function(d){var i=this.indexOfMND(d);var b=d.getBindingInfo();var s=false;if(i===0){if(b&&b[1]===false){s=true}}else{if(b&&b[0]===false){s=true}}var a=1;if(i===0){a=2;if(s){a=1}}else{if(s){a=0}}var c=this.mapGenHelper(d,a);return c},ctxArrayToObjArray:function(d,a){var c=function(h,d,e){var g=[];var k;for(k=0;k<e.length;k++){var j=e[k].ctx.path;var v=e[k].val;var l={};var m=h.buildMaps(h,d,true);var n=m.mgMap;var p=m.miMap;var q=m.diiA1Map;var r=m.diiA2Map;if(q.length>=1){l=O.extend(true,l,q[j.dii_a1])}if(r.length>=1){l=O.extend(true,l,r[j.dii_a2])}if(n.length>=1){l=O.extend(true,l,n[j.mg])}if(p.length>=1){l=O.extend(true,l,p[j.mg][j.mi])}l.__value__=v;g.push(l)}return g};var i;var o=[];for(i=0;i<a.length;i++){var b=c(this,d,a[i]);o.push(b)}var f=this.objArrayToFinalArray(o);return f},oneObjItemToCtxArray:function(d,o){var i;var j;var k;var I=1;var U=0;var N=-1;if(!(o instanceof Array)){var a=o;o=[];o.push(a)}var b=function(s,u){var t=true;var v;for(v in s){if(s.hasOwnProperty(v)){if(u[v]!==undefined){if(u[v]!==s[v]){t=false;break}}}}return t};var c=[];var m=this.buildMaps(this,d,true);var e=m.mgMap;var f=m.miMap;var g=m.diiA1Map;var h=m.diiA2Map;var l=[];l.push(e);l.push(f);l.push(g);l.push(h);for(k=0;k<o.length;k++){var n=o[k];var p=[];var q={"ctx":{"path":{"mg":null,"mi":null,"dii_a1":null,"dii_a2":null}}};q.ctx.path.mg=[];if(n.measureValuesGroup){q.ctx.path.mg.push(n.measureValuesGroup-1)}else{var r=e.length;for(i=0;i<r;i++){q.ctx.path.mg.push(i)}}q.ctx.path.mi=[];if(n.Measure===undefined){if(f.length>0){for(j=0;j<f[0].length;j++){q.ctx.path.mi.push(j)}}}else{for(i=0;i<f.length;i++){for(j=0;j<f[i].length;j++){if(f[i][j].Measure===n.Measure){q.ctx.path.mi.push(j)}}}}q.ctx.path.dii_a1=[];if(g.length>0){for(i=0;i<g.length;i++){if(b(g[i],n)){q.ctx.path.dii_a1.push(i)}}}else{q.ctx.path.dii_a1.push(null)}q.ctx.path.dii_a2=[];if(h.length){for(i=0;i<h.length;i++){if(b(h[i],n)){q.ctx.path.dii_a2.push(i)}}}else{q.ctx.path.dii_a2.push(null)}if(n.__value__!==undefined){q.val=n.__value__}p=this.buildCtxArray(q);c=c.concat(p)}return c},buildCtxArray:function(c){var a=[];var i;var k;var b;for(i=0;i<c.ctx.path.mg.length;i++){b=O.extend(true,{},c);b.ctx.path.mg=c.ctx.path.mg[i];a.push(b)}c=a;a=[];for(k=0;k<c.length;k++){for(i=0;i<c[k].ctx.path.mi.length;i++){b=O.extend(true,{},c[k]);b.ctx.path.mi=c[k].ctx.path.mi[i];a.push(b)}}c=a;a=[];for(k=0;k<c.length;k++){for(i=0;i<c[k].ctx.path.dii_a1.length;i++){b=O.extend(true,{},c[k]);b.ctx.path.dii_a1=c[k].ctx.path.dii_a1[i];a.push(b)}}c=a;a=[];for(k=0;k<c.length;k++){if(c[k].ctx.path.dii_a2.length>0){for(i=0;i<c[k].ctx.path.dii_a2.length;i++){b=O.extend(true,{},c[k]);b.ctx.path.dii_a2=c[k].ctx.path.dii_a2[i];a.push(b)}}else{b=O.extend(true,{},c[k]);b.ctx.path.dii_a2=0;a.push(b)}}return a},objArrayToCtxArray:function(d,o){var a=this.finalArrayToObjArray(d,o);var i;var c=[];for(i=0;i<a.length;i++){var b=this.oneObjItemToCtxArray(d,a[i]);if(b===undefined){continue}c.push(b)}return c},objArrayToFinalArray:function(o){var a=function(c){var d={};var i;if(c.length>0){var b=c[0];var p;for(p in b){if(b.hasOwnProperty(p)){if(p!=="__value__"&&p!=="Measure"&&p!=="measureValuesGroup"){d[p]=b[p]}}}}for(i=0;i<c.length;i++){var m=c[i].Measure;var e=c[i].__value__;d[m]=e}return d};var i;var f=[];for(i=0;i<o.length;i++){var b=a(o[i]);f.push(b)}return f},finalArrayToObjArray:function(d,f){var m=this.miMapGen(d);var a=[];var b=this.buildMaps(this,d,true);var c=b.diiA1Map;var e=b.diiA2Map;a.push(c);a.push(e);var g=function(k){var F=-1;var G;for(G=0;G<m.length;G++){var i;var r=m[G];for(i=0;i<r.length;i++){if(r[i].Measure===k){F=G;break}}}return F};var h=function(q,r,a){for(var i=0;i<a.length;i++){for(var j=0;j<a[i].length;j++){if(a[i][j]instanceof Array){for(var k=0;k<a[i][j].length;k++){if(q[r]!==undefined&&(a[i][j][k][r]===q[r]||(a[i][j][k][r]&&q[r]==="*"))){return true}}}else{if(q[r]!==undefined&&(a[i][j][r]===q[r]||(a[i][j][r]&&q[r]==="*"))){return true}}}}return false};var o=function(q,a){var i;var k=[];var r={};var s=[];var t;for(t in q){if(q.hasOwnProperty(t)){var u=g(t);if(u<0){if(h(q,t,a)){r[t]=q[t]}else{k=null;return k}}else{var v={};v.measureValuesGroup=(u+1);v.Measure=t;v.__value__=q[t];s.push(v)}}}if(s.length<=0){k.push(r)}else{for(i=0;i<s.length;i++){k.push(O.extend(true,s[i],r))}}for(i=0;i<k.length;i++){var w=k[i];for(t in w){if(w.hasOwnProperty(t)){if(w[t]==="*"){delete w[t]}}}}return k};var p=function(r){var s=[];s.push({});var t;var i;var j;var k;for(t in r){if(r.hasOwnProperty(t)){for(i=0;i<s.length;i++){s[i][t]=r[t]}var u=g(t);if(u<0){var v=r[t];if(v instanceof Array){var w=[];for(j=0;j<v.length;j++){var x=O.extend(true,[],s);for(k=0;k<x.length;k++){x[k][t]=r[t][j]}w=w.concat(x)}s=w}}}}return s};var i;var j;var l=[];for(i=0;i<f.length;i++){var n=p(f[i]);for(j=0;j<n.length;j++){var q=o(n[j],a);if(q){l.push(q)}}}return l},buildCtxItems:function(D){var d=[];for(var i=0;i<D.length;i++){var o=[];if(D[i].__data__.ctx instanceof Array){var j;for(j=0;j<D[i].__data__.ctx.length;j++){if(D[i].__data__.ctx[j]!==null){var a={};a.ctx=O.extend(true,{},D[i].__data__.ctx[j]);a.val=D[i].__data__.val[j];o.push(a)}}}else{if(D[i].__data__.ctx!==null){var b={};b.ctx=O.extend(true,{},D[i].__data__.ctx);if(D[i].__data__.value!==undefined&&(!(D[i].__data__.value instanceof Object))&&(!(D[i].__data__.value instanceof Array))){b.val=D[i].__data__.value}else{b.val=D[i].__data__.val}o.push(b)}}d.push(o)}return d},buildInfoArray:function(D){var d=[];for(var i=0;i<D.length;i++){var o=[];if(D[i].__data__.info instanceof Array){var j;for(j=0;j<D[i].__data__.info.length;j++){if(D[i].__data__.info[j]!==null){var a;a=O.extend(true,{},D[i].__data__.info[j]);if(a){a=a.additionalData}o.push(a)}}}else{if(D[i].__data__.info!==null){var b;b=O.extend(true,{},D[i].__data__.info);if(b){b=b.additionalData}o.push(b)}}d.push(o)}return d},getSelectedObjArray:function(d,D,w,a){this.buildMaps(this,d,false);var c=this.buildCtxItems(D);var b=this.ctxArrayToObjArray(d,c);var e=[];var i;var j;for(i=0;i<c.length;i++){var o=[];for(j=0;j<c[i].length;j++){var f=O.extend(true,{},c[i][j].ctx.path);o.push(f)}e.push(o)}var g=this.buildInfoArray(D);var r=[];for(i=0;i<b.length;i++){var h={};h.data=b[i];if(w){h.ctx=e[i]}if(a){h.info=g[i]}r.push(h)}return r},setSelectedObjArray:function(d,o,u){if(!u){u=false}this.buildMaps(this,d,u);var c=[];var i;var j;var a=false;if(o===undefined||o===null){c=undefined}else if(o.length>0){if(o[0].ctx){a=true}if(a){for(i=0;i<o.length;i++){var b=[];for(j=0;j<o[i].ctx.length;j++){var e={};e.ctx={};e.ctx.path=o[i].ctx[j];b.push(e)}c.push(b)}}else{var f=[];for(i=0;i<o.length;i++){if(o[i].data){f.push(o[i].data)}}if(f.length>0){if(f.length===1&&Object.keys(f[0]).length===0){c=[]}else{c=R.objArrayToCtxArray(d,f)}}else{c=undefined}}}return c}};return R});define('sap/viz/modules/util/selectionUtil',['sap/viz/base/utils/Objects','sap/viz/data/handler/RuntimeSelectionDataHandler'],function Setup(O,R){var s=function(){};s.ctxEqual=function(c,b){var d=false;var e=false;var f=false;var g=false;if(!c&&!b){return true}if(!c||!b){return false}if((c.dii_a1===null||c.dii_a1===undefined)||(b.dii_a1===null||b.dii_a1===undefined)||c.dii_a1===b.dii_a1){d=true}if((c.dii_a2===null||c.dii_a2===undefined)||(b.dii_a2===null||b.dii_a2===undefined)||c.dii_a2===b.dii_a2){e=true}if((c.mg===null||c.mg===undefined)||(b.mg===null||b.mg===undefined)||c.mg===b.mg){f=true}if((c.mi===null||c.mi===undefined)||(b.mi===null||b.mi===undefined)||c.mi===b.mi){g=true}return(d&&e&&f&&g)};s.matchAllToCheckValues=function(b,c){var d=function(f,g){return(f.val-g.val)};c.sort(d);var i;var e=[];for(i=0;i<c.length;i++){if(i>0){if(!O.equal(c[i].val,c[i-1].val)){e.push(c[i])}}else{e.push(c[i])}}return(b.length===e.length)};function m(c,v,b){var d=false;var e=false;var f=false;if(s.ctxEqual(c.path,b.ctx.path)){e=true;if(b.val===undefined){f=true}else{if(b.val instanceof Array){var i;for(i=0;i<b.val.length;i++){if(O.equal(v,b.val[i])){f=true;break}}}else if(b.val instanceof Object){var g=b.val.min;var h=b.val.max;if((g===null||g===undefined)&&(h===null||h===undefined)){f=false}else if(g===null||g===undefined){f=(v<=h)}else if(h===null||h===undefined){f=(v>=g)}else{f=((v<=h)&&(v>=g))}}else{f=O.equal(v,b.val)}}d=e&&f}return d}function a(D,b){var i,k;var c=false;if(D.ctx instanceof Array){var d=[];var e=[];for(k=0;k<b.length;k++){for(i=0;i<D.ctx.length;i++){if(D.ctx[i]!==null&&D.ctx[i]!==undefined){var f=m(D.ctx[i],D.val[i],b[k]);if(f){if(d.indexOf(k)<0){d.push(k)}if(e.indexOf(i)<0){e.push(i)}}}else{if(e.indexOf(i)<0){e.push(i)}}}}if(s.matchAllToCheckValues(d,b)||e.length===D.ctx.length){c=true}}else{for(k=0;k<b.length;k++){if(D.value!==undefined&&(!(D.value instanceof Object))&&(!(D.value instanceof Array))){c=m(D.ctx,D.value,b[k])}else{c=m(D.ctx,D.val,b[k])}if(c){break}}}return c}s.itemMatch=function(D,b){var c=false;if(D instanceof Array){for(var i=0;i<D.length&&!c;++i){c=a(D[i],b)}}else{if(D.ctxIndex!==undefined){var r={};r.ctx=D.ctx[D.ctxIndex];r.val=D.val[D.ctxIndex];c=a(r,b)}else{c=a(D,b)}}return c};s.addSelected=function(o,D){var i;var f=false;for(i=0;i<o.length;i++){if(o[i]===D){f=true;break}}if(!f){o.push(D)}};s.getDOMElementsFromCtxArray=function(b,c){var j;var d=[];var e=b.selectAll('.v-datapoint');e.each(function(f,i){for(j=0;j<c.length;j++){if(s.itemMatch(f,c[j])){s.addSelected(d,this);return}}});return d};s.applyConditons=function(f,b,d,c){if(f){var C;var u;for(C=0;C<f.length;C++){var e=[];var r=f[C].condition;if(r){var j;for(j=0;j<r.length;j++){var g={};g.data=r[j];e.push(g)}}if(C===0){u=false}else{u=true}var h=R.setSelectedObjArray(d,e,u);if(h&&(h.length>0)){var i=s.getDOMElementsFromCtxArray(b,h);c(i,f[C])}}}};return s});define('sap/viz/modules/area',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/modules/util/dataUtil','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/base/utils/TypeUtils','sap/viz/util/Scaler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/BoundingBox','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/util/DrawUtil','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/manifests/Module','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/UADetector','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,a,b,M,T,S,C,c,N,l,D,e,f,O,g,U,h,k,m,G,n,s){var p=function(d,Y){var Z=new Array(d.data[0].length);var i;for(i=0;i<Z.length;++i){Z[i]=0}for(i=d.data.length-1;i>=0;--i){for(var j=0;j<d.data[i].length;++j){if(!N.isNoValue(d.data[i][j].val)){Z[j]+=d.data[i][j].val;if(Y.min===null){Y.min=Z[j];Y.max=Z[j]}else{Y.min=Y.min>Z[j]?Z[j]:Y.min;Y.max=Y.max>Z[j]?Y.max:Z[j]}}}}};function q(d){var Y=d.data;var Z={data:[],bgAreaData:[],accuVal:[]};var i,j;var $=[];var _=[];var a1=new Array(Y[0].length);if(this._props.mode==="percentage"&&this._area_bDataUpdated){w(Y);this._area_bDataUpdated=false}for(i=0;i<a1.length;++i){a1[i]=0}Z.bgAreaData=new Array(Y.length);for(i=Y.length-1;i>=0;i--){Z.bgAreaData[i]=[];Z.accuVal[i]=new Array(Y[i].length);for(j=0;j<Y[i].length;++j){Z.accuVal[i][j]=(i<Y.length-1?Z.accuVal[i+1][j]:0);if(!N.isNoValue(Y[i][j].val)){a1[j]++;Z.accuVal[i][j]+=(this._props.mode==="percentage"?Math.abs(Y[i][j].val):Y[i][j].val)}}}for(i=Y.length-1;i>=0;i--){for(j=0;j<Y[i].length;++j){if(!N.isNoValue(Y[i][j].val)){_.push({ctx:Y[i][j].ctx,x:j,y:(i<Y.length-1?Z.accuVal[i+1][j]:0)});$.push({ctx:Y[i][j].ctx,x:j,y:Z.accuVal[i][j]})}else{if(a1[j]>0){if(j>0&&!N.isNoValue(Y[i][j-1].val)){$.push({ctx:Y[i][j].ctx,x:j,y:Z.accuVal[i][j]});$=$.concat(_.reverse());Z.bgAreaData[i].push($);$=[];_=[]}if(j<Y[i].length-1&&!N.isNoValue(Y[i][j+1].val)){$.push({ctx:Y[i][j].ctx,x:j,y:Z.accuVal[i][j]})}}else if($.length>0){$=$.concat(_.reverse());Z.bgAreaData[i].push($);$=[];_=[]}}}if($.length>0){$=$.concat(_.reverse());Z.bgAreaData[i].push($);$=[];_=[]}}var b1={};for(i=Y.length-1;i>=0;i--){Z.data[i]=[];for(j=0;j<Y[i].length;++j){if(j>0){if(a1[j-1]>0){$.push({x:j-0.5,y:(Z.accuVal[i][j-1]+Z.accuVal[i][j])/2});_.push({x:j-0.5,y:(i<Y.length-1?((Z.accuVal[i+1][j-1]+Z.accuVal[i+1][j])/2):0)})}}$.push({x:j,y:Z.accuVal[i][j]});_.push({x:j,y:(i<Y.length-1?Z.accuVal[i+1][j]:0)});if(j<Y[0].length-1){if(a1[j+1]>0){$.push({x:j+0.5,y:(Z.accuVal[i][j]+Z.accuVal[i][j+1])/2});_.push({x:j+0.5,y:(i<Y.length-1?((Z.accuVal[i+1][j]+Z.accuVal[i+1][j+1])/2):0)})}}$=$.concat(_.reverse());Z.data[i].push($);$=[];_=[]}}Z.data.reverse();Z.bgAreaData.reverse();Z.accuVal.reverse();d.drawData=Z;return Z}var r=function(d){var i={min:null,max:null};if(!d.data||d.data.length===0){return i}if(this._props.mode==="percentage"){i.min=0;i.max=1;return i}p(d,i);if(N.isNoValue(i.max)){return null}if(i.min>=0){i.min=0;i.max+=i.max*5/(this._props.orientation==="vertical"?this._height:this._width)}else if(i.max<=0){i.max=0;i.min+=i.min*5/(this._props.orientation==="vertical"?this._height:this._width)}else{var j=(i.max-i.min)*5/(this._props.orientation==="vertical"?this._height:this._width);i.min-=j;i.max+=j}if(i.min===0&&i.max===0){i.max=1}return i};var t=function(d){var i=(this._props.orientation==="vertical"?[this._height,0]:[0,this._width]);if(d.data&&d.data.length>0){if(T.isNaN(d.topValue)){var j=r.call(this,d);if(!j){d.scale.domain([0,1]).range(i);d.bottomValue=null;d.topValue=null}else{d.scale.domain([j.min,j.max]).range(i);d.bottomValue=j.min;d.topValue=j.max;d.initBottomValue=j.min;d.initTopValue=j.max}}else{d.scale.domain([d.bottomValue,d.topValue]).range(i)}if(!d.manualRange){S.perfect(d.scale)}else{S.getRoughTickNum(d.scale)}}else{d.scale.domain([0,0]).range([0,0])}var Y=0;var Z=0;if(this._area_gapObj){if(this._area_gapObj.startGap){Y=this._area_gapObj.startGap}if(this._area_gapObj.endGap){Z=this._area_gapObj.endGap}}S.adjustGap(Y,Z,d.scale);return d.scale};function u(){if(d3.event){return d3.event}else{return window.event}}var v=function(d,i){if(i&&i.isPinching){d.initialized({eventSource:'pinch'})}else{d.initialized()}};var w=function(d){if(d===null||d===undefined||d[0].length===0){return}var i=0,j=0;var Y=new Array(d[0].length);var Z=new Array(d[0].length);for(i=0;i<Y.length;++i){Y[i]=0;Z[i]=0}for(i=0;i<d.length;++i){for(j=0;j<d[i].length;++j){if(!N.isNoValue(d[i][j].val)){Y[j]+=Math.abs(d[i][j].val);if(d[i][j].val===0){++Z[j]}}}}for(i=0;i<d.length;++i){for(j=0;j<d[i].length;++j){d[i][j].value=d[i][j].val;if(!N.isNoValue(d[i][j].val)){if(Y[j]>0){d[i][j].value=d[i][j].val;d[i][j].val=d[i][j].val/Y[j]}else if(Z[j]>0){d[i][j].val=1/Z[j]}}}}};var x=function(d){var i;if(d&&d.length){if(d[0].length){i=d.length*d[0].length}}else{i=0}return i};var y=m.CSS.CLASS.DATAPOINTSELECTED,z=m.CSS.CLASS.DATAPOINTHOVER,A=m.CSS.CLASS.DATAPOINTDEFAULT,E=m.CSS.CLASS.DATAPOINT,F='.'+E,H=m.CSS.CLASS.MORPHABLEDATAPOINT,I=m.CSS.CLASS.MORPHABLEAREABG;var J='v-areabg',K='.'+J;var L=E+' '+H,P=J+' '+I;var Q="v-datashapesgroup";var R="#FFFFFF";var V="#333333";var W=0.4;var X=function(d,i){X.superclass.constructor.apply(this,arguments);this._area_data=null;g.extend(true,this._props,d.props(null));this._area_randomSuffix=O.guid();this._area_tooltipData=null;this._area_tooltipDataHandler=null;this._area_g=null;this._area_svgMarkersGroup=null;this._area_svgAreasGroup=null;this._area_svgAreaBgGroup=null;this._area_effectManager=i.effectManager;this._area_styleManager=i.styleManager;this._area_rawData=i.rawData;g.extend(true,this._valueAxis1,{data:[],colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,drawData:null});this._area_areaShapeline=null;this._area_colorPalette=[];this._area_selectedMarkerNum=0;this._area_pinchPoint=null;this._area_isPinching=false;this._area_pinchEvent=null;this._area_gapObj=null;this._area_isDataSchemaChanged=false;this._area_isDataLoading=true;this._area_isSizeChanged=false;this._area_isDatasetChanged=false;this._area_hasDefaultSelection=false;this._area_animation_clipRect=null;this._area_clipRect=null;this._area_bDataUpdated=false;this._area_threshold=false};o.extend(X,B);X.prototype.render=function(d,i){h.drawBound(d,this._width,this._height);if(!this._area_clipRect){var j=n.drawClippath(d,this._width,this._height);d.attr('clip-path',"url(#"+j+")");this._area_clipRect=d.select('#'+j).select('rect')}else{this._area_clipRect.attr('width',this._width).attr('height',this._height)}this._area_tooltipDataHandler=e();this._areafn_renderChart(d,i);if(U.isMobile()&&!i&&this._datashapesgroup){this._datashapesgroup.attr('transform',null)}this._area_isDataSchemaChanged=false,this._area_isDataLoading=false,this._area_isSizeChanged=false,this._area_isDatasetChanged=false;return this};X.prototype.applyFormatConditions=function(d,j,Y,Z){var $=function(_,a1){var b1={drawingEffect:Z._props.drawingEffect,fillColor:a1.color,direction:"vertical",graphType:Z._props.marker.shape};var c1=Z._area_effectManager.register(b1);var i;for(i=0;i<_.length;i++){_[i].setAttribute('fill',c1)}};s.applyConditons(d,j,Y,$)};X.prototype.width=function(d){if(!arguments.length){return this._width}this._area_isSizeChanged=(!this._area_isSizeChanged&&(d===this._width))?false:true;this._width=d;this._areafn_computeScales();return this};X.prototype.height=function(d){if(!arguments.length){return this._height}this._area_isSizeChanged=(!this._area_isSizeChanged&&(d===this._height))?false:true;this._height=d;this._areafn_computeScales();return this};X.prototype.size=function(_){if(arguments.length===0){return{width:this._width,height:this._height}}this._area_isSizeChanged=(!this._area_isSizeChanged&&(_.width===this._width)&&(_.height===this._height))?false:true;this._width=_.width;this._height=_.height;this._areafn_computeScales();return this};X.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};X.prototype.properties=function(_){if(!arguments.length){return this._props}g.extend(true,this._props,_);this._areafn_computeScales();if(this._props.marker.size<4||this._props.marker.size>32){this._props.marker.size=4}this._props.marker.shape="circle";this._areafn_createColorPalette();return this};X.prototype.primaryAxisColor=function(){return null};X.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};X.prototype.data=function(d){if(!arguments.length){return this._area_data}this._area_isDatasetChanged=true;this._area_isDataSchemaChanged=false;if(!a().hasSameSchema(this._area_data,d)){this._area_isDataSchemaChanged=true}this._area_bDataUpdated=true;this._area_data=d;var i=M(this._area_data);this._valueAxis1.data=i["MG1"];var j;if(this._valueAxis1.data.length!==0){j=this._valueAxis1.data[0][0]}if(j.info&&j.info.defaultSelection){this._area_hasDefaultSelection=true}else{this._area_hasDefaultSelection=false}this._areafn_resetDataRange();this._area_tooltipData=e.dataTransform(i);this._areafn_computeScales();this._areafn_createColorPalette();return this};X.prototype.dataLabel=function(_){};X.prototype.primaryAxisTitle=function(_){if(!arguments.length){var d=this._area_data.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,Y=d.values.length;i<Y;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};X.prototype.getColorPalette=function(){if(this._area_colorPalette.length===0){this._areafn_createColorPalette()}return this._area_colorPalette};X.prototype.shapePalette=function(){if(!arguments.length){return[this._props.marker.shape]}return this};X.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;return this};X.prototype.categoryScale=function(d){if(!arguments.length){return this._categoryScale}this._categoryScale=d;return this};X.prototype.primaryDataRange=function(d){if(!arguments.length){var i,j;if(this._props.mode==='percentage'){i=1;j=0}else{j=this._valueAxis1.bottomValue;i=this._valueAxis1.topValue}return{min:j,max:i}}var Y,Z;if(d!==null){if(!isNaN(d.max)){Y=d.max}else{Y=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(d.min)){Z=d.min}else{Z=this._valueAxis1.scale.perfectDomainBegin}if(Y>Z){this._valueAxis1.topValue=Y;this._valueAxis1.bottomValue=Z;if(d.from==='axis'){this._valueAxis1.manualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){t.call(this,this._valueAxis1)}}}else{if(this._valueAxis1.manualRange===true){this._valueAxis1.topValue=this._valueAxis1.initTopValue;this._valueAxis1.bottomValue=this._valueAxis1.initBottomValue;this._valueAxis1.manualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){t.call(this,this._valueAxis1)}}}return this};X.prototype.clear=function(d){this._areafn_deselectedAllHandler();var i=[];if(d===null||d===undefined||d===false){this._areafn_lightAll();i.push(this._area_svgMarkersGroup.selectAll("g.v-marker").selectAll(F));if(this._area_hasDefaultSelection){k.clearSelectionInfo(this._d3root,false,i)}}else{this._areafn_grayAll()}};X.prototype.highlight=function(d,Y){if(!T.isArray(d)){d=[d]}if(!Y){for(var i=0;i<d.length;i++){var Z=d[i];this._areafn_processOneAxisSelect(this._valueAxis1,Z)}}else{d3.selectAll(d).classed(y,false).classed(z,true).attr("stroke-opacity",1);D.nodesHighlight(d,{factor:0.7,constant:0},this._area_effectManager,Y);if(!this._props.marker.visible){for(var j=0;j<d.length;j++){d[j].setAttribute('opacity',1)}}}if(!Y&&this._props.marker.visible){this._area_svgMarkersGroup.selectAll("."+y).attr("fill-opacity",1).attr("stroke-opacity",1).classed(A,false)}if(this._area_hasDefaultSelection){k.clearSelectionInfo(this._d3root,true,d)}};X.prototype.unhighlight=function(d,j,Y){if(!T.isArray(d)){d=[d]}var i;if(!j&&!Y){this._area_selectedMarkerNum-=d.length;for(i=0;i<d.length;i++){var Z=d[i];this._areafn_processOneAxisDeselect(this._valueAxis1,Z,Y)}}else{D.nodesUnhighlight(d,j,Y);if(j){d3.selectAll(d).classed(y,true).classed(z,false)}else{d3.selectAll(d).classed(y,false).classed(z,false).classed(A,true);if(!this._props.marker.visible){for(i=0;i<d.length;i++){d[i].setAttribute('opacity',0)}}else{for(i=0;i<d.length;i++){d[i].setAttribute('stroke','#FFFFFF');d[i].setAttribute('stroke-width','1')}}}}if(this._area_hasDefaultSelection){k.clearSelectionInfo(this._d3root,false,d)}};X.prototype.setAxisGap=function(_){this._area_gapObj=_};X.prototype.globalDOMDestroy=function(_){var i=0;if(_){_.remove();for(i=0;i<_.length;i++){_[i]=null}_=null}};X.prototype.destroy=function(){var i=0;var j=0;if(this._area_tooltipData){for(i=0;i<this._area_tooltipData.length;i++){this._area_tooltipData[i]=null}this._area_tooltipData=null}if(this._valueAxis1){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis1.drawData){if(this._valueAxis1.drawData.accuVal){for(i=0;i<this._valueAxis1.drawData.accuVal.length;i++){this._valueAxis1.drawData.accuVal[i]=null}this._valueAxis1.drawData.accuVal=null}if(this._valueAxis1.drawData.bgAreaData){for(i=0;i<this._valueAxis1.drawData.bgAreaData.length;i++){for(j=0;j<this._valueAxis1.drawData.bgAreaData[i].length;j++){this._valueAxis1.drawData.bgAreaData[i][j]=null}this._valueAxis1.drawData.bgAreaData[i]=null}this._valueAxis1.drawData.bgAreaData=null}if(this._valueAxis1.drawData.data){for(i=0;i<this._valueAxis1.drawData.data.length;i++){for(j=0;j<this._valueAxis1.drawData.data[i].length;j++){this._valueAxis1.drawData.data[i][j]=null}this._valueAxis1.drawData.data[i]=null}this._valueAxis1.drawData.data=null}this._valueAxis1.drawData=null}if(this._valueAxis1.data){for(i=0;i<this._valueAxis1.data.length;i++){this._valueAxis1.data[i]=null}this._valueAxis1.data=null}if(this._valueAxis1.selectedMarkers){for(i=0;i<this._valueAxis1.selectedMarkers.length;i++){this._valueAxis1.selectedMarkers[i]=null}this._valueAxis1.selectedMarkers=null}if(this._valueAxis1.markers){for(i=0;i<this._valueAxis1.markers.length;i++){for(j=0;j<this._valueAxis1.markers[i].length;j++){if(this._valueAxis1.markers[i][j]&&this._valueAxis1.markers[i][j].remove){this._valueAxis1.markers[i][j].remove()}this._valueAxis1.markers[i][j]=null}this._valueAxis1.markers[i]=null}this._valueAxis1.markers=null}this._valueAxis1.areas=null;this._valueAxis1=null}if(this._d3root){this._d3root.selectAll(F).remove()}if(this._area_svgAreasGroup){this.globalDOMDestroy(this._area_svgAreasGroup);this._area_svgAreasGroup=null}if(this._area_svgAreaBgGroup){this.globalDOMDestroy(this._area_svgAreaBgGroup);this._area_svgAreaBgGroup=null}if(this._area_svgMarkersGroup){this.globalDOMDestroy(this._area_svgMarkersGroup);this._area_svgMarkersGroup=null}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._area_g){this.globalDOMDestroy(this._area_g);this._area_g=null}if(this._area_clipRect){this.globalDOMDestroy(this._area_clipRect);this._area_clipRect=null}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._area_effectManager&&this._area_effectManager.destroy){this._area_effectManager.destroy()}if(this._area_styleManager&&this._area_styleManager.destroy){this._area_styleManager.destroy()}this._area_areaShapeline=null;this._area_animation_clipRect=null;this._area_data=null;this._area_rawData=null;this._area_colorPalette=null;this._area_effectManager=null;this._area_gapObj=null;this._area_pinchEvent=null;this._area_pinchPoint=null;this._area_randomSuffix=null;this._area_styleManager=null;this._area_tooltipDataHandler=null;this._eDispatch=null;this._props=null};X.prototype._areafn_enableAnimation=function(){var d=false;if(this._area_isDataLoading){d=this._props.animation.dataLoading}else if(this._area_isDatasetChanged){d=this._props.animation.dataUpdating}else if(this._area_isSizeChanged){d=this._props.animation.resizing}return d&&!this._area_isPinching};X.prototype._areafn_createColorPalette=function(){this._area_colorPalette=[];var i=0,j=0;this._valueAxis1.colorPalette=this._props.colorPalette;for(i=0;i<this._valueAxis1.data.length;++i){this._area_colorPalette.push(this._valueAxis1.colorPalette[i%this._valueAxis1.colorPalette.length])}};X.prototype._areafn_renderChart=function(d,i){this._d3root=d;this._areafn_getCSSStyle();this._eDispatch.startToInit();if(!this._area_g){this._area_g=d.append("svg:g")}if(!this._area_svgMarkersGroup){this._datashapesgroup=this._area_g.append("svg:g").attr("class",Q);this._area_svgAreaBgGroup=this._datashapesgroup.append("svg:g").attr("class","v-areasbg");this._area_svgAreasGroup=this._datashapesgroup.append("svg:g").attr("class","v-areas");this._area_svgMarkersGroup=this._datashapesgroup.append("svg:g").attr("class","v-markers")}var j=this._valueAxis1.scale.range();var Y=Math.abs(j[0]-j[1]);this._area_selectedMarkerNum=0;this._areafn_lightAll();if(U.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._props.marker.number>=0){this._area_threshold=x(this._valueAxis1.data)>this._props.marker.number?true:false}this._areafn_processOneAxis(this._valueAxis1);this.applyFormatConditions(this._props.formatRules,this._area_svgMarkersGroup,this._area_data,this);var Z=this;if(this._areafn_enableAnimation()){var $;if(!this._area_animation_clipRect&&!this._area_isPinching){$=this._area_g.select("."+Q).append("svg:defs").append("svg:clipPath").attr("id","clip1_"+this._area_randomSuffix);this._area_animation_clipRect=$.append("rect")}if(this._props.orientation==="vertical"){this._area_animation_clipRect.attr("x",0).attr("y",0).attr("height",this._height).attr("width",0)}else{this._area_animation_clipRect.attr("x",0).attr("y",this._height).attr("height",0).attr("width",this._width)}this._area_svgAreaBgGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");this._area_svgMarkersGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");this._area_svgAreasGroup.attr("clip-path","url(#clip1_"+this._area_randomSuffix+")").attr("fill","none");if(this._props.orientation==="vertical"){this._area_animation_clipRect.attr("x",0).attr("y",0).attr("height",Z._height).attr("width",0).transition().duration(1000).attr("width",function(){return Z._width}).each("end",function(){if($){$.remove();Z._area_animation_clipRect=null}v(Z._eDispatch,i)})}else{this._area_animation_clipRect.attr("x",0).attr("y",Z._height).attr("height",0).attr("width",Z._width).transition().duration(1000).attr("height",function(){return Z._height}).attr("y",0).each("end",function(){if($){$.remove();Z._area_animation_clipRect=null}v(Z._eDispatch,i)})}}else{v(Z._eDispatch,i)}};X.prototype._areafn_computeScales=function(){if(!(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._area_data))){return}var d=[];var j=this._valueAxis1.data[0].length;for(var i=0;i<j;i++){d.push(i)}this._categoryScale.domain(d).rangeBands(this._props.orientation==="vertical"?[0,this._width]:[0,this._height]);t.call(this,this._valueAxis1)};X.prototype._areafn_changeOneArea=function(d,i,j,Y){if(!j.areas[d]){j.areas[d]=[]}if(!j.areas[d][i]&&Y==="visible"){var Z=this;j.areas[d][i]=Z._area_svgAreasGroup.append("svg:path").attr('class','v-areashape').attr("d",Z._area_areaShapeline(j.drawData.data[d][i])).attr("stroke",function(){var $={graphType:"line",fillColor:j.colorPalette[(j.drawData.data.length-d-1)%j.colorPalette.length]};return Z._area_effectManager.register($)}).attr("stroke-width",1).attr("fill",function(){var $={drawingEffect:Z._props.drawingEffect,graphType:"rectangle",direction:Z._props.orientation,fillColor:j.colorPalette[(j.drawData.data.length-d-1)%j.colorPalette.length]};return Z._area_effectManager.register($)})}if(j.areas[d][i]){j.areas[d][i].attr("visibility",Y)}};X.prototype._areafn_changeOneMarker=function(d,i,j,Y,Z){if(this._area_threshold){return}var $;if(j===y){var _=false;this._areafn_changeOneArea(d,i,Y,"visible");Y.selectedMarkers[d][i]=true;$=d3.select(Y.markers[d][i]);$.attr("class",L+' '+j);D.nodesHighlight($[0][0],{factor:0.7,constant:0},this._area_effectManager,_);if(!this._props.marker.visible){$.attr("opacity",1);$.attr("stroke-opacity",1)}}else{if(Y.selectedMarkers[d][i]&&!Z){this._areafn_changeOneArea(d,i,Y,"hidden");Y.selectedMarkers[d][i]=false}$=d3.select(Y.markers[d][i]);$.attr("class",L+' '+j);D.nodesUnhighlight($[0][0],false,Z);if(!this._props.marker.visible){$.attr('opacity',0)}else{$.attr('stroke','#FFFFFF');$.attr('stroke-width','1');$.attr('stroke-opacity',W)}}};X.prototype._areafn_getCategoryIndex=function(d){var i=d/this._categoryScale.rangeBand();i=Math.floor(i);var j=0;j=this._valueAxis1.data[0].length;if(i>j-1){i=j-1}if(i<0){i=0}return(this._props.orientation==="vertical"?i:j-1-i)};X.prototype._areafn_processOneAxisSelect=function(d,Y){this._area_svgAreaBgGroup.selectAll(".v-areabg").attr("opacity",W).attr("stroke-opacity",W);var Z=false,$,_;for(var i=0;i<d.markers.length&&!Z;i++){var a1=d.markers[i];for(var j=0;j<a1.length&&!Z;j++){if(a1[j]===Y){Z=true;$=i;_=j}}}if(!Z){return false}if(!d.selectedMarkers[$][_]){++this._area_selectedMarkerNum}this._areafn_changeOneMarker($,_,y,d)};X.prototype._areafn_processOneAxisDeselect=function(d,Y,Z){var $=false,_,yi;for(var i=0;i<d.markers.length&&!$;i++){var b1=d.markers[i];for(var j=0;j<b1.length&&!$;j++){if(b1[j]===Y){$=true;yi=i;_=j}}}if(!$){return false}this._areafn_changeOneMarker(yi,_,A,d,Z)};X.prototype._areafn_processOneAxis=function(j){if(!j.data||j.data.length===0){return}var Y=q.call(this,j);var Z;if(this._area_isPinching){Z=this._area_svgAreaBgGroup.selectAll("."+"v-areagroup")}else{Z=this._area_svgAreaBgGroup.selectAll("."+"v-areagroup").data(Y.bgAreaData);Z.enter().append("svg:g").attr("class","v-areagroup");Z.exit().remove()}var $=this;var _=($._props.orientation==="vertical"?d3.svg.line().x(function(d,i){return $._categoryScale(d.x)+$._categoryScale.rangeBand()/2}).y(function(d){return j.scale(d.y)}):d3.svg.line().y(function(d,i){return $._categoryScale(d.x)+$._categoryScale.rangeBand()/2}).x(function(d){return j.scale(d.y)}));Z.each(function(d,i){var e1;if($._area_isPinching){e1=d3.select(this).selectAll(K)}else{e1=d3.select(this).selectAll(K).data(d);e1.enter().append("svg:path");e1.each(function(){this.setAttribute('stroke-linejoin','round');this.setAttribute('class',P);this.setAttribute('stroke-opacity',1)});e1.exit().remove()}var f1=j.colorPalette[(Y.bgAreaData.length-i-1)%j.colorPalette.length];var g1={graphType:"line",fillColor:f1};var h1=$._area_effectManager.register(g1);g1={drawingEffect:$._props.drawingEffect,graphType:"rectangle",direction:$._props.orientation,fillColor:f1};var i1=$._area_effectManager.register(g1);e1.each(function(j1,k1){d3.select(this).attr("d",_(j1)).attr("stroke",h1).attr("stroke-width",1).attr("fill",i1)})});this._area_areaShapeline=($._props.orientation==="vertical"?d3.svg.line().x(function(d,i){return(d.x+0.5)*$._categoryScale.rangeBand()}).y(function(d){return j.scale(d.y)}):d3.svg.line().y(function(d,i){return(d.x+0.5)*$._categoryScale.rangeBand()}).x(function(d){return j.scale(d.y)}));j.areas=[];this._area_svgAreasGroup.selectAll(".v-areashape").remove();j.selectedMarkers=new Array(j.data.length);j.markers=[];for(var a1=0;a1<j.data.length;++a1){j.selectedMarkers[a1]=[];for(var b1=0;b1<j.data[0].length;++b1){j.selectedMarkers[a1][b1]=false}}if(this._area_threshold){if(this._area_svgMarkersGroup.selectAll("g.v-marker")[0].length){this._area_svgMarkersGroup.selectAll("g.v-marker").remove()}return}var c1;if(this._area_isPinching){c1=this._area_svgMarkersGroup.selectAll("g.v-marker")}else{c1=this._area_svgMarkersGroup.selectAll("g.v-marker").data(j.data);c1.enter().append("svg:g").attr("class","v-marker");c1.exit().remove()}var d1="hidden";if(this._props&&this._props.marker&&this._props.marker.visible){d1="visible"}c1.attr("transform",function(d,i){var e1;var f1;if($._area_isPinching){e1=d3.select(this).selectAll(".v-datashape");f1=e1.select('g').select('path')}else{e1=d3.select(this).selectAll(".v-datashape").data(j.data[j.data.length-i-1]);f1=e1.enter().append('g').attr('class','v-datashape').append('path')}var g1;if($._props.drawingEffect!=="glossy"){g1=$._area_effectManager.register({fillColor:j.colorPalette[(Y.bgAreaData.length-i-1)%j.colorPalette.length]})}if(!$._area_isPinching){e1.exit().remove()}var h1=[];var i1={drawingEffect:$._props.drawingEffect,graphType:$._props.marker.shape,fillId:g1,fillColor:j.colorPalette[(Y.bgAreaData.length-i-1)%j.colorPalette.length],direction:'vertical',rx:$._props.marker.size/2,ry:$._props.marker.size/2,borderWidth:1,borderColor:$._props.style.marker.stroke,node:null,visibility:d1,className:L+" "+A};e1.attr("transform",function(j1,k1){if(N.isNoValue(j1.val)){d3.select(this).remove();h1.push(null);return}h1.push(d3.select(this).selectAll('path').node());i1.node=d3.select(this).select('path');D.drawGraph(i1,$._area_effectManager);if($._props.orientation==="vertical"){return"translate("+($._categoryScale(k1)+$._categoryScale.rangeBand()/2)+","+j.scale(Y.accuVal[i][k1])+")"}else{return"translate("+j.scale(Y.accuVal[i][k1])+","+($._categoryScale(k1)+$._categoryScale.rangeBand()/2)+")"}});j.markers.push(h1)})};X.prototype._areafn_processOneAxisDeselectAll=function(d,i){if(!d.selectedMarkers||d.selectedMarkers.length===0){return}for(var j=0;j<d.selectedMarkers.length;++j){for(var Y=0;Y<d.selectedMarkers[0].length;++Y){if(!d.selectedMarkers[j][Y]){continue}(d.areas[j][Y]).attr("visibility","hidden");(d.markers[j][Y]).setAttribute("class",L+" "+A);D.nodesUnhighlight(d.markers[j][Y],false,true);d.selectedMarkers[j][Y]=false}}};X.prototype._areafn_deselectedAllHandler=function(){var d=u();var i=this._props.orientation==="vertical"?(d?d.clientX:0)-this._area_g.node().getBoundingClientRect().left:(d?d.clientY:0)-this._area_g.node().getBoundingClientRect().top;var j=this._areafn_getCategoryIndex(i);this._area_selectedMarkerNum=0;this._areafn_processOneAxisDeselectAll(this._valueAxis1,j);if(this._props.marker.visible){this._area_svgMarkersGroup.selectAll('.'+A).attr("fill-opacity",1).attr("stroke","#FFFFFF")}else{this._area_svgMarkersGroup.selectAll('.'+A).attr("fill-opacity",0)}};X.prototype._areafn_lightAll=function(){this._area_svgAreaBgGroup.selectAll(K).attr("opacity",1).attr("stroke-opacity",1);this._area_svgAreasGroup.selectAll(".v-areashape").attr("visibility","hidden");var d;if(this._props.marker.visible===true){d=1}else{d=0}this._area_svgMarkersGroup.selectAll('.'+A).attr("fill-opacity",d).attr("stroke-opacity",d).attr("class",L+" "+A)};X.prototype._areafn_grayAll=function(){this._area_svgAreaBgGroup.selectAll(K).attr("opacity",W).attr("stroke-opacity",W);this._area_svgAreasGroup.selectAll(".v-areashape").attr("visibility","hidden");var d;if(this._props.marker.visible===true){d=W}else{d=0}this._area_svgMarkersGroup.selectAll('.'+A).attr("fill-opacity",d).attr("stroke-opacity",d).attr("class",L+" "+A,true)};X.prototype._areafn_getCSSStyle=function(){if(!this._props.style){this._props.style={}}if(!this._props.style.marker){this._props.style.marker={}}this._props.style.marker.stroke="#FFFFFF"};X.prototype._areafn_resetDataRange=function(){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null};X.prototype.getDataOfDataPoint=function(d){var i={};if(d&&d.__data__){i=this._area_rawData.ctx2ArrayData(d.__data__.ctx);if(i.measure){for(var j in i.measure){if(d.__data__.val){i.measure[j].value=d.__data__.val;break}}}i.context=d.__data__.ctx}return i};return X});define('sap/viz/feeds/XY',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var a={'id':'regionColor','name':'IDS_REGIONCOLOR','type':c.Type.Dimension,'min':0,'max':2,'aaIndex':2,'acceptMND':1};var v={'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':1,'max':c.Constraints.INF,'mgIndex':1};var b={'id':'secondaryValues','name':'IDS_SECONDARYVALUES','type':c.Type.Measure,'min':0,'max':c.Constraints.INF,'mgIndex':2};var d={'id':'axisLabels','name':'IDS_AXISLABELS','type':c.Type.Dimension,'min':1,'max':2,'acceptMND':0,'aaIndex':1};var f={id:"xy",feeds:[a,d,v,b]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/xy/Base',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/feeds/XY'],function Setup(M,C,X){var m={'id':'sap.viz.modules.xy.base','abstract':true,'type':C.Type.Chart,'name':'xy base module','datastructure':'DATA STRUCTURE DOC','properties':{'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['horizontal','vertical'],'defaultValue':'vertical','description':'Set the orientation of the plot area.','isExported':false},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color palette for the chart. This is not supported for dual axis charts that have measureNamesDimension bound to the legend.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'primaryValuesColorPalette':{'name':'primaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorDualAxis1,'description':'Set the color palette for axis 1 in dual charts.','isExported':true},'secondaryValuesColorPalette':{'name':'secondaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorDualAxis2,'description':'Set the color palette for axis 2 in dual chart.','isExported':true},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':"Set the drawing effect for the plot area. If this value is set to 'glossy', the plot area is glossy. If this value is set to 'normal', the plot area is matte.",'isExported':true},},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"xy"},'css':null,'configure':null};var a={viz:[],module:[m],feeds:[].concat(X.feeds)};return a});define('sap/viz/modules/manifests/xy/Area',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/area','sap/viz/modules/manifests/xy/Base'],function Setup(M,C,U,f,B){var m={'id':'sap.viz.modules.area','name':'area',base:'sap.viz.modules.xy.base','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for the tooltip'},'mode':{'name':'mode','supportedValueType':'String','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set the display mode of the area chart','isExported':false},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['vertical','horizontal'],'defaultValue':'vertical','description':'Set whether the area chart is vertical or horizontal','isExported':false},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'marker':{'name':'marker','description':'Settings for marker and data point graphics','supportedValueType':'Object','isExported':false,'supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the markers','isExported':false},'shape':{'name':'shape','supportedValueType':'String','supportedValues':['circle','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'defaultValue':'circle','description':'Set the shape of the markers'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"8",'min':'4','max':'32','description':"Set the marker size for data points, ranging from '4' and '32'. If you enter a value outside that range, the marker size defaults to '4'."},'number':{'name':'number','isExported':U.isMobile()?true:false,'supportedValueType':'Int','defaultValue':Number.POSITIVE_INFINITY,'description':'Set the number to enable events for markers when they are invisible. '+'If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. '+'The default value is Number.POSITIVE_INFINITY, which is the largest possible value.'}}},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for the hoverline.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the hoverline.'}},'isExported':false}},'css':{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/title',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/lang/langManager','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector'],function Setup(o,B,T,l,O,b,U){var a=function(m,c){this._ttl_width=0;this._ttl_height=0;this._ttl_titleStyle=null;this._ttl_options=m.props(null);this._ttl_size={width:500,height:100},this._ttl_titleText='';this._ttl_ctx=c;this._ttl_elem_title=null};o.extend(a,B);a.prototype.render=function(s){if(this._ttl_options.visible){b.drawBound(s,this._ttl_width,this._ttl_height);this._ttlfn_updateTitleStyle();var w=s.selectAll('text.v-title').data([this._ttl_titleText]);w.exit().remove();w.enter().append('text').attr('class','v-title viz-title-label').attr('text-rendering','geometricPrecision');this._ttl_elem_title=w;this._ttl_ctx.styleManager.queryDefault('v-title').toAttrs(w);var t=this;w.attr('text-anchor',function(){if(t._ttl_options.alignment==='right'){return'end'}else if(t._ttl_options.alignment==='left'){return'start'}else{return'middle'}}).attr('x',function(){if(t._ttl_options.alignment==='right'){return t._ttl_width}else if(t._ttl_options.alignment==='left'){return 0}else{return t._ttl_width/2}}).attr('y',this._ttl_height/2).attr('dominant-baseline','central');if(U.isIE()){w.attr('y',this._ttl_height).attr('dominant-baseline','auto')}T.ellipsis(this._ttl_titleText,w.node(),this._ttl_width,this._ttl_titleStyle.toString())}else{s.selectAll('text.v-title').remove()}};a.prototype.width=function(v){if(!arguments.length){return this._ttl_width}this._ttl_width=v;return this};a.prototype.height=function(v){if(!arguments.length){return this._ttl_height}this._ttl_height=v;return this};a.prototype.size=function(v){if(!arguments.length){return this._ttl_size}this._ttl_size=v;return this};a.prototype.destroy=function(){if(this._ttl_ctx){this._ttl_ctx.destroy();this._ttl_ctx=null}};a.prototype.properties=function(p){if(!arguments.length){return this._ttl_options}O.extend(true,this._ttl_options,p);if(this._ttl_options.text===''||this._ttl_options.text===null){this._ttl_titleText=l.get('IDS_DEFAULTCHARTTITLE')}else{this._ttl_titleText=this._ttl_options.text}return this};a.prototype.getPreferredSize=function(){if(this._ttl_options.visible){this._ttlfn_updateTitleStyle();var t=T.fastMeasure(this._ttl_titleText,this._ttl_titleStyle['font-size'],this._ttl_titleStyle['font-weight'],this._ttl_titleStyle['font-family']);var m=T.fastMeasure('M...',this._ttl_titleStyle['font-size'],this._ttl_titleStyle['font-weight'],this._ttl_titleStyle['font-family']);return{hideOversize:true,maxSizeConstant:1/3,'width':t.width,'height':t.height,minWidth:m.width,minHeight:m.height,maxWidth:t.width,maxHeight:t.height}}return{maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,'width':0,'height':0}};a.prototype.getPropertyZone=function(){var r=[],c,d;if(this._ttl_options.visible){c=this._ttl_elem_title.node().getBoundingClientRect();d=[[]];d[0].push([c.left,c.top]);d[0].push([c.right,c.top]);d[0].push([c.right,c.bottom]);d[0].push([c.left,c.bottom]);r.push({"name":'title',"bound":d})}return r};a.prototype._ttlfn_updateTitleStyle=function(){this._ttl_titleStyle=this._ttl_ctx.styleManager.query('v-title')};return a});define('sap/viz/modules/manifests/Title',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/title'],function Setup(M,C,f){var m={'id':'sap.viz.modules.title','type':C.Type.Supplementary,'name':'title','description':"Settings for the main title",'properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the main title'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set the text of the main title'},'alignment':{'name':'alignment','supportedValueType':'String','supportedValues':['left','center','right'],'defaultValue':'center','description':'Set the alignment of the main title'},'layout':{'name':'layout','supportedValueType':'Object','supportedValues':{'position':{'name':'position','supportedValueType':'String','defaultValue':'right','description':'Set the position of the title',},'priority':{'name':'priority','supportedValueType':'Int','defaultValue':0,'description':'Set the priority of the position for the title','isExported':false},},'description':'Settings for layout of title','isExported':false},},'css':{'.viz-title-label.v-title':{'description':'Define the style for the title label','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'bold','fill':'#333333'}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/layout/stack',[],function Setup(){function s(a,b){return a.order-b.order}function c(x){return x.size()}function e(x){return x.order}var _=function(){var a=s,b=c,o=e,g=-1,p='right',f=0,w=0,h=0;function j(){var l=arguments[0].slice().sort(s),m=arguments[1],r={},n=false,q=k(l);var t=0,u,v=q.availableSize,x=q.referenceSize,y=q.referenceMinSizes,z=q.maxSizes,A=q.minSizes,B={width:0,height:0},C,D;if(d3.sum(z)<=v){n=true}l.forEach(function(d,i){var E={x:0,y:0};C=z[i];D=A[i];if(i>0){t=t+f}if(p==='top'||p==='bottom'){E.x=t}else{E.y=t}if(n&&y[i]<x){t=t+C;u=C}else{if(v<D||y[i]>x){d.module.width(0).height(0);return E}else if(v>C){t=t+C;u=C;v=v-C}else{t=t+v;u=v;v=0}}if(p==='top'||p==='bottom'){d.module.height(h).width(u);B.width=u+B.width;B.height=h}else{d.module.width(w).height(u);B.height=u+B.height;B.width=w}r[d.module.alias]=E});return r}j.sort=function(x){if(!arguments.length){return a}a=x;return j};j.size=function(x){if(!arguments.length){return b}b=x;return j};j.gravity=function(x){if(!arguments.length){return g}g=x;return j};j.order=function(x){if(!arguments.length){return o}o=x;return j};j.width=function(x){if(!arguments.length){return w}w=x;return j};j.height=function(x){if(!arguments.length){return h}h=x;return j};j.position=function(_){if(!arguments.length){return p}p=_;return j};j.spacing=function(_){if(!arguments.length){return f}f=_;return j};j.data=function(){return j};j.properties=function(){return j};var k=function(i){var l,r,m=[],n=[],q,t=[];if(p==='top'||p==='bottom'){l=w;r=h;i.forEach(function(d){q=b(d);m.push(q.maxWidth);n.push(q.minWidth);t.push(q.minHeight)})}else{l=h;i.forEach(function(d){q=b(d);m.push(q.maxHeight);n.push(q.minHeight);t.push(q.minWidth)})}return{'availableSize':l,'referenceSize':r,'maxSizes':m,'minSizes':n,'referenceMinSizes':t}};return j};return _});define('sap/viz/modules/legend',['jquery','sap/viz/modules/Constants','sap/viz/modules/manifests/Module','sap/viz/util/ignite','sap/viz/util/append','sap/viz/base/utils/Objects','sap/viz/modules/dispatch','sap/viz/modules/layout/stack'],function Setup($,r,c,e,f,o,g,s){var _=function(m,h){var w=0,j=0,k=0,l=0,p={},n=m.props(null),q={},t={},u=null,v={},y={},z=g('relayout','initialized'),A={},B=false;var P='legendGroup',S=0;function C(q,a,b){var v={};$.each(b.modules,function(d,i){if(i===null){return}var x=i.data?q.createDataAdapterForModule(i.data):q,G=c.get(i.id).type;v[d]=e(i.id,h,'v-m-'+d);v[d].alias=d;if(d!=='layout'){y[d]=f.apply(u,['g',{'class':'v-m-'+d}])}if(G!==r.Type.Container){v[d].data(x).properties(F(a[P],o.extend(true,{},i.configure?i.configure.properties:{},i.configure?a[i.configure.propertyCategory]:{})));if(v[d].parent){v[d].parent(y[d])}}});B=true;return v}function D(){var i=v.layout,x=[],G=p.legendGroup?p.legendGroup.layout:m.props().layout,H='left',I={};i.width(w).height(j).gravity(-1).spacing(S).position(G.position).size(function(d){return d.module.getPreferredSize()}).sort(function(a,b){return a.order-b.order});$.each(t.modules,function(a,b){if(b===null){return}if(!b.configure||!b.configure.properties||!b.configure.properties.layout){return}if(b.configure.properties.layout){x.push({module:v[a],order:b.configure.properties.layout.order})}});I=i(x,H);$.each(I,function(a,b){y[a].attr('transform','translate('+b.x+','+b.y+')')})}function E(a){a.each(function(d){D();$.each(v,function(b,i){if(b!=='layout'){y[b].call(i)}})});z.initialized()}E.width=function(x){if(!arguments.length){return w}w=x;for(var a in v){if(v.hasOwnProperty(a)){v[a].width(x)}}return E};E.height=function(x){if(!arguments.length){return j}j=x;for(var a in v){if(v.hasOwnProperty(a)){v[a].height(x)}}return E};E.size=function(x){if(!arguments.length){return{width:w,height:j}}w=x.width;j=x.height;return E};E.properties=function(x){if(!arguments.length){return n}p=$.extend(true,{},p,x);if(p[P]){o.extend(true,n,p[P])}$.each(v,function(a,b){if(t.modules[a].configure){b.properties(F(p[P],p[t.modules[a].configure.propertyCategory]))}});if(!$.isEmptyObject(t)&&!$.isEmptyObject(q)&&!B){v=C(q,p,t)}return E};E.config=function(x){if(!arguments.length){return t}t=x;if(!$.isEmptyObject(p)&&!$.isEmptyObject(q)&&!B){v=C(q,p,t)}return E};E.dispatch=function(x){if(!arguments.length){return z}z=x;return E};E.data=function(x){if(!arguments.length){return q}q=x;$.each(v,function(a,b){if(t.modules[a].data){b.data(q.createDataAdapterForModule(t.modules[a].data))}else{b.data(q)}});if(!$.isEmptyObject(t)&&!$.isEmptyObject(p)&&!B){v=C(q,p,t)}return E};E.parent=function(x){if(!arguments.length){return u}u=x;return E};E.recharge=function(x){if(!arguments.length){return A}A=x;return E};E.modules=function(x){if(!arguments.length){return v}v=x;return E};E.maxHeight=function(x){if(!arguments.length){return l}l=x;return E};E.maxWidth=function(x){if(!arguments.length){return k}k=x;return E};E.getPreferredSize=function(){var a=[],b=[],d=[],x=[];$.each(v,function(K,L){if(K==='layout'){return}var M=L.getPreferredSize();a.push(M.minWidth);d.push(M.minHeight);b.push(M.maxWidth);x.push(M.maxHeight)});var G={width:d3.min(a),height:d3.min(d)},H={width:d3.max(b),height:d3.max(x)};var I=p.legendGroup?p.legendGroup.layout:m.props().layout,J,i=0;J=I.position;if(J==='top'||J==='bottom'){for(i=0;i<d.length;i++){if(d[i]>l){H.height=d3.min(x)}}}else{for(i=0;i<a.length;i++){if(a[i]>k){H.width=d3.min(b)}}}return{minWidth:G.width,maxWidth:H.width,minHeight:G.height,maxHeight:H.height}};E.destroy=function(){y=null;u=null;q=null;z.on('relayout',null);z.on('initialized',null);if(h){h.destroy();h=null}};var F=function(a,b){if(a&&a.layout&&a.layout.position){if(b===undefined){b={}}b.position=a.layout.position}return b};return E};return _});define('sap/viz/modules/manifests/Legend',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/legend'],function Setup(M,C,f){var m={id:'sap.viz.modules.legend',type:C.Type.Container,name:'legend',description:'Settings for the legend area',properties:{'layout':{'name':'layout','supportedValueType':'Object','supportedValues':{'position':{'name':'position','supportedValueType':'String','supportedValues':['top','bottom','right','left'],'defaultValue':'right','description':'Set the position of the legend area','example':"<a href='"+C.DocExample.SnippetUrl+"4945' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'priority':{'name':'priority','supportedValueType':'Int','defaultValue':1,'description':'Set the priority of the position for the legend area','isExported':false},},'description':'Settings for the layout of the legend area'},},css:{},configure:null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/layout',['sap/viz/base/utils/TypeUtils'],function Setup(T){var _=function(s){var a=true;if(s.hideAxisTitleFirst===false){a=false}var d={resize:true,type:'grid',padding:[0,0,0,0],hgap:0,vgap:0};var b=s.hgap||d.hgap,v=s.vgap||d.vgap,p=s.padding||d.padding,c=s.bias||'none';var l;function e(h){var s=h.specs;var j=h.size;var m={};for(var k in s){if(s.hasOwnProperty(k)){m[s[k].info]={size:s[k].preferSize,key:k}}}f(m);var r={};for(var i in l){if(l.hasOwnProperty(i)){r[m[i].key]=l[i]}}l=r}function f(o){l={};var k={},m=true;k.width=s.size.width-p[1]-p[3];k.height=s.size.height-p[0]-p[2];var n=p[3],q=p[0],r=s.size.width-p[1],u=s.size.height-p[2];var y=new Array(5);var i;if(c instanceof Array){y[0]=c[0];y[1]=c[1];y[2]='north';y[3]='south'}else{switch(c){case'west':y[0]='west';y[1]='north';y[2]='south';y[3]='east';break;case'east':y[0]='east';y[1]='north';y[2]='south';y[3]='west';break;default:y[0]='south';y[1]='north';y[3]='east';y[2]='west'}}y[4]='center';function z(A){function B(K,L){if(arguments.length<3){return 0}var M=Array.prototype.slice.apply(arguments).slice(2);var N=[];var i;for(i=0;i<M.length;i++){if(M[i].length>1){if(a){N[i]=M[i].slice(1);N[i].push(M[i][0])}else{N[i]=M[i].slice(0)}}}var O=0;var P=0;var j,Q=N[0].length;for(i=1;i<N.length;++i){if(Q<N[i].length){Q=N[i].length}}for(i=0;i<Q;i++){for(j=0;j<N.length;j++){if(N[j][i]!==undefined){P+=N[j][i]}}if(P>K){if(a){if(i===1&&L>0){if(N.length>1&&L+N[1][1]+N[1][0]+N[0][0]<=K){return K-N[1][1]}if(N.length===1&&L+N[0][0]<=K){return K}}}else{if(i===2&&L>0){if(N.length>1&&L+N[1][2]+N[1][1]+N[1][0]+N[0][0]+N[0][1]<=K){return K-N[1][2]-N[1][1]-N[1][0]}if(N.length===1&&L+N[0][0]+N[0][1]<=K){return K}}}return O}O+=N[0][i]}return O}var C={},D={};var E,F,G,H,I,J;if(A==='north'&&o.north){C=l.north={};D=o.north.size;E=D.height;F=E;if(m){if(D.spacings&&o.south&&o.south.size.spacings){F+=o.south.size.height}if(D.maxSizeConstant!=null&&F>k.height*D.maxSizeConstant){if(D.hideOversize){E=0}else if(D.spacings){if(o.south&&o.south.size.spacings){if(l.south===null&&a){E=0}else if(D.minTruncateSize===0){I=k.height*D.maxSizeConstant;if(l.south){I-=l.south.bounds.height}E=B(I,D.minTruncateSize,D.spacings)}else{E=B(k.height*D.maxSizeConstant,D.minTruncateSize,D.spacings,o.south.size.spacings)}}else{E=B(k.height*D.maxSizeConstant,D.minTruncateSize,D.spacings)}}else{E=k.height*D.maxSizeConstant}}}C.bounds={x:n,y:q,width:r-n,height:E};q+=(C.bounds.height+b);if(C.bounds.height===0){l.north=null}}if(A==='east'&&o.east){C=l.east={};D=o.east.size;G=D.width;H=G;var x=0;if(m){if(D.spacings&&o.west&&o.west.size.spacings){H+=o.west.size.width}if(D.maxSizeConstant!=null&&H>k.width*D.maxSizeConstant){if(D.hideOversize){G=0}else if(D.spacings){if(o.west&&o.west.size.spacings){if(l.west===null&&a){G=0}else if(D.minTruncateSize===0){J=k.width*D.maxSizeConstant;if(l.west){J-=l.west.bounds.width}G=B(J,D.minTruncateSize,D.spacings)}else{G=B(k.width*D.maxSizeConstant,D.minTruncateSize,D.spacings,o.west.size.spacings)}}else{G=B(k.width*D.maxSizeConstant,D.minTruncateSize,D.spacings)}}else{G=k.width*D.maxSizeConstant}}if(G<D.minWidth){G=0}x=r-G}else{x=l.west.bounds.width+l.south.bounds.width}C.bounds={x:x,y:q,width:G,height:u-q};if(C.bounds.height<D.minHeight){C.bounds.width=0}r-=(C.bounds.width+v);if(C.bounds.width===0){l.east=null}}if(A==='south'&&o.south){C=l.south={};D=o.south.size;m=!D.manual;E=D.height,G=0;F=E;if(m){if(D.spacings&&o.north&&o.north.size.spacings){F+=o.north.size.height}if(D.maxSizeConstant!=null&&F>k.height*D.maxSizeConstant){if(D.hideOversize){E=0}else if(D.spacings){if(o.north&&o.north.size.spacings){if(l.north===null){E=0}else if(D.minTruncateSize===0){I=k.height*D.maxSizeConstant;if(l.north){I-=l.north.bounds.height}E=B(I,D.minTruncateSize,D.spacings)}else{E=B(k.height*D.maxSizeConstant,D.minTruncateSize,D.spacings,o.north.size.spacings)}}else{E=B(k.height*D.maxSizeConstant,D.minTruncateSize,D.spacings)}}else{E=k.height*D.maxSizeConstant}}G=r-n}else{G=D.width>k.width?k.width:D.width;if(E>k.height){E=k.height}}C.bounds={x:n,y:(u-E)<q?q:(u-E),width:G};C.bounds.height=E;u-=(C.bounds.height+b);if(C.bounds.height===0){l.south=null}}if(A==='west'&&o.west){C=l.west={};D=o.west.size;G=D.width;H=G;if(m){if(D.spacings&&o.east&&o.east.size.spacings){H+=o.east.size.width}if(D.maxSizeConstant!=null&&H>k.width*D.maxSizeConstant){if(D.hideOversize){G=0}else if(D.spacings){if(o.east&&o.east.size.spacings){if(l.east===null){G=0}else if(D.minTruncateSize===0){J=k.width*D.maxSizeConstant;if(l.east){J-=l.east.bounds.width}G=B(J,D.minTruncateSize,D.spacings)}else{G=B(k.width*D.maxSizeConstant,D.minTruncateSize,D.spacings,o.east.size.spacings)}}else{G=B(k.width*D.maxSizeConstant,D.minTruncateSize,D.spacings)}}else{G=k.width*D.maxSizeConstant}}}C.bounds={x:n,y:q,width:G,height:(q+D.height)>u?u:(q+D.height)};n+=(C.bounds.width+v);if(C.bounds.width===0){l.west=null}}if(A==='center'&&o.center){C=l.center={};var w=!m&&l.south?l.south.bounds.width:r-n,h=u-q;C.bounds={x:n,y:q,width:w,height:h}}}for(i=0;i<y.length;i++){z(y[i])}}function g(o){}function t(o){l=[];var h=T.isExist(s.columns)?s.columns:3;var r=T.isExist(s.rows)?s.rows:2;var i=T.isExist(s.cellpadding)?s.cellpadding:5;var j=T.isExist(s.paddingThreshold)?s.paddingThreshold:0.1;var k={};k.width=s.size.width-p[1]-p[3];k.height=s.size.height-p[0]-p[2];var m=k.width/h;var n=k.height/r;if(i>m*j||i>n*j){i=2}var q=(k.width-2*h*i)/h;q=q>0?q:0;var u=(k.height-2*r*i)/r;u=u>0?u:0;var w=p[3],x=p[0],y=s.size.width-p[1],z=s.size.height-p[2];for(var A=0;A<h;A++){var B=[];for(var C=0;C<r;C++){var D={};D.bounds={x:A*m+m/2-q/2,y:C*n+n/2-u/2,width:q,height:u};B.push(D)}l.push(B)}}switch(s.type){case'border':f(s.prefs);break;case'grid':g(s.prefs);break;case'table':t();break;case'border2':e(s);break;default:g(s.prefs)}return l};return _});define('sap/viz/modules/xycontainer',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/Constants','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout','sap/viz/manifest','sap/viz/util/ignite','sap/viz/data/handler/SingleChartDataHandler','sap/viz/modules/dispatch','sap/viz/modules/util/BoundUtil','sap/viz/base/utils/log/Analyzer'],function Setup(o,B,C,T,O,F,l,M,a,S,d,b,A){var X=function(m,c){this._xyc_width=0;this._xyc_height=0;this._xyc_properties={};this._xyc_data={};this._xyc_config={};this._xyc_modules={};this._xyc_selections={};this._xyc_parent=null;this._xyc_ctx=c;this._xyc_eDispatch=new d('initialized','showTooltip','hideTooltip');this._xyc_initializedModules=0;this._xyc_innerProperties=m.props(null);this._xyc_initializedCount=0;this._xyc_needRelayout=true;this._xyc_dataCache=null};o.extend(X,B);X.prototype.render=function(s){this._xyc_relayout();this._xyc_initializedCount=0;b.drawBound(s,this._xyc_width,this._xyc_height);this._xyc_parent=s;if(T.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}this._xyc_renderSub()};X.prototype._xyc_relayout=function(){this._xyc_needRelayout=false;var m=this._xyc_modules;var w=this._xyc_width;var h=this._xyc_height;var s=this._xyc_selections;if(T.isEmptyObject(m)||!w||!h){return}w=w<0?0:w;h=h<0?0:h;var p={};if(m.plot){p.center={};if(m.plot.size){m.plot.size({width:w,height:h})}else{m.plot.width(w).height(h)}}var c=-1,e=-1,f=true;var L;for(L=0;L<=2;L++){if(m.xAxis){m.xAxis.drawable(true);m.yAxis.otherAxisHidden(false);p.south={size:m.xAxis.getPreferredSize()};if(p.south.manual){f=false}}if(m.yAxis){m.yAxis.drawable(true);if(m.xAxis){m.xAxis.otherAxisHidden(false)}p.west={size:m.yAxis.getPreferredSize()}}if(m.xAxis2){m.xAxis2.drawable(true);p.north={size:m.xAxis2.getPreferredSize()}}if(m.yAxis2){m.yAxis2.drawable(true);p.east={size:m.yAxis2.getPreferredSize()}}var g=true;if(this._xyc_properties.general&&this._xyc_properties.general.layout&&this._xyc_properties.general.layout.hideAxisTitleFirst!==undefined&&this._xyc_properties.general.layout.hideAxisTitleFirst!==null){g=this._xyc_properties.general.layout.hideAxisTitleFirst}var i=l({type:'border',bias:'none',size:{width:w,height:h},prefs:p,hideAxisTitleFirst:g});var r=0;var j=0;var k=0;var n=0;var q=0;var t=0;if(!i.west){if(m.xAxis&&i.south){q=m.xAxis.startPadding()}if(m.xAxis2&&i.north){t=m.xAxis2.startPadding()}n=q>t?q:t}if(!i.east){if(m.xAxis&&i.south){j=m.xAxis.endPadding()}if(m.xAxis2&&i.north){k=m.xAxis2.endPadding()}r=j>k?j:k}var u=0;var v=0;var x=0;if(!i.south){if(m.yAxis&&i.west){v=m.yAxis.startPadding()}if(m.yAxis2&&i.east){x=m.yAxis2.startPadding()}u=v>x?v:x}var y=0,z=0;if(!i.north){var D=0,E=0;if(m.yAxis&&i.west){D=m.yAxis.endPadding()}if(m.yAxis2&&i.east){E=m.yAxis2.endPadding()}y=E;if(D>E){y=D}z+=y}if(z){if(i.east){i.east.bounds.y+=z}if(i.north){i.north.bounds.y+=z}if(i.west){i.west.bounds.y+=z}if(i.center){i.center.bounds.y+=z}}if(n){if(i.north){i.north.bounds.x+=n}if(i.south){i.south.bounds.x+=n}if(i.west){i.west.bounds.x+=n}if(i.center){i.center.bounds.x+=n}}if(i.east){var G=i.east.bounds.height,H=0;if(i.south){if(!f){G=i.east.bounds.height-i.south.bounds.height}}if(i.north){if(!f){G=i.east.bounds.height-i.north.bounds.height}}H=i.east.bounds.y;s.yAxis2.attr('transform','translate('+i.east.bounds.x+','+H+')');m.yAxis2.width(i.east.bounds.width).height(G);m.yAxis2.gridlineLength(i.center.bounds.width)}else if(m.yAxis2){m.yAxis2.drawable(false)}if(i.north){var I=i.north.bounds.width,J=0;if(i.west){J=i.north.bounds.x+i.west.bounds.width;I=i.north.bounds.width-i.west.bounds.width}else{J=n}s.xAxis2.attr('transform','translate('+J+','+i.north.bounds.y+')');m.xAxis2.width(I).height(i.north.bounds.height);m.xAxis2.gridlineLength(i.center.bounds.height)}else if(m.xAxis2){m.xAxis2.drawable(false)}if(i.west){var K=i.west.bounds.height,N=0;if(i.south){if(!f){K=i.west.bounds.height-i.south.bounds.height}}if(i.north){if(!f){K=i.west.bounds.height-i.north.bounds.height}}N=i.west.bounds.y;s.yAxis.attr('transform','translate('+i.west.bounds.x+','+N+')');m.yAxis.width(i.west.bounds.width).height(K);m.yAxis.gridlineLength(i.center.bounds.width)}else if(m.yAxis){m.yAxis.drawable(false);if(m.xAxis){m.xAxis.otherAxisHidden(true)}}if(i.south){var P=0,Q=0;if(i.west){Q=i.south.bounds.x+i.west.bounds.width}else{Q=n}s.xAxis.attr('transform','translate('+Q+','+i.south.bounds.y+')');m.xAxis.width(i.south.bounds.width).height(i.south.bounds.height);m.xAxis.gridlineLength(i.center.bounds.height)}else if(m.xAxis){m.xAxis.drawable(false);m.yAxis.otherAxisHidden(true)}if(i.center){s.plot.attr('transform','translate('+i.center.bounds.x+','+i.center.bounds.y+')');var R=i.center.bounds.width-r-n;var U=i.center.bounds.height-y-u;if(m.plot.size){m.plot.size({width:(R>0?R:0),height:(U>0?U:0)})}else{m.plot.width(R>0?R:0).height(U>0?U:0)}if(s.background){s.background.attr('transform','translate('+i.center.bounds.x+','+i.center.bounds.y+')');m.background.width(R>0?R:0).height(U>0?U:0)}}if(i.west){m.yAxis.gridlineLength(i.center.bounds.width-r-n)}if(i.south){m.xAxis.gridlineLength(i.center.bounds.height-y-u)}var V=m.plot.width();var W=m.plot.height();if(c===V&&e===W){break}else{c=V;e=W}if(m.plot&&m.plot.reScale){m.plot.reScale()}}};X.prototype._xyc_initialize=function(){var c=this._xyc_config;var m=this._xyc_modules;var e=this._xyc_ctx;var f=this._xyc_data;var s=this._xyc_selections;var p=this._xyc_parent;if(T.isEmptyObject(c)){F.error('Container configuration missing')}this._xyc_initializedModules=0;this._xyc_initAxis('xAxis');this._xyc_initAxis('yAxis');this._xyc_initAxis('xAxis2');this._xyc_initAxis('yAxis2');this._xyc_initAxis('background');var g=c.modules.plot;if(!g){return}var h=m.plot=a(g.id,e,C.CSS.CLASS.MODULEPREFIX+"plot");var i=new S(f);if(this._xyc_dataCache){this.dataCacheToDestroy()}this._xyc_dataCache=i.getDataAdapter();h.data(this._xyc_dataCache);var j;if(g.configure){j=this._xyc_resolveProperties(g.configure);if(this._xyc_properties.xyContainer&&this._xyc_properties.xyContainer.yAngle){h.setyAngle(this._xyc_properties.xyContainer.yAngle)}h.properties(j)}if(h.dispatch){var k=h.dispatch();if(k.initialized){this._xyc_initializedModules++;k.on('initialized.xycontainer',this._xyc_initialized.bind(this))}if(k.showTooltip){k.on('showTooltip.xycontainer',this._xyc_showTooltip.bind(this))}if(k.hideTooltip){k.on('hideTooltip.xycontainer',this._xyc_hideTooltip.bind(this))}}var n=c.modules.dataLabel;if(T.isExist(n)&&T.isExist(h.dataLabel)){var q=m.dataLabel=a(n.id,e,C.CSS.CLASS.MODULEPREFIX+"datalabel");if(q.dispatch()){this._xyc_initializedModules++;q.dispatch().on('initialized.xycontainer',this._xyc_initialized.bind(this))}h.dataLabel(q);q.plot(h);if(n.configure){j=this._xyc_resolveProperties(n.configure);q.properties(j)}}if(m.xAxis&&!s.xAxis){s.xAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis')}if(m.xAxis2&&!s.xAxis2){s.xAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis2')}if(m.yAxis&&!s.yAxis){s.yAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis')}if(m.yAxis2&&!s.yAxis2){s.yAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis2')}if(m.plot&&!s.plot){s.plot=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'plot')}if(m.background&&!s.background){s.background=p.insert('g',':first-child').attr('class',C.CSS.CLASS.MODULEPREFIX+'background')}};X.prototype._xyc_renderSub=function(){var s=this._xyc_selections;var m=this._xyc_modules;for(var c in s){if(s.hasOwnProperty(c)){A.pnrProfiling("Render:drawing-paint-chart-main-"+c);s[c].datum(m[c].data()).call(m[c]);A.pnrProfiling("Render:drawing-paint-chart-main-"+c)}}if(T.isExist(m.dataLabel)){m.dataLabel()}};X.prototype._xyc_resolveProperties=function(n,i){var p={},c,u,s;var e=this._xyc_properties;if(i){if(n){c=n.propertyCategory;u=e;s={};s[c]=n.properties;O.extend(true,p,s,u)}else{p=e}}else{if(n){c=n.propertyCategory;u=e[c];s=n.properties;O.extend(true,p,s,u)}}return p};X.prototype._xyc_updateProperties=function(i,c){var e=this._xyc_config;var m=this._xyc_modules;var p=this._xyc_properties;var f=e.modules;var g,n,h;if(f[i]&&m[i]){n=f[i].configure;if(c){g=p}else{if(n){h=n.propertyCategory;g=O.extend(true,{},p[h])}else{g={}}}this._xyc_mergeLayoutPropsToAxis(i,g);m[i].properties(g)}};X.prototype._xyc_updateAxisData=function(i){var m=this._xyc_modules;var c=this._xyc_config;var e=this._xyc_data;if(m[i]){var f=c.modules[i];var g=f.data;if(g){m[i].data(e.createDataAdapterForModule(g))}}};X.prototype._xyc_initAxis=function(i){var m=this._xyc_modules;var c=this._xyc_config;var e=this._xyc_ctx;if(!c.modules[i]){return}var f=c.modules[i],g=m[i]=a(f.id,e,C.CSS.CLASS.MODULEPREFIX+i);this._xyc_updateAxisData(i);var p=this._xyc_resolveProperties(f.configure);this._xyc_mergeLayoutPropsToAxis(i,p);g.properties(p);if(g.dispatch&&g.dispatch()['initialized']){this._xyc_initializedModules++;g.dispatch().on('initialized.xycontainer',this._xyc_initialized.bind(this))}};X.prototype._xyc_mergeLayoutPropsToAxis=function(i,c){var m=this._xyc_modules;if(i==='xAxis'||i==='yAxis'||i==='xAxis2'||i==='yAxis2'){if(c.hideTitleFirst===undefined){if(this._xyc_properties.general&&this._xyc_properties.general.layout&&this._xyc_properties.general.layout.hideAxisTitleFirst!==undefined&&this._xyc_properties.general.layout.hideAxisTitleFirst!==null){c.hideTitleFirst=this._xyc_properties.general.layout.hideAxisTitleFirst}else{c.hideTitleFirst=true}}var e=c.type;if(!e){var f=m[i].properties();e=f.type}if(e==="category"&&(c.gridline&&c.gridline.visible)){c.gridline.disable=true}}};X.prototype._xyc_initialized=function(){if(this._xyc_initializedModules===++this._xyc_initializedCount){this._xyc_initializedCount=0;this._xyc_eDispatch.initialized()}};X.prototype._xyc_showTooltip=function(e){this._xyc_eDispatch.showTooltip(e)};X.prototype._xyc_hideTooltip=function(e){this._xyc_eDispatch.hideTooltip(e)};X.prototype.width=function(_){if(!arguments.length){return this._xyc_width}var s=this._xyc_width!==_;this._xyc_width=_;if(this._xyc_height){this._xyc_relayout()}return this};X.prototype.height=function(_){if(!arguments.length){return this._xyc_height}var s=this._xyc_height!==_;this._xyc_height=_;if(this._xyc_width){this._xyc_relayout()}return this};X.prototype.size=function(_){if(!arguments.length){return{'width':this._xyc_width,'height':this._xyc_height}}this._xyc_height=_.height;this._xyc_width=_.width;this._xyc_relayout();return this};X.prototype.data=function(_){if(!arguments.length){return this._xyc_data}this._xyc_data=_;if(!T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_properties)){var c=new S(this._xyc_data);this._xyc_modules['plot'].data(c.getDataAdapter());this._xyc_updateAxisData('xAxis');this._xyc_updateAxisData('yAxis');this._xyc_updateAxisData('xAxis2');this._xyc_updateAxisData('yAxis2')}return this};X.prototype.properties=function(x){if(!arguments.length){return this._xyc_properties.xyContainer}this._xyc_properties=O.extend(true,{},this._xyc_properties,x);if(!T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_data)){this._xyc_updateProperties('xAxis');this._xyc_updateProperties('xAxis2');this._xyc_updateProperties('yAxis');this._xyc_updateProperties('yAxis2');this._xyc_updateProperties('plot');this._xyc_updateProperties('dataLabel');this._xyc_updateProperties('background')}return this};X.prototype.config=function(_){if(!arguments.length){return this._xyc_config}this._xyc_config=_;if(T.isEmptyObject(this._xyc_modules)&&!T.isEmptyObject(this._xyc_data)&&!T.isEmptyObject(this._xyc_properties)&&this._xyc_parent!==null){this._xyc_initialize()}return this};X.prototype.modules=function(x){if(!arguments.length){if(T.isEmptyObject(this._xyc_modules)){this._xyc_initialize()}return this._xyc_modules}this._xyc_modules=x;return this};X.prototype.parent=function(_){if(!arguments.length){return this._xyc_parent}this._xyc_parent=_;return this};X.prototype.dispatch=function(_){if(!arguments.length){return this._xyc_eDispatch}this._xyc_eDispatch=_;return this};X.prototype.rotate=function(_){var p=this._xyc_modules['plot'];if(!arguments.length){return p.rotate()}p.rotate(_);this._xyc_properties.xyContainer.yAngle=_.yAngle;return this};X.prototype.rotateEnd=function(){var p=this._xyc_modules['plot'];if(p.rotateEnd){return p.rotateEnd()}return this};X.prototype.getPropertyZone=function(_){var r=[];var p=this._xyc_selections.plot.select('.v-bound').node();if(p===null){p=this._xyc_selections.plot.node()}var c=p.getBoundingClientRect();if(c.width>1.5&&c.height>1.5){var e=[[]];e[0].push([c.left,c.top]);e[0].push([c.right,c.top]);e[0].push([c.right,c.bottom]);e[0].push([c.left,c.bottom]);r.push({"name":'plot',"bound":e})}return r};X.prototype.retry=function(){var m=this._xyc_modules;var s=this._xyc_selections;var p=this._xyc_parent;if(m.xAxis){if(s.xAxis){s.xAxis.remove()}s.xAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis')}if(m.xAxis2){if(s.xAxis2){s.xAxis2.remove()}s.xAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'xAxis2')}if(m.yAxis){if(s.yAxis){s.yAxis.remove()}s.yAxis=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis')}if(m.yAxis2){if(s.yAxis2){s.yAxis2.remove()}s.yAxis2=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'yAxis2')}if(m.plot){if(s.plot){s.plot.remove()}s.plot=p.append('g').attr('class',C.CSS.CLASS.MODULEPREFIX+'plot')}if(m.background){if(s.background){s.background.remove()}s.background=p.insert('g',':first-child').attr('class',C.CSS.CLASS.MODULEPREFIX+'background')}};X.prototype.dataCacheToDestroy=function(){var i=0;var j=0;var k=0;if(this._xyc_dataCache){if(this._xyc_dataCache._aa){for(i=0;i<this._xyc_dataCache._aa.length;i++){if(this._xyc_dataCache._aa[i].values){for(j=0;j<this._xyc_dataCache._aa[i].values.length;j++){this._xyc_dataCache._aa[i].values[j].rows=null;this._xyc_dataCache._aa[i].values[j]=null}this._xyc_dataCache._aa[i].values=null}this._xyc_dataCache._aa[i]=null}this._xyc_dataCache._aa=null}if(this._xyc_dataCache._mg){for(i=0;i<this._xyc_dataCache._mg.length;i++){if(this._xyc_dataCache._mg[i].values){for(j=0;j<this._xyc_dataCache._mg[i].values.length;j++){if(this._xyc_dataCache._mg[i].values[j].rows){for(k=0;k<this._xyc_dataCache._mg[i].values[j].rows.length;k++){this._xyc_dataCache._mg[i].values[j].rows[k]=null}this._xyc_dataCache._mg[i].values[j].rows=null}this._xyc_dataCache._mg[i].values[j]=null}this._xyc_dataCache._mg[i].values=null}this._xyc_dataCache._mg[i]=null}this._xyc_dataCache._mg=null}if(this._xyc_dataCache._bindingInfo){this._xyc_dataCache._bindingInfo=null}this._xyc_dataCache=null}};X.prototype.ctxRawdataToDestroy=function(){var i=0;var j=0;var k=0;if(this._xyc_ctx.rawData){if(this._xyc_ctx.rawData._dataSet){if(this._xyc_ctx.rawData._dataSet.analysisAxis){for(i=0;i<this._xyc_ctx.rawData._dataSet.analysisAxis.length;i++){if(this._xyc_ctx.rawData._dataSet.analysisAxis[i].data){for(j=0;j<this._xyc_ctx.rawData._dataSet.analysisAxis[i].data.length;j++){this._xyc_ctx.rawData._dataSet.analysisAxis[i].data[j].values=null;this._xyc_ctx.rawData._dataSet.analysisAxis[i].data[j]=null}this._xyc_ctx.rawData._dataSet.analysisAxis[i].data=null}this._xyc_ctx.rawData._dataSet.analysisAxis[i]=null}this._xyc_ctx.rawData._dataSet.analysisAxis=null}if(this._xyc_ctx.rawData._dataSet.measureValuesGroup){for(i=0;i<this._xyc_ctx.rawData._dataSet.measureValuesGroup.length;i++){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data){for(j=0;j<this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data.length;j++){if(this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data[j].values){for(k=0;k<this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data[j].values.length;k++){this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data[j].values[k]=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data[j].values=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data[j]=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[i].data=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup[i]=null}this._xyc_ctx.rawData._dataSet.measureValuesGroup=null}this._xyc_ctx.rawData._dataSet=null}if(this._xyc_ctx.rawData._analysisAxis){for(i=0;i<this._xyc_ctx.rawData._analysisAxis.length;i++){if(this._xyc_ctx.rawData._analysisAxis[i]._dimensionLabels){for(j=0;j<this._xyc_ctx.rawData._analysisAxis[i]._dimensionLabels.length;j++){this._xyc_ctx.rawData._analysisAxis[i]._dimensionLabels[j]._values=null;this._xyc_ctx.rawData._analysisAxis[i]._dimensionLabels[j]=null}this._xyc_ctx.rawData._analysisAxis[i]._dimensionLabels=null}this._xyc_ctx.rawData._analysisAxis[i]=null}this._xyc_ctx.rawData._analysisAxis=null}if(this._xyc_ctx.rawData._measureValuesGroup){for(i=0;i<this._xyc_ctx.rawData._measureValuesGroup.length;i++){if(this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues){for(j=0;j<this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues.length;j++){if(this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues[j]._values){for(k=0;k<this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues[j]._values.length;k++){this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues[j]._values[k]=null}this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues[j]._values=null}this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues[j]=null}this._xyc_ctx.rawData._measureValuesGroup[i]._measureValues=null}this._xyc_ctx.rawData._measureValuesGroup[i]=null}this._xyc_ctx.rawData._measureValuesGroup=null}if(this._xyc_ctx.rawData._dimensions){this._xyc_ctx.rawData._dimensions=null}if(this._xyc_ctx.rawData._measures){this._xyc_ctx.rawData._measures=null}this._xyc_ctx.rawData=null}};X.prototype.destroy=function(){this.dataCacheToDestroy();this._xyc_parent=null;this._xyc_selections=null;var c=this._xyc_modules;for(var e in c){if(c.hasOwnProperty(e)){var m=c[e];if(m.dispatch){var f=m.dispatch();if(f.initialized){f.on('initialized.xycontainer',null)}if(f.showTooltip){f.on('showTooltip.xycontainer',null)}if(f.hideTooltip){f.on('hideTooltip.xycontainer',null)}}}}this._xyc_modules=null;this._xyc_data=null;if(this._xyc_ctx){this._xyc_ctx.destroy();this.ctxRawdataToDestroy();this._xyc_ctx=null}};return X});define('sap/viz/modules/manifests/XYContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/xycontainer'],function Setup(M,C,f){var m={'id':'sap.viz.modules.xycontainer','type':C.Type.Container,'name':'single container','properties':{'yAngle':{name:'yAngle',supportedValueType:'Number',defaultValue:0,'isExported':false,description:"Set the angle for the pie chart. This value should be between '-180' and '180'."},},'css':null,'configure':null,'events':{'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/chart/elements/behaviors/BaseBehavior',['sap/viz/base/utils/oo','sap/viz/modules/Base'],function(o,B){var a=function(m,c){a.superclass.constructor.apply(this,arguments);this._decorations={};this._triggerHandlers={}};o.extend(a,B);a.prototype.initialize=function(){};a.prototype.registerDecorations=function(){};a.prototype.getTriggerHandler=function(t){return this._triggerHandlers[t]};a.prototype.registerTriggerHandlers=function(){};a.prototype.runDecoration=function(){var d,b,p;if(arguments.length>0){b=arguments[0];[].splice.call(arguments,0,1);p=arguments}else{return}d=this._decorations[b];if(d){d.forEach(function(f,i){f.apply(this,p)})}};return a});define('sap/viz/chart/elements/utils/runtimeSelectionDataHandler',['sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils'],function Setup(O,T,a){var r={arrayCtx:function(c){var b=[];b.push(c);return b},unpackData:function(t){var b={};if(t.hasOwnProperty('dimension')){for(var k in t.dimension){b[k]=t.dimension[k]}}if(t.hasOwnProperty('measure')){for(var k in t.measure){b[k]=t.measure[k]}}return b},buildCtxItems:function(s){var c=[];for(var i=0;i<s.length;i++){var d=d3.select(s[i]).data();if(d){d=d[0]}if(d&&d.ctx){c.push(d.ctx)}else if(d&&T.isArray(d)){for(var j=0;j<d.length;j++){c.push(d[j].ctx)}}}return c},buildInfoArray:function(s){var d=[];for(var i=0;i<s.length;i++){var o=[];var b=d3.select(s[i]).data();if(b){b=b[0]}if(b.info instanceof Array){var j;for(j=0;j<b.info.length;j++){if(b.info[j]!==null){var c;c=O.extend(true,{},b.info[j]);if(c){c=c.additionalData}o.push(c)}}}else{if(b.info!==null){var e;e=O.extend(true,{},b.info);if(e){e=e.additionalData}o.push(e)}}d.push(o)}return d},getSelectedObjArray:function(d,s,w,b){var c=this.buildCtxItems(s);var e=[];for(var i=0;i<c.length;i++){var t=d.ctx2TableData(c[i]);var f=O.extend(true,{},t.dimension);f=O.extend(true,f,t.measure);e.push(f)}var g;if(w){g=[];var i;var j;for(i=0;i<c.length;i++){var o=[];if(T.isArray(c[i])){var h=[];for(var j=0;j<c[i].length;j++){if(c[i][j]&&c[i][j].path){h.push(c[i][j].path)}}g.push(h)}else if(T.isPlainObject(c[i])){var h=[];h.push(c[i].path);g.push(h)}}}var k;if(b){k=this.buildInfoArray(s)}var l=[];for(i=0;i<e.length;i++){var m={};m.data=e[i];if(w){m.ctx=g[i]}if(b){m.info=k[i]}l.push(m)}return l},matchSelection:function(t,i,c){var b=function(m,n){var o=false;for(var p in m){if(m[p]===n[p]){o=true}else if(n.hasOwnProperty(p)&&m[p]==='*'){o=true}else{o=false;break}}return o};var h=function(m){if(m.hasOwnProperty('dii_a1')&&m.hasOwnProperty('dii_a2')&&m.hasOwnProperty('mg')&&m.hasOwnProperty('mi')){return true}return false};for(var j=0;j<i.length;j++){if(!i[j]){continue}var d;if(i[j].hasOwnProperty('ctx')){var e=a.clone(i[j].ctx);for(var k=0;k<e.length;k++){if(!h(e[k])){e.splice(k,1)}}var f=false;if(!T.isArray(t)){t=this.arrayCtx(t)}for(var k=0;k<e.length;k++){f=false;for(var l=0;l<t.length;l++){if(t[l]&&t[l].path&&b(e[k],t[l].path)){f=true;break}}if(!f){break}}if(f){return true}}else if(i[j].hasOwnProperty('data')){d=i[j].data;var g=c.ctx2TableData(t);g=this.unpackData(g);if(!b(d,g)){continue}return true}}return false}};return r});define('sap/viz/chart/elements/behaviors/Interaction',['sap/viz/base/utils/oo','sap/viz/chart/elements/behaviors/BaseBehavior','sap/viz/chart/elements/behaviors/BehaviorManager','sap/viz/base/utils/ObjectUtils','sap/viz/modules/Constants','sap/viz/modules/util/flattenModules','sap/viz/chart/elements/utils/LassoDecoration','sap/viz/util/BoundingBox','sap/viz/chart/elements/utils/runtimeSelectionDataHandler','sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector','sap/viz/base/utils/FunctionUtils','sap/viz/chart/elements/behaviors/InteractionHelper'],function(o,B,a,O,C,f,L,b,r,T,U,F,h){var I=function(m,e){I.superclass.constructor.apply(this,arguments);this._selb_props=O.extend(true,{},m.props(null));this._selb_selectionMode=C.SELECTION_MODE.EXCLUSIVE;this._selb_lassoWithCtrlKey=false;this._selb_holdSelection=false;this._selb_preserveSelectionWhenDragging=false;this._selb_m=null;this._selb_plots={};this._selb_dispatch=d3.dispatch('selectData','deselectData','showTooltip','hideTooltip','lassoStart','lassoEnd');this._selb_ctx=e;this._rootNode=null;this._lastSelected=[];this._hoveringDataPoint=null;this._hoveringDeselectedDataPoint=false;this._lastEventPoint=null;this._clickLikeTriggers=[];this._behaviorManager=e.behaviorManager;this._lassoDecoration=new L();this._lassoStartPoint=null;this._lassoEndPoint=null;this._ongoingOperation=null;this._showingDetailMode=null;this._mainPlots=null;this._mainPlotBoundRects=null;this._dpFnCompare=null;this._dpFnIndexOf=null};o.extend(I,B);I.prototype.initialize=function(){I.superclass.initialize.apply(this,arguments);if(this._selb_ctx.rawData.hasFakeData()){return}if(!this._selb_holdSelection){this._lastSelected=[]}this._mainPlotBoundRects=null;if(!this._dpFnCompare){this._dpFnCompare=h.extensionPoint(this._selb_props,"isEqual");this._dpFnIndexOf=this._dpFnCompare?function(A,D){for(var i=-1;++i<A.length;){if(this._dpFnCompare.call(this,A[i],D)){return i}}return-1}:function(i,A){return i.indexOf(A)};this._dpFnCompare=this._dpFnCompare||function(i,A){return i===A}}var e=this._selb_props;var j='(\\s+|^)(v-datapoint|v-datalabel)(\\s+|$)',q='(\\s+|^)v-m-root(\\s+|$)';var v={'click_on_datapoint':{'key':'click_on_datapoint','event':'click','target':j},'click_on_non_datapoint':{'key':'click_on_non_datapoint','event':'click','target':'(\\s+|^)(v-datapoint|v-datalabel|v-legend-item|v-axis-item)(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'hover_on_datapoint':{'key':'hover_on_datapoint','event':'hover','target':j},'hover_on_non_datapoint':{'key':'hover_on_non_datapoint','event':'hover','target':j,'matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'hover_on_legend':{'key':'hover_on_legend','event':'hover','target':'(\\s+|^)v-legend-item(\\s+|$)'},'hover_on_non_legend':{'key':'hover_on_non_legend','event':'hover','target':'(\\s+|^)v-legend-item(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'click_on_legend':{'key':'click_on_legend','event':'click','target':'(\\s+|^)v-legend-item(\\s+|$)'},'mousedown_on_legend':{'key':'mousedown_on_legend','event':'mousedown','target':'(\\s+|^)v-legend-item(\\s+|$)'},'mousedown_on_legend_overflow':{'key':'mousedown_on_legend_overflow','event':'mousedown','target':'(\\s+|^)v-overflow(\\s+|$)'},'mouseup_on_legend':{'key':'mouseup_on_legend','event':'mouseup','target':'(\\s+|^)v-legend-item(\\s+|$)'},'mouseup_on_non_legend':{'key':'mouseup_on_non_legend','event':'mouseup','target':'(\\s+|^)v-legend-item(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'pan_start_on_legend':{'key':'pan_start_on_legend','event':'panstart','target':'(\\s+|^)v-legend-item(\\s+|$)'},'pan_move_on_legend':{'key':'pan_move_on_legend','event':'panmove','target':'(\\s+|^)v-legend-item(\\s+|$)'},'pan_end_on_legend':{'key':'pan_end_on_legend','event':'panend','target':'(\\s+|^)v-legend-item(\\s+|$)'},'pan_end_non_legend':{'key':'pan_end_non_legend','event':'panend','target':'(\\s+|^)v-legend-item(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'hover_on_axis_label':{'key':'hover_on_axis_label','event':'hover','target':'(\\s+|^)v-axis-item(\\s+|$)'},'hover_on_non_axis_label':{'key':'hover_on_non_axis_label','event':'hover','target':'(\\s+|^)v-axis-item(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'hover_on_radar_axis_label':{'key':'hover_on_radar_axis_label','event':'hover','target':'(\\s+|^)v-radar-axis-item(\\s+|$)'},'hover_on_non_radar_axis_label':{'key':'hover_on_non_radar_axis_label','event':'hover','target':'(\\s+|^)v-radar-axis-item(\\s+|$)','matchMode':C.TRIGGER.CSS.MATCHMODE.NEGATIVE},'click_on_axis_label':{'key':'click_on_axis_label','event':'click','target':'(\\s+|^)v-axis-item(\\s+|$)'},'mousedown_on_axis_label':{'key':'mousedown_on_axis_label','event':'mousedown','target':'(\\s+|^)v-axis-item(\\s+|$)'},'mouseup_on_axis_label':{'key':'mouseup_on_axis_label','event':'mouseup','target':'(\\s+|^)v-axis-item(\\s+|$)'},'mousedown_on_radar_axis_label':{'key':'mousedown_on_radar_axis_label','event':'mousedown','target':'(\\s+|^)v-radar-axis-item(\\s+|$)'},'mouseup_on_radar_axis_label':{'key':'mouseup_on_radar_axis_label','event':'mouseup','target':'(\\s+|^)v-radar-axis-item(\\s+|$)'},'lasso_start_on_eventLayer':{'key':'lasso_start_on_eventLayer','event':'lassostart','target':q},'lasso_move_on_eventLayer':{'key':'lasso_move_on_eventLayer','event':'lassomove','target':q},'lasso_end_on_eventLayer':{'key':'lasso_end_on_eventLayer','event':'lassoend','target':q},'pan_start_on_eventLayer':{'key':'pan_start_on_eventLayer','event':'panstart','target':q},'pan_move_on_eventLayer':{'key':'pan_move_on_eventLayer','event':'panmove','target':q},'pan_end_on_eventLayer':{'key':'pan_end_on_eventLayer','event':'panend','target':q}};v[C.TRIGGER.KEY.API.GET_SELECTION]={'key':C.TRIGGER.KEY.API.GET_SELECTION,'api':'getSelection','type':a.API_TRIGGER},v[C.TRIGGER.KEY.API.SET_SELECTION]={'key':C.TRIGGER.KEY.API.SET_SELECTION,'api':'setSelection','type':a.API_TRIGGER};if(e['triggers']){e['triggers'].forEach(function(i,A){if(i.event===null){delete v[i.key]}else{v[i.key]=i}})}this._clickLikeTriggers.push(v['click_on_datapoint'],v['click_on_legend'],v['click_on_axis_label'],v['mouseup_on_legend'],v['mouseup_on_axis_label']);this._behaviorManager.removeBehavior('selectionBehavior');this._behaviorManager.registerNewBehavior({'name':'selectionBehavior','rootNode':this._rootNode,'triggers':v,'logic':this._selb_logic.bind(this)});this._behaviorManager.setProperties({'enablePan':this._selb_props.pan.enable});var m=this._selb_m;var w=this._selb_plots;for(var x in m){if(m.hasOwnProperty(x)){var y=f({'rootKey':x,'rootNode':m[x]});for(var z in y){if(y.hasOwnProperty(z)){w[z]=y[z]}}}}this.registerDecorations();this.registerTriggerHandlers();t.call(this,'actionMode')};I.prototype.registerTriggerHandlers=function(){I.superclass.registerTriggerHandlers.apply(this,arguments);for(var e in this._triggerHandlers){if(this._triggerHandlers.hasOwnProperty(e)){delete(this._triggerHandlers[e])}}this._triggerHandlers['click_on_datapoint']=[];this._triggerHandlers['click_on_datapoint'].push(this._selb_clickOnDataPointHandler.bind(this));this._triggerHandlers['click_on_non_datapoint']=[];this._triggerHandlers['click_on_non_datapoint'].push(this._selb_clickOnNonDataPointHandler.bind(this));this._triggerHandlers['hover_on_datapoint']=[];this._triggerHandlers['hover_on_datapoint'].push(this._selb_hoverOnDataPointHandler.bind(this));this._triggerHandlers['hover_on_non_datapoint']=[];this._triggerHandlers['hover_on_non_datapoint'].push(this._selb_hoverOnNonDataPointHandler.bind(this));this._triggerHandlers['hover_on_legend']=[];this._triggerHandlers['hover_on_legend'].push(this._selb_hoverOnLegendHandler.bind(this));this._triggerHandlers['hover_on_non_legend']=[];this._triggerHandlers['hover_on_non_legend'].push(this._selb_cleanLegendHandler.bind(this));this._triggerHandlers['click_on_legend']=[];this._triggerHandlers['click_on_legend'].push(this._selb_clickOnLegendHandler.bind(this));this._triggerHandlers['mousedown_on_legend']=[];this._triggerHandlers['mousedown_on_legend'].push(this._selb_mouseDownOnLegendHandler.bind(this));this._triggerHandlers['mousedown_on_legend_overflow']=[];this._triggerHandlers['mousedown_on_legend_overflow'].push(this._selb_mouseDownOnLegendOverflowHandler.bind(this));this._triggerHandlers['mouseup_on_legend']=[];this._triggerHandlers['mouseup_on_legend'].push(this._selb_mouseUpOnLegendHandler.bind(this));this._triggerHandlers['mouseup_on_non_legend']=[];this._triggerHandlers['mouseup_on_non_legend'].push(this._selb_cleanLegendHandler.bind(this));this._triggerHandlers['pan_start_on_legend']=[];this._triggerHandlers['pan_start_on_legend'].push(this._selb_panStartOnLegendHandler.bind(this));this._triggerHandlers['pan_move_on_legend']=[];this._triggerHandlers['pan_move_on_legend'].push(this._selb_panMoveOnLegendHandler.bind(this));this._triggerHandlers['pan_end_on_legend']=[];this._triggerHandlers['pan_end_on_legend'].push(this._selb_panEndOnLegendHandler.bind(this));this._triggerHandlers['pan_end_non_legend']=[];this._triggerHandlers['pan_end_non_legend'].push(this._selb_panEndOnLegendHandler.bind(this));this._triggerHandlers['hover_on_axis_label']=[];this._triggerHandlers['hover_on_axis_label'].push(this._selb_hoverOnAxisLabelHandler.bind(this));this._triggerHandlers['hover_on_non_axis_label']=[];this._triggerHandlers['hover_on_non_axis_label'].push(this._selb_cleanAxisLabelHandler.bind(this));this._triggerHandlers['click_on_axis_label']=[];this._triggerHandlers['click_on_axis_label'].push(this._selb_clickOnAxisLabelHandler.bind(this));this._triggerHandlers['mousedown_on_axis_label']=[];this._triggerHandlers['mousedown_on_axis_label'].push(this._selb_mouseDownAxisLabelHandler.bind(this));this._triggerHandlers['mouseup_on_axis_label']=[];this._triggerHandlers['mouseup_on_axis_label'].push(this._selb_mouseUpAxisLabelHandler.bind(this));this._triggerHandlers['lasso_start_on_eventLayer']=[];this._triggerHandlers['lasso_start_on_eventLayer'].push(this._selb_lassoStartOnEventLayer.bind(this));this._triggerHandlers['lasso_move_on_eventLayer']=[];this._triggerHandlers['lasso_move_on_eventLayer'].push(this._selb_lassoMoveOnEventLayer.bind(this));this._triggerHandlers['lasso_end_on_eventLayer']=[];this._triggerHandlers['lasso_end_on_eventLayer'].push(this._selb_lassoEndOnEventLayer.bind(this));this._triggerHandlers['pan_start_on_eventLayer']=[];this._triggerHandlers['pan_start_on_eventLayer'].push(this._selb_panStartOnEventLayer.bind(this));this._triggerHandlers['pan_move_on_eventLayer']=[];this._triggerHandlers['pan_move_on_eventLayer'].push(this._selb_panMoveOnEventLayer.bind(this));this._triggerHandlers['pan_end_on_eventLayer']=[];this._triggerHandlers['pan_end_on_eventLayer'].push(this._selb_panEndOnEventLayer.bind(this));this._triggerHandlers['hover_on_radar_axis_label']=[];this._triggerHandlers['hover_on_radar_axis_label'].push(this._selb_hoverOnRadarAxisLabelHandler.bind(this));this._triggerHandlers['hover_on_non_radar_axis_label']=[];this._triggerHandlers['hover_on_non_radar_axis_label'].push(this._selb_cleanRadarAxisLabelHandler.bind(this));this._triggerHandlers['mousedown_on_radar_axis_label']=[];this._triggerHandlers['mousedown_on_radar_axis_label'].push(this._selb_mouseDownRadarAxisLabelHandler.bind(this));this._triggerHandlers['mouseup_on_radar_axis_label']=[];this._triggerHandlers['mouseup_on_radar_axis_label'].push(this._selb_mouseUpRadarAxisLabelHandler.bind(this));this._triggerHandlers[C.TRIGGER.KEY.API.SET_SELECTION]=[];this._triggerHandlers[C.TRIGGER.KEY.API.SET_SELECTION].push(this._selb_set_selection_api.bind(this));this._triggerHandlers[C.TRIGGER.KEY.API.GET_SELECTION]=[];this._triggerHandlers[C.TRIGGER.KEY.API.GET_SELECTION].push(this._selb_get_selection_api.bind(this));var j=this._selb_props;if(j['handlers']){j['handlers'].forEach(function(z,A){this._triggerHandlers[z.triggerKey]=[z.fn.bind(this)]}.bind(this))}var m=this._selb_props.selectability;var q=this._selb_selectionMode;var v=this;function w(x,z){var A=q!==C.SELECTION_MODE.NONE;var D=q!==C.SELECTION_MODE.SINGLE;switch(x){case'click_on_datapoint':return m.plotStdSelection&&A;case'lasso_start_on_eventLayer':case'lasso_move_on_eventLayer':case'lasso_end_on_eventLayer':{if((l.call(v,z)||(m.plotLassoSelection&&A&&D))===false){v._lassoStartPoint=false}return l.call(v,z)||(m.plotLassoSelection&&A&&D)}case'click_on_axis_label':case'hover_on_axis_label':case'mousedown_on_axis_label':case'mouseup_on_axis_label':return m.axisLabelSelection&&A&&D;case'mousedown_on_legend':case'mouseup_on_legend':case'click_on_legend':case'hover_on_legend':return m.legendSelection&&A&&D}return true}for(var x in this._triggerHandlers){if(this._triggerHandlers.hasOwnProperty(x)){var y=this._triggerHandlers[x];for(var i=-1;++i<y.length;){y[i]=(function(x,z){return function(){var A=arguments[0];var D;switch(x){case'lasso_start_on_eventLayer':if(l.call(this,A)){D='pan_start_on_eventLayer'}break;case'lasso_move_on_eventLayer':if(this._ongoingOperation==='pan'){D='pan_move_on_eventLayer';break}case'lasso_end_on_eventLayer':if(!this._ongoingOperation){return}if(this._ongoingOperation==='pan'){D='pan_end_on_eventLayer'}else if(this._ongoingOperation!=='lasso'){throw'Unknown operation found: '+this._ongoingOperation}break;case'pan_move_on_eventLayer':if(this._ongoingOperation==='lasso'){D='lasso_move_on_eventLayer';break}case'pan_end_on_eventLayer':if(!this._ongoingOperation){return}if(this._ongoingOperation==='lasso'){D='lasso_end_on_eventLayer'}else if(this._ongoingOperation!=='pan'){throw'Unknown operation found: '+this._ongoingOperation}break}if(D){var E=[D];h.concatByPush(E,arguments);return c.apply(this,E)}if(!w(x,A)){return}if(x=="hover_on_non_radar_axis_label"&&m.plotLassoSelection===false)this._lassoStartPoint=null;switch(x){case'lasso_start_on_eventLayer':this._ongoingOperation='lasso';break;case'pan_start_on_eventLayer':this._ongoingOperation='pan';break;case'lasso_end_on_eventLayer':case'pan_end_on_eventLayer':this._ongoingOperation=null;break}return z.apply(undefined,arguments)}.bind(this)}.bind(this))(x,y[i])}}}};I.prototype.registerDecorations=function(){I.superclass.registerDecorations.apply(this,arguments);for(var e in this._decorations){if(this._decorations.hasOwnProperty(e)){delete(this._decorations[e])}}var j=this._selb_plots;this._decorations['clearPlot']=[];if(j['main.plot']){var m=this.getMainPlots(j).filter(function(N){return N.parent&&N.parent()}),q;this._mainPlots=m;this._decorations['clearPlot']=[];this._decorations['panStart']=[];this._decorations['panMove']=[];this._decorations['panEnd']=[];var v={plots:[],methods:[]},w={plots:[],methods:[]},x={plots:[],methods:[]};function y(N,P,Q){N.plots.push(P);N.methods.push(Q)};function z(A){return[function(N,P){A(N,true,P)},function(N){A(N,false,true)}]};for(var i=-1;++i<m.length;){q=m[i];if(q['clear']){this._decorations['clearPlot'].push(q['clear'].bind(q))}if(q['highlight']){var A=q['highlight'].bind(q);var D=z(A);y(v,q,D[0]);y(w,q,D[1])}if(q['unhighlight']){y(x,q,q['unhighlight'].bind(q))}if(q['panStart']){this._decorations['panStart'].push(q['panStart'].bind(q))}if(q['panMove']){this._decorations['panMove'].push(q['panMove'].bind(q))}if(q['panEnd']){this._decorations['panEnd'].push(q['panEnd'].bind(q))}}this._decorations['highlightByHover']=[d.mainPlot(v.plots,v.methods)];this._decorations['highlightBySelecting']=[d.mainPlot(w.plots,w.methods)];this._decorations['unhighlight']=[d.mainPlot(x.plots,x.methods)]}if(j['tooltip']){if(j['tooltip']['showTooltip']){this._decorations['showDetail']=[j['tooltip']['showTooltip'].bind(j['tooltip'])]}if(j['tooltip']['hideTooltip']){this._decorations['hideDetail']=[j['tooltip']['hideTooltip'].bind(j['tooltip'])]}}if(j['legends.legend']){if(j['legends.legend']['highlight']){this._decorations['highlightLegendItem']=[j['legends.legend']['highlight'].bind(j['legends.legend'])]}if(j['legends.legend']['unhighlight']){this._decorations['unhighlightLegendItem']=[j['legends.legend']['unhighlight'].bind(j['legends.legend'])]}if(j['legends.legend']['selected']){this._decorations['selectedLegendItem']=[j['legends.legend']['selected'].bind(j['legends.legend'])]}if(j['legends.legend']['panStart']){this._decorations['panStartOnLegend']=[j['legends.legend']['panStart'].bind(j)]}if(j['legends.legend']['panMove']){this._decorations['panMoveOnLegend']=[j['legends.legend']['panMove'].bind(j)]}if(j['legends.legend']['panEnd']){this._decorations['panEndOnLegend']=[j['legends.legend']['panEnd'].bind(j)]}}var E=this.getAxes(j);if(E.length>0){this._decorations['unhoverOnAxisLabel']=[];var G=[],H=[],J=[];for(var i=-1;++i<E.length;){var K=E[i];if(!K.parent||!K.parent()){continue}if(K['mouseover']){G.push(K)}if(K['cleanLabelAreas']){this._decorations['unhoverOnAxisLabel'].push(K['cleanLabelAreas'].bind(K))}if(K['mousedown']){H.push(K)}if(K['mouseup']){J.push(K)}}this._decorations['hoverOnAxisLabel']=[d.axisLabel(G,'mouseover')];this._decorations['focusAxisLabel']=[d.axisLabel(H,'mousedown')];this._decorations['defocusAxisLabel']=[d.axisLabel(J,'mouseup')]}if(this._lassoDecoration){this._decorations['lassostart']=[this._lassoDecoration['start'].bind(this._lassoDecoration)];this._decorations['lassomove']=[this._lassoDecoration['moveTo'].bind(this._lassoDecoration)];this._decorations['lassoend']=[this._lassoDecoration['end'].bind(this._lassoDecoration)]}var M=this._selb_props;if(M['decorations']){M['decorations'].forEach(function(N,P){this._decorations[N.name]=[N.fn]}.bind(this))}};var d={};d.axisLabel=function(e,m){var i=e.map(function(j){var q=j.parent();return q?q.node():undefined});return function(j){var q=j;while(!h.hasClass(q,"v-axis")&&(q=q.parentNode));if(q&&(q=q.parentNode)){var v=i.indexOf(q);if(v>=0){var w=e[v];w[m].apply(w,arguments)}}}};d.mainPlot=function(m,e){var j;switch(m.length){case 0:j=function(){};break;case 1:j=e[0];break;default:j=function(q){var v=Array.prototype.slice.call(arguments,1);if(!(q instanceof Array)){q=[q]}var w=[],x,y,z;for(var i=-1;++i<q.length;){x=q[i];y=h.findPlotModuleByNode(m,x);z=m.indexOf(y);if(z<0){continue}w[z]=w[z]||[];w[z].push(x)}for(var i=-1;++i<w.length;){if(w[i]){e[i].apply(m[i],[w[i]].concat(v))}}};break}return j};I.prototype.getAxes=function(e){var j=['xAxis','xAxis2','yAxis','yAxis2','zAxis'];var m=[];j.forEach(function(q,v){q='main.'+q;if(e[q]){m.push(e[q])}});if(e['main.plot']instanceof Array){for(var i=-1;++i<e['main.plot'].length;){j.forEach(function(q,v){var w=e['main.plot['+i+'].'+q];if(w){m.push(w)}})}}return m};I.prototype.getMainPlots=function(e){var m=[];if(e['main.plot']instanceof Array){for(var i=-1;++i<e['main.plot'].length;){m.push(e['main.plot['+i+"].plot"])}}else{m.push(e['main.plot'])}return m};I.prototype._selb_logic=function(e,j){var m=j.key;var q;if(this._triggerHandlers[m]){for(var i=0,v=this._triggerHandlers[m].length;i<v;i++){if(j.type===a.DOM_TRIGGER){this._triggerHandlers[m][i](e,j,this._selb_plots)}else if(j.type===a.API_TRIGGER){[].push.call(e,j);q=this._triggerHandlers[m][i].apply(this,e)}}}return q};I.prototype._selb_set_selection_api=function(j,q,v){var w=this._selb_selectionMode;var x,y;if(T.isPlainObject(q)){x=q.clearSelection;y=q.selectionMode}if(y===undefined&&x!==undefined&&w!==C.SELECTION_MODE.NONE){if(x===true){y='exclusive'}else if(x===false){y='inclusive'}}if(y==='inclusive'||y==='exclusive'){this._selb_selectionMode=y.toUpperCase()}var z=false;var A=[];if(T.isArray(j)&&j.length===0){this.processTargetsSelection(A,v);z=true}else if(T.isEmptyObject(j)){this.processTargetsSelection(A,v);z=true}else if(this._selb_selectionMode===C.SELECTION_MODE.NONE){z=false}else{var D=this._rootNode.selectAll('.v-datapoint');var A=[];try{for(var i=0,E=D[0].length;i<E;i++){var G=false;var H=d3.select(D[0][i]).data()[0].ctx;if(!H&&T.isArray(d3.select(D[0][i]).data()[0])){var J=d3.select(D[0][i]).data()[0];for(var m=0;m<J.length;m++){G=r.matchSelection(J[m].ctx,j,this._selb_ctx.rawData);if(G){break}}}else{G=r.matchSelection(H,j,this._selb_ctx.rawData)}if(G){A.push(D[0][i])}}if(A.length>0){z=true}}catch(e){z=false}if(this._selb_selectionMode===C.SELECTION_MODE.SINGLE&&A.length>1){z=false;this._selb_selectionMode=w;F.error("Invalid selection in current selectionMode.")}if(z){this.processTargetsSelection(A,v)}}this._selb_selectionMode=w;return z};I.prototype._selb_get_selection_api=function(w,e,i){var j=r.getSelectedObjArray(this._selb_ctx.rawData,this._lastSelected,w,e);return j};function c(){var e,i,j;if(arguments.length>0){i=arguments[0];[].splice.call(arguments,0,1);j=arguments}else{return}e=this._triggerHandlers[i];if(e){e.forEach(function(m,q){m.apply(this,j)})}}function l(e){return!U.isMobile()&&!e.data.ctrlKey&&this._selb_lassoWithCtrlKey}I.prototype._selb_lassoStartOnEventLayer=function(e){var i=h.getBoundingBox(this._rootNode.select(".v-eventLayer").node());if(e.data.target.getAttribute('class')==='v-m-scrollBar'){this._lassoStartPoint=false;return}if(!b.contains(i,e.data.point)){this.runDecoration('unhighlightLegendItem',e.data.currentTarget);this._lassoStartPoint=false;return}var j=e.data.currentTarget;var m=e.data.point;this._lassoStartPoint=m;this.runDecoration('lassostart',j,m);this._selb_dispatch.lassoStart(m);t.call(this,'infoMode');t.call(this,'actionMode')};I.prototype._selb_lassoMoveOnEventLayer=function(e,i,j){if(!this._lassoStartPoint){return}var m=e.data.currentTarget;var q=e.data.point;this.runDecoration('lassomove',m,q);this.runDecoration('unhoverOnAxisLabel',m,j);this.runDecoration('unhighlightLegendItem',m)};I.prototype._selb_lassoEndOnEventLayer=function(e,i){if(!this._lassoStartPoint){this._lassoStartPoint=null;return}var j=e.data.currentTarget;var m=e.data.point;this._lassoEndPoint=m;var q=n.call(this);this.processTargetsSelection(q,i,e.data.ctrlKey);this.runDecoration('lassoend',j,m);this._selb_dispatch.lassoEnd(m);if(this._lastSelected.length>0&&q.length>0){this._lastEventPoint=e.data.point;if(U.isMobile()){if(this._lastSelected.length===1){s.call(this,this._lastSelected[0],"actionMode",e.data.point)}else{s.call(this,undefined,"actionMode",e.data.point)}this._lassoStartPoint=null;return}var v=e.data.target;while(v){if(v.getAttribute){if(h.hasClass(v,"v-datapoint")){this._hoveringDataPoint=v;break}v=v.parentNode}else{v=undefined}}if(!v&&this._lastSelected.length===1){v=this._lastSelected[0]}s.call(this,v,"actionMode",e.data.point)}else{t.call(this,'actionMode')}this._lassoStartPoint=null};I.prototype._selb_panStartOnEventLayer=function(e){this.runDecoration('unhoverOnAxisLabel');if(this._selb_props.pan.enable){var i=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!b.contains(i,e.data.point)){this._ongoingOperation=null;return}this.runDecoration('panStart',e.data.point);t.call(this,'infoMode');t.call(this,'actionMode')}};I.prototype._selb_panMoveOnEventLayer=function(e){if(this._selb_props.pan.enable){this.runDecoration('panMove',e.data.point)}};I.prototype._selb_panEndOnEventLayer=function(e,i){if(this._selb_props.pan.enable){this.runDecoration('panEnd',e.data.point)}};function g(e,i){var j=d3.select(i).datum();var m=null;if(j&&j.ctx){var q=j.ctx;var v=e.ctx2ArrayData(q);v.context=q;v.timeMeasure=j.timeMeasure;m=[v]}return m}function k(e){var m,q;var v={plotModules:e,dataPoints:[],boundaries:[],boundRects:[]};var w,x=-1;for(var i=-1;++i<e.length;){m=e[i].parent().node();w=m.querySelectorAll(".v-datapoint");for(var j=0;j<w.length;j++){v.dataPoints.push(w[j])}x+=w.length;v.boundaries.push(x);q=d3.select(m).select(".v-bound").node();v.boundRects.push(q?h.getBoundingBox(q):undefined)}return v}function n(){var e=this._rootNode;var j=h.getBoundingBox(this._lassoDecoration.getNode());var m=this._lassoStartPoint;var v=this._lassoEndPoint;var w=this;if(e&&m&&v){var x=[];if(!w._mainPlotBoundRects||!w._selb_props["dataPointsCacheable"]){w._mainPlotBoundRects=k(w._mainPlots)}var y=w._mainPlotBoundRects;var z=y.dataPoints;var A,D,E;var G=-1,H;var J=h.extensionPoint(w._selb_props,'getBoundingBoxes');for(var q=-1;++q<z.length;){E=z[q];if(q===0||q>H){G++;A=y.plotModules[G];D=y.boundRects[G];H=y.boundaries[G]}var K=J?h.callExtensionPoint(w._selb_props,'getBoundingBoxes',A,E):undefined;var M;if(K&&K.called){M=K.ret}else{M=[h.getBoundingBox(E)]}for(var i=-1;++i<M.length;){var N={bottom:Math.ceil(M[i].bottom),right:Math.ceil(M[i].right),x:Math.floor(M[i].x),y:Math.floor(M[i].y),width:Math.ceil(M[i].right)-Math.floor(M[i].x),height:Math.ceil(M[i].bottom)-Math.floor(M[i].y),};if(b.intersects(N,j)){if(D){D=b.intersection(j,D);if(D&&b.intersects(N,D)){x.push(E);break}}else{x.push(E);break}}}}return x}};function p(){var e=this._lastSelected;var i=this.runDecoration.bind(this);var j=[];i('unhighlight',e,false,true);i('clearPlot');t.call(this,'actionMode');j=j.concat(e);e.splice(0,e.length);if(j.length>0){this._selb_fireDeselectDataEvent(j)}}function s(e,m,q){var v=undefined,w=this._lastSelected.length;if(e){var x=h.findPlotModuleByNode(this._selb_plots,e);var y=h.callExtensionPoint(this._selb_props,'convertData',this,x,e);if(y.called){v=[y.ret]}else{v=g(this._selb_ctx.rawData,e)}if(v&&v.length){var z=[];if(T.isArray(v[0].measure)){[v[0].dimension,v[0].measure].forEach(function(G,H){for(var J in G){z.push({name:G[J].key,value:G[J].value,type:H>0?"measure":"dimension"})}})}else{[v[0].dimension,v[0].measure].forEach(function(G,H){for(var J in G){if(G.hasOwnProperty(J)){z.push({name:J,value:G[J],type:H>0?"measure":"dimension"})}}})}z._context=v[0].context;z.timeMeasure=v[0].timeMeasure;v=z}}var A=h.extensionPoint(this._selb_props,"isEqual");if(A&&w){w=1;for(var i=0;++i<this._lastSelected.length;){for(var j=-1;++j<i;){if(A.call(this,this._lastSelected[i],this._lastSelected[j])){break}}if(j>=i){w++}}}var D=this._rootNode.node();while(!h.hasClass(D,'v-viz')&&(D=D.parentNode));var E={"data":v,"selectedNumber":w,"mode":m,"position":q,"container":D};this.runDecoration('showDetail',O.extend(true,{},E));this._showingDetailMode=m;this._selb_fireShowTooltipEvent(E,x)}function t(m){if(!this._showingDetailMode||m!==this._showingDetailMode){return}this.runDecoration('hideDetail',m);this._selb_fireHideTooltipEvent();this._showingDetailMode=null}I.prototype._selb_clickOnNonDataPointHandler=function(e){p.call(this)};function u(e){var i=e.data.currentTarget;if(h.hasClass(i,'v-datalabel')){i=d3.select(e.data.target).datum().dataShape}return i}I.prototype._selb_clickOnDataPointHandler=function(e,i){var j=u(e);var m=this._dpFnIndexOf(this._lastSelected,j)>=0;this.processTargetsSelection(j,i,e.data.ctrlKey);if(this._dpFnIndexOf(this._lastSelected,j)>=0){if(U.isMobile()&&this._lastSelected.length>1){s.call(this,undefined,"actionMode",e.data.point)}else{s.call(this,j,"actionMode",e.data.point)}this._lastEventPoint=e.data.point}else{if(U.isMobile()&&this._dpFnIndexOf(this._lastSelected,j)<0){if(this._lastSelected.length>0){s.call(this,undefined,"actionMode",this._lastEventPoint)}else{t.call(this,"actionMode")}}else{t.call(this,"actionMode");this._hoveringDeselectedDataPoint=m}}};I.prototype._selb_hoverOnDataPointHandler=function(e){if(U.isMobile()){return}var i=u(e);if(this._hoveringDataPoint&&this._dpFnCompare(this._hoveringDataPoint,i)){if(this._dpFnIndexOf(this._lastSelected,i)<0&&!this._hoveringDeselectedDataPoint){s.call(this,i,"infoMode",e.data.point)}return}else if(this._hoveringDataPoint){var j=this._dpFnIndexOf(this._lastSelected,this._hoveringDataPoint)>=0;this.runDecoration('unhighlight',this._hoveringDataPoint,j,this._lastSelected.length===0)}if(this._hoveringDataPoint!==i){this._hoveringDeselectedDataPoint=false}this._hoveringDataPoint=i;var j=this._dpFnIndexOf(this._lastSelected,i)>=0;this.runDecoration('highlightByHover',i,j);s.call(this,i,(j?"actionMode":"infoMode"),e.data.point)};I.prototype._selb_hoverOnNonDataPointHandler=function(e){this._hoveringDeselectedDataPoint=false;if(this._hoveringDataPoint){var i=this._dpFnIndexOf(this._lastSelected,this._hoveringDataPoint)>=0;this.runDecoration('unhighlight',this._hoveringDataPoint,i,this._lastSelected.length===0);this._hoveringDataPoint=null}t.call(this,'infoMode')};I.prototype._selb_hoverOnLegendHandler=function(e){if(!U.isMobile()){this.runDecoration('highlightLegendItem',e.data.currentTarget)}};I.prototype._selb_cleanLegendHandler=function(e){this.runDecoration('unhighlightLegendItem',e.data.currentTarget,true)};I.prototype._selb_panStartOnLegendHandler=function(e){this.runDecoration('unhighlightLegendItem',e.data.currentTarget);if(this._selb_props.pan.enable){this.runDecoration('panStartOnLegend',e.data.point);t.call(this,'infoMode');t.call(this,'actionMode')}};I.prototype._selb_panMoveOnLegendHandler=function(e){if(this._selb_props.pan.enable){this.runDecoration('panMoveOnLegend',e.data.point)}};I.prototype._selb_panEndOnLegendHandler=function(e,i){if(this._selb_props.pan.enable){this.runDecoration('panEndOnLegend',e.data.point)}};I.prototype._selb_clickOnLegendHandler=function(e,i){};I.prototype._selb_mouseDownOnLegendHandler=function(e,i){this.runDecoration('selectedLegendItem',e.data.currentTarget)};I.prototype._selb_mouseDownOnLegendOverflowHandler=function(e,i){t.call(this,'actionMode')};I.prototype._selb_mouseUpOnLegendHandler=function(e,i){if(this._lassoStartPoint||this._lassoStartPoint===false){if(this._selb_props.selectability.plotLassoSelection===false){this._lassoStartPoint=null}return}var j=this._rootNode.selectAll('.v-datapoint');var m=e.data.currentTarget.__data__.ctx||e.data.currentTarget.parentNode.__data__.ctx;if(m){var q=h.findSeriesForLegend(m,j);this.processTargetsSelection(q,i,e.data.ctrlKey);if(U.isMobile()){this.runDecoration('unhighlightLegendItem',e.data.currentTarget)}else{this.runDecoration('highlightLegendItem',e.data.currentTarget)}if(this._lastSelected.length&&(this._lastSelected.indexOf(q[0])>=0||U.isMobile())){if(this._lastSelected.indexOf(q[0])>=0){this._lastEventPoint=e.data.point}if(this._lastSelected.indexOf(q[0])<0||this._lastSelected.length>1){s.call(this,undefined,"actionMode",this._lastEventPoint)}else{s.call(this,this._lastSelected[0],"actionMode",this._lastEventPoint)}}else{t.call(this,'actionMode')}}};I.prototype._selb_hoverOnAxisLabelHandler=function(e,i,j){this.runDecoration('unhoverOnAxisLabel',e.data.target,j);this.runDecoration('hoverOnAxisLabel',e.data.target)};I.prototype._selb_cleanAxisLabelHandler=function(e,i,j){this.runDecoration('unhoverOnAxisLabel',e.data.target,j)};I.prototype._selb_mouseDownAxisLabelHandler=function(e,i,j){this.runDecoration('focusAxisLabel',e.data.target,j)};I.prototype._selb_mouseUpAxisLabelHandler=function(e,i,j){if(this._lassoStartPoint||this._lassoStartPoint===false){if(this._selb_props.selectability.plotLassoSelection===false){this._lassoStartPoint=null}return}var m=e.data.target;var q=h.findPlotNodeContainingNode(m);var v=d3.select(q).selectAll('.v-datapoint');var w=h.findSeriesForLabel(m.labelContexts,v);this.processTargetsSelection(w,i,e.data.ctrlKey);if(U.isMobile()){this.runDecoration('unhoverOnAxisLabel',e.data.target,j)}else{this.runDecoration('defocusAxisLabel',e.data.target,j)}if(this._lastSelected.length&&(this._lastSelected.indexOf(w[0])>=0||U.isMobile())){if(this._lastSelected.indexOf(w[0])>=0){this._lastEventPoint=e.data.point}if(this._lastSelected.indexOf(w[0])<0||this._lastSelected.length>1){s.call(this,undefined,"actionMode",this._lastEventPoint)}else{s.call(this,this._lastSelected[0],"actionMode",this._lastEventPoint)}}else{t.call(this,'actionMode')}};I.prototype._selb_clickOnAxisLabelHandler=function(e,i){};I.prototype._selb_hoverOnRadarAxisLabelHandler=function(e,j,m){for(var i=-1;++i<this._mainPlots.length;){this._mainPlots[i].cleanLabelAreas()}var q=h.findPlotModuleByNode(this._selb_plots,e.data.target);q.mouseover(e.data.target)};I.prototype._selb_cleanRadarAxisLabelHandler=function(e){for(var i=-1;++i<this._mainPlots.length;){if(this._mainPlots[i].cleanLabelAreas&&!this._mainPlots[i].getPreferredSize){this._mainPlots[i].cleanLabelAreas()}}};I.prototype._selb_mouseDownRadarAxisLabelHandler=function(e){var i=h.findPlotModuleByNode(this._selb_plots,e.data.target);i.mousedown(e.data.target)};I.prototype._selb_mouseUpRadarAxisLabelHandler=function(e){for(var i=-1;++i<this._mainPlots.length;){this._mainPlots[i].cleanLabelAreas()}var j=h.findPlotModuleByNode(this._selb_plots,e.data.target);j.mouseover(e.data.target)};I.prototype.processTargetsSelection=function(e,m,q){var v=(this._clickLikeTriggers.indexOf(m)>-1);var w=h.concatByPush;if(!Array.isArray(e)){e=[e]}var x=h.callExtensionPoint(this._selb_props,'processTarget',this,e,m,q);if(x.called){e.splice(0);if(x.ret){w(e,x.ret)}}var y=this.runDecoration.bind(this);var z=this._lastSelected;var A=this._selb_selectionMode;var D=[],E=[];if(A!==C.SELECTION_MODE.NONE){if(z.length===0){y('clearPlot',true)}var G=[],H=[],J=[];for(var i=-1;++i<z.length;){var K=false;for(var j=-1;++j<e.length;){if(this._dpFnCompare(e[j],z[i])){K=true;break}}(K?J:G).push(z[i])}for(var i=-1;++i<e.length;){if(this._dpFnIndexOf(J,e[i])<0){H.push(e[i])}}z.splice(0,z.length);function M(){if(!v){w(z,J)}else{w((H.length>0?z:E),J)}w(z,G)};w(z,H);w(D,H);switch(A){case C.SELECTION_MODE.EXCLUSIVE:if(!q){w(z,J);w(E,G)}else{M()}break;case C.SELECTION_MODE.MULTIPLE:q=true;case C.SELECTION_MODE.INCLUSIVE:if(!q){w(z,J);w(z,G)}else{M()}break;case C.SELECTION_MODE.SINGLE:w(E,J);w(E,G);break}if(E.length>0){y('unhighlight',E,false,z.length===0)}if(z.length===0){y('clearPlot')}else{y('highlightBySelecting',z)}if(D.length>0){this._selb_fireSelectDataEvent(D)}if(E.length>0){this._selb_fireDeselectDataEvent(E)}}};I.prototype._selb_fireSelectDataEvent=function(e){var m=[];for(var i=0,q=e.length;i<q;i++){var v=[],w=e[i].__data__;if(w.val instanceof Array){for(var j=0,x=w.val.length;j<x;j++){v.push({val:w.val[j],ctx:w.ctx[j]})}}else if(w instanceof Array){for(var j=0,x=w.length;j<x;j++){v.push({val:w[j].val,ctx:w[j].ctx})}}else{v.push({val:e[i].__data__.val,ctx:e[i].__data__.ctx})}m.push({target:e[i],data:v})}setTimeout(function(){this._selb_dispatch.selectData({name:C.Event.SelectData.name,data:m})}.bind(this),1)};I.prototype._selb_fireDeselectDataEvent=function(e){var m=[];for(var i=0,q=e.length;i<q;i++){var v=[],w=e[i].__data__;if(w.val instanceof Array){for(var j=0,x=w.val.length;j<x;j++){v.push({val:w.val[j],ctx:w.ctx[j]})}}else{v.push({val:e[i].__data__.val,ctx:e[i].__data__.ctx})}m.push({target:e[i],data:v})}setTimeout(function(){this._selb_dispatch.deselectData({name:C.Event.DeSelectData.name,data:m})}.bind(this),1)};I.prototype._selb_fireShowTooltipEvent=function(e,j){var m=j?h.getBoundingBox(j.parent().node()):undefined;var q={body:[],footer:[],point:e.position,selectedValues:e.selectedNumber};if(j){var m=h.getBoundingBox(j.parent().node());q.plotArea={x:m.x,y:m.y,width:m.width,height:m.height}}var v=e.data;if(v&&v.length){for(var i=-1;++i<v.length;){var w=v[i];if(w.type==='measure'){q.body.push({name:w.name,val:[{value:w.value}]})}else if(w.type==='dimension'){q.footer.push({label:{val:w.name},value:{val:w.value}})}}}setTimeout(function(){this._selb_dispatch.showTooltip({name:C.Event.TooltipShow.name,data:q})}.bind(this),1)};I.prototype._selb_fireHideTooltipEvent=function(){setTimeout(function(){this._selb_dispatch.hideTooltip({name:C.Event.TooltipHide.name})}.bind(this),1)};I.prototype.setRootNode=function(_){this._rootNode=_;this._rootNode.style("cursor",'default');return I};I.prototype._selb_parseOptions=function(){var e=this._selb_props;if(!e.selectability){e.selectability={}}var i=(e.selectability.mode||'').toUpperCase();switch(i){case C.SELECTION_MODE.SINGLE:case C.SELECTION_MODE.MULTIPLE:case C.SELECTION_MODE.INCLUSIVE:case C.SELECTION_MODE.EXCLUSIVE:case C.SELECTION_MODE.NONE:this._selb_selectionMode=i;break;default:this._selb_selectionMode=C.SELECTION_MODE.INCLUSIVE;break}this._selb_lassoWithCtrlKey=!!e.selectability.lassoWithCtrlKey;this._selb_holdSelection=e.holdSelection;this._selb_preserveSelectionWhenDragging=e.preserveSelectionWhenDragging};I.prototype.properties=function(_){if(!arguments.length){return this._selb_props}this._lastSelected=[];O.extend(true,this._selb_props,_);this._selb_parseOptions()};I.prototype.reset=function(){plots=[];this._lastSelected.splice(0,this._lastSelected.length)};I.prototype.module=function(_){if(!arguments.length){return this._selb_m}this.reset();this._selb_m=_;return I};I.prototype.getSelectionMode=function(){return this._selb_selectionMode};I.prototype.highlightedByLegend=function(e){};I.prototype.defaultSelection=function(e){};I.prototype.dispatch=function(){return this._selb_dispatch};I.prototype.destroy=function(){t.call(this,'infoMode');t.call(this,'actionMode');this.reset();this._selb_m=null;this._selb_plots=null;this._behaviorManager=null;this._selb_ctx=null;this._rootNode=null;if(this._lassoDecoration){this._lassoDecoration.destroy();this._lassoDecoration=null}this._lassoStartPoint=null;this._lassoEndPoint=null;this._clickLikeTriggers=null;this._mainPlots=null;this._mainPlotBoundRects=null};return I});define('sap/viz/chart/elements/manifests/controller/Interaction',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/behaviors/Interaction','sap/viz/modules/manifests/controller/Base'],function Setup(M,C,f,B){var m={'id':'sap.viz.modules.controller.interaction','name':'selection','base':"sap.viz.modules.controller.base",'type':C.Type.Behavior,'description':'Settings for user interaction with the chart','properties':{'selectability':{'name':'selectability','supportedValueType':'Object','supportedValues':{mode:{'name':'mode','supportedValueType':'String','supportedValues':['exclusive','inclusive','single','multiple','none'],'defaultValue':'inclusive','description':"Set the selection mode. If this value is set to 'exclusive' or 'single', only one set of data points can be selected at once. If this value is set to 'inclusive' or 'multiple', multiple sets of data points can be selected at once. If this value is set to 'none', no sets of data points can be selected. The values 'single' and 'multiple' are deprecated; please remove them from your chart.",'example':"<a href='"+C.DocExample.SnippetUrl+"3138' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},axisLabelSelection:{name:"axisLabelSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether axis labels can be selected"},legendSelection:{name:"legendSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether the legend can be selected"},plotLassoSelection:{name:"plotLassoSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether lasso selection can be used in the plot area"},plotStdSelection:{name:"plotStdSelection",supportedValueType:"Boolean",defaultValue:true,description:"Set whether selection can be done in the plot area by clicking and tapping"},lassoWithCtrlKey:{name:"lassoWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether the user must hold the ctrl key to use lasso selection",isExported:false},dataPointsCacheable:{name:"dataPointsCacheable",supportedValueType:"Boolean",defaultValue:true,description:"Set whether data points can be cached. If it's true, data points might be cached by Interaction for better performance.",isExported:false}},'description':'Settings for selectability'},pan:{name:'pan','supportedValueType':'Object','supportedValues':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':true,'description':'Enable/disable pan','isExported':true},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['horizontal','vertical','both'],'defaultValue':'both','description':'Set orientation of pan','isExported':false}},'isExported':false},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:['mouseup','mousedown','mousemove','mouseout','mouseover','touchstart'],defaultValue:['mouseup','mousedown','mousemove','mouseout','mouseover','touchstart'],description:"Set supported event names",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled",isExported:false},decorations:{name:"decorations",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set decorations relating to interaction. Each item \n\
                that is an object of {name: 'decoration name', fn: 'decoration callback function'} is a decoration. \n\
                Currently two decorations are supported: showDetail and hideDetail. \n\
                These two decorations can be used to create a user-defined tooltip. \n\
                    \nIf these 2 decorations are used, the default tooltip is not used, \n\
                and the user should implement a custom tooltip. \n\
                The showDetail decoration is called when the tooltip is shown, \n\
                and the hideDetail decoration is called when the tooltip is hidden.\n\
                    \nThe arguments of showDetail are one object of {mode: 'tooltip mode', \n\
                data: 'data of hovering selected data point', position: 'mouse position', \n\
                container: 'chart container dom element', selectedNumber: 'number of selected data points'}. \n\
                'tooltip mode' is either 'infoMode' or 'actionMode'. Hovering over an unselected data point displays the infoMode tooltip, \n\
                while hovering over a selected data point displays the actionMode tooltip.\n\
                'data' is an array of dimensions and measures, where each item is an object of \n\
                {name: 'dimension name or measure name', value: 'dimension member or measure value',\n\
                type: 'literal string of dimension or measure'}. For instance, \n\
                {name: 'Country', value: 'China', type: 'dimension'}, or \n\
                {name: 'Profit', value: 159, type: 'measure'}.\n\
                    \nThe arguments of hideDetail are a string representing tooltip mode, \n\
                i.e. what kind of tooltip should be hidden.",isExported:true},triggers:{name:"triggers",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set triggers for behavior decration.",isExported:false},handlers:{name:"handlers",supportedValueType:"ObjectArray",defaultValue:undefined,description:"Set handlers for behavior decration.",isExported:false}},'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/manifests/Tooltip',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/Tooltip'],function Setup(M,C,f,T){var m={'id':'sap.viz.chart.elements.Tooltip','type':C.Type.Presentation.Tooltip,"renderto":C.RenderTo.NONE,'name':'tooltip','description':'Settings for the tooltip that appears when the mouse is hovering over a data point or series','properties':{'preRender':{'name':'preRender','supportedValueType':'Function','defaultValue':null,'description':'A callback function can be specified as a parameter and passed to chart options when the user calls the createViz function. '+'This callback function is called before the tooltip is rendered. The input parameter is a dom element, which is at the bottom of the tooltip.'+' Any dom element such as a button can be appended to this parent node. It can only be called when the tooltip is in actionMode.','example':"<a href='"+C.DocExample.SnippetUrl+"3569' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'postRender':{'name':'postRender','supportedValueType':'Function','defaultValue':null,'description':'A callback function can be specified as a parameter and passed to chart options when the user calls the createViz function. '+'This callback function is called after the tooltip is rendered. The user can select and change dom elements\' properties under the tooltip element.','example':"<a href='"+C.DocExample.SnippetUrl+"6557' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the tooltip'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set the drawing effect for the tooltip','isExported':false},'formatString':{'name':'formatString','supportedValueType':'Two-Dimensions-Array','defaultValue':null,'description':'Set the format strings for text in the tooltip. For dual axis charts, the first array is applied to the primary axis and the second array is applied to the second axis. '+'If you enter fewer format strings into an array than there are measures in the respective axis, then the last format string is applied to all remaining measures. '+'The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@.'+'The following is an example of an array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].','example':"<a href='"+C.DocExample.SnippetUrl+"5711' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'layinChart':{'name':'layinChart','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip appears in the chart area'},'background':{'name':'background','cssClass':'.viz-tooltip-background.v-background','description':'Define the background style of the tooltip.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'background-color','description':'Define the background color of the tooltip.','supportedValueType':'String','defaultValue':'#ffffff'},'borderColor':{'name':'borderColor','cssStyle':'border-color border-top-color border-bottom-color border-left-color border-right-color','description':'Define the background border color of the tooltip.','supportedValueType':'String','defaultValue':'#cccccc'}}},'footerLabel':{'name':'footerLabel','cssClass':'.v-footer-label','description':'Define the style of the label of the tooltip footer.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'color','description':'Define the color of the label of the tooltip footer.','supportedValueType':'String','defaultValue':'#000000'}},"isExported":false},'separationLine':{'name':'separationLine','cssClass':'.v-separationline','description':'Define the color of the value of the tooltip separation line.','supportedValueType':'Object','supportedValues':{'borderBottomColor':{'name':'borderBottomColor','cssStyle':'border-bottom-color','supportedValueType':'String','defaultValue':'#a7a9ac'}},"isExported":false},'bodyDimensionLabel':{'name':'bodyDimensionLabel','cssClass':'.viz-tooltip-value.v-body-dimension-label','description':'Define the color of the dimension name of the tooltip body.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'color','supportedValueType':'String','defaultValue':'#666666'}},"isExported":false},'bodyDimensionValue':{'name':'bodyDimensionValue','cssClass':'.viz-tooltip-value.v-body-dimension-value','description':'Define the color of the dimension value of the tooltip body.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'color','supportedValueType':'String','defaultValue':'#666666'}},"isExported":false},'bodyMeasureLabel':{'name':'bodyMeasureLabel','cssClass':'.viz-tooltip-value.v-body-measure-label','description':'Define the color of the measure name of the tooltip body.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'color','supportedValueType':'String','defaultValue':'#666666'}},"isExported":false},'bodyMeasureValue':{'name':'bodyMeasureValue','cssClass':'.viz-tooltip-value.v-body-measure-value','description':'Define the color of the measure value of the tooltip body.','supportedValueType':'Object','supportedValues':{'color':{'name':'color','cssStyle':'color','supportedValueType':'String','defaultValue':'#000000'}},"isExported":false},'closeButton':{'name':'closeButton','cssClass':'.v-closeButton','description':'Define the background and border color of tooltip close button.','supportedValueType':'Object','supportedValues':{'backgroundColor':{'name':'backgroundColor','cssStyle':'background-color','supportedValueType':'String','defaultValue':'#ffffff'},'borderColor':{'name':'borderColor','cssStyle':'border-color border-top-color border-bottom-color border-left-color border-right-color','supportedValueType':'String','defaultValue':'#cccccc'}},"isExported":false}},'css':{'.viz-tooltip-background.v-background':{'description':'Define the background color of the tooltip','value':{'background-color':'#ffffff','border-color':'#CCCCCC'}},'.v-footer-label':{'description':'Define the color of the label of the tooltip footer','value':{'color':'#000000'}},'.v-separationline':{'description':'Define the color of the value of the tooltip separation line','value':{'border-bottom-color':'#a7a9ac'}},'.viz-tooltip-value.v-body-dimension-label':{'description':'Define the color of the dimension name of the tooltip body','value':{'color':'#666666'}},'.viz-tooltip-value.v-body-dimension-value':{'description':'Define the color of the dimension value of the tooltip body','value':{'color':'#666666'}},'.viz-tooltip-value.v-body-measure-label':{'description':'Define the color of the measure name of the tooltip body','value':{'color':'#666666'}},'.viz-tooltip-value.v-body-measure-value':{'description':'Define the color of the measure value of the tooltip body','value':{'color':'#000000'}},'.v-closeButton':{'description':'Define the background and border color of tooltip close button','value':{'background-color':'#ffffff','border-color':'#cccccc'}}},fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/threeD/Vector',[],function Setup(P){function V(){this.values=new Array(arguments.length);for(var i=0,l=arguments.length;i<l;i++){this.values[i]=arguments[i]}}V.prototype.dotProduct=function(v){var d=v.dimension();if(d!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+d+".")}var s=0;for(var i=0;i<d;i++){s+=this.values[i]*v.values[i]}return s};V.prototype.dimension=function(v){return this.values.length};V.prototype.value=function(i,d){if(arguments.length>=2){this.values[i]=d}return this.values[i]};return V});define('sap/viz/modules/threeD/Vector4D',['sap/viz/modules/threeD/Vector'],function Setup(V){function a(p,b,c,d){V.apply(this,arguments)}a.prototype=Object.create(V.prototype);return a});define('sap/viz/modules/threeD/Point',['sap/viz/modules/threeD/Vector4D'],function Setup(V){function P(x,y,z){this.x=x;this.y=y;this.z=z}P.prototype.transform=function(m){var v=new V(this.x,this.y,this.z,1);this.x=m.row(0).dotProduct(v);this.y=m.row(1).dotProduct(v);this.z=m.row(2).dotProduct(v);return this};return P});define('sap/viz/modules/threeD/matrix',['sap/viz/modules/threeD/Vector4D'],function Setup(V){var d=4;var l=d*d;function a(c){return c*Math.PI/180}var b=function(){var c=new Array(l);var e={unit:function(){for(var i=0;i<l;i++){c[i]=(i%(d+1)===0)?1:0}return e},value:function(r,f,v){var i=r*d+f;if(arguments.length>=3){c[i]=v;return e}return c[i]},row:function(r){var f=new Array(d);var s=r*d;for(var i=0;i<d;i++){f[i]=c[s+i]}return new V(f[0],f[1],f[2],f[3])},col:function(f){var g=new Array(d);for(var i=0;i<d;i++){g[i]=c[d*i+f]}return new V(g[0],g[1],g[2],g[3])},translate:function(t,f,g){return e.transform(b().value(0,3,t||0).value(1,3,f||0).value(2,3,g||0))},scale:function(t,f,g){return e.transform(b().value(0,0,t||0).value(1,1,f||0).value(2,2,g||0))},rotateX:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(1,1,g).value(1,2,-s).value(2,1,s).value(2,2,g))},rotateY:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(0,0,g).value(0,2,s).value(2,0,-s).value(2,2,g))},rotateZ:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(0,0,g).value(0,1,-s).value(1,0,s).value(1,1,g))},transform:function(m){if(m){var r=new Array(d),f=new Array(d),i;for(i=0;i<d;i++){r[i]=m.row(i);f[i]=e.col(i)}for(i=0;i<d;i++){var s=i*d;for(var j=0;j<d;j++){var g=s+j;c[g]=r[i].dotProduct(f[j])}}}return e},clone:function(){var n=b();for(var i=0;i<d;i++){for(var j=0;j<d;j++){n.value(i,j,e.value(i,j))}}return n},projection:function(){return"matrix("+e.value(0,0)+","+e.value(1,0)+","+e.value(0,1)+","+e.value(1,1)+","+e.value(0,3)+","+e.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var s="";for(var i=0;i<l;i++){if(i%4!==0){s+=", "}s+=c[i];if((i-3)%4===0){s+="\n"}}return s},destroy:function(){c=null}};return e.unit()};return b});define('sap/viz/modules/axis/valueAxisCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,P,m,U){var r=function(){var a;var b=null;var c=5;var d=6;var e=7;var f=1;var g="#6c6c6c";var h="#d8d8d8";var j="#ffffff";var k="#333333";var l="viz-axis-label";var n=null;var o={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":h,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":g,"axisline":{"visible":true},"shapeRendering":true};var p={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var s=p.axisLabel+' '+l+' '+p.morphableLabel;var t=m(),u=null,v=null,w=null,x=null,z=null;var A=-1;B.spaceLimit=function(_){if(!arguments.length)return A;A=_;if(A===null){A=-1}return B};function B(y){var Q=b.range();var R=b.domain();if(Q[0]==0&&Q[1]==0){return}var S=H();if(a=="bottom"){if(o.initializeFirstLine!==true&&z===true){o.gridline.showFirstLine=true}if(o.initializeLastLine!==true&&z===true){o.gridline.showLastLine=true}var V=0;if(o.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}V=I(W)}if((A!=-1)&&(V+c+2*d+f/2>N.precise(A,true))){S=[];V=0}for(var i=0;i<S.length;i++){var X=y.append("line");X.each(function(){this.setAttribute("class",(o.isAxisColorFixed?p.fixedAxisLine:p.axisLine));this.setAttribute("x1",b(S[i].value));this.setAttribute("x2",b(S[i].value));this.setAttribute("y1",0);this.setAttribute("y2",c+1);this.setAttribute("stroke",o.color);this.setAttribute("stroke-width",o.lineSize);this.setAttribute("shape-rendering",(o.shapeRendering?"crispEdges":"auto"))});if(w){var Y=w*Math.PI/180;var Z=Math.cos(Y);var $=(45===w)?Z:Math.sin(Y);var _=x*Math.PI/180;var a1=Math.cos(_);var b1=Math.sin(_);var c1=b(S[i].value)*$;tickStartY=-b(S[i].value)*Z;var x2=c1+(c+1)*a1,y2=tickStartY+(c+1)*b1;X.attr('x1',c1).attr('y1',tickStartY).attr('x2',x2).attr('y2',y2)}var f1=function(){var d1=y.append("line").attr("class",p.gridLine).attr("x1",b(S[i].value)).attr("x2",b(S[i].value)).attr("y1",-o.gridline.length).attr("y2",0).attr("stroke",o.gridline.color).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(o.gridline.type=="dotted"){d1.attr("stroke-dasharray","3, 2")}if(o.gridline.type=="incised"){var d1=y.append("line").attr("class",p.incisedGridLine).attr("x1",b(S[i].value)-1).attr("x2",b(S[i].value)-1).attr("y1",-o.gridline.length).attr("y2",0).attr("stroke",j).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}};if(o.gridline.visible){if(i==0&&o.gridline.showFirstLine){f1()}else if(i==(S.length-1)&&o.gridline.showLastLine){f1()}else if((i!=(S.length-1))&&(i!=0)){f1()}}}if(o.label.visible){E(y,"bottom",S,V)}if(o.axisline.visible){var x1=Q[0];var x2=Q[1];var y1=0;var y2=0;var i1=0;var j1="M"+x1+" "+(y1+i1);j1+="L"+x1+" "+y1;j1+="L"+x2+" "+y2;j1+="L"+x2+" "+(y2+i1);var k1=y.append("path").attr("class",o.isAxisColorFixed?p.fixedAxisLine:p.axisLine).attr("d",j1).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(w){var Y=w*Math.PI/180;var Z=Math.cos(Y);var $=(45==w)?Z:Math.sin(Y);j1='M '+Q[0]+' '+y1;j1+='L'+(Q[0]+Q[1]*$)+' '+(y2-Q[1]*Z);j1+='Z';k1.attr('d',j1)}}}else if(a=="top"){var V=0;if(o.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}V=I(W)}if((A!=-1)&&(V+c+2*d+f/2>N.precise(A,true))){S=[];V=0}var l1=1;if(o.label.visible){l1=2}for(var i=0;i<S.length;i++){var X=y.append("line");X.each(function(){this.setAttribute("class",(o.isAxisColorFixed?p.fixedAxisLine:p.axisLine));this.setAttribute("x1",b(S[i].value));this.setAttribute("x2",b(S[i].value));this.setAttribute("y1",V+l1*d);this.setAttribute("y2",V+l1*d+c);this.setAttribute("stroke",o.color);this.setAttribute("stroke-width",o.lineSize);this.setAttribute("shape-rendering",(o.shapeRendering?"crispEdges":"auto"))});var f1=function(){var d1=y.append("line").attr("class",p.gridLine).attr("x1",b(S[i].value)).attr("x2",b(S[i].value)).attr("y1",V+c+l1*d).attr("y2",V+c+l1*d+o.gridline.length).attr("stroke",o.gridline.color).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(o.gridline.type=="dotted"){d1.attr("stroke-dasharray","3, 2")}if(o.gridline.type=="incised"){var d1=y.append("line").attr("class",p.incisedGridLine).attr("x1",b(S[i].value)-1).attr("x2",b(S[i].value)-1).attr("y1",V+c+l1*d).attr("y2",V+c+l1*d+o.gridline.length).attr("stroke",j).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}};if(o.gridline.visible){if(i==0&&o.gridline.showFirstLine){f1()}else if(i==(S.length-1)&&o.gridline.showLastLine){f1()}else if((i!=(S.length-1))&&(i!=0)){f1()}}}if(o.label.visible){E(y,"top",S,V)}if(o.axisline.visible){var x1=Q[0];var x2=Q[1];var y1=V+c+l1*d;var y2=V+c+l1*d;var i1=0;var j1="M"+x1+" "+(y1-i1);j1+="L"+x1+" "+y1;j1+="L"+x2+" "+y2;j1+="L"+x2+" "+(y2-i1);var k1=y.append("path").attr("class",o.isAxisColorFixed?p.fixedAxisLine:p.axisLine).attr("d",j1).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}else if(a=="left"){if(o.initializeFirstLine!==true&&z===true){o.gridline.showFirstLine=true}if(o.initializeLastLine!==true&&z===true){o.gridline.showLastLine=true}S=D(S,a);var m1=0;if(o.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}m1=J(W)}if((A!=-1)&&(m1+c+2*d+f/2>N.precise(A,true))){S=[];m1=0}var l1=1;if(o.label.visible){l1=2}for(var i=0;i<S.length;i++){var X=y.append("line");X.each(function(){this.setAttribute("class",(o.isAxisColorFixed?p.fixedAxisLine:p.axisLine));this.setAttribute("x1",m1+l1*d);this.setAttribute("x2",m1+l1*d+c);this.setAttribute("y1",b(S[i].value));this.setAttribute("y2",b(S[i].value));this.setAttribute("stroke",o.color);this.setAttribute("stroke-width",o.lineSize);this.setAttribute("shape-rendering",(o.shapeRendering?"crispEdges":"auto"))});var f1=function(){var d1=y.append("line").attr("class",p.gridLine).attr("y1",b(S[i].value)).attr("y2",b(S[i].value)).attr("x1",m1+l1*d+c).attr("x2",m1+l1*d+c+o.gridline.length).attr("stroke",o.gridline.color).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(o.gridline.type=="dotted"){d1.attr("stroke-dasharray","3, 2")}if(o.gridline.type=="incised"){var d1=y.append("line").attr("class",p.incisedGridLine).attr("y1",b(S[i].value)+1).attr("y2",b(S[i].value)+1).attr("x1",m1+l1*d+c).attr("x2",m1+l1*d+c+o.gridline.length).attr("stroke",j).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}};if(o.gridline.visible){if(i==0&&o.gridline.showFirstLine){f1()}else if(i==(S.length-1)&&o.gridline.showLastLine){f1()}else if((i!=(S.length-1))&&(i!=0)){f1()}}if(o.label.visible){var n1=y.append("g").attr("fill",n.defaultStyle.label.fill).attr("class",s).attr("font-size",n.defaultStyle.label['font-size']).attr("font-weight",n.defaultStyle.label['font-weight']).attr("font-family",n.defaultStyle.label['font-family']).append("text").attr("x",m1+d).attr("y",b(S[i].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(S[i].text);C(n1)}}if(o.axisline.visible){var x1=m1+l1*d+c;var x2=m1+l1*d+c;var y1=Q[0];var y2=Q[1];var i1=0;var j1="M"+(x1-i1)+" "+y1;j1+="L"+x1+" "+y1;j1+="L"+x2+" "+y2;j1+="L"+(x2-i1)+" "+y2;var k1=y.append("path").attr("class",o.isAxisColorFixed?p.fixedAxisLine:p.axisLine).attr("d",j1).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}else if(a=="right"){S=D(S,a);if(o.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}m1=J(W)}else{S=[];m1=0}if((A!=-1)&&(m1+c+2*d+f/2>N.precise(A,true))){S=[];m1=0}for(var i=0;i<S.length;i++){var X=y.append("line");X.each(function(){this.setAttribute("class",(o.isAxisColorFixed?p.fixedAxisLine:p.axisLine));this.setAttribute("x1",0);this.setAttribute("x2",c);this.setAttribute("y1",b(S[i].value));this.setAttribute("y2",b(S[i].value));this.setAttribute("stroke",o.color);this.setAttribute("stroke-width",o.lineSize);this.setAttribute("shape-rendering",(o.shapeRendering?"crispEdges":"auto"))});var f1=function(){var d1=y.append("line").attr("class",p.gridLine).attr("y1",b(S[i].value)).attr("y2",b(S[i].value)).attr("x1",-o.gridline.length).attr("x2",0).attr("stroke",o.gridline.color).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(o.gridline.type=="dotted"){d1.attr("stroke-dasharray","3, 2")}if(o.gridline.type=="incised"){var d1=y.append("line").attr("class",p.incisedGridLine).attr("y1",b(S[i].value)+1).attr("y2",b(S[i].value)+1).attr("x1",-o.gridline.length).attr("x2",0).attr("stroke",j).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}};if(o.gridline.visible){if(i==0&&o.gridline.showFirstLine){f1()}else if(i==(S.length-1)&&o.gridline.showLastLine){f1()}else if((i!=(S.length-1))&&(i!=0)){f1()}}if(o.label.visible){var n1=y.append("g").attr("fill",n.defaultStyle.label.fill).attr("class",s).attr("font-size",n.defaultStyle.label['font-size']).attr("font-weight",n.defaultStyle.label['font-weight']).attr("font-family",n.defaultStyle.label['font-family']).append("text").attr("x",c+d).attr("y",b(S[i].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(S[i].text);C(n1)}}if(o.axisline.visible){var x1=0;var x2=0;var y1=Q[0];var y2=Q[1];var i1=0;var j1="M"+(x1+i1)+" "+y1;j1+="L"+x1+" "+y1;j1+="L"+x2+" "+y2;j1+="L"+(x2+i1)+" "+y2;var k1=y.append("path").attr("class",o.isAxisColorFixed?p.fixedAxisLine:p.axisLine).attr("d",j1).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}};var C=function(i){if(U.isIE()){var Q=n.realStyle.label['font-size'].toString();var R=Q.indexOf("px");if(R>=0){Q=Q.substr(0,R)}var y=i.attr("y");i.attr("y",Number(y)+Q/2);i.attr("dominant-baseline","auto")}};B.matrix=function(_){if(!arguments.length){return t}t=_;return B};B.labelAngle=function(_){if(!arguments.length){return u}u=_;return B};B.tickAngle=function(_){if(!arguments.length){return x}x=_;return B};B.otherAxisHidden=function(_){if(!arguments.length){return z}z=_;return B};B.angle=function(_){if(!arguments.length){return w}w=_;return B};B.labelAlign=function(_){if(!arguments.length){return v}v=_;return B};B.position=function(_){if(!arguments.length)return a;a=_;return B};B.style=function(_){if(arguments.length==0)return n;n=O.extend(true,n,_);return B};B.properties=function(_){if(arguments.length==0)return o;o=L(o,_);return B};B.axScale=function(_){if(!arguments.length)return b;b=_;return B};B.startPadding=function(){if(b){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[0].text,n.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.endPadding=function(){if(b){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[i.length-1].text,n.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.getPreferredSize=function(){var y=b.domain();var Q=b.range();var R=0;var S=0;var V=[];if(!(Q[0]==0&&Q[1]==0)){var W=Math.abs(Q[0]-Q[1]);if(a=="bottom"||a=="top"){R=W+f;if(o.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}S=I(Y)+c+2*d+f/2}else{S=c+d+f/2}V.push(S)}else if(a=="left"||a=="right"){if(o.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}if(K(Y[0],n.realStyle.label).height>W){R=c+2*d}else{R=J(Y)+c+2*d+f/2;}}else{R=c+d+f/2}V.push(R);S=W+f}}return{width:R,height:S,spacings:V,}};B.destroy=function(){w=null;v=null;u=null;s=null;t=null;o=null;n=null;j=null;p=null;m_selection=null;b=null};var D=function(y,Q){if(y.length>0){if(b(y[0].value)>b(y[y.length-1].value)){y.reverse()}}var R=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var S={};S.value=y[i].value;S.text=y[i].text;var V=K(S.text,n.realStyle.label);var W=b(S.value);if(Q=='left'||Q=='right'){S.start=W-V.height/2;S.end=W+V.height/2}else{S.start=W-V.width/2;S.end=W+V.width/2}R.push(S)}}var X=[];X=F(R);return X};var E=function(y,Q,R,S){if(R.length==0){return}var V=D(R,Q);for(var i=0;i<V.length;i++){if(w){var W=w*Math.PI/180;var X=Math.cos(W);var Y=(45===w)?X:Math.sin(W);var Z=x*Math.PI/180;var $=Math.cos(Z);var _=Math.sin(Z);var a1=b(V[i].value)*Y;tickStartY=-b(V[i].value)*X;var b1=y.append("g").attr("fill",n.defaultStyle.label.fill).attr("class",s).attr("font-size",n.defaultStyle.label['font-size']).attr("font-weight",n.defaultStyle.label['font-weight']).attr("font-family",n.defaultStyle.label['font-family']).append('text').attr('x',a1+(d+c)*$).attr('y',tickStartY+(d+c)*_).attr("dominant-baseline","middle").attr("text-anchor",'start').text(V[i].text);if(x>90){b1.attr("text-anchor",'end').attr('transform','rotate( '+(x-180)+' '+b1.attr("x")+' '+b1.attr("y")+')')}else{b1.attr('transform','rotate( '+(x)+' '+b1.attr("x")+' '+b1.attr("y")+')')}}else{var b1=y.append("g").attr("fill",n.defaultStyle.label.fill).attr("class",s).attr("font-size",n.defaultStyle.label['font-size']).attr("font-weight",n.defaultStyle.label['font-weight']).attr("font-family",n.defaultStyle.label['font-family']).append("text").attr("x",b(V[i].value)).attr("y",d+c).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(V[i].text);b1.attr("dominant-baseline","auto");b1.attr("y",S+d)}}};var F=function(y){var Q=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var R=[];var S=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){R.push(y[i])}if(y[i].value>=0){S.push(y[i])}}var V;var W=R.length;if(R[0].value<=R[W-1].value){V=R[0]}else{V=R[W-1]}var X;var Y=S.length;if(S[0].value<=S[Y-1].value){X=S[Y-1]}else{X=S[0]}R=G(R);S=G(S);if(R[0].value>R[R.length-1].value){R.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(R[R.length-1].value==0&&S[0].value==0){R.pop()}var Z=R.concat(S);if(V.value!==Z[0].value){Z.splice(0,0,V)}if(X.value!==Z[Z.length-1].value){Z.push(X)}if(Z[0].start>Z[Z.length-1].start){Z.reverse()}Q=G(Z)}else{Q=G(y)}}if(Q.length<=1){Q=[]}return Q};var G=function(y){var Q=[];for(var R=0;R<=(y.length-1);R++){var S=true;for(var i=0;i<y.length-1;i+=(R+1)){var V=y[i];if(i!=0){var W=Q[Q.length-1];if(y[i].start<=W.end){if(Q.length>1){S=false;break}}else{Q.push(V)}}else{Q.push(V)}}var X=y[y.length-1];if(X.start<Q[Q.length-1].end){Q.pop()}Q.push(X);if(S){break}else{Q=[]}}return Q};var H=function(){var y=b.domain();var Q=e;if(b.tickHint){Q=b.tickHint}var R=b.ticks(Q);for(var i=0;i<R.length;i++){R[i]=N.precise(R[i])}var S;var V;if(y[0]<=y[y.length-1]){S=y[0];V=y[y.length-1]}else{S=y[y.length-1];V=y[0]}if(R.length>0){if(R[0]!=S){R.unshift(S)}if(R[R.length-1]!=V){R.push(V)}}var W=[];for(var i=0;i<R.length;i++){var X={};X.value=R[i];if(o.isPercentMode){X.text=N.precise(R[i]*100).toString()}else{X.text=N.precise(R[i]).toString()}W.push(X)}if(o.label){if(!o.label.formatString&&o.label.numberFormat){for(var i=0;i<R.length;i++){var Y=d3.format(o.label.numberFormat);W[i].text=(Y(R[i]))}}else if(o.label.formatString){if(!(o.isPercentMode&&o.label.formatString.indexOf('u')>=0)){var Z=o.label.formatString;for(var i=0;i<R.length;i++){W[i].text=(N.format(R[i],Z,o.label.unitFormatType))}}}}return W};var I=function(y){var Q=o.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],n.realStyle.label).width}else{S=K(y[i],n.realStyle.label).height}if(R<S){R=S}}return R};var J=function(y){var Q=o.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],n.realStyle.label).height}else{S=K(y[i],n.realStyle.label).width}if(R<S){R=S}}return R};var K=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var L=function(i,y){for(var Q in y){if(typeof(y[Q])==="object"){if(i[Q]){i[Q]=L(i[Q],y[Q])}else{i[Q]=y[Q]}}else{i[Q]=y[Q]}}return i};return B};return r});define('sap/viz/modules/axis/categoryAxisCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/util/NumberUtils','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,l,a,P,m,F,U){var r=function(){var b;var c;var d;var e;var f=5;var g=1;var h="#d8d8d8";var k="#b3b3b3";var n="viz-axis-label";var o="#cccccc";var p="#808080";var s=6;var t=true;var u=null;var v=false;var w=null;var x=false;var z=null;var A={"title":{"visible":false,"text":undefined},"gridline":{"visible":false,"color":h,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","forceLabelArea":false,"shapeRendering":true,"forceVerticalFont":false};var B={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",axisLongTick:"v-longtick",gridLine:"v-gridline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var C=B.axisLabel+' '+n+' '+B.morphableLabel;var D=m(),E=null,G=null,H=null,I=null,J=null;var K=-1;var L=function(i){var j=[];var y=c.length>1?true:false;if(y){e=6}else{e=11}for(var _=0;_<c.length;_++){var l1=c[_].domain;var m1=c[_].range;if(m1&&m1.length&&m1[0].length&&!c.noEqual){if(_===c.length-1){var n1=parseFloat(z.realStyle.label['font-size'])*1.2;var o1=m1[0][1]-m1[0][0];var p1=Math.ceil(n1/o1);c[_].skipInterval=p1>1?p1:1}else{c[_].skipInterval=1}}var re=g1(l1,m1,c[_].skipInterval,true);var r1=re.isVertical;if(b==="left"||b==="right"){c[_].labelsToDraw=a1(l1,m1,c[_].skipInterval,y,i)}else{c[_].labelsToDraw=d1(l1,m1,c[_].skipInterval,r1,y,i)}if(_===0){j.push(c[_]);if(i>=0){break}}else if(c[_].labelsToDraw.length===c[_].domain.length){j.push(c[_])}else if(c[_].labelsToDraw.length>0&&a.isExist(c.noEqual)&&c.noEqual===true){j.push(c[_])}}if(A.label.hideSubLevels){while(j.length>1){j.pop()}}return j};var Q=function(i,j,y,_,y2){var l1=i.append("line").attr("class",B.gridLine).attr("y1",y).attr("y2",y2).attr("x1",j).attr("x2",_).attr("stroke",A.gridline.color).attr("stroke-width",A.gridline.size).attr("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(A.gridline.type==="dotted"){l1.attr("stroke-dasharray","3, 2")}};var R=function(i){if(arguments.length>0&&i!==undefined){return u[0].domain.length<=i/s}return true};function S(j){d=j;var y=null;if(u===null){y=L();u=y}else{y=u}var _=false;var i;var l1=S.getPreferredSize();w=l1;if(K>=0){var m1=[];var n1=l1.spacings;var o1=l1.minTruncateSize;var p1=N.precise(K);for(i=0;i<n1.length;i++){if(p1>=n1[i]){m1.push(y[i]);p1-=n1[i];p1=N.precise(p1)}else{if(i===0&&o1>0&&p1>=o1){_=true}break}}if(m1.length===0&&y.length>0&&!_){var q1=[];for(i=0;i<y[0].domain.length;i++){q1.push('')}m1.push({domain:q1,range:y[0].range})}y=m1;if(_){y=L(K)}}var r1;var s1;if(b==="left"){for(r1=(y.length-2);r1>=0;r1--){s1=y[r1].labelsToDraw;var t1=y[r1+1].labelsToDraw;var u1=t1.length-1;for(i=s1.length-1;i>=0;i--){var v1=s1[i].originalIndex;var w1=false;for(;u1>=0;--u1){var z1=t1[u1].originalIndex;if(y[r1+1].itemIndexRange[z1][1]<y[r1].itemIndexRange[v1][0]){continue}else if(y[r1+1].itemIndexRange[z1][0]>y[r1].itemIndexRange[v1][1]){w1=false;break}w1=true;break}if(w1){s1[i].y=t1[u1].y}}}}var A1=y.length>1?true:false;var B1,C1;var D1,E1;var re,G1,H1,I1,J1;var x1,x2,y1,y2,O1;var P1,Q1,R1;var S1,T1,U1,V1,W1;var X1;if(A.customizedColor){X1=A.color}else{X1=k}var Y1=f;if(!A.label.visible){Y1=0}if(b==="left"){B1=w.width;for(r1=(y.length-1);r1>=0;r1--){if(!A.label.visible&&r1!==(y.length-1)){continue}D1=y[r1].domain;E1=y[r1].range;re=h1(D1,E1,y[r1].skipInterval);G1=_?i1(y[r1].labelsToDraw,false,1).maxWidth:re.maxLabelTextWidth;H1=G1+2*e;if(!A.label.visible){G1=0;H1=0}H1=_?K:H1;if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){if(A.gridline.showFirstLine){Q(j,B1,E1[E1.length-1][1],B1+A.gridline.length,E1[E1.length-1][1])}if(A.gridline.showLastLine){Q(j,B1,E1[0][0],B1+A.gridline.length,E1[0][0])}}if(y.length===1){x1=B1;x2=B1;y1=E1[0][0];y2=E1[E1.length-1][1];if(A.axisline.visible){O1="M"+(x1-Y1)+" "+y1;O1+="L"+x1+" "+y1;O1+="L"+x2+" "+y2;O1+="L"+(x2-Y1)+" "+y2;P1=j.append("path");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("d",O1);this.setAttribute("fill","none");this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}else if(y.length>=2&&(r1===y.length-1)){P1=j.append("line");P1.each(function(){this.setAttribute("x1",B1);this.setAttribute("x2",B1);this.setAttribute("y1",E1[0][0]);this.setAttribute("y2",E1[E1.length-1][1]);this.setAttribute("class",B.axisLine+" "+"domain");this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){for(i=0;i<D1.length;i++){Q(j,B1,E1[i][0],B1+A.gridline.length,E1[i][0]);if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){Q(j,B1,E1[i][1],B1+A.gridline.length,E1[i][1])}}Q(j,B1+A.gridline.length,E1[0][0],B1+A.gridline.length,E1[i-1][1])}for(i=0;i<D1.length;i++){if(((y.length===1&&A.label.visible)||(y.length!==1&&!A.label.visible))&&A.axisTick.visible&&(R(w?w.height:undefined))){if(i>0&&(E1[i][0]!==E1[i-1][1])){Q1=j.append("line");Q1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",H1-f);this.setAttribute("x2",H1);this.setAttribute("y1",E1[i][0]);this.setAttribute("y2",E1[i][0]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if(i!==(D1.length-1)){R1=j.append("line");R1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",H1-f);this.setAttribute("x2",H1);this.setAttribute("y1",E1[i][1]);this.setAttribute("y2",E1[i][1]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}if(y.length>=2&&A.label.visible){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",w.width);this.setAttribute("x2",B1-H1);this.setAttribute("y1",E1[i][0]);this.setAttribute("y2",E1[i][0]);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("x1",B1);this.setAttribute("x2",B1-f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}});if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",w.width);this.setAttribute("x2",B1-H1);this.setAttribute("y1",E1[i][1]);this.setAttribute("y2",E1[i][1]);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("x1",B1);this.setAttribute("x2",B1-f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}})}}}s1=y[r1].labelsToDraw;for(i=(s1.length-1);i>=0;i--){S1=s1[i].custom;if(!(S1&&S1.type==='url')){T1=a.isExist(s1[i].text)?s1[i].text:'';if(A.label.visible){U1=j.insert("g",":first-child");var Z1=1;var $1=B1-H1+Z1;if(A.enableLabelSelection){var _1=A.forceLabelArea||s1[i].height>s1[i].rectHeight;var a2=U1.append("rect");if(s1[i].originalText){a2.append("title").text(s1[i].originalText)}if(_1){a2.each(function(){this.setAttribute("x",B1-H1+G1-s1[i].width+e-Z1);this.setAttribute("y",s1[i].y-s1[i].height/2-Z1);this.setAttribute("width",s1[i].width+2*Z1);this.setAttribute("height",s1[i].height+2*Z1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{a2.each(function(){this.setAttribute("x",$1);this.setAttribute("y",s1[i].startY+Z1);this.setAttribute("width",H1-Z1);this.setAttribute("height",(s1[i].rectHeight-Z1)<0?0:(s1[i].rectHeight-Z1));this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}a2.node().labelContexts=s1[i].labelContexts}V1=U1.append("g");V1.each(function(){this.setAttribute("fill",z.defaultStyle.label.fill);this.setAttribute("class",C);this.setAttribute("font-size",z.defaultStyle.label['font-size']);this.setAttribute("font-weight",z.defaultStyle.label['font-weight']);this.setAttribute("font-family",z.defaultStyle.label['font-family'])});W1=V1.append("text").text(T1);if(r1===(y.length-1)){W1.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",B1-H1+G1+e);this.setAttribute("y",s1[i].y);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","end")})}else{W1.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",B1-H1+e);this.setAttribute("y",s1[i].y);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","start")})}V(W1)}}}B1-=(G1+2*e)}}else if(b==="right"){B1=0;for(r1=(y.length-1);r1>=0;r1--){if(!A.label.visible&&r1!==(y.length-1)){continue}D1=y[r1].domain;E1=y[r1].range;re=h1(D1,E1,y[r1].skipInterval);G1=_?i1(y[r1].labelsToDraw,false,1).maxWidth:re.maxLabelTextWidth;H1=G1+2*e;if(!A.label.visible){G1=0;H1=0}H1=_?K:H1;if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){if(A.gridline.showFirstLine){Q(j,B1,E1[E1.length-1][1],B1-A.gridline.length,E1[E1.length-1][1])}if(A.gridline.showLastLine){Q(j,B1,E1[0][0],B1-A.gridline.length,E1[0][0])}}if(y.length===1){x1=B1;x2=B1;y1=E1[0][0];y2=E1[E1.length-1][1];if(A.axisline.visible){O1="M"+(x1+Y1)+" "+y1;O1+="L"+x1+" "+y1;O1+="L"+x2+" "+y2;O1+="L"+(x1+Y1)+" "+y2;P1=j.append("path");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("d",O1);this.setAttribute("fill","none");this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}else if(y.length>=2&&(r1===(y.length-1))){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",B1);this.setAttribute("x2",B1);this.setAttribute("y1",E1[0][0]);this.setAttribute("y2",E1[E1.length-1][1]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){for(i=0;i<D1.length;i++){Q(j,B1+H1,E1[i][0],B1+H1+A.gridline.length,E1[i][0]);if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){Q(j,B1+H1,E1[i][1],B1+H1+A.gridline.length,E1[i][1])}}}for(i=0;i<D1.length;i++){if(((y.length===1&&A.label.visible)||(y.length!==1&&!A.label.visible))&&A.axisTick.visible&&(R(w?w.height:undefined))){if(i>0&&(E1[i][0]!==E1[i-1][1])){Q1=j.append("line");Q1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",f);this.setAttribute("y1",E1[i][0]);this.setAttribute("y2",E1[i][0]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if(i!==(D1.length-1)){R1=j.append("line");R1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",f);this.setAttribute("y1",E1[i][1]);this.setAttribute("y2",E1[i][1]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}if(y.length>=2&&A.label.visible){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",B1);this.setAttribute("x2",B1+H1);this.setAttribute("y1",E1[i][0]);this.setAttribute("y2",E1[i][0]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",1);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")});if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",B1);this.setAttribute("x2",B1+H1);this.setAttribute("y1",E1[i][1]);this.setAttribute("y2",E1[i][1]);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}}s1=y[r1].labelsToDraw;for(i=0;i<s1.length;i++){S1=s1[i].custom;if(!(S1&&S1.type==='url')){T1=a.isExist(s1[i].text)?s1[i].text:'';if(A.label.visible){U1=j;V1=U1.append("g");V1.each(function(){this.setAttribute("fill",z.defaultStyle.label.fill);this.setAttribute("class",C);this.setAttribute("font-size",z.defaultStyle.label['font-size']);this.setAttribute("font-weight",z.defaultStyle.label['font-weight']);this.setAttribute("font-family",z.defaultStyle.label['font-family'])});W1=V1.append("text").text(T1);W1.each(function(){this.setAttribute("x",B1+e);this.setAttribute("y",s1[i].y);this.setAttribute("text-anchor","start");this.setAttribute("dominant-baseline","middle")});V(W1)}}}B1+=(G1+2*e)}}else if(b==="bottom"){C1=0;for(r1=(y.length-1);r1>=0;r1--){if(!A.label.visible&&r1!==(y.length-1)){continue}D1=y[r1].domain;E1=y[r1].range;re=g1(D1,E1,y[r1].skipInterval);I1=re.isVertical;J1=_?i1(y[r1].labelsToDraw,I1,1).maxHeight:re.maxLabelTextHeight;H1=J1+2*e;if(!A.label.visible){J1=0;H1=0}H1=_?K:H1;if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){if(A.gridline.showFirstLine){Q(j,E1[0][0],C1,E1[0][0],C1-A.gridline.length)}if(A.gridline.showLastLine){Q(j,E1[E1.length-1][0],C1,E1[E1.length-1][0],C1-A.gridline.length)}}var b2,c2,d2;if(y.length===1){x1=E1[0][0];x2=E1[E1.length-1][1];y1=C1;y2=C1;O1="M"+x1+" "+(y1+Y1);O1+="L"+x1+" "+y1;O1+="L"+x2+" "+y2;O1+="L"+x2+" "+(y2+Y1);if(A.axisline.visible){P1=j.append("path");if(H){b2=H*Math.PI/180;c2=Math.cos(b2);d2=(45===H)?c2:Math.sin(b2);O1='M '+E1[0][0]+' '+C1;O1+='L'+(E1[0][0]+E1[E1.length-1][1]*d2)+' '+(C1-E1[E1.length-1][1]*c2);O1+='Z'}P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("d",O1);this.setAttribute("fill","none");this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}else if(y.length>=2&&(r1===y.length-1)){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[0][0]);this.setAttribute("x2",E1[E1.length-1][1]);this.setAttribute("y1",C1);this.setAttribute("y2",C1);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){for(i=0;i<D1.length;i++){Q(j,E1[i][0],C1+H1,E1[i][0],C1+H1+A.gridline.length);if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){Q(j,E1[i][1],C1+H1,E1[i][1],C1+H1+A.gridline.length)}}}for(i=0;i<D1.length&&J1>0;i++){if(((y.length===1&&A.label.visible)||(y.length!==1&&!A.label.visible))&&A.axisTick.visible&&(R(w?w.width:undefined))){if(i>0&&(E1[i][0]!==E1[i-1][1])){Q1=j.append("line");Q1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[i][0]);this.setAttribute("x2",E1[i][0]);this.setAttribute("y1",0);this.setAttribute("y2",f);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if(i!==(D1.length-1)){R1=j.append("line");R1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[i][1]);this.setAttribute("x2",E1[i][1]);this.setAttribute("y1",0);this.setAttribute("y2",f);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")});if(H){b2=H*Math.PI/180;c2=Math.cos(b2);d2=(45===H)?c2:Math.sin(b2);var e2=I*Math.PI/180;var f2=Math.cos(e2);var g2=Math.sin(e2);var h2=E1[i][1]*d2;var i2=-E1[i][1]*c2;x2=h2+f*f2;y2=i2+f*g2;R1.attr('x1',h2).attr('y1',i2).attr('x2',x2).attr('y2',y2)}}}if(y.length>=2&&A.label.visible){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",E1[i][0]);this.setAttribute("x2",E1[i][0]);this.setAttribute("y1",0);this.setAttribute("y2",C1+H1);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("y1",C1);this.setAttribute("y2",C1+f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}});if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",E1[i][1]);this.setAttribute("x2",E1[i][1]);this.setAttribute("y1",0);this.setAttribute("y2",C1+H1);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("y1",C1);this.setAttribute("y2",C1+f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}})}}}s1=y[r1].labelsToDraw;e1(j,s1,C1,J1,D1,I1,y.length!==1);C1+=(J1+2*e)}}else if(b==="top"){var j2=0;if(K>=0){C1=K;j2=K}else{C1=w.height;j2=w.height}for(r1=(y.length-1);r1>=0;r1--){if(!A.label.visible&&r1!==(y.length-1)){continue}D1=y[r1].domain;E1=y[r1].range;re=g1(D1,E1,y[r1].skipInterval);I1=re.isVertical;J1=_?i1(y[r1].labelsToDraw,I1,1).maxHeight:re.maxLabelTextHeight;H1=J1+2*e;if(!A.label.visible){J1=0;H1=0}H1=_?K:H1;if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){if(A.gridline.showFirstLine){Q(j,E1[0][0],C1,E1[0][0],C1+A.gridline.length)}if(A.gridline.showLastLine){Q(j,E1[E1.length-1][1],C1,E1[E1.length-1][1],C1+A.gridline.length)}}if(y.length===1){x1=E1[0][0];x2=E1[E1.length-1][1];y1=C1;y2=C1;O1="M"+x1+" "+(y1-Y1);O1+="L"+x1+" "+y1;O1+="L"+x2+" "+y2;O1+="L"+x2+" "+(y2-Y1);P1=j.append("path");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("d",O1);this.setAttribute("fill","none");this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}else if(y.length>=2&&(r1===y.length-1)){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[0][0]);this.setAttribute("x2",E1[E1.length-1][1]);this.setAttribute("y1",C1);this.setAttribute("y2",C1);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if((A.gridline.visible&&!A.gridline.disable)&&r1===(y.length-1)){for(i=0;i<D1.length;i++){Q(j,E1[i][0],C1,E1[i][0],C1+A.gridline.length);if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){Q(j,E1[i][1],C1,E1[i][1],C1+A.gridline.length)}}Q(j,E1[0][0],C1+A.gridline.length,E1[i-1][1],C1+A.gridline.length)}for(i=0;i<D1.length;i++){if(((y.length===1&&A.label.visible)||(y.length!==1&&!A.label.visible))&&A.axisTick.visible&&(R(w?w.width:undefined))){if(i>0&&(E1[i][0]!==E1[i-1][1])){Q1=j.append("line");Q1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[i][0]);this.setAttribute("x2",E1[i][0]);this.setAttribute("y1",C1);this.setAttribute("y2",C1-f);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}if(i!==(D1.length-1)){R1=j.append("line");R1.each(function(){this.setAttribute("class",B.axisLine);this.setAttribute("x1",E1[i][1]);this.setAttribute("x2",E1[i][1]);this.setAttribute("y1",C1);this.setAttribute("y2",C1-f);this.setAttribute("stroke",A.color);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto")})}}if(y.length>=2&&A.label.visible){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",E1[i][0]);this.setAttribute("x2",E1[i][0]);this.setAttribute("y1",j2);this.setAttribute("y2",C1-H1);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("y1",C1);this.setAttribute("y2",C1-f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}});if((i===(D1.length-1))||(E1[i][1]!==E1[i+1][0])){P1=j.append("line");P1.each(function(){this.setAttribute("class",B.axisLine+" "+B.axisLongTick);this.setAttribute("x1",E1[i][1]);this.setAttribute("x2",E1[i][1]);this.setAttribute("y1",j2);this.setAttribute("y2",C1-H1);this.setAttribute("stroke",X1);this.setAttribute("stroke-width",A.lineSize);this.setAttribute("shape-rendering",A.shapeRendering?"crispEdges":"auto");if(r1===(y.length-1)){this.setAttribute("y1",C1);this.setAttribute("y2",C1-f);this.setAttribute("stroke",A.color);this.setAttribute("class",B.axisLine)}})}}}s1=y[r1].labelsToDraw;e1(j,s1,(C1-H1),J1,D1,I1,y.length!==1);C1-=(J1+2*e)}}}S.spaceLimit=function(_){if(!arguments.length){return K}if(!v){K=_}if(K===null){K=-1}return S};var V=function(i){if(U.isIE()){var j=z.realStyle.label['font-size'].toString();var _=j.indexOf("px");if(_>=0){j=j.substr(0,_)}var y=i.attr("y");i.attr("y",Number(y)+j/2);i.attr("dominant-baseline","auto")}};var W=function(i){var r;if(i.info){var j=i.info.customlabel;if(j){if(j.type==='url'){r=i.val}else if(j.type==='string'){r=j.val}}else{r=i.val}}else{r=i.val}if(r===''){r=' '}r=k1(r)?l.get('IDS_ISNOVALUE'):r;r=F.format(r,A.label.formatString,A.label.unitFormatType);return r};var X=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var Y=function(i,j){var y='font-weight: '+z.realStyle.label['font-weight']+'; font-family: '+z.realStyle.label['font-family']+'; font-size: '+z.realStyle.label['font-size']+';';return T.ellipsis(i,undefined,j,y)};var Z=function(i,j,y,_){var l1={};l1.text=W(j[i]);l1.custom=X(j[i]);l1.labelContexts=j[i].labelContexts;if(_>=0){var m1=Y(l1.text,_-2*e);if(l1.text!==m1){if(!l1.originalText){l1.originalText=l1.text}l1.text=m1}}var n1=j1(l1.text,z.realStyle.label);var o1=y[i][0]+(y[i][1]-y[i][0])/2;l1.width=n1.width;l1.height=n1.height;l1.startY=y[i][0];l1.rectHeight=y[i][1]-y[i][0];l1.y=o1;l1.y1=o1-l1.height/2;l1.y2=o1+l1.height/2;l1.originalIndex=i;return l1};var $=function(i,j,y,_){if(i.length>0){var l1=Z(0,j,y,_);var m1=Z(j.length-1,j,y,_);if((i[i.length-1].originalIndex!==0)){if(i[i.length-1].y1<=l1.y2){j[i[i.length-1].originalIndex].drawLabel=false;i.splice(i.length-1,1)}i.push(m1);j[j.length-1].drawLabel=true}if(i[0].originalIndex!==(j.length-1)){if(m1.y1<=i[0].y2){j[i[0].originalIndex].drawLabel=false;i.splice(0,1)}i.splice(0,0,l1);j[0].drawLabel=true}}};var a1=function(j,y,_,l1,m1){var n1=0;var o1=[];var i,p1;_=!_?1:_;for(i=0;i<j.length;i++){j[i].drawLabel=false}for(i=0;i<j.length;i=i+_){p1=Z(i,j,y,m1);o1.push(p1);if(_>1){n1+=p1.height}else{n1+=p1.rectHeight}}var q1=[],r1,s1;if(A.label.hideStrategy!=='greedy'){var t1=o1.concat();for(i=t1.length-1;i>-1;--i){if(y[0]&&y.length&&(t1[i].y2>y[y.length-1][1]||t1[i].y1<y[0][0])){t1.splice(i,1)}}for(s1=0;s1<=(t1.length-1);s1++){var u1=true;for(i=(t1.length-1);i>=0;i-=(s1+1)){p1=t1[i];if(i!==(t1.length-1)){r1=i+(s1+1);if(t1[i].y2>=t1[r1].y1){u1=false;break}}if(p1.height>n1){break}q1.push(p1);j[p1.originalIndex].drawLabel=true}if(u1){break}else{q1=[]}}if(x){$(q1,j,y,m1)}}else{var v1=function(y,j,p1){if(p1&&y[0]&&y.length&&(p1.y2>y[y.length-1][1]||p1.y1<y[0][0])){return true}else{return false}};r1=null;for(i=o1.length-1;i>=0;i--){p1=o1[i];if(r1){if((p1.y2<=o1[r1].y1)&&y[i][1]!==y[i][0]){if(l1){if(p1.y1>y[i][0]&&p1.y2<y[i][1]){if(!v1(y,j,p1)){q1.push(p1);j[p1.originalIndex].drawLabel=true;r1=i}}}else{if(!v1(y,j,p1)){q1.push(p1);j[p1.originalIndex].drawLabel=true;r1=i}}}}else{if(!v1(y,j,p1)){if(!l1||(p1.y1>y[i][0]&&p1.y2<y[i][1])){q1.push(p1);j[p1.originalIndex].drawLabel=true;r1=i}}}}}return q1};var b1=function(i,j,y,_,l1){var m1={};m1.text=W(j[i]);m1.custom=X(j[i]);m1.labelContexts=j[i].labelContexts;if(_>=0){var n1=Y(m1.text,_-2*e);if(m1.text!==n1){if(!m1.originalText){m1.originalText=m1.text}m1.text=n1}}var o1=j1(m1.text,z.realStyle.label);if(l1){m1.width=o1.height;m1.height=o1.width}else{m1.width=o1.width;m1.height=o1.height}var p1=y[i][0]+(y[i][1]-y[i][0])/2;m1.x=p1;m1.x1=p1-m1.width/2;m1.x2=p1+m1.width/2;m1.startX=y[i][0];m1.rectWidth=y[i][1]-y[i][0];m1.originalIndex=i;return m1};var c1=function(i,j,y,_,l1){if(i.length>0){var m1=b1(0,j,y,_,l1);var n1=b1(j.length-1,j,y,_,l1);if(i[0].originalIndex!==0){if(i[0].x1<=m1.x2){j[i[0].originalIndex].drawLabel=false;i.splice(0,1)}i.splice(0,0,m1);j[0].drawLabel=true}if((i[i.length-1].originalIndex!==(j.length-1))){if(n1.x1<=i[i.length-1].x2){j[i[i.length-1].originalIndex].drawLabel=false;i.splice(i.length-1,1)}i.push(n1);j[j.length-1].drawLabel=true}}};var d1=function(j,y,_,l1,m1,n1){var o1=0;var p1=[];var i,q1;_=!_?1:_;for(i=0;i<j.length;i++){j[i].drawLabel=false}for(i=0;i<j.length;i=i+_){q1=b1(i,j,y,n1,l1);j[i].drawLabel=false;p1.push(q1);if(_>1){o1+=q1.width}else{o1+=q1.rectWidth}}var r1=[],s1,t1;if(A.label.hideStrategy!=='greedy'){var u1=p1.concat();for(i=u1.length-1;i>-1;--i){if(y[0]&&y.length&&(u1[i].x2>y[y.length-1][1]||u1[i].x1<y[0][0])){u1.splice(i,1)}}for(t1=0;t1<=(u1.length-1);t1++){var v1=true;for(i=0;i<u1.length;i+=(t1+1)){q1=u1[i];if(i!==0){s1=i-(t1+1);if(u1[i].x1<=u1[s1].x2||y[t1][1]===y[t1][0]){v1=false;break}}if(q1.width>o1){break}r1.push(q1);j[q1.originalIndex].drawLabel=true}if(v1){break}else{r1=[]}}if(x){c1(r1,j,y,n1,l1)}}else{var w1=function(y,j,q1){if(q1&&y[0]&&y.length&&(q1.x2>y[y.length-1][1]||q1<y[0][0])){return true}else{return false}};s1=null;for(i=p1.length-1;i>=0;i--){q1=p1[i];if(s1){if((q1.x2<=p1[s1].x1)&&y[i][1]!==y[i][0]){if(m1){if(q1.x1>y[i][0]&&q1.x2<y[i][1]){if(!w1(y,j,q1)){r1.push(q1);j[q1.originalIndex].drawLabel=true;s1=i}}}else{if(!w1(y,j,q1)){r1.push(q1);j[q1.originalIndex].drawLabel=true;s1=i}}}}else{if(!w1(y,j,q1)){if(!m1||(q1.x1>y[i][0]&&q1.x2<y[i][1])){r1.push(q1);j[q1.originalIndex].drawLabel=true;s1=i}}}}}if(n1>=0){for(i=0;i<r1.length;i++){q1=r1[i];var x1=Y(q1.text,n1-2*e);if(q1.text!==x1){if(!q1.originalText){q1.originalText=q1.text}q1.text=x1}}}return r1};var e1=function(j,y,_,l1,m1,n1,o1){if(y===undefined){return}for(var i=0;i<y.length;i++){var p1=a.isExist(y[i].text)?y[i].text:'';var q1;if(A.label.visible){if(H){var r1=2;var s1=H*Math.PI/180;var t1=Math.cos(s1);var u1=(45===H)?t1:Math.sin(s1);var v1=I*Math.PI/180;var w1=Math.cos(v1);var x1=Math.sin(v1);var y1=y[i].x*u1;var z1=-y[i].x*t1;var A1=y1+(f+e)*w1;var B1=z1+_+(e+f)*x1;var C1=A1-r1;var D1=B1-y[i].width/2-r1;var E1=y[i].height+2*r1;var F1=y[i].width+2*r1;if(I>90){C1-=(E1-2*r1)}q1=j.append("g");q1.each(function(){this.setAttribute("fill",z.defaultStyle.label.fill);this.setAttribute("class",C);this.setAttribute("font-size",z.defaultStyle.label['font-size']);this.setAttribute("font-weight",z.defaultStyle.label['font-weight']);this.setAttribute("font-family",z.defaultStyle.label['font-family'])});if(A.enableLabelSelection){var G1=q1.append("rect");if(y[i].originalText){G1.append("title").text(y[i].originalText)}G1.each(function(){this.setAttribute("x",C1);this.setAttribute("y",D1);this.setAttribute("width",E1);this.setAttribute("height",F1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")});G1.node().labelContexts=y[i].labelContexts}var H1=q1.append("text").text(p1);H1.each(function(){this.setAttribute("x",A1);this.setAttribute("y",B1);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor",'start');this.setAttribute("pointer-events","none")});if(I>90){H1.attr("text-anchor",'end');q1.attr('transform','rotate( '+(I-180)+' '+A1+' '+B1+')')}else{q1.attr('transform','rotate( '+(I)+' '+A1+' '+B1+')')}}else{var I1=j;var J1=1,K1,L1;if(A.enableLabelSelection){if(b==="bottom"){K1=A.forceLabelArea||y[i].width>y[i].rectWidth;L1=I1.append("rect");if(y[i].originalText){L1.append("title").text(y[i].originalText)}if(K1){L1.each(function(){this.setAttribute("x",y[i].x-y[i].width/2-J1);this.setAttribute("y",_+l1/2-J1-e/2);this.setAttribute("width",y[i].width+2*J1);this.setAttribute("height",y[i].height+2*J1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{L1.each(function(){this.setAttribute("x",y[i].startX);this.setAttribute("y",_+J1);this.setAttribute("width",y[i].rectWidth);this.setAttribute("height",l1+2*e-J1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}L1.node().labelContexts=y[i].labelContexts}else if(b==="top"){if(y[i].labelContexts.length>0){K1=A.forceLabelArea||y[i].width>y[i].rectWidth;L1=I1.append("rect");if(K1){L1.each(function(){this.setAttribute("x",y[i].x-y[i].width/2-J1);this.setAttribute("y",_+l1/2+e/2-J1);this.setAttribute("width",y[i].width+2*J1);this.setAttribute("height",y[i].height+2*J1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}else{L1.each(function(){this.setAttribute("x",y[i].startX);this.setAttribute("y",_);this.setAttribute("width",y[i].rectWidth);this.setAttribute("height",l1+2*e);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea v-axis-item")})}L1.node().labelContexts=y[i].labelContexts}}}q1=I1.append("g");q1.each(function(){this.setAttribute("fill",z.defaultStyle.label.fill);this.setAttribute("class",C);this.setAttribute("font-size",z.defaultStyle.label['font-size']);this.setAttribute("font-weight",z.defaultStyle.label['font-weight']);this.setAttribute("font-family",z.defaultStyle.label['font-family'])});var M1=q1.append("text").text(p1);M1.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",y[i].x);this.setAttribute("y",_+l1/2+e);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","middle")});if(n1){if(b==='top'){M1.attr('text-anchor','start').attr("y",_+l1+e);if(K1){L1.attr("y",_+l1+e-J1)}}else if(b==='bottom'){M1.attr("y",_+e).attr('text-anchor','end');if(K1){L1.attr("y",_+e-J1)}}var ac="-90";M1.attr("transform","rotate( "+ac+" "+M1.attr("x")+" "+M1.attr("y")+" )")}V(M1)}}}};S.mouseover=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-axis-item v-hovershadow");i.setAttribute("fill",o)};S.mouseout=function(i){i.setAttribute("class","v-labelarea v-axis-item");i.setAttribute("opacity",0)};S.cleanLabelAreas=function(){if(d){d.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item").attr("opacity",0)}};S.mouseup=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-axis-item v-hovershadow");i.setAttribute("fill",o)};S.mousedown=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-axis-item v-hovershadow-mousedown");i.setAttribute("fill",p)};S.position=function(_){if(!arguments.length){return b}b=_;return S};S.properties=function(_){if(arguments.length===0){return A}A=O.extend(true,A,_);if(A.isKeepFirstAndLastLabel){x=true}return S};S.style=function(_){if(arguments.length===0){return z}z=O.extend(true,z,_);return S};S.axScale=function(_){if(!arguments.length){return c}c=_;u=null;return S};S.getPreferredSize=function(){var j=null;if(u===null){j=L();u=j}else{j=u}var y=0;var _=0;var l1=[];var m1=0;for(var i=0;i<j.length;i++){if(!A.label.visible&&i!==(j.length-1)){continue}var n1=j[i].domain;var o1=j[i].range;if(n1.length===0||o1.length===0){continue}if(b==="bottom"||b==="top"){y=Math.abs(o1[o1.length-1][1]-o1[0][0])+g;var p1=0;if(A.label.visible){var q1;if(i===0){q1=g1(n1,o1,j[i].skipInterval,undefined,true);m1=q1.minTruncateSize}else{q1=g1(n1,o1,j[i].skipInterval)}p1+=q1.maxLabelTextHeight;p1=p1>0?p1+2*e:p1}else{p1=A.lineSize/2}_+=p1;l1.push(p1)}else if(b==="left"||b==="right"){var r1=0;if(A.label.visible){var s1;if(i===0){s1=h1(n1,o1,j[i].skipInterval,true);m1=s1.minTruncateSize}else{s1=h1(n1,o1,j[i].skipInterval)}r1+=s1.maxLabelTextWidth;r1=r1>0?r1+2*e:r1}else{r1=A.lineSize/2}y+=r1;l1.push(r1);_=Math.abs(o1[o1.length-1][1]-o1[0][0])+g}}var t1=0;if(A.label.visible&&K>=0){var u1=l1;var v1=K;var w1=0;for(i=0;i<u1.length;i++){if(v1>=u1[i]){w1+=u1[i];t1++;v1-=u1[i];v1=N.precise(v1)}else{break}}if(w1===0&&u1.length>0){if(m1&&m1+2*e<K){w1=K}else{w1+=u1[0]}}if(b==="bottom"||b==="top"){_=w1}else if(b==="left"||b==="right"){y=w1}}if(!A.isTruncateAvailable){m1=0}else if(m1>0){m1+=2*e}return{width:y,height:_,spacings:l1,minTruncateSize:m1,layerNumber:t1}};S.matrix=function(_){if(!arguments.length){return D}D=_;return S};S.labelAngle=function(_){if(!arguments.length){return E}E=_;return S};S.tickAngle=function(_){if(!arguments.length){return I}I=_;return S};S.otherAxisHidden=function(_){if(!arguments.length){return J}J=_;return S};S.angle=function(_){if(!arguments.length){return H}H=_;return S};S.labelAlign=function(_){if(!arguments.length){return G}G=_;return S};S.scaleAndDrawDestroy=function(){var i=0;var j=0;if(c){for(i=0;i<c.length;i++){if(c[i].domain){for(j=0;j<c[i].domain.length;j++){c[i].domain[j].labelContexts=null;c[i].domain[j]=null}c[i].domain=null}if(c[i].range){for(j=0;j<c[i].range.length;j++){c[i].range[j]=null}c[i].range=null}if(c[i].labelsToDraw){for(j=0;j<c[i].labelsToDraw.length;j++){c[i].labelsToDraw[j].labelContexts=null;c[i].labelsToDraw[j]=null}c[i].labelsToDraw=null}c[i]=null}c=null}if(u){for(i=0;i<u.length;i++){if(u[i].domain){for(j=0;j<u[i].domain.length;j++){u[i].domain[j].labelContexts=null;u[i].domain[j]=null}u[i].domain=null}if(u[i].range){for(j=0;j<u[i].range.length;j++){u[i].range[j]=null}u[i].range=null}if(u[i].labelsToDraw){for(j=0;j<u[i].labelsToDraw.length;j++){u[i].labelsToDraw[j].labelContexts=null;u[i].labelsToDraw[j]=null}u[i].labelsToDraw=null}u[i]=null}u=null}};S.destroy=function(){var i=0;this.scaleAndDrawDestroy();if(d){d.selectAll('.v-datapoint').remove();d.remove();for(i=0;i<d.length;i++){d[i]=null}d=null}H=null;G=null;E=null;I=null;C=null;p=null;o=null;D=null;b=null;w=null;A=null;z=null;k=null;B=null;J=null};var f1=function(j,y,_,l1,m1){var n1=[];var o1=[];var p1=false;var q1=0;_=!_?1:_;var r1=function(i){var t1=0;var u1=0;if(j[i].drawLabel||l1){var v1=W(j[i]);var w1=j1(v1,z.realStyle.label);t1=w1.height;u1=w1.width;var x1=y[i][1]-y[i][0];if(m1){var y1;if(v1.length>3){y1=j1(v1.slice(0,3).concat('...'),z.realStyle.label).width;y1=y1>w1.width?w1.width:y1}else{y1=w1.width}q1=y1>q1?y1:q1}if((t1<u1)&&x1!==0&&u1>x1){if(b==="top"||b==="bottom"){p1=true}}}n1.push(t1);o1.push(u1)};var i;var s1=-1;for(i=0;i<j.length;i=i+_){s1=i;r1(i)}if(x&&(s1!==-1&&s1!==(j.length-1))){r1(j.length-1)}return{'heights':n1,'widths':o1,'isVerticalFont':p1,'minTruncateSize':q1}};var g1=function(j,y,_,l1,m1){var re={"maxLabelTextHeight":0,"isVertical":false};var o1=0;var p1=false;var q1=f1(j,y,_,l1,m1);p1=A.forceVerticalFont===true?true:q1.isVerticalFont;for(var i=0;i<q1.heights.length;i++){if(j[i].drawLabel||l1||_>1){if(p1){if(o1<q1.widths[i]){o1=q1.widths[i]}}else{if(o1<q1.heights[i]){o1=q1.heights[i]}}}}re.maxLabelTextHeight=o1;re.isVertical=p1;re.minTruncateSize=re.isVertical?q1.minTruncateSize:-1;return re};var h1=function(j,y,_,l1){var re={"maxLabelTextWidth":0,"isVertical":false};var n1=0;var o1=false;var p1=f1(j,y,_,undefined,l1);o1=A.forceVerticalFont===true?true:p1.isVerticalFont;for(var i=0;i<p1.widths.length;i++){if(j[i].drawLabel||_>1){if(o1){if(n1<p1.heights[i]){n1=p1.heights[i]}}else{if(n1<p1.widths[i]){n1=p1.widths[i]}}}}re.maxLabelTextWidth=n1;re.isVertical=o1;re.minTruncateSize=p1.minTruncateSize;return re};var i1=function(j,y,_){var l1=0,m1=0;_=!_?1:_;for(var i=0;i<j.length;i=i+_){var n1=j1(j[i].text,z.realStyle.label);l1=n1.width>l1?n1.width:l1;m1=n1.height>m1?n1.height:m1}return{maxWidth:y?m1:l1,maxHeight:y?l1:m1}};var j1=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var k1=function(i){if(typeof(i)!=="string"&&N.isNoValue(i)){return true}return false};return S};return r});define('sap/viz/modules/axis/timeValueAxisCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector','sap/viz/base/utils/TypeUtils','sap/viz/lang/langManager'],function Setup(q,M,T,N,O,P,m,U,a,l){var r=function(){var b;var c=null;var e=5;var f=6;var g=7;var h=1;var j="#6c6c6c";var k="#d8d8d8";var n="#ffffff";var o="#333333";var p="viz-axis-label";var s=null;var t={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":k,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":j,"axisline":{"visible":true},"shapeRendering":true};var u={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var v=u.axisLabel+' '+p+' '+u.morphableLabel;var w=m(),x=null,z=null,A=null,B=null,C=null;var D=-1;E.spaceLimit=function(_){if(!arguments.length)return D;D=_;return E};function E(d){var y=c.range();var V=c.domain();if(y[0]==0&&y[1]==0){return}var W=K();if(b=="bottom"){if(t.initializeFirstLine!==true&&C===true){t.gridline.showFirstLine=true}if(t.initializeLastLine!==true&&C===true){t.gridline.showLastLine=true}var X=0;if(t.label.visible){var Y=[];for(var i=0;i<W.length;i++){Y.push(W[i].text)}X=L(Y)}if((D!=-1)&&(X+e+2*f+h/2>N.precise(D,true))){W=[];X=0}for(var i=0;i<W.length;i++){var Z=d.append("line");Z.each(function(){this.setAttribute("class",(t.isAxisColorFixed?u.fixedAxisLine:u.axisLine));this.setAttribute("x1",c(W[i].value));this.setAttribute("x2",c(W[i].value));this.setAttribute("y1",0);this.setAttribute("y2",e+1);this.setAttribute("stroke",t.color);this.setAttribute("stroke-width",t.lineSize);this.setAttribute("shape-rendering",(t.shapeRendering?"crispEdges":"auto"))});if(A){var $=A*Math.PI/180;var _=Math.cos($);var a1=(45===A)?_:Math.sin($);var b1=B*Math.PI/180;var c1=Math.cos(b1);var d1=Math.sin(b1);var e1=c(W[i].value)*a1;tickStartY=-c(W[i].value)*_;var x2=e1+(e+1)*c1,y2=tickStartY+(e+1)*d1;Z.attr('x1',e1).attr('y1',tickStartY).attr('x2',x2).attr('y2',y2)}var h1=function(){var f1=d.append("line").attr("class",u.gridLine).attr("x1",c(W[i].value)).attr("x2",c(W[i].value)).attr("y1",-t.gridline.length).attr("y2",0).attr("stroke",t.gridline.color).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto");if(t.gridline.type=="dotted"){f1.attr("stroke-dasharray","3, 2")}if(t.gridline.type=="incised"){var f1=d.append("line").attr("class",u.incisedGridLine).attr("x1",c(W[i].value)-1).attr("x2",c(W[i].value)-1).attr("y1",-t.gridline.length).attr("y2",0).attr("stroke",n).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}};if(t.gridline.visible){if(i==0&&t.gridline.showFirstLine){h1()}else if(i==(W.length-1)&&t.gridline.showLastLine){h1()}else if((i!=(W.length-1))&&(i!=0)){h1()}}}if(t.label.visible){H(d,"bottom",W,X)}if(t.axisline.visible){var x1=y[0];var x2=y[1];var y1=0;var y2=0;var k1=0;var l1="M"+x1+" "+(y1+k1);l1+="L"+x1+" "+y1;l1+="L"+x2+" "+y2;l1+="L"+x2+" "+(y2+k1);var m1=d.append("path").attr("class",t.isAxisColorFixed?u.fixedAxisLine:u.axisLine).attr("d",l1).attr("fill","none").attr("stroke",t.color).attr("stroke-width",t.lineSize).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto");if(A){var $=A*Math.PI/180;var _=Math.cos($);var a1=(45==A)?_:Math.sin($);l1='M '+y[0]+' '+y1;l1+='L'+(y[0]+y[1]*a1)+' '+(y2-y[1]*_);l1+='Z';m1.attr('d',l1)}}}else if(b=="top"){var X=0;if(t.label.visible){var Y=[];for(var i=0;i<W.length;i++){Y.push(W[i].text)}X=L(Y)}if((D!=-1)&&(X+e+2*f+h/2>N.precise(D,true))){W=[];X=0}var n1=1;if(t.label.visible){n1=2}for(var i=0;i<W.length;i++){var Z=d.append("line");Z.each(function(){this.setAttribute("class",(t.isAxisColorFixed?u.fixedAxisLine:u.axisLine));this.setAttribute("x1",c(W[i].value));this.setAttribute("x2",c(W[i].value));this.setAttribute("y1",X+n1*f);this.setAttribute("y2",X+n1*f+e);this.setAttribute("stroke",t.color);this.setAttribute("stroke-width",t.lineSize);this.setAttribute("shape-rendering",(t.shapeRendering?"crispEdges":"auto"))});var h1=function(){var f1=d.append("line").attr("class",u.gridLine).attr("x1",c(W[i].value)).attr("x2",c(W[i].value)).attr("y1",X+e+n1*f).attr("y2",X+e+n1*f+t.gridline.length).attr("stroke",t.gridline.color).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto");if(t.gridline.type=="dotted"){f1.attr("stroke-dasharray","3, 2")}if(t.gridline.type=="incised"){var f1=d.append("line").attr("class",u.incisedGridLine).attr("x1",c(W[i].value)-1).attr("x2",c(W[i].value)-1).attr("y1",X+e+n1*f).attr("y2",X+e+n1*f+t.gridline.length).attr("stroke",n).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}};if(t.gridline.visible){if(i==0&&t.gridline.showFirstLine){h1()}else if(i==(W.length-1)&&t.gridline.showLastLine){h1()}else if((i!=(W.length-1))&&(i!=0)){h1()}}}if(t.label.visible){H(d,"top",W,X)}if(t.axisline.visible){var x1=y[0];var x2=y[1];var y1=X+e+n1*f;var y2=X+e+n1*f;var k1=0;var l1="M"+x1+" "+(y1-k1);l1+="L"+x1+" "+y1;l1+="L"+x2+" "+y2;l1+="L"+x2+" "+(y2-k1);var m1=d.append("path").attr("class",t.isAxisColorFixed?u.fixedAxisLine:u.axisLine).attr("d",l1).attr("fill","none").attr("stroke",t.color).attr("stroke-width",t.lineSize).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}}else if(b=="left"){if(t.initializeFirstLine!==true&&C===true){t.gridline.showFirstLine=true}if(t.initializeLastLine!==true&&C===true){t.gridline.showLastLine=true}W=G(W,b);var o1=0;if(t.label.visible){var Y=[];for(var i=0;i<W.length;i++){Y.push(W[i].text)}o1=Q(Y)}if((D!=-1)&&(o1+e+2*f+h/2>N.precise(D,true))){W=[];o1=0}var n1=1;if(t.label.visible){n1=2}for(var i=0;i<W.length;i++){var Z=d.append("line");Z.each(function(){this.setAttribute("class",(t.isAxisColorFixed?u.fixedAxisLine:u.axisLine));this.setAttribute("x1",o1+n1*f);this.setAttribute("x2",o1+n1*f+e);this.setAttribute("y1",c(W[i].value));this.setAttribute("y2",c(W[i].value));this.setAttribute("stroke",t.color);this.setAttribute("stroke-width",t.lineSize);this.setAttribute("shape-rendering",(t.shapeRendering?"crispEdges":"auto"))});var h1=function(){var f1=d.append("line").attr("class",u.gridLine).attr("y1",c(W[i].value)).attr("y2",c(W[i].value)).attr("x1",o1+n1*f+e).attr("x2",o1+n1*f+e+t.gridline.length).attr("stroke",t.gridline.color).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto");if(t.gridline.type=="dotted"){f1.attr("stroke-dasharray","3, 2")}if(t.gridline.type=="incised"){var f1=d.append("line").attr("class",u.incisedGridLine).attr("y1",c(W[i].value)+1).attr("y2",c(W[i].value)+1).attr("x1",o1+n1*f+e).attr("x2",o1+n1*f+e+t.gridline.length).attr("stroke",n).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}};if(t.gridline.visible){if(i==0&&t.gridline.showFirstLine){h1()}else if(i==(W.length-1)&&t.gridline.showLastLine){h1()}else if((i!=(W.length-1))&&(i!=0)){h1()}}if(t.label.visible){var p1=d.append("g").attr("fill",s.defaultStyle.label.fill).attr("class",v).attr("font-size",s.defaultStyle.label['font-size']).attr("font-weight",s.defaultStyle.label['font-weight']).attr("font-family",s.defaultStyle.label['font-family']).append("text").attr("x",o1+f).attr("y",c(W[i].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(W[i].text);F(p1)}}if(t.axisline.visible){var x1=o1+n1*f+e;var x2=o1+n1*f+e;var y1=y[0];var y2=y[1];var k1=0;var l1="M"+(x1-k1)+" "+y1;l1+="L"+x1+" "+y1;l1+="L"+x2+" "+y2;l1+="L"+(x2-k1)+" "+y2;var m1=d.append("path").attr("class",t.isAxisColorFixed?u.fixedAxisLine:u.axisLine).attr("d",l1).attr("fill","none").attr("stroke",t.color).attr("stroke-width",t.lineSize).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}}else if(b=="right"){W=G(W,b);if(t.label.visible){var Y=[];for(var i=0;i<W.length;i++){Y.push(W[i].text)}o1=Q(Y)}if((D!=-1)&&(o1+e+2*f+h/2>N.precise(D,true))){W=[];o1=0}for(var i=0;i<W.length;i++){var Z=d.append("line");Z.each(function(){this.setAttribute("class",(t.isAxisColorFixed?u.fixedAxisLine:u.axisLine));this.setAttribute("x1",0);this.setAttribute("x2",e);this.setAttribute("y1",c(W[i].value));this.setAttribute("y2",c(W[i].value));this.setAttribute("stroke",t.color);this.setAttribute("stroke-width",t.lineSize);this.setAttribute("shape-rendering",(t.shapeRendering?"crispEdges":"auto"))});var h1=function(){var f1=d.append("line").attr("class",u.gridLine).attr("y1",c(W[i].value)).attr("y2",c(W[i].value)).attr("x1",-t.gridline.length).attr("x2",0).attr("stroke",t.gridline.color).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto");if(t.gridline.type=="dotted"){f1.attr("stroke-dasharray","3, 2")}if(t.gridline.type=="incised"){var f1=d.append("line").attr("class",u.incisedGridLine).attr("y1",c(W[i].value)+1).attr("y2",c(W[i].value)+1).attr("x1",-t.gridline.length).attr("x2",0).attr("stroke",n).attr("stroke-width",t.gridline.size).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}};if(t.gridline.visible){if(i==0&&t.gridline.showFirstLine){h1()}else if(i==(W.length-1)&&t.gridline.showLastLine){h1()}else if((i!=(W.length-1))&&(i!=0)){h1()}}if(t.label.visible){var p1=d.append("g").attr("fill",s.defaultStyle.label.fill).attr("class",v).attr("font-size",s.defaultStyle.label['font-size']).attr("font-weight",s.defaultStyle.label['font-weight']).attr("font-family",s.defaultStyle.label['font-family']).append("text").attr("x",e+f).attr("y",c(W[i].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(W[i].text);F(p1)}}if(t.axisline.visible){var x1=0;var x2=0;var y1=y[0];var y2=y[1];var k1=0;var l1="M"+(x1+k1)+" "+y1;l1+="L"+x1+" "+y1;l1+="L"+x2+" "+y2;l1+="L"+(x2+k1)+" "+y2;var m1=d.append("path").attr("class",t.isAxisColorFixed?u.fixedAxisLine:u.axisLine).attr("d",l1).attr("fill","none").attr("stroke",t.color).attr("stroke-width",t.lineSize).attr("shape-rendering",t.shapeRendering?"crispEdges":"auto")}}};var F=function(d){if(U.isIE()){var i=s.realStyle.label['font-size'].toString();var V=i.indexOf("px");if(V>=0){i=i.substr(0,V)}var y=d.attr("y");d.attr("y",Number(y)+i/2);d.attr("dominant-baseline","auto")}};E.matrix=function(_){if(!arguments.length){return w}w=_;return E};E.labelAngle=function(_){if(!arguments.length){return x}x=_;return E};E.tickAngle=function(_){if(!arguments.length){return B}B=_;return E};E.otherAxisHidden=function(_){if(!arguments.length){return C}C=_;return E};E.angle=function(_){if(!arguments.length){return A}A=_;return E};E.labelAlign=function(_){if(!arguments.length){return z}z=_;return E};E.position=function(_){if(!arguments.length)return b;b=_;return E};E.style=function(_){if(arguments.length==0)return s;s=O.extend(true,s,_);return E};E.properties=function(_){if(arguments.length==0)return t;t=S(t,_);return E};E.axScale=function(_){if(!arguments.length)return c;c=_;return E};E.startPadding=function(){if(c){var d=G(K(),b);var i=0;if(d.length>0){i=R(d[0].text,s.realStyle.label)}if(i==0){return 0}if(b=="top"||b=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};E.endPadding=function(){if(c){var d=G(K(),b);var i=0;if(d.length>0){i=R(d[d.length-1].text,s.realStyle.label)}if(i==0){return 0}if(b=="top"||b=="bottom"){return i.width/2}else{return i.height/2}}else{return 0}};E.getPreferredSize=function(){var d=c.domain();var y=c.range();var V=0;var W=0;var X=[];if(!(y[0]==0&&y[1]==0)){var Y=Math.abs(y[0]-y[1]);if(b=="bottom"||b=="top"){V=Y+h;if(t.label.visible){var Z=G(K(),b);var $=[];for(var i=0;i<Z.length;i++){$.push(Z[i].text)}W=L($)+e+2*f+h/2}else{W=e+f+h/2}X.push(W)}else if(b=="left"||b=="right"){if(t.label.visible){var Z=G(K(),b);var $=[];for(var i=0;i<Z.length;i++){$.push(Z[i].text)}if(R($[0],s.realStyle.label).height>Y){V=e+2*f}else{V=Q($)+e+2*f+h/2;}}else{V=e+f+h/2}X.push(V);W=Y+h}}return{width:V,height:W,spacings:X,}};E.destroy=function(){m_selection=null;c=null};var G=function(d,y){if(d.length>0){if(c(d[0].value)>c(d[d.length-1].value)){d.reverse()}}var V=[];for(var i=0;i<d.length;i++){if(!N.isNoValue(d[i].value)){var W={};W.value=d[i].value;W.text=d[i].text;var X=R(W.text,s.realStyle.label);var Y=c(W.value);if(y=='left'||y=='right'){W.start=Y-X.height/2;W.end=Y+X.height/2}else{W.start=Y-X.width/2;W.end=Y+X.width/2}V.push(W)}}var Z=[];Z=I(V);return Z};var H=function(d,y,V,W){if(V.length==0){return}var X=G(V,y);for(var i=0;i<X.length;i++){if(A){var Y=A*Math.PI/180;var Z=Math.cos(Y);var $=(45===A)?Z:Math.sin(Y);var _=B*Math.PI/180;var a1=Math.cos(_);var b1=Math.sin(_);var c1=c(X[i].value)*$;tickStartY=-c(X[i].value)*Z;var d1=d.append("g").attr("fill",s.defaultStyle.label.fill).attr("class",v).attr("font-size",s.defaultStyle.label['font-size']).attr("font-weight",s.defaultStyle.label['font-weight']).attr("font-family",s.defaultStyle.label['font-family']).append('text').attr('x',c1+(f+e)*a1).attr('y',tickStartY+(f+e)*b1).attr("dominant-baseline","middle").attr("text-anchor",'start').text(X[i].text);if(B>90){d1.attr("text-anchor",'end').attr('transform','rotate( '+(B-180)+' '+d1.attr("x")+' '+d1.attr("y")+')')}else{d1.attr('transform','rotate( '+(B)+' '+d1.attr("x")+' '+d1.attr("y")+')')}}else{var d1=d.append("g").attr("fill",s.defaultStyle.label.fill).attr("class",v).attr("font-size",s.defaultStyle.label['font-size']).attr("font-weight",s.defaultStyle.label['font-weight']).attr("font-family",s.defaultStyle.label['font-family']).append("text").attr("x",c(X[i].value)).attr("y",f+e).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(X[i].text);d1.attr("dominant-baseline","auto");d1.attr("y",W+f)}}};var I=function(d){var i=[];if(d.length>0){i=J(d)}if(i.length<=1){i=[]}return i};var J=function(d){if(c.userTicks){return d}var y=[];for(var V=0;V<=(d.length-1);V++){var W=true;for(var i=0;i<d.length-1;i+=(V+1)){var X=d[i];if(i!=0){var Y=y[y.length-1];if(d[i].start<=Y.end){if(y.length>1){W=false;break}}else{y.push(X)}}else{y.push(X)}}var Z=d[d.length-1];if(Z.start<y[y.length-1].end){y.pop()}y.push(Z);if(W){break}else{y=[]}}return y};var K=function(){if(c.userTicks){c.userTicks.forEach(function(el){el.text=a.isExist(el.text)?el.text:l.get('IDS_ISNOVALUE')});return c.userTicks}var y=c.domain();var V=c.timeUnit;var W=c.timeUnitGap;var X=c.tickNum;var Y=new Date();Y.setTime(y[0]);var Z=new Date();Z.setTime(y[1]);var $=[];for(var i=0;i<X;i++){var d=new Date();d.setTime(Y.getTime());switch(V){case 0:d.setHours(Y.getHours()+i*W);break;case 1:d.setDate(Y.getDate()+i*W);break;case 2:d.setMonth(Y.getMonth()+i*W);break;case 3:d.setFullYear(Y.getFullYear()+i*W);break;default:}$[i]=d}var _;switch(V){case 0:_=d3.time.format('%d/%m/%Y %H:%M');break;case 1:_=d3.time.format('%d/%m/%Y');break;case 2:_=d3.time.format('%m/%Y');break;case 3:_=d3.time.format('%Y');break;default:}var a1=[];for(var i=0;i<$.length;i++){var b1={};b1.value=$[i].getTime();b1.text=_($[i]);a1.push(b1)}return a1};var L=function(d){var y=t.forceVerticalFont===true?true:false;var V=0;for(var i=0;i<d.length;i++){var W=0;if(y){W=R(d[i],s.realStyle.label).width}else{W=R(d[i],s.realStyle.label).height}if(V<W){V=W}}return V};var Q=function(d){var y=t.forceVerticalFont===true?true:false;var V=0;for(var i=0;i<d.length;i++){var W=0;if(y){W=R(d[i],s.realStyle.label).height}else{W=R(d[i],s.realStyle.label).width}if(V<W){V=W}}return V};var R=function(_,d){return T.superFastMeasure(_,d['font-size'],d['font-weight'],d['font-family'])};var S=function(d,i){for(var y in i){if(typeof(i[y])==="object"){if(d[y]){d[y]=S(d[y],i[y])}else{d[y]=i[y]}}else{d[y]=i[y]}}return d};return E};return r});define('sap/viz/modules/util/IndicatorUtil',['sap/viz/modules/util/ClippathUtil'],function Setup(C){var I={};function A(o){this.axisType=o.axisType;this.position=o.position;this.scrollbarHandle=null;this.indicatorHandle=null;this.scrollbarHeight=o.scrollbarHeight;this.scrollbarColor=o.scrollbarColor;this.scrollbarBorderWidth=o.scrollbarBorderWidth;this.scrollbarBorderColor=o.scrollbarBorderColor;this.indicatorLineWidth=o.indicatorLineWidth;this.indicatorLineColor=o.indicatorLineColor;this.container=o.container;this.indicatorOffset=o.indicatorOffset;this.CLASS_INDICATOR_LINE=o.classIndicatorLine;this.axisWidth=o.axisWidth;this.axisHeight=o.axisHeight}I.createIndicator=function(o){if(o.indicatorType==="AxisIndicator"){return new A(o)}};A.prototype.draw=function(){var c="v-indicator-rect";if(this.container.select('.'+this.CLASS_INDICATOR_LINE).node()===null){this.indicatorHandle=this.container.append('line').attr('class',this.CLASS_INDICATOR_LINE).attr('stroke',this.indicatorLineColor).attr('stroke-width',this.indicatorLineWidth);this.scrollbarHandle=this.container.append('rect').attr('class',c).attr('width',10).attr('height',this.scrollbarHeight).attr('fill',this.scrollbarColor).attr('stroke-width',this.scrollbarBorderWidth).attr('stroke',this.scrollbarBorderColor)}else{this.indicatorHandle=this.container.select('.'+this.CLASS_INDICATOR_LINE);this.scrollbarHandle=this.container.select('.'+c)}var a;if(this.position==='bottom'){this.indicatorHandle.attr('x1',0).attr('y1',this.indicatorOffset/2).attr('x2',this.axisWidth).attr('y2',this.indicatorOffset/2);a=C.drawClippath(this.container,this.axisWidth,this.indicatorOffset,0,0);this.scrollbarHandle.attr('x',0).attr('y',(this.indicatorOffset-this.scrollbarHeight)/2)}else{this.indicatorHandle.attr('x1',this.indicatorOffset/2).attr('y1',0).attr('x2',this.indicatorOffset/2).attr('y2',this.axisHeight).attr('stroke',this.indicatorLineColor).attr('stroke-width',this.indicatorLineWidth);a=C.drawClippath(this.container,this.scrollbarHeight,this.axisHeight,(this.indicatorOffset-this.scrollbarHeight)/2,0);this.scrollbarHandle.attr('x',(this.indicatorOffset-this.scrollbarHeight)/2).attr('y',10)}this.scrollbarHandle.attr('clip-path','url(#'+a+')')};A.prototype.update=function(r,s){var l=0;if(!this.position){return}this.container.attr('visibility','visible');if(this.position==='top'||this.position==='bottom'){l=this.axisWidth*this.axisWidth/r;var x=-(s*this.axisWidth/r);this.scrollbarHandle.attr('width',l).attr('x',x)}else{l=this.axisHeight*this.axisHeight/r;var y=-(s*this.axisHeight/r);this.scrollbarHandle.attr('height',l).attr('y',y)}};A.prototype.hide=function(f){if(f){this.container.attr('visibility','hidden')}else{if(this.position==='top'||this.position==='bottom'){if(this.axisType==='value'){var x=this.scrollbarHandle.attr('x');if(x>=this.axisWidth){this.container.transition().duration(300).attr('visibility','hidden')}}else{var w=this.scrollbarHandle.attr('width');if(w>=this.axisWidth){this.container.transition().duration(300).attr('visibility','hidden')}}}else{if(this.axisType==='value'){var y=this.scrollbarHandle.attr('y');if(y<=0){this.container.transition().duration(300).attr('visibility','hidden')}}else{var h=this.scrollbarHandle.attr('height');if(h>=this.axisHeight){this.container.transition().duration(300).attr('visibility','hidden')}}}}};A.prototype.width=function(_){if(!_){return}this.axisWidth=_};A.prototype.height=function(_){if(!_){return}this.axisHeight=_};return I});define('sap/viz/modules/axis/regularAxis',['jquery','sap/viz/util/TextUtils','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/Objects','sap/viz/modules/axis/valueAxisCore','sap/viz/modules/axis/categoryAxisCore','sap/viz/modules/axis/timeValueAxisCore','sap/viz/lang/langManager','sap/viz/util/NumberUtils','sap/viz/modules/dispatch','sap/viz/format/FormatManager','sap/viz/modules/threeD/matrix','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector','sap/viz/modules/util/ClippathUtil','sap/viz/modules/util/IndicatorUtil'],function Setup(q,T,c,V,O,v,d,t,l,N,f,F,g,B,U,C,I){var r=function(h,n){var o=null;var p;var s=null;var u=6;var w="v-clippath-rect";var z=null;var A=0;var D=0;var E=true;var G=true;var H=-1;var J=null;var K="viz-axis";var L="viz-axis-body";var M="viz-axis-title";var P="viz-axis-indicator";var Q={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisHiddenTitle:"v-hidden-title",axisLabel:"v-label"};var R=11;var S={};var W={};var X=true;var Y=h.props(null);var Z=Y.maxSizeRatio;var $=true;var a1=false;var c1=new f('initialized');var d1=Y.color;var e1=null;var f1=null;var g1;if(n){g1=n.effectManager}var h1={text:null,isCustomized:false,items:[]};var i1=null;var j1={"realStyle":{},"defaultStyle":{}};var k1=false;var l1="#a6a6a6";var m1=true;var n1=8,o1={x:0,y:0},p1=null,q1=2,r1=1,s1=1,t1='#707070',u1='#bbbbbb',v1='#bebebe';var w1=function(){if(n){j1.realStyle.title=O.extend(true,{},n.styleManager.query(Q.axisTitle));j1.realStyle.hiddenTitle=O.extend(true,{},n.styleManager.query(Q.axisHiddenTitle));j1.realStyle.label=O.extend(true,{},n.styleManager.query(Q.axisLabel));j1.defaultStyle.title=O.extend(true,{},n.styleManager.queryDefault(Q.axisTitle));j1.defaultStyle.hiddenTitle=O.extend(true,{},n.styleManager.query(Q.axisHiddenTitle));j1.defaultStyle.label=O.extend(true,{},n.styleManager.queryDefault(Q.axisLabel));j1.realStyle.titleString=n.styleManager.query(Q.axisTitle).toString();j1.realStyle.labelString=n.styleManager.query(Q.axisLabel).toString();j1.defaultStyle.titleString=n.styleManager.queryDefault(Q.axisTitle).toString();j1.defaultStyle.labelString=n.styleManager.queryDefault(Q.axisLabel).toString();if(Y.title.applyAxislineColor){j1.realStyle.title.fill=Y.color;j1.defaultStyle.title.fill=Y.color;j1.realStyle.hiddenTitle.fill=Y.color;j1.defaultStyle.hiddenTitle.fill=Y.color}}};var x1=g(),y1=null,z1=null,A1=null,B1=null;var C1=function(){if(!$){return false}else{if(!E1()&&!D1()){return false}}return true};var D1=function(){return Y.title.visible&&Y.visible};var E1=function(i){if(!i){if(!Y.hideTitleFirst){var a=0;if(U.isMobile()&&Y.indicator.enable){a=12}if(J!==null&&(J-a)<=0){return false}}}if(!E||!G){return false}var b=e1.range();var e=e1.domain();var j=null;if(Y.type==="category"){j=e1.rangeBand()}var k=false;if(!Y.isIndependentMode){if(W){k=true}}else{if(S){k=true}}return!(!Y.visible||(b[0]===0&&b[b.length-1]===0&&b.length>=2)||(b.length===1&&b[0]===0&&e.length===1&&e[0]===0&&Y.type==="value")||((!j||!k)&&b.length===1&&b[0]===0&&e.length===1&&e[0]===0&&Y.type==="category"))};var F1=function(){var a="";h1.items=[];if(Y.title.text!==undefined&&Y.title.text!==null){h1.isCustomized=true;a=Y.title.text;h1.items.push({text:a})}else{if(Y.type==="value"){if(h1.text){a=h1.text;h1.items.push({text:a})}else{h1.isCustomized=false;a=l.get('IDS_ISNOVALUE');h1.items.push({text:a})}}else{h1.isCustomized=false;var b=[];if(Y.isIndependentMode){if(S){for(var e in S){if(S.hasOwnProperty(e)){b=S[e].values;break}}}}else{if(W){b=W.values}}for(var k=0;k<b.length;k++){if(b[k].type){if(b[k].type==="MND"&&k===0){var i=(l.get('IDS_DEFAULTMND')+((b.length===1)?"":" - "));a+=i;h1.items.push({text:i})}else if(b[k].type==="MND"&&k===(b.length-1)){var i=(" - "+l.get('IDS_DEFAULTMND'));a+=i;h1.items.push({text:i})}}else{var i;if(b[k].col.val){i=b[k].col.val}else{i=l.get('IDS_ISNOVALUE')}if(k!==(b.length-1)&&!b[k+1].type){i+=" / "}a+=i;h1.items.push({text:i})}}}}h1.text=a;return a};var G1=function(){if(Y.type==='value'||Y.type==='timeValue'){var a=e1.range();return Math.abs(a[0]-a[a.length-1])}else{return Math.abs(e1.rangeExtent()[0]-e1.rangeExtent()[1])}};var H1;var I1=null;var J1,K1;var L1=function(a){var b=L1.getPreferredSize();J1=(A<b.width)?A:b.width;K1=(D<b.height)?D:b.height;B.drawBound(a,J1,K1);o1={x:0,y:0};var e=L1.startPadding(),i=L1.endPadding();var j;if(U.isMobile()&&A1===null){var k,m,x=0;k=Math.ceil(b.width);m=Math.ceil(b.height);x=(Y.gridline&&Y.gridline.length)?Y.gridline.length:0;if(Y.position==='bottom'){if(Y.type==="value"||Y.type==="timeValue"){j=C.drawClippath(a,k+e+i,m,(e===0)?(-1):(-e),u);if(d3.select("#"+j).select("."+w).empty()===true){d3.select("#"+j).append('rect').attr("class",w).attr('x',-1).attr('y',-x).attr('width',k).attr('height',x+u)}else{d3.select("#"+j).select("."+w).attr('x',-1).attr('y',-x).attr('width',k).attr('height',x+u)}}else{j=C.drawClippath(a,k+e+i,m+x,(e===0)?(-1):(-e),-x)}}else if(Y.position==='top'){j=C.drawClippath(a,k+e+i,m+x,(e===0)?(-1):(-e),0)}else if(Y.position==='left'){if(Y.type==="value"){j=C.drawClippath(a,k-u,m+e+i,0,(e===0)?(-1):(-e));if(d3.select("#"+j).select("."+w).empty()===true){d3.select("#"+j).append('rect').attr("class",w).attr('x',k-u).attr('y',-1).attr('width',x+u).attr('height',m+1)}else{d3.select("#"+j).select("."+w).attr('x',k-u).attr('y',-1).attr('width',x+u).attr('height',m+1)}}else{j=C.drawClippath(a,k+x,m+e+i,0,(e===0)?(-1):(-e))}}else if(Y.position==='right'){j=C.drawClippath(a,k,m+e+i,0,(e===0)?(-1):(-e))}a.attr('clip-path','url(#'+j+')')}z=a;if(Y.indicator.enable&&U.isMobile()&&!I1){I1=z.append('g').attr('class',P)}else if(!Y.indicator.enable&&I1){I1.remove()}O1(z);if(p){p1=p.getPreferredSize()}else if(U.isMobile()&&j){d3.select("#"+j).select("."+w).remove()}if(Y.indicator.enable&&U.isMobile()){if(!H1){H1=I.createIndicator({indicatorType:'AxisIndicator',container:I1,axisType:Y.type,position:Y.position,axisWidth:b.width,axisHeight:b.height,indicatorOffset:n1,scrollbarHeight:q1,scrollbarBorderWidth:s1,scrollbarBorderColor:t1,scrollbarColor:u1,indicatorLineColor:v1,indicatorLineWidth:r1,classIndicatorLine:'v-indicator-line'})}else{H1.width(b.width);H1.height(b.height)}H1.draw();H1.update(G1(),0);if(p){M1(p1,b)}H1.hide(true)}X=true;return L1};function M1(a,b){if(Y.position==='bottom'){if(!Y.title.visible){z.select('.'+P).attr('transform','translate(0, '+(b.height-n1)+')')}else if(E1()){z.select('.'+P).attr('transform','translate(0, '+(a.height+n1)+')')}else{z.select('.'+P).attr('transform','translate(0, '+(n1)+')')}}else if(Y.position==='left'){var i=q1+s1*2;if(D1()&&X){z.select('.'+L).attr('transform','translate('+(f1+R+i+n1)+', 0)');z.select('.'+P).attr('transform','translate('+(f1+R)+', 0)')}else{z.select('.'+L).attr('transform','translate('+(i+n1)+', 0)');z.select('.'+P).attr('transform','translate(0, 0)')}}}function N1(a){return{x:a.substring(a.indexOf('(')+1,a.indexOf(',')),y:a.substring(a.indexOf(',')+1,a.indexOf(')'))}}L1.stretchFromPlot=function(a){var b=transform=null;if(a.offset){transform=a.offset}else{if(Y.position==='top'||Y.position==='bottom'){b=a.xTransform}else{b=a.yTransform}if(b){transform=N1(b)}}if(transform){var e=z.select("."+L).node();if(!e){return}var i=e.getTransformToElement(e.parentNode);if(Y.position==='top'||Y.position==='bottom'){o1={x:transform.x,y:i.f};z.select("."+L).attr('transform','translate('+transform.x+', '+i.f+')');if(H1){H1.update(G1(),transform.x)}}else if(Y.position==='left'||Y.position==='right'){o1={x:i.e,y:transform.y};z.select("."+L).attr('transform','translate('+i.e+', '+transform.y+')');if(H1){H1.update(G1(),transform.y)}}}if(Y.type==='value'||Y.type==="timeValue"){var j,k,m,_,b1,x,y,b2;m=z.selectAll('.v-valueaxisline');b2=7;if(m.empty()){m=z.selectAll('.v-fixed-valueaxisline')}j=z.select('.v-body');if(!m.empty()&&!j.empty()){b1=j.node();_=b1.getTransformToElement(b1.parentNode);if(Y.position==='bottom'){if(_){x=-_.e;y=0}k=C.drawClippath(j,J1,b2,x,y)}else if(Y.position==='top'){if(_){x=-_.e;y=p1.height-b2}k=C.drawClippath(j,J1,b2,x,y)}else if(Y.position==='left'){if(_){x=p1.width-b2;y=-(_.f)}k=C.drawClippath(j,b2,K1,x,y)}else if(Y.position==='right'){if(_){x=0;y=-(_.f)}k=C.drawClippath(j,b2,K1,x,y)}m.attr('clip-path','url(#'+k+')')}}};var O1=function(a){var b=a.select("."+K);var j=e1.range();var k=e1.domain();if(!C1()){b.remove()}else{var m=L1.getPreferredSize().spacings;var _=m[0];var b1=0;for(var i=1;i<m.length;i++){b1+=m[i]}if(!Y.hideTitleFirst){X=true;if(_===0){X=false}else{if(H>=0&&H<_){X=false}}}else{if((H>=0&&H<N.preciseSimple(_+b1))||_===0){X=false}}a2();var b2;var c2;var re=_1();b2=re.core;c2=re.coreScale;var e2=H;if(!Y.hideTitleFirst){e2=J}else{if(X){e2-=_}}p=b2().properties(Y).style(j1).position(Y.position).axScale(c2).spaceLimit(e2).matrix(x1).labelAngle(y1).labelAlign(z1).angle(A1).tickAngle(B1).otherAxisHidden(a1);if(U.isMobile()&&Y.indicator.enable){var f2=12;if(!Y.hideTitleFirst){p.spaceLimit(J-f2)}else{p.spaceLimit(H-f2)}}var g2;if(b.empty()){b=a.append("g").attr("class",K+" "+Q.axis);g2=b.append("g").attr("class",L+" "+Q.axisBody)}else{var e=b.select("."+L).remove();g2=b.append("g").attr("class",L+" "+Q.axisBody);g2=b.select("."+L)}if(E1()){g2.call(p)}var h2=h1.text;var i2=R;b.select("."+M).remove();if(D1()){if(Y.title.visible&&X){var j2;var k2=null;if(U.isMobile()&&k1){k2=p1}else{k2=p1=p.getPreferredSize()}var l2=b.append("g").attr("class",M+" "+Q.axisTitle).attr("text-anchor","middle").attr("fill",j1.defaultStyle.title.fill).attr("font-size",j1.defaultStyle.title['font-size']).attr("font-weight",j1.defaultStyle.title['font-weight']).attr("font-family",j1.defaultStyle.title['font-family']).attr('text-rendering','geometricPrecision').append("text");i1=l2;var m2="auto";if(Y.position==="bottom"){if(!E1()){k2.height=0}var n2=0;if(U.isMobile()&&Y.indicator.enable){n2=n1+q1+s1*2}m2="hanging";l2.attr("x",k2.width/2).attr("y",k2.height+i2+n2).attr("dominant-baseline",m2);if(U.isIE()){m2="auto";var o2=j1.realStyle.title['font-size'].toString();var p2=o2.indexOf("px");if(p2>=0){o2=o2.substr(0,p2)}l2.attr("y",Number(l2.attr("y"))+o2/2);l2.attr("dominant-baseline",m2)}j2=T.ellipsis(h2,l2.node(),k2.width,j1.realStyle.titleString);if(A1){var q2=A1*Math.PI/180;var r2=Math.cos(q2);var s2=(45===A1)?r2:Math.sin(q2);var t2=B1*Math.PI/180;var u2=Math.cos(t2);var v2=Math.sin(t2);var w2=A1-90;if(w2>90){w2-=180}else if(w2<-90)(w2+=180);var x2=S1(h2,j1.realStyle.title);var x=(k2.width)/2*s2;var y=-(k2.width)/2*r2;x+=(k2.height+i2)*u2;y+=(k2.height+i2)*v2;var y2;y2='rotate( '+(w2)+' '+x+' '+y+')';if(U.isIE()){var o2=j1.realStyle.title['font-size'].toString();var p2=o2.indexOf("px");if(p2>=0){o2=o2.substr(0,p2)}y2+='translate(0  '+(o2)+')'}l2.attr('x',x).attr('y',y).attr('transform',y2)}}else if(Y.position==="top"){if(!E1()){k2.height=0}titleHieght=S1(h2,j1.realStyle.title).height;var z2=(h2!==undefined&&h2!==null&&h2!==''?titleHieght+i2:0);g2.attr("transform","translate(0, "+z2+")");m2="auto";l2.attr("x",k2.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline",m2);j2=T.ellipsis(h2,l2.node(),k2.width,j1.realStyle.titleString)}else if(Y.position==="left"){if(!E1()){k2.width=0}f1=titleWidth=S1(h2,j1.realStyle.title).height;var z2=(h2!==undefined&&h2!==null&&h2!==''?titleWidth+i2:0);n2=0;if(U.isMobile()&&Y.indicator.enable){n2=n1+q1+s1*2}g2.attr("transform","translate("+(z2+n2)+", "+0+")");var A2=titleWidth;var B2=k2.height/2;var ac="-90";m2="auto";l2.attr("transform","rotate( "+ac+" "+A2+" "+B2+" )").attr("x",A2).attr("y",B2).attr("dominant-baseline",m2);j2=T.ellipsis(h2,l2.node(),k2.height,j1.realStyle.titleString)}else{if(!E1()){k2.width=0}titleWidth=S1(h2,j1.realStyle.title).height;A2=k2.width+titleWidth/2+i2;B2=k2.height/2;var ac="-90";m2="hanging";l2.attr("transform","rotate( "+ac+" "+A2+" "+B2+" )").attr("x",A2).attr("y",B2-titleWidth/2).attr("dominant-baseline",m2);if(U.isIE()){var o2=j1.realStyle.title['font-size'].toString();var p2=o2.indexOf("px");if(p2>=0){o2=o2.substr(0,p2)}m2="auto";B2=Number(k2.height/2)+o2/2;l2.attr("y",B2);l2.attr("dominant-baseline",m2)}j2=T.ellipsis(h2,l2.node(),k2.height,j1.realStyle.titleString)}if(!A1){l2.text("");if(j2!==h2&&l2.select("title").empty()){l2.append("title").text(h2)}var D2;for(D2=0;D2<h1.items.length;D2++){var E2=l2.append("tspan");E2.attr("class",Q.axisTitle);E2.attr("dominant-baseline",m2);if(h1.items[D2].isHidden&&!h1.isCustomized){E2.attr("class",Q.axisTitle+" "+Q.axisHiddenTitle);E2.attr("fill",j1.defaultStyle.hiddenTitle.fill)}if(j2.length>h1.items[D2].text.length){E2.text(h1.items[D2].text);j2=j2.substring(h1.items[D2].text.length)}else{E2.text(j2);break}}}}}}c1.initialized()};L1.redraw=function(a){k1=true;O1(z);if(Y.indicator.enable&&p){var b=p.getPreferredSize();var e=L1.getPreferredSize();M1(b,e)}k1=false;X=true};L1.stretchEnd=function(a){if(H1){H1.hide(true)}};L1.hideIndicator=function(a){if(H1){H1.hide(true)}};L1.showIndicator=function(a){if(H1){if(Y.position==='bottom'){H1.update(G1(),o1.x)}else if(Y.position==='left'){H1.update(G1(),o1.y)}}};L1.matrix=function(_){if(!arguments.length){return x1}x1=_;return L1};L1.labelAngle=function(_){if(!arguments.length){return y1}y1=P1(_,360);return L1};L1.tickAngle=function(_){if(!arguments.length){return B1}B1=P1(_,360);return L1};L1.angle=function(_){if(!arguments.length){return A1}A1=P1(_,360);return L1};function P1(a,m){var r=a%m;if(0>r)r+=m;return r}L1.labelAlign=function(_){if(!arguments.length){return z1}z1=_;return L1};L1.parent=function(_){if(!arguments.length)return z;z=_;return L1};L1.width=function(_){if(arguments.length==0){return A}else{A=_;if(Y.position=="bottom"||Y.position=="top"){if(D){H=D}}else if(Y.position=="left"||Y.position=="right"){if(A){H=A}}return L1}};L1.height=function(_){if(arguments.length==0)return D;D=_;if(Y.position=="bottom"||Y.position=="top"){if(D){H=D}}else if(Y.position=="left"||Y.position=="right"){if(A){H=A}}return L1};L1.gridlineLength=function(_){if(arguments.length==0)return Y.gridline.length;Y.gridline.length=_;return L1};L1.startPadding=function(){var a=0;var b;if(Y.type=="value"){b=v()}else if(Y.type=="timeValue"){b=t()}if(b){a=b.properties(Y).style(j1).position(Y.position).axScale(e1).startPadding()}return a};L1.endPadding=function(){var a=0;var b;if(Y.type=="value"){b=v()}else if(Y.type=="timeValue"){b=t()}if(b){a=b.properties(Y).style(j1).position(Y.position).axScale(e1).endPadding()}return a};L1.mouseover=function(a){if(Y.enableLabelSelection&&Y.type!=="value"){p.mouseover(a)}};L1.mouseout=function(a){if(Y.enableLabelSelection&&Y.type!=="value"){p.mouseout(a)}};L1.cleanLabelAreas=function(){if(Y.enableLabelSelection&&Y.type!=="value"&&p&&p.cleanLabelAreas){p.cleanLabelAreas()}};L1.mouseup=function(a){if(Y.enableLabelSelection&&Y.type!=="value"){p.mouseup(a)}};L1.mousedown=function(a){if(Y.enableLabelSelection&&Y.type!=="value"){p.mousedown(a)}};L1.size=function(_){if(arguments.length==0)return{"width":A,"height":D,};A=_.width;D=_.height;return L1};L1.independentData=function(_){if(Y.isIndependentMode){if(arguments.length==0)return S;S=_}},L1.data=function(_){if(arguments.length==0)return S;if(!Y.isIndependentMode){S=_;if(_.getAnalysisAxisDataByIdx){W=S.getAnalysisAxisDataByIdx(0)}}return L1};L1.title=function(_){if(arguments.length==0)return h1.text;h1.text=_;return L1};L1.properties=function(_){if(arguments.length==0){return Y}var a=false,b=false;if(_.scale&&_.scale.fixedRange){a=isNaN(Number(_.scale.minValue));b=isNaN(Number(_.scale.maxValue))}O.extend(true,Y,_);if(a){Y.scale.minValue=NaN}if(b){Y.scale.maxValue=NaN}if(_.color){Y.customizedColor=_.color}if(_.gridline!==undefined){if(_.gridline.showFirstLine!==undefined){Y.initializeFirstLine=true}if(_.gridline.showLastLine!==undefined){Y.initializeLastLine=true}}if(_.label&&_.label.formatString&&c.isArray(_.label.formatString)){if(c.isArray(_.label.formatString[0])){Y.label.formatString=_.label.formatString[0][0]}}Y.maxSizeRatio=parseFloat(Y.maxSizeRatio);if(isNaN(Y.maxSizeRatio)||Y.maxSizeRatio<0||Y.maxSizeRatio>1){Y.maxSizeRatio=Z}if(Y.hideTitleFirst===undefined){Y.hideTitleFirst=true}if(Y.hideTitleFirst){R=11}else{R=15}m1=true;return L1};L1.range=function(){var e=null,m=Number(Y.scale.maxValue),i=Number(Y.scale.minValue);if((Y.type==="value")&&(Y.scale.fixedRange)){if((isNaN(m)||isNaN(i)||m>i)&&m1){e={max:m,min:i,from:'axis'}}else{m1=false}}else if((Y.type==="timeValue")&&(Y.scale.fixedTicks)){if(Array.isArray(Y.scale.fixedTicks)&&Y.scale.fixedTicks.length>0){var j=Y.scale.fixedTicks.slice(0);j=j.filter(function(a){return c.isNumber(a.value)});j.sort(function(a,b){return a.value-b.value});if(j.length<2){return null}e={max:j[j.length-1].value,min:j[0].value,ticks:j,from:'axis'}}}return e};L1.scale=function(_){if(arguments.length==0)return e1;e1=_;if(Y.type==="value"){var a=e1.domain();Y.scale.maxValue=Math.max(a[0],a[1]);Y.scale.minValue=Math.min(a[0],a[1])}return L1};L1.isDrawBody=function(_){if(arguments.length==0)return E;E=_;return L1};L1.color=function(_){if(arguments.length==0)return Y.color;if(_!==undefined){Y.isAxisColorFixed=true}if(Y.customizedColor){_=Y.customizedColor}if(!_){_=d1}Y=O.extend(true,Y,{"color":_});if(Y.title.applyAxislineColor&&_){h1.isCustomized=true;if(!j1.realStyle.title){j1.realStyle.title={}}if(!j1.defaultStyle.title){j1.defaultStyle.title={}}j1.realStyle.title.fill=_;j1.defaultStyle.title.fill=_}return L1};L1.drawable=function(_){if(arguments.length==0)return $;$=_;return L1};L1.otherAxisHidden=function(_){if(arguments.length==0)return a1;a1=_;return L1};var Q1=function(a,b){var i;for(i=0;i<a.length;i++){if(i>=b){a[i].isHidden=true}else{a[i].isHidden=false}}};L1.getPreferredSize=function(){J=null;G=true;w1();var a=[0];var b=[0];if(e1){a=e1.range();b=e1.domain()}if(!e1||(!C1())){return{width:0,height:0,manual:false,}}else{var e=_1();if(H>=0){J=H}var j=(e.core)().properties(Y).style(j1).position(Y.position).axScale(e.coreScale);if(Y.type=="category"){if(s&&typeof s.scaleAndDrawDestroy==='function'){s.scaleAndDrawDestroy()}s=j}var k=F1();var m;var x=0;var y=0;var _=0;var b1=0;if(Y.position=="bottom"||Y.position=="top"){if(Y.title.visible&&Y.visible){if(k!==undefined&&k!==null&&k!==''){x=S1(k,j1.realStyle.title).height}else{x=0}_=x==0?0:R}b1=x+_}else if(Y.position=="left"||Y.position=="right"){if(Y.title.visible&&Y.visible){if(k!==undefined&&k!==null&&k!==''){y=S1(k,j1.realStyle.title).height}else{y=0}_=y==0?0:R}b1=y+_}if(!Y.hideTitleFirst){if(H>=0){J-=b1;J=N.precise(J)}j.spaceLimit(J)}else{j.spaceLimit(H)}if(U.isMobile()&&Y.indicator.enable){var b2=12;if(!Y.hideTitleFirst){j.spaceLimit(J-b2)}else{j.spaceLimit(H-b2)}}var c2=[];var d2=j.getPreferredSize();var e2=0;if(d2.layerNumber){e2=d2.layerNumber}else if(E1()){if(!Y.label.visible){e2=0}else{e2=1}}Q1(h1.items,e2);if(Y.position=="bottom"||Y.position=="top"){if(!E1(true)){d2.height=0;d2.spacings=[]}c2=c2.concat([b1]);var f2=n1+q1+s1*2;if(Y.position=="bottom"&&U.isMobile()&&Y.indicator.enable){c2=c2.concat([f2])}else{c2=c2.concat([0])}c2=c2.concat(d2.spacings);var g2=0;for(var i=1;i<c2.length;i++){g2+=c2[i]}if((Y.indicator.enable&&U.isMobile()&&H===f2)){G=false}else{G=true}var h2=b1+g2;var i2=h2;if(H>=0&&H<h2){i2=d2.height}m={maxSizeConstant:Y.maxSizeRatio,width:d2.width,height:h2,realHeight:i2,spacings:c2,manual:false,minTruncateSize:d2.minTruncateSize}}else if(Y.position=="left"||Y.position=="right"){if(!E1(true)){d2.width=0;d2.spacings=[]}c2=c2.concat([b1]);var f2=n1+q1+s1*2;if(Y.position=="left"&&U.isMobile()&&Y.indicator.enable){c2=c2.concat([f2])}else{c2=c2.concat([0])}c2=c2.concat(d2.spacings);var g2=0;for(var i=1;i<c2.length;i++){g2+=c2[i]}if((Y.indicator.enable&&U.isMobile()&&H===f2)){G=false}else{G=true}var j2=g2+b1;var k2=j2;if(H>=0&&H<j2){k2=d2.width}m={maxSizeConstant:Y.maxSizeRatio,width:j2,realWidth:k2,height:d2.height,spacings:c2,manual:false,minTruncateSize:d2.minTruncateSize}}if((Y.type=='category')&&(Y.layoutInfo.width>0)&&(Y.layoutInfo.height>0)){m.width=Y.layoutInfo.width;m.realWidth=Y.layoutInfo.width;m.height=Y.layoutInfo.height;m.realHeight=Y.layoutInfo.height;m.manual=true}V.normalizeNumbersCeil(m);return m}};L1.dispatch=function(_){if(!arguments.length)return c1;c1=_;return L1};L1.getPropertyZone=function(){var a=[],b,e,i,j,k,m,x;if(Y.position==='left'){b='yAxis'}else if(Y.position==='right'){b='yAxis2'}else if(Y.position==='top'){b='xAxis2'}else if(Y.position==='bottom'){b='xAxis'}if(A1){x=true}else{x=false}if(D1()&&i1){e=i1.node().getBoundingClientRect();if(e.width>1.5&&e.height>1.5){j=[[]];j[0].push([e.left,e.top]);j[0].push([e.right,e.top]);j[0].push([e.right,e.bottom]);j[0].push([e.left,e.bottom]);a.push({"name":b+' title',"bound":j})}}if(E1()&&z){if(x){m=z.node().getBoundingClientRect()}else{m=z.select(".v-bound").node().getBoundingClientRect()}if(m.width>1.5&&m.height>1.5){i={left:m.left,right:m.right,top:m.top,bottom:m.bottom,};if(a.length>0&&!x){i=R1(i,a[0].bound,Y.position)}k=[[]];k[0].push([i.left,i.top]);k[0].push([i.right,i.top]);k[0].push([i.right,i.bottom]);k[0].push([i.left,i.bottom]);a.push({"name":b,"bound":k})}}return a};function R1(b,a,e){var i={left:b.left,right:b.right,top:b.top,bottom:b.bottom};if(e==='left'){i.left=a[0][1][0]+1}else if(e==='right'){i.right=a[0][0][0]-1}else if(e==='top'){i.top=a[0][3][1]+1}else if(e==='bottom'){i.bottom=a[0][0][1]-1}return i}L1.destroy=function(){var i=0;if(s&&typeof s.scaleAndDrawDestroy==='function'){s.scaleAndDrawDestroy()}s=null;if(n){n.destroy();n=null}if(p&&p.destroy){p.destroy()}if(x1&&x1.destroy){x1.destroy()}p=null;x1=null;W=null;S=null;if(e1){e1.domain([0,1]).range([0,1]);e1=null}if(z){z.selectAll('.v-datapoint').remove();z.remove();for(i=0;i<z.length;i++){z[i]=null}z=null}H1=null;A1=null;z1=null;y1=null;B1=null;w=null;c1=null;v1=null;t1=null;u1=null;L=null;K=null;P=null;M=null;d1=null;g1=null;Y=null;j1=null;h1=null;Q=null;p1=null;o1=null};var S1=function(_,a){return T.superFastMeasure(_,a['font-size'],a['font-weight'],a['font-family'])};function T1(a){if(a[0].type==='MND'||a[a.length-1].type==='MND'){return true}else{return false}}function U1(a){if(a.length===1&&a[0].type==='MND'){return true}else{return false}}function V1(a){if(a[0].type==='MND'){return true}else{return false}}function W1(a){if(!T1(a)){return}if(V1(a)){return a[0]}else{return a[a.length-1]}}function X1(a){if(!T1(a)||U1(a)){return a}var b=[];var i,j,k;for(i=0;i<a.length;++i){b.push({col:a[i].col,rows:[]})}var m=W1(a);var e=m.rows.length;var x;if(V1(a)){x=a[1].rows.length;for(i=0;i<e;++i){for(j=0;j<x;++j){b[0].rows.push(a[0].rows[i])}}for(i=1;i<a.length;++i){for(j=0;j<e;++j){for(k=0;k<a[i].rows.length;k++){var y=O.extend(true,{},a[i].rows[k]);b[i].rows.push(y)}}}for(i=1;i<b.length;++i){for(j=0;j<b[i].rows.length;++j){var _=b[0].rows[j].ctx;var b1=b[i].rows[j].ctx;b1=O.extend(true,b1,_);b[i].rows[j].ctx=b1}}}else{x=a[0].rows.length;for(i=0;i<x;++i){var b2;var c2=a[a.length-1].rows.length;for(b2=0;b2<c2;b2++){b[b.length-1].rows.push(O.extend(true,{},a[a.length-1].rows[b2]));if(a.length>=2){var _=a[a.length-2].rows[i].ctx;var b1=O.extend(true,{},a[a.length-1].rows[b2].ctx);b1=O.extend(true,b1,_);b[b.length-1].rows[i*c2+b2].ctx=b1}}}for(i=0;i<a.length-1;++i){for(j=0;j<x;++j){for(k=0;k<e;++k){b[i].rows.push(a[i].rows[j])}}}}return b}function Y1(a){var i,j;var b=[];var e,k,m;var x,y;for(i=0;i<a.length;++i){e=[];m=0;y=0;x=0;var _=[];for(j=0;j<a[i].rows.length;++j){k={};if(i===a.length-1){k.value=a[i].rows[j];k.space=1}else{++m;++y;if(i>0&&y>=b[i-1][x].space){k.value=a[i].rows[j];k.space=m;m=0;y=0;++x}else{if(j+1<a[i].rows.length&&a[i].rows[j].val===a[i].rows[j+1].val){if(a[i].rows[j].ctx){_.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){_=_.concat(a[i].rows[j].contexts)}continue}else{k.value=a[i].rows[j];k.space=m;m=0}}}if(a[i].rows[j].ctx){_.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){_=_.concat(a[i].rows[j].contexts)}k.value.labelContexts=_;e.push(k);_=[]}b.push(e)}return b}function Z1(a){var b=X1(a);var e=Y1(b);return e}function $1(a){for(var i=0;i<a.length;++i){a[i].reverse()}}var _1=function(){var a={};var b;var e;if(Y.type=="category"){e=[];var k=[];if(Y.isIndependentMode){for(dataObj in S){k=S[dataObj].values}}else{if(W){k=W.values}}var m=[];if(k&&k.length){m=Z1(k)}var x=e1.range();if(x[0]>x[x.length-1]){$1(m)}var y=m.length===0?0:m[m.length-1].length;var _=e1.rangeBand(),b1=[];var b2=false;if(k&&k.length>0&&k[0].rows.length===0){b2=true;y=1;var c2={value:{},space:1};var d2=[];if(W.values){var e2;for(e2=0;e2<W.values[0].rows.length;e2++){d2.push(W.values[0].rows[e2].ctx)}}c2.value={val:!W.values?null:W.values[0].col.val,labelContexts:d2};m=[[c2]]}var di;if(!e1.noEqual){if(!U1(k)&&!b2){for(di=0;di<y;di++){b1[di]=_}}else{var g2=parseInt(x.length/y,10);for(di=0;di<y;di++){b1[di]=_*g2}}}else{for(di=0;di<y;di++){b1[di]=Math.abs(x[di]-x[di+1])}}function h2(o2,n2,m2){var f2=o2;for(var ix=0;ix<m2;ix++){f2+=b1[n2+ix]}return f2};var i2={};var j2=[];var k2=[];var l2=[];var i,j,m2=0;var n2;var o2,p2,q2=m.length;for(i=0;i<q2;++i){j2=[];k2=[];l2=[];m2=0;n2=0;for(j=0;j<m[i].length;++j){m2=0;j2.push(m[i][j].value);m2+=m[i][j].space;o2=j>0?k2[j-1][1]:0;p2=h2(o2,n2,m2);if(q2>1){l2.push([n2,n2+m2-1])}k2.push([o2,p2]);n2+=m2}var i2={"domain":j2,"range":k2};if(q2>1){i2.itemIndexRange=l2}e.push(i2)}b=d}else if(Y.type=="value"){b=v;e=e1}else if(Y.type=="timeValue"){b=t;e=e1}a.core=b;a.coreScale=e;a.coreScale.noEqual=e1.noEqual;return a};function a2(){if(!g1)return;if(Y.customizedColor){Y.color=Y.customizedColor}var a={drawingEffect:'normal',fillColor:Y.color,};Y.color=g1.register(a);a={drawingEffect:'normal',fillColor:Y.gridline.color,};Y.gridline.color=g1.register(a);a={drawingEffect:'normal',fillColor:j1.defaultStyle.label.fill,};j1.defaultStyle.label.fill=g1.register(a);a={drawingEffect:'normal',fillColor:j1.defaultStyle.title.fill,};j1.defaultStyle.title.fill=g1.register(a)}return L1};return r});define('sap/viz/modules/manifests/Axis',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/axis/regularAxis'],function Setup(M,C,U,f){var m={'id':'sap.viz.modules.axis','type':C.Type.Supplementary,'name':'axis','properties':{'isIndependentMode':{'name':'isIndependentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the axis works in independent mode. Currently, this property is used only for boxplot charts.','isExported':false},'isPercentMode':{'name':'isPercentMode','supportedValueType':'Boolean','defaultValue':false,'description':"Show the label as a percentage. For example '0.1' would show as '10'.",'isExported':false},'isKeepFirstAndLastLabel':{'name':'isKeepFirstAndLastLabel','supportedValueType':'Boolean','defaultValue':false,'description':"Try to keep the first label and last label when the space is limited.",'isExported':false},'lineSize':{'name':'lineSize','supportedValueType':'Int','defaultValue':'1','description':'Set the thickness of the axis line','isExported':true,'example':"<a href='"+C.DocExample.SnippetUrl+"88' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'title':{'name':'title','description':'Settings for the axis title','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the axis title'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set the text of the axis title'},'applyAxislineColor':{'name':'applyAxislineColor','supportedValueType':'Boolean','defaultValue':false,'description':'Set the title color to match the color of the axis line','isExported':false,},},},'gridline':{'name':'gridline','description':'Settings for the gridlines on the axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of gridlines on the axis'},'disable':{'name':'disable','supportedValueType':'Boolean','defaultValue':false,'description':'Disable gridline or not','isExported':false,},'showFirstLine':{'name':'showFirstLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the first gridline on the axis appears','isExported':false,},'showLastLine':{'name':'showLastLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the last gridline on the axis appears','isExported':false,},'type':{'name':'type','supportedValueType':'String','supportedValues':['line','dotted','incised'],'defaultValue':'line','description':'Set the line type of gridlines on the axis','isExported':true,},'color':{'name':'color','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Set the color of the gridlines on the axis','isExported':true,},'size':{'name':'size','supportedValueType':'Int','defaultValue':'1','description':'Set the line size of gridlines on the axis','isExported':true,},},},'color':{'name':'color','supportedValueType':'String','defaultValue':'#6c6c6c','description':'Set the color of the axis line','isExported':true,},'axisline':{'name':'axisline','description':'Settings for the axis line','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the axis line'},},},'type':{'name':'type','supportedValueType':'String','supportedValues':['value','category','timeValue'],'defaultValue':'value','description':'Set the axis type','isExported':false,},'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the entire axis, including the axis line, gridlines, and labels',},'label':{'name':'label','description':'Settings for the labels on this axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the labels on this axis'},'numberFormat':{'name':'numberFormat','supportedValueType':'String','defaultValue':'','description':'Set the number format for the value axis','isExported':false},'formatString':{'name':'formatString','supportedValueType':'String | Two-Dimensions-Array','defaultValue':null,'description':'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The letter "u" is used at the end of a format string to format values in SI units. If the letter "u" is added to a value between 1e12 and 1e-3 before SI units are applied, the value is formatted in exponential style. The remaining syntax matches Excel format strings. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'},'unitFormatType':{'name':'unitFormatType','supportedValueType':'String','supportedValues':['MetricUnits','FinancialUnits'],'defaultValue':'FinancialUnits','description':'Set the unit format type. If set MetricUnits, unit K,M,G,T will be applied, eg, 5000 will display as 5K, 5000000 will display as 5M, 5000000000 will display as 5G and so on. If set FinancialUnits, unit K,M,B,T will be applied. 5000000000 will display as 5B.'},'hideSubLevels':{'name':'hideSubLevels','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the sub levels of labels on this axis'}},},'indicator':{'name':'indicator','description':'Settings for the axis indicator','supportedValueType':'Object','supportedValues':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the axis indicator','isExported':false}},'isExported':false},'position':{'name':'position','supportedValueType':'String','supportedValues':['left','right','top','bottom'],'defaultValue':'bottom','description':'Set the position of the axis','isExported':false,},'isTruncateAvailable':{'name':'isTruncateAvailable','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether truncation logic is available for the category axis','isExported':false,},'forceLabelArea':{'name':'forceLabelArea','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the label area is limited to the text area','isExported':false},'scale':{'name':'scale','description':'Set the scale of the value axis. This property only works on value type axes.','supportedValueType':'Object','supportedValues':{'fixedRange':{'name':'fixedRange','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the axis range is limited to the range between the minValue and maxValue',},'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':0,'description':'Set the minValue of the value axis',},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':0,'description':'Set the maxValue of the value axis',},'fixedTicks':{'name':'fixedTicks','supportedValueType':'Array','description':'Set the specific ticks for value axis. The format should be [{value : "/value/", text : "/text/"}...]. '+'If its length is less than 2, this property will not take effect.','isExported':false}},},'layoutInfo':{'name':'layoutInfo','description':'Settings for the layout of the category axis. This property only works for category type axes.','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'Number','defaultValue':0,'description':'Set the width of the xAxis','isExported':false},'height':{'name':'height','supportedValueType':'Number','defaultValue':0,'description':'Set the height of the xAxis','isExported':false}},'isExported':false},'enableLabelSelection':{'name':'enableLabelSelection','supportedValueType':'Boolean','defaultValue':true,'description':"Set whether the label selection effect is enabled. For mobile devices, the default value is 'false'.",'isExported':false},'axisTick':{'name':'axisTick','description':'Settings for the ticks on the axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':"Set visibility of the ticks on the axis. For mobile devices, the default value is 'false'."},},'isExported':false},'hideTitleFirst':{'name':'hideTitleFirst','supportedValueType':'Boolean','defaultValue':false,'description':"Hide axis title firstly if the space is limited.",'isExported':false},'maxSizeRatio':{'name':'maxSizeRatio','supportedValueType':'PositiveFloat','defaultValue':1/3,'description':"The ratio to limit axis' space in its container, which only accepts values between 0 and 1. All the invalid values would be replaced by default value.",'isExported':false}},'css':{'.viz-axis-title.v-title':{'description':'Define the style of the axis title','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.v-hidden-title':{'description':'Define the style of the axis title for a hidden layer','value':{'fill':'#a6a6a6'}},'.viz-axis-label.v-label':{'description':'Define the style of the axis label','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}},'.v-hovershadow':{'description':'Define the color of the hover shadow','value':{'fill':'#cccccc'}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/manifests/Background',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/background'],function Setup(M,C,f){var v={'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility'};var m={'id':'sap.viz.modules.background','type':C.Type.Supplementary,'name':'background','description':'Settings for the background of the outer chart area','properties':{'visible':v,'border':{'name':'border','cssClass':'.v-background-border.viz-plot-background-border','description':'Settings for the border','supportedValueType':'Object','supportedValues':{'left':{'name':'left','description':'Settings for the left border','supportedValueType':'Object','supportedValues':{'visible':v}},'right':{'name':'right','description':'Settings for the right border','supportedValueType':'Object','supportedValues':{'visible':v}},'top':{'name':'top','description':'Settings for the top border','supportedValueType':'Object','supportedValues':{'visible':v}},'bottom':{'name':'bottom','description':'Settings for the bottom border','supportedValueType':'Object','supportedValues':{'visible':v}},'stroke':{'name':'stroke','cssStyle':'stroke','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Settings for the color of the stroke.','isExported':false},'strokeWidth':{'name':'strokeWidth','cssStyle':'stroke-width','supportedValueType':"Int",'defaultValue':1,'description':'Settings for the width of the stroke.','isExported':false}}},'drawingEffect':{'name':'drawingEffect','description':"Set the drawing effect for the background. If this value is set to 'glossy', the background is glossy. If this value is set to 'normal', the background is matte.",'supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true},'direction':{'name':'direction','description':"Set the direction of the color gradient in the background. This only takes effect if the 'drawingEffect' value is set to 'glossy'.",'supportedValueType':'String','supportedValues':['horizontal','vertical'],'defaultValue':'vertical'},'color':{'name':'color','supportedValueType':'String','cssClass':'.v-background-body.viz-plot-background','cssStyle':'fill','description':'Define the color for the plot background body.','defaultValue':'transparent','isExported':false}},'css':{'.v-background-body.viz-plot-background':{'description':'Define the style for the plot background body','value':{'fill':'transparent'}},'.v-background-border.viz-plot-background-border':{'description':'Define the style for the plot background border','value':{'stroke':'#d8d8d8','stroke-width':1}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/datalabel',['sap/viz/util/TextUtils','sap/viz/base/utils/TypeUtils','sap/viz/format/FormatManager','sap/viz/manifest','sap/viz/base/utils/Objects','sap/viz/modules/dispatch','sap/viz/base/UADetector'],function Setup(T,a,f,M,O,D,U){var b=function(m,c){var e='12px',g='#333333',h='"Open Sans" Arial, Helvetica, sans-serif',l='normal';var p=m.props(null);var b,n,o;var q,s;var t;var u;var v=false;var w=[];var z=new D("initialized");var A='horizontal',B,C,E,F,G,H,I,J,K,L,N,P,Q,R,S,V,W,X,Y;var Z=false;var $='#ffffff',a1=false,b1=false,c1=2,d1=false,e1='#ffffff';function f1(){}f1.removeLabel=function(){if(a.isExist(q.parent())){q.parent().selectAll('g.v-m-datalabel').remove()}};f1.showLabel=function(j){if(q===null){return}if(j&&j.eventSource==='pinch'){v=true}f1.removeLabel();if(E&&q.parent()){i1();if(!S){s=q.parent().select('.v-bound')[0][0].getBoundingClientRect()}else{s=q.parent().node().getBoundingClientRect()}if(U.isMobile()&&v){var r=q.parent().select('.v-clippath').select('rect').node();if(r){s=r.getBoundingClientRect()}}q1(s);if(b.length===0){z.initialized();return}t='fill:'+g+'; font-family: '+h+'; font-weight: '+l+'; font-size: '+e+"; text-anchor:start";var k=q.parent().selectAll('.v-datashapesgroup');k.each(function(d,i){if(!n[i]){return}var y=d3.select(this).selectAll('g.v-m-datalabel').data([n[i]]);y=y.enter().append('g').attr('class','v-m-datalabel').append('g').attr('class','v-datalabel');c.styleManager.query('v-datalabel').toAttrs(y);if(a1){y.attr('fill',$)}else if(d1){y.attr('fill',e1)}var _=q.parent().selectAll('.v-datapoint').data();y.each(function(u1,v1){var w1=d3.select(this).selectAll('text').data(u1);var x1=w1.enter().append('g').attr('transform',function(f1){return f1.transformString});x1.each(function(d,i){if(a.isExist(_[i].decoras)){_[i].decoras.push(this)}});x1=x1.append('text');x1.text(function(d){return d.value});x1.attr('visibility','hidden');x1.attr('x',function(d){return d.x}).attr('y',function(d){return d.y});if(A==='vertical'){x1.attr('transform',function(d){return'rotate(270 '+d.centerX+','+d.centerY+')'})}})});var x=(!F);h1(x)}z.initialized()};function g1(d){var j=false;for(var i=0;i<w.length;i++){if(d===w[i]){j=true;break}}return j}function h1(k){var d=q.parent().selectAll('.v-datalabel text')[0];var j=[],f1,r={};var i;for(i=0;i<d.length;i++){f1={};var x=d[i].getBoundingClientRect();f1.top=x.top;f1.left=x.left;f1.right=x.right;f1.bottom=x.bottom;f1.visible=true;f1.needMove=false;f1.x=0;f1.y=0;j.push(f1)}r.top=s.top;r.left=s.left;r.right=s.right;r.bottom=s.bottom;k1(o,j,r);if(!v){s1(j,r)}if(k){for(i=0;i<j.length;i++){if(j[i].needMove){d[i].setAttribute('x',j[i].x);d[i].setAttribute('y',j[i].y)}d[i].setAttribute('visibility','visible')}}else{for(i=0;i<j.length;i++){if(j[i].visible){if(j[i].needMove){d[i].setAttribute('x',j[i].x);d[i].setAttribute('y',j[i].y)}d[i].setAttribute('visibility','visible')}else{d[i].parentNode.parentNode.removeChild(d[i].parentNode)}}}}function i1(){var d=c.styleManager.query('v-datalabel');if(d){if(d['fill']){g=d['fill']}if(d['font-family']){h=d['font-family']}if(d['font-size']){e=d['font-size']}if(d['font-weight']){l=d['font-weight']}}}function j1(d,i){if(a.isExist(I)){var j=d,k,r,x;if(a.isArray(i.__data__.val)){x=S?0:1;if(i.__data__.ctx.length===1){x=0}k=(V&&I.length>1)?I[1]:I[0];if(a.isExist(k)&&k.length>0){r=i.__data__.ctx[x].path.mi>=k.length?k.length-1:i.__data__.ctx[x].path.mi;j=f.format(d,k[r])}}else{if(a.isArray(i.__data__.ctx)){k=I[i.__data__.ctx[0].path.mg]}else{k=I[i.__data__.ctx.path.mg]}if(a.isExist(k)){if(a.isArray(i.__data__.ctx)){r=i.__data__.ctx[0].path.mi>=k.length?k.length-1:i.__data__.ctx[0].path.mi}else{r=i.__data__.ctx.path.mi>=k.length?k.length-1:i.__data__.ctx.path.mi}j=f.format(d,k[r])}else{j=d}}return j}return d}var k1=function(d,j,k){var _=K,r=J,x=H,y=L,u1=S,v1=B,w1=G;if(U.isMobile()){x=false}if(d!==null&&j!==null){for(var i=0;i<d.length;i++){if(i<j.length){if(a.isExist(d[i].metaInfo)){if(d[i].metaInfo.chart==='combination'&&d[i].metaInfo.element==='line'){x=false}}if(U.isMobile()){if(!v){if(t1(j[i],k)||m1(_,v1,d[i])){j[i].visible=false;w.push(i);continue}}else{if(g1(i)){j[i].visible=false;continue}}if(R){if(d[i].width>d[i].ownerWidth){j[i].visible=false}}}else{if(!y&&d[i].originalValue===0&&!u1){j[i].visible=false}if(!_&&!r&&x){if(v1==='horizontal'){if(y&&d[i].originalValue===0&&!u1){var x1=d[i].datapointRect;j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;j[i].left=x1.right;j[i].right=x1.right+d[i].width;if(t1(j[i],k)){j[i].visible=false}}else if(w1==='inside'){if(d[i].width>d[i].ownerWidth||t1(j[i],k)){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var y1=d[i].datapointRect;if(d[i].originalValue>0){j[i].left=y1.left+d[i].ownerWidth;j[i].right=y1.right+d[i].width}else{j[i].left=y1.left-d[i].width;j[i].right=y1.right-d[i].ownerWidth}}if(t1(j[i],k)){j[i].visible=false}}else if(w1==='outside'){if(t1(j[i],k)){if(d[i].width<=d[i].ownerWidth){j[i].needMove=true;j[i].x=d[i].insideX;j[i].y=d[i].insideY;var z1=d[i].datapointRect;if(d[i].originalValue>0){j[i].left=z1.left+(d[i].ownerWidth-d[i].width)/2;j[i].right=z1.right-(d[i].ownerWidth-d[i].width)/2}else{j[i].left=z1.left+(d[i].ownerWidth-d[i].width)/2;j[i].right=z1.right-(d[i].ownerWidth-d[i].width)/2}if(t1(j[i],k)){j[i].visible=false}}else{j[i].visible=false}}}}else if(v1==='vertical'){if(y&&d[i].originalValue===0&&!u1){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var A1=d[i].datapointRect;j[i].top=A1.top-d[i].height;j[i].bottom=A1.top;if(t1(j[i],k)){j[i].visible=false}}else if(w1==='inside'){if(d[i].height>d[i].ownerHeight||t1(j[i],k)){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var B1=d[i].datapointRect;if(d[i].originalValue>=0){j[i].top=B1.top-d[i].height;j[i].bottom=B1.bottom-d[i].ownerHeight}else{j[i].top=B1.top+d[i].ownerHeight;j[i].bottom=B1.bottom+d[i].height}}if(R){if(d[i].width>d[i].ownerWidth){j[i].visible=false}}if(t1(j[i],k)){j[i].visible=false}}else if(w1==='outside'){if(t1(j[i],k)){if(d[i].height<=d[i].ownerHeight){j[i].needMove=true;j[i].x=d[i].insideX;j[i].y=d[i].insideY;var C1=d[i].datapointRect;if(d[i].originalValue>0){j[i].top=C1.top+(d[i].ownerHeight-d[i].height)/2;j[i].bottom=C1.bottom-(d[i].ownerHeight-d[i].height)/2}else{j[i].top=C1.top+(d[i].ownerHeight-d[i].height)/2;j[i].bottom=C1.bottom-(d[i].ownerHeight-d[i].height)/2}if(t1(j[i],k)){j[i].visible=false}}else{j[i].visible=false}}}}}else if(!_&&!r&&!x){if(v1==='horizontal'){if(y&&d[i].originalValue===0&&!u1&&d[i].width===0){var D1=d[i].datapointRect;j[i].left=D1.right;j[i].right=D1.right+d[i].width}else if(!N&&d[i].width>d[i].ownerWidth){j[i].visible=false}}else if(v1==='vertical'){if(y&&d[i].originalValue===0&&!u1&&d[i].height===0){var E1=d[i].datapointRect;j[i].top=E1.top+d[i].height;j[i].bottom=E1.top}else if(!N){if(a1||d1){if(b1||d1){if(d[i].height>d[i].ownerHeight/2){j[i].visible=false}}else{if(d[i].height>d[i].ownerHeight){j[i].visible=false}}if(d[i].width>d[i].ownerWidth){j[i].visible=false}}else if(d[i].height>d[i].ownerHeight){j[i].visible=false}}}if(y&&d[i].originalValue===0&&w1==='inside'&&!u1&&!a1){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY}else if(!y&&d[i].originalValue===0){j[i].visible=false}if(t1(j[i],k)){j[i].visible=false}}else if(_){if(v1==='horizontal'){if(t1(j[i],k)||(d[i].width>d[i].ownerWidth)){j[i].visible=false}}else if(v1==='vertical'){if(t1(j[i],k)||(d[i].height>d[i].ownerHeight)){j[i].visible=false}}if(!r&&d[i].originalValue===0){j[i].visible=false}}else if(r){if(t1(j[i],k)){j[i].visible=false}}}}}l1()}};var l1=function(){a1=false;b1=false;d1=false};var m1=function(K,B,d){var m1=false;if(K){if(B==='horizontal'&&d.width>d.ownerWidth){m1=true}else if(B==='vertical'&&d.height>d.ownerHeight){m1=true}}return m1};var n1=function(d){B=a.isExist(d.orientation)?d.orientation:B;C=a.isExist(d.paintingMode)?d.paintingMode:C;E=a.isExist(d.visible)?d.visible:E;F=a.isExist(d.hideWhenOverlap)?d.hideWhenOverlap:true;G=a.isExist(d.position)?d.position:G;H=a.isExist(d.automaticInOutside)?d.automaticInOutside:H;I=a.isExist(d.formatString)?d.formatString:I;J=a.isExist(d.isPercentMode)?d.isPercentMode:J;K=a.isExist(d.isStackMode)?d.isStackMode:K;Z=a.isExist(d.isDonut)?d.isDonut:Z;L=a.isExist(d.showZero)?d.showZero:L;N=a.isExist(d.outsideVisible)?d.outsideVisible:N;P=a.isExist(d.outsidePosition)?d.outsidePosition:P;S=a.isExist(d.isGeoChart)?d.isGeoChart:S;V=a.isExist(d.isBubbleChart)?d.isBubbleChart:V;W=a.isExist(d.isMekko)?d.isMekko:false;X=a.isExist(d.isTreeMap)?d.isTreeMap:false;Q=a.isExist(d.positionPreference)?d.positionPreference:Q;Y=a.isExist(d.type)?d.type:Y;R=a.isExist(d.respectShapeWidth)?d.respectShapeWidth:R};var o1=function(r){var d;if(r.info){var i=r.info.customlabel;if(i){if(i.type==='url'){d=r.val}else if(i.type==='string'){d=i.val}}else{d=r.val}}else{d=r.val}return d};var p1=function(d,i){var j=d.getBBox(),k=d.getBoundingClientRect(),r={x:j.x,y:j.y,width:j.width,height:j.height},x={left:k.left,right:k.right,top:k.top,bottom:k.bottom,width:k.width,height:k.height};if(x.bottom>i.top&&x.top<i.bottom&&x.left<i.right&&x.right>i.left){if(x.bottom>i.bottom){r.height-=x.bottom-i.bottom;x.height-=x.bottom-i.bottom;x.bottom=i.bottom}if(x.top<i.top){r.height-=i.top-x.top;r.y=i.top-x.top;x.height-=i.top-x.top;x.top=i.top}if(x.left<i.left){r.width-=i.left-x.left;r.x=i.left-x.left;x.width-=i.left-x.left;x.left=i.left}if(x.right>i.right){r.width-=x.right-i.right;x.width-=x.right-i.right;x.right=i.right}}return{bbox:r,clientRect:x}};var q1=function(d){u=q.parent()[0][0].ownerSVGElement;b=[],n=[],o=[];if(u!==null&&u.getBBox().width===0){return}var i=0,j=0,f1,_,u1;var v1,w1,x1;var y1=q.parent().selectAll('.v-datashapesgroup');if(y1[0].length===0){y1=q.parent()}var z1=y1.selectAll('.v-datapoint');if(C==='polarCoordinate'){for(i=0;i<y1[0].length;i++){var A1=y1[0][i].getBBox();if(A1.width===0||A1.height===0){break}_=y1[0][i].getTransformToElement(u);b=[];for(j=0;j<z1[i].length;j++){f1={};u1=z1[i][j];v1=u1.getTransformToElement(u);if(!a.isExist(v1)){break}f1.dataShape=u1;var B1='';x1=(u1.__data__.endAngle-u1.__data__.startAngle)/(2*Math.PI);f1.originalValue=x1;x1=j1(x1,u1);if(Y==='label and value'){var C1=u1.__data__.dimValueObjects;for(var k=0;k<C1.length;k++){var D1=o1(C1[k]);B1+=(D1===null?'No value':D1);if(C1[k].dataTransformInfo&&C1[k].dataTransformInfo.autoBinning){break}if(k!==(C1.length-1)){B1+='/'}}}f1.value=B1+' ('+x1+')';f1.transformString=('translate('+(v1.e-_.e)+','+(v1.f-_.f)+')');w1=T.fastMeasure(f1.value,e,l,h);var r=u1.__data__.r;var E1=(u1.__data__.endAngle+u1.__data__.startAngle)/2;var F1=Math.sin(E1);var G1=Math.cos(E1);var H1,I1;if(Z){H1=0.65*r*F1;I1=0.65*r*G1}else{H1=0.5*r*F1;I1=0.5*r*G1}f1.x=0+H1*v1.a-w1.width/2;f1.y=0-I1*v1.d+w1.height/2;f1.centerX=H1;f1.centerY=I1;f1.datapointRect=u1.getBoundingClientRect();b.push(f1);o.push(f1)}n.push(b)}}else if(C==='rectCoordinate'){for(i=0;i<y1[0].length;i++){var J1=y1[0][i].getBBox();if(J1.width===0||J1.height===0){break}_=y1[0][i].getTransformToElement(u);b=[];for(j=0;j<z1[i].length;j++){f1={};u1=z1[i][j];v1=u1.getTransformToElement(u);if(!a.isExist(v1)){break}f1.dataShape=u1;var K1=p1(u1,d);var L1=K1.bbox;if(U.isMobile()){L1=u1.getBBox()}var M1=K1.clientRect;var N1;if(a.isArray(u1.__data__.val)){if(S){N1=u1.__data__.val[0]}else{if(W){if(J){N1=u1.__data__.value}else{N1=u1.__data__.val[0]}}else if(X){N1=u1.__data__.val[0]}else{N1=u1.__data__.y}}}else{if(J&&Y==='value'){N1=u1.__data__.value}else{N1=u1.__data__.val}}if(Y!=='value'&&u1.__data__.isNegative){N1='-'+N1}if(u1.__data__.isOnlyOneCategory!==undefined){a1=true;if(u1.__data__.isOnlyOneCategory){b1=true}}var O1=0,P1=0;if(u1.__data__.isTreeMap!==undefined){d1=true;var Q1=q.parent().selectAll('text.v-treemapdatalabel')[0][0];if(Q1){var R1=Q1.getBBox();O1=R1.width;P1=R1.height}}f1.originalValue=N1;f1.value=j1(N1,u1);if(Y==='label and value'){f1.value=u1.__data__.label+' ('+(f1.value===null?'No value':f1.value)+')'}var x=L1.x*v1.a,y=L1.y*v1.d,S1=L1.width*v1.a,T1=L1.height*v1.d;f1.transformString=('translate('+(v1.e-_.e)+','+(v1.f-_.f)+')');var U1=0,V1=0,W1=0,X1=0,Y1=0,Z1=0,$1=0,_1=0,a2=0,b2=0;if(a1||d1){var c2=f1.value;if(a.isNumber(c2)){c2=c2.toString()}var d2=null;if(a1){d2=$}else if(d1){d2=e1}f1.value=T.ellipsis(c2,null,S1-3,"fill:"+d2+";font-family:"+h+";font-size:"+e)}w1=T.fastMeasure(f1.value,e,l,h);if(B==='horizontal'){f1.centerX=x+S1/2;f1.centerY=y+T1/2;if(Q&&G==='outside'){if(P==='right'){f1.centerX=f1.centerX+S1/2+w1.width/2}}else{if(G==='outside'){if(P==='left'||(!a.isExist(u1.__data__.isNegative)&&N1<0)){f1.centerX=f1.centerX-(S1/2+w1.width/2)}else if(P==='right'){f1.centerX=f1.centerX+S1/2+w1.width/2}}}U1=x+S1/2;V1=y+T1/2;if(!K){if(!(!a.isExist(u1.__data__.isNegative)&&N1<0)){_1=f1.centerX+S1/2+w1.width/2;b2=y+T1/2}else{$1=f1.centerX-(S1/2+w1.width/2);a2=y+T1/2}}}else{f1.centerX=x+S1/2;f1.centerY=y+T1/2;if(u1.__data__.isNegative){P='down'}if(a1&&b1){f1.centerY+=w1.height/2}else if(d1){f1.centerY+=(P1/2+w1.height/2)}if(Q&&G==='outside'){if(P==='up'){f1.centerY=f1.centerY-T1/2-w1.height/2}}else{if(G==='outside'){if(P==='down'||(!a.isExist(u1.__data__.isNegative)&&N1<0)){f1.centerY=f1.centerY+T1/2+w1.height/2}else if(P==='up'){f1.centerY=f1.centerY-T1/2-w1.height/2}}}V1=y+T1/2;U1=x+S1/2;if(!K){if(!(!a.isExist(u1.__data__.isNegative)&&N1<0)){X1=f1.centerY-T1/2-w1.height/2;W1=x+S1/2}else{Z1=f1.centerY+T1/2+w1.height/2;Y1=x+S1/2}}}if(S&&q.projection&&u1.__data__.feature.properties.centroid){var e2=q.projection();var f2=e2(u1.__data__.feature.properties.centroid);f1.centerX=f2[0]-(v1.e-_.e);f1.centerY=f2[1]-(v1.f-_.f)}f1.x=f1.centerX-w1.width/2;f1.y=f1.centerY-w1.y/2;f1.width=w1.width;f1.height=w1.height;f1.ownerWidth=S1;f1.ownerHeight=T1;f1.datapointRect=M1;if(U.isMobile()){f1.datapointRect=u1.getBoundingClientRect()}f1.insideX=U1-w1.width/2;f1.insideY=V1-w1.y/2;if(u1.__data__.hasOwnProperty('metaInfo')){f1.metaInfo=u1.__data__.metaInfo}if(!K){if(B==='horizontal'){if(!(!a.isExist(u1.__data__.isNegative)&&N1<0)){f1.outsideX=_1-w1.width/2;f1.outsideY=b2-w1.y/2}else{f1.outsideX=$1-w1.width/2;f1.outsideY=a2-w1.y/2}}else if(B==='vertical'){if(!(!a.isExist(u1.__data__.isNegative)&&N1<0)){f1.outsideX=W1-w1.width/2;f1.outsideY=X1-w1.y/2}else{f1.outsideX=Y1-w1.width/2;f1.outsideY=Z1-w1.y/2}}}b.push(f1);o.push(f1)}n.push(b)}}};var r1=function(d,i){var j=d.left,k=d.top,r=d.right,x=d.bottom;var y=i.left,_=i.top,u1=i.right,v1=i.bottom;if(!((j>=u1)||(k>=v1)||(r<=y)||(x<=_))){return true}return false};var s1=function(d,k){if(d===null||k===null){return}for(var i=0;i<d.length;i++){var r=d[i];if(!r.visible){continue}for(var j=i+1;j<d.length;j++){var x=d[j];if(!x.visible){continue}if(r1(r,x)){x.visible=false}}}};var t1=function(f1,d){if(Math.floor(f1.top)<Math.floor(d.top)||Math.floor(f1.left)<Math.floor(d.left)||Math.floor(f1.right)>Math.floor(d.right)||Math.floor(f1.bottom)>Math.floor(d.bottom)){return true}return false};f1.dispatch=function(_){if(!arguments.length){return z}z=_;return f1};f1.plot=function(_){if(!arguments.length){return q}q=_};f1.parent=function(){};f1.properties=function(_){if(!arguments.length){return p}O.extend(true,p,_);n1(p);return f1};f1.destroy=function(){q=null;u=null;s=null;if(b){for(var i=0;i<b.length;i++){b[i].dataShape=null;if(o[i]){o[i].dataShape=null}}}b=null;n=null;o=null;if(c){c.destroy();c=null}};return f1};return b});define('sap/viz/modules/manifests/DataLabel',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/datalabel'],function Setup(M,C,f){var m={'id':'sap.viz.modules.datalabel','name':'datalabel','type':C.Type.Supplementary,'description':'Settings for the data labels that appear overtop of the data elements in the chart','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the data labels are visible',},'hideWhenOverlap':{'name':'hideWhenOverlap','supportedValueType':'Boolean','defaultValue':true,'description':'Always show all data labels even they are overlapped',},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a donut chart. Use only for donut charts.','isExported':false},'type':{'name':'type','supportedValueType':'String','defaultValue':'value','description':'Set the type of label','isExported':false},'automaticInOutside':{'name':'automaticInOutside','supportedValueType':'Boolean','defaultValue':true,'description':"If set to 'true', the data labels will be automatically placed outside when the data label position property is inside, and vice versa",'isExported':false},'showZero':{'name':'showZero','supportedValueType':'Boolean','defaultValue':true,'description':"If set to 'true', the value zero is shown in the data labels",'isExported':false},'isGeoChart':{'name':'isGeoChart','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a geo chart','isExported':false},'isBubbleChart':{'name':'isBubbleChart','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a bubble chart','isExported':false},'isStackMode':{'name':'isStackMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a stack chart. Set for stack chart only.','isExported':false},'isPercentMode':{'name':'isPercentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the chart is a percent chart. Set for percent chart only.','isExported':false},'positionPreference':{'name':'positionPreference','supportedValueType':'Boolean','defaultValue':false,'description':"If set to 'true', the data label position is defined by the property 'outsidePosition', regardless of whether the data label value is negative",'isExported':false},'outsideVisible':{'name':'outsideVisible','supportedValueType':'Boolean','defaultValue':true,'description':"If set to 'true', the data label is visible when it is outside",'isExported':false},'outsidePosition':{'name':'outsidePosition','supportedValueType':'String','supportedValues':['up','down','left','right'],'defaultValue':'up','description':"If set to 'true', the data label is positioned above the element when it is outside",'isExported':false},'paintingMode':{'name':'paintingMode','supportedValueType':'String','supportedValues':['rectCoordinate','polarCoordinate'],'defaultValue':'rectCoordinate','description':'Set painting mode of data labels','isExported':false},'position':{'name':'position','supportedValueType':'String','supportedValues':['inside','outside'],'defaultValue':'inside','description':'Set position of data labels','isExported':false},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['horizontal','vertical'],'defaultValue':'vertical','description':'Set orientation of data labels','isExported':false},'respectShapeWidth':{'name':'respectShapeWidth','supportedValueType':'Boolean','defaultValue':false,'description':"If set to 'true', the data label is automatically hidden when bubble width isn't enough to show the whole label in single bubble chart.",'isExported':false},'formatString':{'name':'formatString','supportedValueType':'Two-Dimensions-Array','defaultValue':null,'description':'Set the format strings for the data labels. For dual axis charts, the first array is applied to the primary axis and the second array is applied to the second axis. If you enter fewer format strings into an array than there are measures in the respective axis, then the last format string is applied to all remaining measures. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example: [["0.00%"],["0.00%"]].'}},'css':{'.v-datalabel':{'description':'Define the style for the data label','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},configure:null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/legend/colorLegendArea',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/base/utils/Objects','sap/viz/modules/dispatch','sap/viz/util/DrawUtil','sap/viz/base/utils/ObjectUtils','sap/viz/base/UADetector','sap/viz/util/ScrollBar'],function Setup(o,B,T,O,b,D,c,U,S){var M=30;var C=function(s){this._colorLA_width=400;this._colorLA_height=200;this._colorLA_contentSize=undefined;this._colorLA_valueLabelFont={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'};this._colorLA_options={isHierarchy:undefined,position:'right',legendType:'ColorLegend'};this._colorLA_colorLabelSize=1;this._colorLA_shapes=[];this._colorLA_colors=[];this._colorLA_colorFeedLength=0;this._colorLA_shapeFeedLength=0;this._colorLA_wrap=undefined;this._colorLA_textHeight=20;this._colorLA_textWidth=80;this._colorLA_maxTextCount=12;this._colorLA_selectedItem=[];this._colorLA_isStyleChanged=true;this._colorLA_markerMargin={right:0.5,bottom:0.5,left:1,top:0};this._colorLA_relayout=true;this._colorLA_imageInfo={imageMode:false,imagePalette:[],radio:1};this._colorLA_startRow=0;this._colorLA_lastStartRow=0;this._colorLA_endRow=Infinity;this._colorLA_rowPosArr=[];this._colorLA_chartData={};this._colorLA_hieChartData=[];this._colorLA_isItemsOverflow=undefined;this._colorLA_bForceEllipsis=false;this._colorLA_endItemNum=undefined;this._colorLA_startItemNum=0;this._colorLA_firstOverFlowPos=undefined;this._colorLA_effectManager=null;this._colorLA_styleManager=s;this._colorLA_style={};this._colorLA_style.hovershadow=s.queryDefault('v-hovershadow');this._colorLA_style.clickedshadow='#808080';this._colorLA_magicMaxTextItemWidth=0;this._colorLA_scrollBar=undefined;this._colorLA_scrollBarSize=U.isMobile()?8:10;this._colorLA_scrollBarTimer=undefined;this._colorLA_scrollBarStartPos=undefined;this._colorLA_contentSize=0;this._colorLA_eachRowHeight=0};o.extend(C,B);C.prototype.forceEllipsis=function(_){if(!arguments.length){return this._colorLA_bForceEllipsis}this._colorLA_bForceEllipsis=_;return this};C.prototype.render=function(s){this._colorLAfn_getThemeStyleDef();var l;if(this._colorLA_relayout){this._colorLAfn_cleanScrollBar();this._colorLA_wrap=undefined;this._colorLA_isItemsOverflow=false;this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height});l=this._colorLAfn_getLabelData()}else{l=this._colorLAfn_getLabelData();this._colorLA_isItemsOverflow=false;if((l.length>0&&l.length<this._colorLA_chartData.length)||this._colorLA_startItemNum>0){this._colorLA_isItemsOverflow=true}if(this._colorLA_isItemsOverflow===true){this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height});l=this._colorLAfn_getLabelData()}}var w;if(this._colorLA_wrap===undefined){w=s.selectAll('g.v-legend-content');if(!w.empty()){w.remove()}w=s.append('g').attr('class','v-legend-content');this._colorLA_wrap=s}else{w=this._colorLA_wrap.selectAll('g.v-legend-content')}var a=w.selectAll('rect.v-indicatedRect');if(a.empty()){a=w.append('rect').attr('class','v-indicatedRect v-legend-item v-hovershadow').attr('visibility','hidden')}var r=this._colorLA_markerMargin.bottom*this._colorLA_textHeight,f;if(this._colorLA_isItemsOverflow){if(this._colorLAfn_isScrollable()){f=this._colorLA_width-this._colorLA_scrollBarSize+5}else{f=this._colorLA_width+5}}else{f=this._colorLA_width+10}a.attr('width',f).attr('x',-5).attr('y',-r/2);if(U.isMobile()&&(!this._colorLA_options.isHierarchy)&&(this._colorLA_textHeight+r<M)){a.attr('height',M).attr('y',(this._colorLA_textHeight-M)/2)}else{if(this._colorLAfn_isHorizontal()&&this._colorLAfn_isScrollable()){a.attr('height',this._colorLA_textHeight+10).attr('y',-5)}else{a.attr('height',this._colorLA_textHeight+r).attr('y',-r/2)}}var g=this._colorLA_styleManager.queryDefault('v-label');d3.select(w.node().parentNode).attr('font-family',g['font-family']).attr('font-size',g['font-size']).attr('font-weight',g['font-weight']).attr('fill',g['fill']);var h=w.selectAll('g.v-row').data(l);h.exit().remove();var j=h.enter().append('g');h.attr('class',function(d,i){return'v-row ID_'+i});if((this._colorLA_options.legendType!=='BubbleColorLegend')&&this._colorLA_options.isHierarchy&&(!this._colorLAfn_isHorizontal())){this._colorLAfn_renderHierarchicalLegend.call(this,l,h)}else{this._colorLAfn_renderNormalLegend.call(this,l,h)}j.select('rect').attr('class','v-eventRect');h.each(function(d,i){w.selectAll('rect.v-eventRect').attr('class',function(){return'v-eventRect v-legend-item ID_'+i})});var k=w.selectAll('rect.v-eventRect').data(l);k=w.selectAll('rect.v-eventRect');k.attr('height',this._colorLA_eachRowHeight).attr('fill','rgba(255, 255, 255, 0)');k.attr("transform","translate(0,"+(this._colorLA_textHeight-this._colorLA_eachRowHeight)/2+")");if(this._colorLAfn_isHorizontal()&&this._colorLAfn_isScrollable()){k.attr('height',this._colorLA_eachRowHeight+6)}if(this._colorLAfn_isHorizontal()){var m=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;var t=this;k.attr('width',function(d){if(t._colorLA_options.isScrollable){return d.size.width+m}else{return t._colorLA_magicMaxTextItemWidth+m}})}else{if(this._colorLAfn_isScrollable()){k.attr('width',this._colorLA_width-this._colorLA_scrollBarSize)}else{k.attr('width',this._colorLA_width)}}var n=s.selectAll('.v-overflow');if((this._colorLA_isItemsOverflow||this._colorLA_bForceEllipsis)&&(l.length>0||this._colorLA_hieChartData.length>0)){if(n.empty()){n=s.append('g').attr('class','v-overflow')}if(this._colorLAfn_isScrollable()){this._colorLAfn_renderScrollable.call(this,n)}else{this._colorLAfn_renderEllipsis.call(this,n)}}else{if(!n.empty()){this._colorLAfn_cleanScrollBar();n.remove()}}this._colorLA_relayout=false};C.prototype.width=function(_){if(!arguments.length){return this._colorLA_width}this._colorLA_width=_;this._colorLA_relayout=true;this._colorLA_isItemsOverflow=false;return this};C.prototype.height=function(_){if(!arguments.length){return this._colorLA_height}this._colorLA_height=_;this._colorLA_relayout=true;this._colorLA_isItemsOverflow=false;return this};C.prototype.color=function(_){if(!arguments.length){return this._colorLA_colors}this._colorLA_colors=_;return this};C.prototype.shapes=function(_){if(!arguments.length){return this._colorLA_shapes}this._colorLA_shapes=_;return this};C.prototype.colorFeedLength=function(_){this._colorLA_colorFeedLength=_;return this};C.prototype.shapeFeedLength=function(_){this._colorLA_shapeFeedLength=_;return this};C.prototype.data=function(_){if(!arguments.length){return this._colorLA_chartData}this._colorLA_chartData=_;return this};C.prototype.imageInfo=function(_){if(!arguments.length){return this._colorLA_imageInfo}this._colorLA_imageInfo=_;this._colorLA_relayout=true;return this};C.prototype.properties=function(p){if(!arguments.length){return this._colorLA_options}if(this._colorLA_options.position!==p.position){this._colorLA_width=400;this._colorLA_height=200}O.extend(true,this._colorLA_options,p);if(this._colorLA_options.isScrollable===true){this._colorLA_options.isHierarchy=false}return this};C.prototype.hasData=function(){if(this._colorLA_chartData&&this._colorLA_chartData.length>0){return true}else{return false}};C.prototype.getPreferredSize=function(){this._colorLAfn_getThemeStyleDef();this._colorLA_startItemNum=0;return this._colorLAfn_calculatePreferredSize({width:this._colorLA_width,height:this._colorLA_height})};C.prototype.doLayout=function(s){return s};C.prototype.effectManager=function(_){if(!arguments.length){return this._colorLA_effectManager}this._colorLA_effectManager=_;return C.prototype};C.prototype.destroy=function(){if(this._colorLA_wrap){this._colorLA_wrap=null}this._colorLA_styleManager=null;this._colorLA_selectedItem=null;this._colorLA_effectManager=null};C.prototype.highlight=function(t){if(t.__data__){var i=this._colorLA_wrap.selectAll('.v-indicatedRect');var a=t.__data__.pos;if(a){i.attr('class','v-indicatedRect v-legend-item v-hovershadow').attr('visibility','visible').attr('fill',this._colorLA_style.hovershadow.fill);if(this._colorLAfn_isHorizontal()){var s=this._colorLA_magicMaxTextItemWidth+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;if(this._colorLAfn_isScrollable()){s=t.__data__.size.width+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.left)*this._colorLA_textHeight}else{i.attr('y',a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}i.attr('x',a.x-4).attr('width',s)}else{i.attr('y',a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}}}};C.prototype.unhighlight=function(t,i){if(this._colorLA_wrap){this._colorLA_wrap.selectAll('.v-indicatedRect').attr('visibility','hidden')}if(this._colorLA_scrollBar&&i){this._colorLA_scrollBar.resetPos()}};C.prototype.panStart=function(t){if(this._colorLAfn_isScrollable()){this._colorLA_scrollBarStartPos=(this._colorLAfn_isHorizontal())?t.x:t.y;clearTimeout(this._colorLA_scrollBarTimer)}};C.prototype.panMove=function(t){if(this._colorLAfn_isScrollable()&&this._colorLA_scrollBar){var a=0;if(this._colorLAfn_isHorizontal()){a=this._colorLA_scrollBarStartPos-t.x;this._colorLA_scrollBarStartPos=t.x}else{a=this._colorLA_scrollBarStartPos-t.y;this._colorLA_scrollBarStartPos=t.y}this._colorLA_scrollBar.scrollTo(a);this._colorLA_scrollBar.setVisibility('visible')}};C.prototype.panEnd=function(t){if(this._colorLAfn_isScrollable()){this._colorLA_scrollBarStartPos=undefined;var a=this;if(this._colorLA_scrollBar){this._colorLA_scrollBarTimer=setTimeout(function(){a._colorLA_scrollBar.setVisibility('hidden')},1000)}}};C.prototype.selected=function(t){if(t.__data__){var i=this._colorLA_wrap.selectAll('.v-indicatedRect');var a=t.__data__.pos;if(a){i.attr('class','v-indicatedRect v-legend-item v-hovershadow-mousedown').attr('visibility','visible').attr('fill',this._colorLA_style.clickedshadow);if(this._colorLAfn_isHorizontal()){var s=this._colorLA_magicMaxTextItemWidth+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight+this._colorLA_markerMargin.left*this._colorLA_textHeight/2;if(this._colorLAfn_isScrollable()){s=t.__data__.size.width+(this._colorLA_colorLabelSize+this._colorLA_markerMargin.left)*this._colorLA_textHeight}else{i.attr('y',a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}i.attr('x',a.x-4).attr('width',s)}else{i.attr('y',a.y-(this._colorLA_eachRowHeight-this._colorLA_textHeight)/2)}}}};C.prototype._colorLAfn_cleanScrollBar=function(){if(this._colorLA_scrollBar){this._colorLA_scrollBar.destroy();this._colorLA_wrap.selectAll('clipPath').remove();this._colorLA_wrap.attr('clip-path',null);this._colorLA_contentSize=0;this._colorLA_scrollBar=undefined}};C.prototype._colorLAfn_cleanTextEllipsis=function(){var i=this._colorLA_wrap.selectAll('text.v-itemsEllipsis');if(!i.empty()){i.remove()}};C.prototype._colorLAfn_renderEllipsis=function(a){var t=this;this._colorLAfn_cleanScrollBar();var i=a.selectAll('text.v-itemsEllipsis');if(i.empty()){i=a.append('text').attr('class','v-itemsEllipsis').text('...')}var d=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;i.attr('visibility',function(){var v='hidden';if(t._colorLA_isItemsOverflow||t._colorLA_bForceEllipsis){v='visible'}return v}).attr('dx',d).attr('dy',function(){return(t._colorLA_firstOverFlowPos===undefined||t._colorLA_firstOverFlowPos>t._colorLA_height)?t._colorLA_height:t._colorLA_firstOverFlowPos});a.attr('transform','translate(0, 0)')};C.prototype._colorLAfn_renderScrollable=function(a){this._colorLAfn_cleanTextEllipsis();if(this._colorLAfn_isHorizontal()){this._colorLAfn_renderHorizontalScrollable(a)}else{this._colorLAfn_renderVerticalScrollable(a)}};C.prototype._colorLAfn_renderVerticalScrollable=function(a){if(this._colorLA_scrollBar===undefined){this._colorLA_scrollBar=new S();var t=this;var d=this._colorLA_wrap.selectAll('g.v-legend-content');var f=this._colorLA_styleManager.query('v-scrollbarThumb');this._colorLAfn_setScrollBarForMobile();this._colorLA_scrollBar.setProperties({size:this._colorLA_height,contentSize:this._colorLA_contentSize,eventWrapper:[d],style:{fill:f.fill,opacity:f.opacity},onScroll:function(g){d.attr('transform','translate(0, '+g.start+')');if(t._colorLA_endItemNum<t._colorLA_chartData.length&&g.startPct===100){t._colorLA_lastStartRow=t._colorLA_startItemNum;t._colorLA_startItemNum=t._colorLA_endItemNum;t.render(t._colorLA_wrap)}}});this._colorLA_scrollBar.render(a);if(U.isMobile()&&this._colorLA_scrollBar){this._colorLA_scrollBarTimer=setTimeout(function(){t._colorLA_scrollBar.setVisibility('hidden')},2000)}}else{this._colorLA_scrollBar.setProperties({size:this._colorLA_height,contentSize:this._colorLA_contentSize}).render(a)}if(this._colorLA_wrap.selectAll('.legend-clip-rect').empty()){this._colorLA_wrap.append('svg:clipPath').attr('id','path1').append('rect').attr('class','legend-clip-rect').attr('width',(this._colorLA_width+5)+'px').attr('height',this._colorLA_height+'px').attr('x',-5).attr('style','stroke: blue; fill: none;')}else{this._colorLA_wrap.selectAll('.legend-clip-rect').attr('width',(this._colorLA_width+5)+'px').attr('height',this._colorLA_height+'px').attr('y',0)}this._colorLA_wrap.attr('clip-path','url(#path1)');a.attr('transform','translate('+(this._colorLA_width-this._colorLA_scrollBarSize)+', 0)')};C.prototype._colorLAfn_setScrollBarForMobile=function(){if(U.isMobile()){this._colorLA_scrollBar.setProperties({visibility:'visible',style:{thumbSize:4,padding:1,opacity:0.8}})}};C.prototype._colorLAfn_renderHorizontalScrollable=function(a){if(this._colorLA_scrollBar===undefined){this._colorLA_scrollBar=new S();var t=this;var d=this._colorLA_wrap.selectAll('g.v-legend-content');var f=this._colorLA_styleManager.query('v-scrollbarThumb');this._colorLAfn_setScrollBarForMobile();this._colorLA_scrollBar.setProperties({size:this._colorLA_width,contentSize:this._colorLA_contentSize,vertical:false,eventWrapper:[d],style:{fill:f.fill,opacity:f.opacity},onScroll:function(g){d.attr('transform','translate('+g.start+', 0)');if(t._colorLA_endItemNum<t._colorLA_chartData.length&&g.startPct===100){t._colorLA_lastStartRow=t._colorLA_startItemNum;t._colorLA_startItemNum=t._colorLA_endItemNum;t.render(t._colorLA_wrap)}}});this._colorLA_scrollBar.render(a);if(U.isMobile()&&this._colorLA_scrollBar){this._colorLA_scrollBarTimer=setTimeout(function(){t._colorLA_scrollBar.setVisibility('hidden')},2000)}}else{this._colorLA_scrollBar.setProperties({size:this._colorLA_width,contentSize:this._colorLA_contentSize}).render(a)}if(this._colorLA_wrap.selectAll('.legend-clip-rect').empty()){this._colorLA_wrap.append('svg:clipPath').attr('id','path1').append('rect').attr('class','legend-clip-rect').attr('width',(this._colorLA_width+5)+'px').attr('height',(this._colorLA_height+5)+'px').attr('x',-5).attr('y',-5).attr('style','stroke: blue; fill: none;')}else{this._colorLA_wrap.selectAll('.legend-clip-rect').attr('width',(this._colorLA_width+5)+'px').attr('height',(this._colorLA_height+5)+'px').attr('y',-5)}this._colorLA_wrap.attr('clip-path','url(#path1)');a.attr('transform','translate(0,'+((this._colorLA_eachRowHeight+this._colorLA_textHeight)/2+6)+')')};C.prototype._colorLAfn_renderNormalLegend=function(l,g){this._colorLA_wrap.selectAll('g.v-group').remove();var r;for(var i=0,a=l.length;i<a;i++){r=this._colorLA_wrap.selectAll("g.v-row.ID_"+i);if(this._colorLAfn_isHorizontal()){this._colorLAfn_createRowWithColorLabel.call(this,r,i,true,l[i].val,this._colorLA_textWidth)}else{this._colorLAfn_createRowWithColorLabel.call(this,r,i,true,l[i].val)}}g.attr('transform',function(d,i){if(d.pos){return'translate('+d.pos.x+','+d.pos.y+')'}})};C.prototype._colorLAfn_renderHierarchicalLegend=function(l,g){var h=this._colorLA_hieChartData,t=this;this._colorLA_wrap.selectAll('g.v-group').remove();var a=this._colorLA_wrap.selectAll('g.v-legend-content').selectAll('g.v-group').data(h);a.exit().remove();var f=a.enter().append('g').attr('class','v-group');var j=f.selectAll('text').data(function(d){return d.subgroup},function(d){return d});j.enter().append('text');var k="font-size:"+this._colorLA_valueLabelFont.fontsize+"; font-weight:"+this._colorLA_valueLabelFont.fontweight+"; font-family:"+this._colorLA_valueLabelFont.fontfamily;j.each(function(d,i){T.ellipsis(d,this,t._colorLA_width-i*10,k)});a.selectAll('text').attr('dy',function(d,i){return(i+1)*t._colorLA_textHeight+((i>0)?i*t._colorLA_markerMargin.bottom*t._colorLA_textHeight:0)}).attr('dx',function(d,i){return i*10});var r,m;for(var i=0,n=l.length;i<n;i++){r=this._colorLA_wrap.selectAll("g.v-row.ID_"+i);if(this._colorLAfn_isHorizontal()){this._colorLAfn_createRowWithColorLabel.call(this,r,i+this._colorLA_startItemNum,true,l[i].orignialVal[l[i].orignialVal.length-1],this._colorLA_textWidth)}else{m=this._colorLA_width-l[i].pos.x-(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;this._colorLAfn_createRowWithColorLabel.call(this,r,i+this._colorLA_startItemNum,true,l[i].orignialVal[l[i].orignialVal.length-1],m)}}a.attr('transform',function(d,i){if(d.pos){return'translate('+d.pos.x+','+d.pos.y+')'}});g.attr('transform',function(d,i){if(d.pos){return'translate('+d.pos.x+','+d.pos.y+')'}})};C.prototype._colorLAfn_getLabelData=function(){var l=[],s=0,a=this._colorLA_endItemNum;if(this._colorLA_chartData.length>0){l=this._colorLA_chartData.slice(s,a);this._colorLA_startRow=0;this._colorLA_endRow=a}return l};C.prototype._colorLAfn_getThemeStyleDef=function(){var v=this._colorLA_styleManager.query('v-label');if(v){if(v['fill']){this._colorLA_valueLabelFont.color=v['fill']}if(v['font-family']){this._colorLA_valueLabelFont.fontfamily=v['font-family']}if(v['font-size']){if(this._colorLA_valueLabelFont.fontsize!==v['font-size']){this._colorLA_isStyleChanged=true}this._colorLA_valueLabelFont.fontsize=v['font-size']}if(v['font-weight']){if(this._colorLA_valueLabelFont.fontweight!==v['font-weight']){this._colorLA_isStyleChanged=true}this._colorLA_valueLabelFont.fontweight=v['font-weight']}}};C.prototype._colorLAfn_calculatePreferredSize=function(w){var m=0,a=0,d=0,f=0,g={'width':0,'height':0},l=this._colorLA_chartData,h=0;if(l&&l.length>0){this._colorLA_textHeight=parseInt(this._colorLA_valueLabelFont.fontsize,10);var k=(this._colorLA_colorLabelSize+this._colorLA_markerMargin.right)*this._colorLA_textHeight;var r=[],x=0,y=0;this._colorLA_eachRowHeight=this._colorLA_textHeight+this._colorLA_textHeight*this._colorLA_markerMargin.bottom;if(U.isMobile()&&(!this._colorLA_options.isHierarchy)&&this._colorLA_eachRowHeight<M){this._colorLA_eachRowHeight=M}this._colorLA_rowPosArr=[];var i,j,n,L=0,_=200;if((this._colorLA_options.legendType!=='BubbleColorLegend')&&this._colorLA_options.isHierarchy&&(!this._colorLAfn_isHorizontal())){this._colorLA_firstOverFlowPos=undefined;var p=0,q,s,t={subgroup:[],item:[],pos:{x:x,y:y}},u=this._colorLA_hieChartData=[];this._colorLA_endItemNum=l.length;if(w.height!==0){_=w.height}for(i=0,n=l.length;i<n;i++){p=l[i].orignialVal.length;q=l[i].val.search(l[i].orignialVal[p-1]);if(s===undefined){s=l[i].val.substring(0,q);for(j=0;j<p;j++){if(j===p-1){t.item.push({val:l[i].orignialVal[j],ctx:l[i].ctx})}else{t.subgroup.push(l[i].orignialVal[j])}y=y+this._colorLA_eachRowHeight}}else{if(l[i].val.search(s)===-1){u.push(O.extend(true,{},t));s=l[i].val.substring(0,q);t.subgroup=[];t.item=[];t.pos={x:x,y:y};for(j=0;j<p;j++){y=y+this._colorLA_eachRowHeight;if(y>_){break}if(j===p-1){t.item.push({val:l[i].orignialVal[j],ctx:l[i].ctx})}else{t.subgroup.push(l[i].orignialVal[j])}}}else{y=y+this._colorLA_eachRowHeight;t.item.push({val:l[i].orignialVal[p-1],ctx:l[i].ctx})}}if(y>_){this._colorLA_isItemsOverflow=true;this._colorLA_endItemNum=i;y=y-this._colorLA_eachRowHeight;this._colorLA_firstOverFlowPos=y+this._colorLA_textHeight;u.push(O.extend(true,{},t));t=undefined;break}l[i].pos={x:(x+10*(p-1)),y:(y-this._colorLA_eachRowHeight)}}if(n>0&&t!==undefined){u.push(O.extend(true,{},t))}var v=0,z=false;h=0;for(i=0,n=u.length;i<n;i++){for(j=0,L=u[i].subgroup.length;j<L;j++){v=x+j*10+T.fastMeasure(u[i].subgroup[j],this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(v>h){h=v}}for(j=0;j<u[i].item.length;j++){v=x+10*(L-1)+k+this._colorLA_markerMargin.left*this._colorLA_textHeight+T.fastMeasure(u[i].item[j].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(v>h){h=v}}}a=h;d=x+10*(L-1)+k+this._colorLA_markerMargin.left*this._colorLA_textHeight+T.fastMeasure('M...',this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;m=y;f=2*this._colorLA_textHeight}else{var A={width:200,height:200};if(this._colorLAfn_isHorizontal()){if(this._colorLAfn_isScrollable()){var E;if(w.width!==0){A.width=w.width;E=w.width*2}if(this._colorLA_startItemNum>0){E=this._colorLA_contentSize+w.width*2;x=this._colorLA_contentSize}var F=k+this._colorLA_markerMargin.left*this._colorLA_textHeight;this._colorLA_endItemNum=l.length;for(i=this._colorLA_startItemNum,n=l.length;i<n;i++){l[i].pos={x:x,y:y};l[i].size=T.fastMeasure(l[i].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);x=x+F+l[i].size.width;if(x>A.width){this._colorLA_isItemsOverflow=true}if(x>E){if(this._colorLA_startItemNum===i){E=x;this._colorLA_endItemNum=i+1}else{this._colorLA_endItemNum=i;x=x-F-l[i].size.width}break}}this._colorLA_contentSize=x;a=A.width;m=f=this._colorLA_eachRowHeight+this._colorLA_scrollBarSize+6;d=10}else{if(w.width!==0){A.width=w.width}if(w.height!==0){A.height=w.height}var G=0;for(i=0,n=l.length;i<n;i++){if(i>=this._colorLA_maxTextCount){break}l[i].size=T.fastMeasure(l[i].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);if(l[i].size.width>G){G=l[i].size.width}}if(G>this._colorLA_textWidth){G=this._colorLA_textWidth}var H={width:G};for(i=this._colorLA_maxTextCount,n=l.length;i<n;i++){l[i].size=H}this._colorLA_magicMaxTextItemWidth=G;var I=k+G+this._colorLA_markerMargin.left*this._colorLA_textHeight,J=Math.floor(A.width/I),K=0;a=(J>l.length)?(l.length*I):(J*I);var N=Math.ceil(l.length/J);m=N*this._colorLA_eachRowHeight;if(l.length>J){f=this._colorLA_eachRowHeight*2}else{f=this._colorLA_eachRowHeight}this._colorLA_endItemNum=l.length;for(i=0,n=l.length;i<n;i++){if(K===J){this._colorLA_firstOverFlowPos=x;x=0;K=0;y=y+this._colorLA_eachRowHeight;if((n-i>0)&&(y+this._colorLA_eachRowHeight>A.height)){this._colorLA_endItemNum=i;this._colorLA_firstOverFlowPos=y+this._colorLA_textHeight;this._colorLA_isItemsOverflow=true;break}}l[i].pos={x:x,y:y};K++;x=x+I}d=I}}else{_=200;if(w.height!==0){_=w.height}var P=Math.floor(_/this._colorLA_eachRowHeight),Q;if(P<l.length){Q=P;if(Q>1&&!this._colorLAfn_isScrollable()){Q=Q-1}this._colorLA_isItemsOverflow=true}else{Q=l.length}var R;for(i=0,n=Q;i<n;i++){R=T.fastMeasure(l[i].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily);if(R.width>g.width){g=R}}this._colorLAfn_calculateVerticalRowPosition(w);h=k+g.width;a=x+h;m=this._colorLA_eachRowHeight*(this._colorLA_bForceEllipsis?l.length+1:l.length);d=x+k+T.fastMeasure('M...',this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily).width;if(this._colorLAfn_isScrollable()){f=this._colorLA_eachRowHeight;a=a+this._colorLA_scrollBarSize;d=d+this._colorLA_scrollBarSize}else{f=this._colorLA_eachRowHeight*(l.length>1?2:l.length)+this._colorLA_textHeight*this._colorLA_markerMargin.bottom}if(f>m){f=m}}}}if(d>a){d=a}if(this._colorLA_isStyleChanged===true){this._colorLA_isStyleChanged=false}return{minHeight:f,minWidth:d,height:m,width:a}};C.prototype._colorLAfn_calculateVerticalRowPosition=function(w){var i,l,x=0,y=0,a=this._colorLA_chartData,_;_=this._colorLAfn_isScrollable()?(w.height*2):w.height;if(this._colorLA_startItemNum>0){_=this._colorLA_contentSize+w.height*2}this._colorLA_endItemNum=a.length;for(i=this._colorLA_startItemNum,l=a.length;i<l;i++){if((a[i].size===undefined)||(this._colorLA_isStyleChanged!==false)){a[i].size=T.fastMeasure(a[i].val,this._colorLA_valueLabelFont.fontsize,this._colorLA_valueLabelFont.fontweight,this._colorLA_valueLabelFont.fontfamily)}y=this._colorLA_eachRowHeight*i;if((y+this._colorLA_eachRowHeight>_)&&(i<l)){this._colorLA_endItemNum=i;this._colorLA_firstOverFlowPos=y;if(!this._colorLAfn_isScrollable()){if(y+this._colorLA_textHeight>_){this._colorLA_endItemNum=this._colorLA_endItemNum-1;this._colorLA_firstOverFlowPos-=this._colorLA_eachRowHeight}}break}a[i].pos={x:x,y:y}}if(i===l&&this._colorLA_startItemNum===0&&(y+this._colorLA_textHeight<w.height)){this._colorLA_isItemsOverflow=false}this._colorLA_contentSize=this._colorLA_endItemNum*this._colorLA_eachRowHeight;if(this._colorLA_bForceEllipsis){this._colorLA_firstOverFlowPos=this._colorLA_contentSize+this._colorLA_textHeight;this._colorLA_contentSize+=this._colorLA_eachRowHeight}};C.prototype._colorLAfn_getImageURL=function(i){var a="";var d=this._colorLA_imageInfo.imagePalette.length;if(d>0){a=this._colorLA_imageInfo.imagePalette[i%d]}return a};C.prototype._colorLAfn_isHorizontal=function(){return(this._colorLA_options.position==='top'||this._colorLA_options.position==='bottom')?true:false};C.prototype._colorLAfn_isScrollable=function(){return this._colorLA_options.isScrollable&&this._colorLA_options.isHierarchy===false};C.prototype._colorLAfn_createRowWithColorLabel=function(w,a,f,l,m){var g=0,h;var j=this._colorLA_colorLabelSize*this._colorLA_textHeight;var k=this;if(f){if(this._colorLA_shapeFeedLength>0){var s=a%this._colorLA_shapeFeedLength;if(this._colorLA_shapes.length<this._colorLA_shapeFeedLength){s=s%this._colorLA_shapes.length}h=this._colorLA_shapes[s]}else{if(this._colorLA_options.legendType==='BubbleColorLegend'){h=(this._colorLA_shapes[0]===undefined)?'square':this._colorLA_shapes[0]}else{var n=this._colorLA_shapes[a%this._colorLA_shapes.length];h=(n===undefined)?'square':n;if(h==='square'){h="squareWithRadius"}}}if(!this._colorLA_imageInfo.imageMode){var p=this._colorLA_textHeight/2;var q=w.selectAll('path').data([l]);q.enter().append('path');var r={drawingEffect:this._colorLA_options.drawingEffect,graphType:h,fillColor:null,direction:'vertical',rx:j/2,ry:j/2,borderWidth:0,borderColor:"transparent",node:null,className:""};q.attr("transform",function(d,i){var y;if(k._colorLA_shapeFeedLength>0){i=Math.floor(a/k._colorLA_shapeFeedLength);var t=k._colorLA_colors.length>k._colorLA_colorFeedLength?k._colorLA_colorFeedLength:k._colorLA_colors.length;if(t>0){y=k._colorLA_colors[i%t]}else{y=k._colorLA_colors[0]}}else{y=k._colorLA_colors[a%(k._colorLA_colors.length>k._colorLA_colorFeedLength?k._colorLA_colorFeedLength:k._colorLA_colors.length)]}r.fillColor=y;r.node=d3.select(this);D.drawGraph(r,k._colorLA_effectManager);return'translate('+p+','+p+')'})}else{var u=w.select("image");if(u.empty()){u=w.append("image")}u.attr("xlink:xlink:href",this._colorLAfn_getImageURL(a)).attr("width",j).attr("height",j)}g=j+this._colorLA_markerMargin.right*this._colorLA_textHeight}var v=w.selectAll('text').data([l]);v.enter().append('text');v.attr('x',g).attr('y',this._colorLA_textHeight).text(function(d){return d});w.append("rect");var x="font-size:"+this._colorLA_valueLabelFont.fontsize+"; font-weight:"+this._colorLA_valueLabelFont.fontweight+"; font-family:"+this._colorLA_valueLabelFont.fontfamily;if(!(this._colorLAfn_isScrollable()&&this._colorLAfn_isHorizontal())){v.each(function(d){var t;if(m===undefined){t=k._colorLA_width-g;if(k._colorLAfn_isScrollable()){t=t-k._colorLA_scrollBarSize}}else{t=m}if(T.ellipsis(d,this,t,x)!==l){v.select("title").remove();if(w.select("title").empty()){w.select("rect").append("title").text(l)}}})}return w};var e=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};return C});define('sap/viz/modules/legend/sizeLegendArea',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/lang/langManager','sap/viz/format/FormatManager','sap/viz/base/utils/TypeUtils','sap/viz/util/DrawUtil'],function Setup(o,B,T,l,F,a,D){var S=function(s){this._sizeLA_width=400;this._sizeLA_height=200;this._sizeLA_valueLabelFont={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'normal','color':'#333333'};this._sizeLA_chartData=[0,0,0];this._sizeLA_scale=undefined;this._sizeLA_guildeLineWidth=10;this._sizeLA_valuePaddingLeft=15;this._sizeLA_valueLabelHeight=0;this._sizeLA_options=undefined;this._sizeLA_effectManager=null;this._sizeLA_styleManager=s};o.extend(S,B);S.prototype.render=function(s){var t=this;s.each(function(){if(t._sizeLA_scale===undefined){return}t._sizeLAfn_getThemeStyleDef();var c=parseInt(t._sizeLA_valueLabelFont.fontsize,10);var v=[],e="font-size:"+t._sizeLA_valueLabelFont.fontsize+"; font-weight:"+t._sizeLA_valueLabelFont.fontweight+"; font-family:"+t._sizeLA_valueLabelFont.fontfamily;if(t._sizeLA_valueLabelHeight===0){t._sizeLA_valueLabelHeight=T.fastMeasure('M',t._sizeLA_valueLabelFont.fontsize,t._sizeLA_valueLabelFont.fontweight,t._sizeLA_valueLabelFont.fontfamily).height}var f=Math.floor((t._sizeLA_scale(t._sizeLA_chartData[0])+c)/t._sizeLA_valueLabelHeight);switch(f){case 0:case 1:v.push(t._sizeLA_chartData[0]);break;case 2:v.push(t._sizeLA_chartData[0]);if(t._sizeLA_chartData.length>1){v.push(t._sizeLA_chartData[t._sizeLA_chartData.length-1])}break;default:v=t._sizeLA_chartData}var g=[],m=-1,h,j;for(var i=0,k=v.length;i<k;i++){g.push(t._sizeLA_scale(v[i])/2);j=b(v[i]);if(a.isExist(t._sizeLA_options.formatString)){j=F.format(j,t._sizeLA_options.formatString)}h=T.fastMeasure(j,t._sizeLA_valueLabelFont.fontsize,t._sizeLA_valueLabelFont.fontweight,t._sizeLA_valueLabelFont.fontfamily).width;if(h>m){m=h}}var n=g[0];var w=d3.select(this);var p=w.selectAll('g.v-circles');if(!p.empty()){p.remove()}p=w.append('g').attr('class','v-circles').data([g]);p.attr('transform','translate('+n+','+(n+c/2)+')');var q={drawingEffect:t._sizeLA_options.drawingEffect,graphType:'circle',fillColor:'#748CB2'};var r=t._sizeLA_effectManager.register(q);var u=p.selectAll('path').data(g,function(d,i){return d});u.exit().remove();u.enter().append('path').attr('stroke','white').attr('stroke-width',1).attr('fill',r).attr('opacity','1').attr('fill-opacity','0.85');u.attr('d',function(d,i){return D.createMarkerData({type:'circle',borderWidth:0,rx:d,ry:d})}).attr('transform',function(d,i){return['translate(',0,',',n-d,')'].join('')});var x=w.selectAll('g.v-valueLabels');if(x.empty()){x=w.append('g').attr('class','v-valueLabels').data([v])}var y=(n*2+t._sizeLA_valuePaddingLeft+t._sizeLA_guildeLineWidth+m)>t._sizeLA_width?t._sizeLA_width:(n*2+t._sizeLA_valuePaddingLeft+t._sizeLA_guildeLineWidth+m);x.attr('transform','translate('+y+', '+(n+c)+')');var z=x.selectAll('text').data(v,function(d,i){return d});z.exit().remove();z.enter().append('text').attr('text-anchor','end');z.text(function(d,i){var j=b(d);if(a.isExist(t._sizeLA_options.formatString)){j=F.format(j,t._sizeLA_options.formatString)}return j}).attr('dx',0).attr('dy',function(d,i){var E=(i-1)*n-2;if(v.length===2&&i===1){E=n-2}return E});var A=w.selectAll('g.v-guideLines');if(!A.empty()){A.remove()}A=w.append('g').attr('class','v-guideLines').attr('transform','translate('+n+','+(n+c/2)+')');if(v.length>0){A.append('path').attr('stroke','gray').attr('d','M 0 '+-n+' L '+(n+t._sizeLA_guildeLineWidth)+" "+-n)}if(v.length>1){A.append('path').attr('stroke','gray').attr('d','M 0 '+n+'L'+(n+t._sizeLA_guildeLineWidth)+" "+n)}if(v.length>2){A.append('path').attr('stroke','gray').attr('d','M 0 '+(n-g[1])+' L '+n+" 0"+' M '+n+" 0 "+" L "+(n+t._sizeLA_guildeLineWidth)+" 0")}var C=t._sizeLA_styleManager.queryDefault('v-label');w.attr('font-family',C['font-family']).attr('font-size',C['font-size']).attr('font-weight',C['font-weight']).attr('fill',C.color)})};S.prototype.width=function(_){if(!arguments.length){return this._sizeLA_width}this._sizeLA_width=_;return this};S.prototype.height=function(_){if(!arguments.length){return this._sizeLA_height}this._sizeLA_height=_;return this};S.prototype.higlight=function(_){return this};S.prototype.unhighlight=function(_){return this};S.prototype.selected=function(_){return this};S.prototype.color=function(_){return this};S.prototype.shapes=function(_){return this};S.prototype.properties=function(p){if(!arguments.length){return this._sizeLA_options}this._sizeLA_options=p;return this};S.prototype.data=function(_){if(!arguments.length){return this._sizeLA_chartData}this._sizeLA_chartData=_;return this};S.prototype.scale=function(_){if(!arguments.length){return this._sizeLA_scale}this._sizeLA_scale=_;return this};S.prototype.effectManager=function(_){if(!arguments.length){return this._sizeLA_effectManager}this._sizeLA_effectManager=_;return this};S.prototype._sizeLAfn_getThemeStyleDef=function(){var v=this._sizeLA_styleManager.query('v-label');if(v){if(v['fill']){this._sizeLA_valueLabelFont.color=v['fill']}if(v['font-family']){this._sizeLA_valueLabelFont.fontfamily=v['font-family']}if(v['font-size']){this._sizeLA_valueLabelFont.fontsize=v['font-size']}if(v['font-weight']){this._sizeLA_valueLabelFont.fontweight=v['font-weight']}}};S.prototype.hasData=function(){if(this._sizeLA_scale){return true}else{return false}};S.prototype.getPreferredSize=function(){this._sizeLAfn_getThemeStyleDef();var m=0,c=0,d=0,e=0;var f=-1,g,v=[],h=null,s,i,j,k=this._sizeLA_chartData,n="font-size:"+this._sizeLA_valueLabelFont.fontsize+"; font-weight:"+this._sizeLA_valueLabelFont.fontweight+"; font-family:"+this._sizeLA_valueLabelFont.fontfamily;if(this._sizeLA_scale){for(i=0,j=k.length;i<j;i++){h=b(k[i]);if(a.isExist(this._sizeLA_options.formatString)){h=F.format(h,this._sizeLA_options.formatString)}v[i]=T.fastMeasure(h,this._sizeLA_valueLabelFont.fontsize,this._sizeLA_valueLabelFont.fontweight,this._sizeLA_valueLabelFont.fontfamily);if((v[i]===undefined)||(v[i].width>f)){f=v[i].width}}s=f+this._sizeLA_valuePaddingLeft+this._sizeLA_guildeLineWidth;g=this._sizeLA_scale(k[0]);c=g+v[j-1].height;m=g+s;d=g+this._sizeLA_valuePaddingLeft+this._sizeLA_guildeLineWidth+v[0].width;e=c;if(this._sizeLA_options.position==='top'||this._sizeLA_options.position==='bottom'){m=m+v[j-1].height;d=d+v[j-1].height}else{c=c+v[j-1].height;e=c}}return{minHeight:e,minWidth:d,height:c,width:m}};S.prototype.doLayout=function(s){return s};S.prototype.destroy=function(){this._sizeLA_styleManager=null;this._sizeLA_effectManager=null};var b=function(v){return(v===null)?l.get('IDS_ISNOVALUE'):v};return S});define('sap/viz/modules/legend/mbcLegendArea',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector'],function Setup(o,B,T,b,c,U){var M=function(s){this._mbcLA_width=400;this._mbcLA_height=200;this._mbcLA_valueLabelFont={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'};this._mbcLA_wrap=undefined;this._mbcLA_chartData=undefined;this._mbcLA_colors=[];this._mbcLA_markerSize={width:12,height:12};this._mbcLA_paddingBottom=1;this._mbcLA_selectedItem=[];this._mbcLA_posInfo={markerSize:12,markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,maxMarkerHeight:36,minMarkerHeight:12,space:0,noValuePadding:18};this._mbcLA_textInfos=null;this._mbcLA_perferredSize=null;this._mbcLA_nullLabelIndex=-1;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_options=undefined;this._mbcLA_effectManager=null;this._mbcLA_styleManager=s;this._mbcLA_style={};this._mbcLA_style.hovershadow=s.queryDefault('v-hovershadow');this._mbcLA_style.clickedshadow='#808080';this._need_calTextSize=false};o.extend(M,B);M.prototype.render=function(s){var t=this;var a=function(l){var d={marker:[],label:[]},x=0,y=0,f=t._mbcLA_colors.slice(),v=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight,g,i,h,j,k;var m=t._mbcLAfn_calTextSize().textSize;f=f.reverse();if(t._mbcLA_nullLabelIndex!==-1){var n=f.shift();f.push(n)}if(t._mbcLA_options.position==='top'||t._mbcLA_options.position==='bottom'){g=t._mbcLA_markerSize.width+t._mbcLA_paddingBottom;var p=t._mbcLA_markerSize.height+v+t._mbcLA_textHeight;for(i=0,h=l.length;i<h;i++){j=l[i].val;k=l[i].val1;if(j==='N/A'&&h>1){x=x+t._mbcLA_posInfo.noValuePadding}d.marker.push({x:x,y:y,color:f[i],val:l[i].val,ctx:l[i].ctx});if(k!==undefined){d.label.push({val:k,x:0,y:p,visibility:m[i].visibility_tVal})}if(j!==undefined){if(j==='N/A'){d.label.push({val:b.get('IDS_ISNOVALUE'),x:x,y:p,visibility:m[i].visibility})}else{d.label.push({val:j,x:x+g,y:p,visibility:m[i].visibility})}}x=x+g}}else{g=t._mbcLA_markerSize.height+t._mbcLA_paddingBottom;var q=t._mbcLA_markerSize.width+v;for(i=0,h=l.length;i<h;i++){j=l[i].val;k=l[i].val1;if(j==='N/A'&&h>1){y=y+t._mbcLA_posInfo.noValuePadding}d.marker.push({x:x,y:y,color:f[i],val:j,ctx:l[i].ctx});if(k!==undefined){d.label.push({val:k,x:q,y:t._mbcLA_textHeight,visibility:m[i].visibility_tVal})}if(j!==undefined){if(j==='N/A'){d.label.push({val:b.get('IDS_ISNOVALUE'),x:q,y:y+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:m[i].visibility})}else{d.label.push({val:j,x:q,y:y+g+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:m[i].visibility})}}y=y+g}}return d};s.each(function(){t._mbcLAfn_getThemeStyleDef();t._mbcLAfn_calMarkerSize({width:t._mbcLA_width,height:t._mbcLA_height});var l=t._mbcLA_chartData,f,y=0,j,g,v=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight;var w=d3.select(this);t._mbcLA_wrap=w;var h=w.selectAll('rect.v-indicatedRect');if(h.empty()){h=w.append('rect').attr('class','v-indicatedRect v-hovershadow')}h.attr('visibility','hidden');if(t._mbcLA_options.position==='top'||t._mbcLA_options.position==='bottom'){h.attr('width',t._mbcLA_markerSize.width+2).attr('height',t._mbcLA_markerSize.height+4)}else{h.attr('width',t._mbcLA_markerSize.width+4).attr('height',t._mbcLA_markerSize.height+2)}var k=a(l);var m=w.selectAll('rect.v-marker').data(k.marker,function(d,i){return d.val});m.exit().remove();m.enter().append('rect').attr('class',function(d,i){return'v-marker v-legend-item ID_'+i});m.attr('width',t._mbcLA_markerSize.width).attr('height',t._mbcLA_markerSize.height).attr('x',function(d){return d.x}).attr('y',function(d){return d.y}).attr('fill',function(d){var i={drawingEffect:'normal',fillColor:d.color};var r=t._mbcLA_effectManager.register(i);return r});var n=(t._mbcLA_nullLabelIndex===-1)?k.label.length:(k.label.length-1);var p=w.selectAll('text').data(k.label,function(d){return d.val});p.exit().remove();p.enter().append('text').text(function(d){return d.val});p.attr('x',function(d){return d.x}).attr('y',function(d){return d.y}).attr('visibility',function(d){return d.visibility});var q=t._mbcLA_styleManager.queryDefault('v-label');w.attr('font-family',q['font-family']).attr('font-size',q['font-size']).attr('font-weight',q['font-weight']).attr('fill',q.color)})};M.prototype.highlight=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var a=t.__data__;if(a.x!==undefined&&a.y!==undefined){i.attr('class','v-indicatedRect v-legend-item v-hovershadow').attr('visibility','visible').attr('fill',this._mbcLA_style.hovershadow.fill);if(this._mbcLA_options.position==='top'||this._mbcLA_options.position==='bottom'){i.attr('x',a.x-1).attr('y',a.y-2)}else{i.attr('x',a.x-2).attr('y',a.y-1)}}}};M.prototype.unhighlight=function(t){if(this._mbcLA_wrap){this._mbcLA_wrap.selectAll('.v-indicatedRect').attr('visibility','hidden')}};M.prototype.selected=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var a=t.__data__;if(a.x!==undefined&&a.y!==undefined){i.attr('class','v-indicatedRect v-legend-item v-hovershadow-mousedown').attr('visibility','visible').attr('fill',this._mbcLA_style.clickedshadow);if(this._mbcLA_options.position==='top'||this._mbcLA_options.position==='bottom'){i.attr('x',a.x-1).attr('y',a.y-2)}else{i.attr('x',a.x-2).attr('y',a.y-1)}}}};M.prototype.width=function(_){if(!arguments.length){return this._mbcLA_width}this._mbcLA_width=_;return this};M.prototype.height=function(_){if(!arguments.length){return this._mbcLA_height}this._mbcLA_height=_;return this};M.prototype.properties=function(p){if(!arguments.length){return this._mbcLA_options}if(this._mbcLA_options!==undefined&&this._mbcLA_options.position!==p.position){this._mbcLA_markerSize={width:12,height:12}}this._mbcLA_options=p;this._need_calTextSize=true;return this};M.prototype.data=function(_){if(!arguments.length){return this._mbcLA_chartData}if(this._mbcLA_chartData!==_){this._mbcLA_chartData=_;this._need_calTextSize=true;this._mbcLA_nullLabelIndex=-1}return this};M.prototype.hasData=function(){if(this._mbcLA_chartData){return true}else{return false}};M.prototype.getPreferredSize=function(){var m=0,a=0,d=0,f=0;if(this._mbcLA_chartData&&this._need_calTextSize){this._mbcLAfn_getThemeStyleDef();this._mbcLA_textHeight=parseInt(this._mbcLA_valueLabelFont.fontsize,10);var t=this._mbcLAfn_calTextSize();var g=t.maxValueWidth;var v=t.textSize;var i=this._mbcLA_chartData.length;var h=this._mbcLA_posInfo.maxMarkerHeight;var l=this._mbcLA_posInfo.minMarkerHeight;if(this._mbcLA_options.position==='top'||this._mbcLA_options.position==='bottom'){var j=this._mbcLAfn_calLegendWidthFromMarkerWidth(h);a=j.height;m=j.width;j=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);d=j.height;f=j.width}else{m=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+g;f=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+(v[0].width>v[i-1].width?v[0].width:v[i-1].width);if(this._mbcLA_nullLabelIndex!==-1){a=(h+this._mbcLA_paddingBottom)*i+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom;d=(l+this._mbcLA_paddingBottom)*i+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom}else{a=(h+this._mbcLA_paddingBottom)*i+this._mbcLA_textHeight-this._mbcLA_paddingBottom;d=(l+this._mbcLA_paddingBottom)*i+this._mbcLA_textHeight-this._mbcLA_paddingBottom}}this._mbcLA_perferredSize={minHeight:d,minWidth:f,width:m,height:a}}return this._mbcLA_perferredSize};M.prototype.color=function(_){if(!arguments.length){return this._mbcLA_colors}this._mbcLA_colors=_;return this};M.prototype.effectManager=function(_){if(!arguments.length){return this._mbcLA_effectManager}this._mbcLA_effectManager=_;return this};M.prototype._mbcLAfn_calTextSize=function(){var m=-1,v=[],d=this._mbcLA_chartData;var l=d.length;if(this._need_calTextSize){for(var i=0;i<l;i++){if(d[i].val==='N/A'){v[i]=T.fastMeasure(b.get('IDS_ISNOVALUE'),this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_nullLabelIndex=i}else{var a=d[i].val;if(a!==undefined){v[i]=T.fastMeasure(a,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily)}else{v[i]={width:0,height:0}}var t=d[i].val1;if(t!==undefined){var f=T.fastMeasure(t,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);if(f.width>v[i].width){v[i]=f}}}if(v[i].width>m){m=v[i].width}}this._mbcLA_textInfos={maxValueWidth:m,textSize:v};this._need_calTextSize=false}return this._mbcLA_textInfos};M.prototype._mbcLAfn_calMarkerSize=function(s){var a=this._mbcLA_chartData.length,h=0,d=0,f,v,t,i;this._mbcLA_minimized=false;var g=this._mbcLA_posInfo.maxValueSpace*this._mbcLA_textHeight;var j=this._mbcLA_posInfo.minValueSpace*this._mbcLA_textHeight;var k=this._mbcLAfn_calTextSize().textSize;if(this._mbcLA_options.position==='top'||this._mbcLA_options.position==='bottom'){f=s.width;var r=this._mbcLA_posInfo.maxMarkerHeight;var l=this._mbcLA_posInfo.minMarkerHeight;var m=-1;var n=false;var p=this._mbcLAfn_calLegendWidthFromMarkerWidth(r);if(p.width<=f){h=r}else{p=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);if(p.width>=f){h=l}else{while(r-l>1){m=l+(r-l)/2;p=this._mbcLAfn_calLegendWidthFromMarkerWidth(m);if(Math.abs(p.width-f)<1){l=m;n=false;break}else if(p.width>f){r=m;n=true}else{l=m;n=false}}h=l;if(n){this._mbcLAfn_calLegendWidthFromMarkerWidth(h)}}}}else{f=s.height;var q=false;var u;if(this._mbcLA_textHeight>this._mbcLA_posInfo.maxMarkerHeight){q=true}if(this._mbcLA_nullLabelIndex!==-1){h=(f-this._mbcLA_paddingBottom*(a-1)-this._mbcLA_posInfo.noValuePadding-(q?(this._mbcLA_textHeight-this._mbcLA_posInfo.maxMarkerHeight):0))/(a)}else{h=(f-this._mbcLA_paddingBottom*(a-1)-this._mbcLA_textHeight)/a}if(h>this._mbcLA_posInfo.maxMarkerHeight){h=this._mbcLA_posInfo.maxMarkerHeight}if(h<this._mbcLA_textHeight){q=true}if(q){this._mbcLA_minimized=true}for(i=0;i<k.length;i++){if(this._mbcLA_minimized){k[i].visibility='hidden'}else{k[i].visibility='visible'}}k[0].visibility_tVal='visible';if(this._mbcLA_nullLabelIndex!==-1){k[this._mbcLA_nullLabelIndex].visibility='visible';u=k.length-1}else{u=k.length}if(u>0){if(k[u-1].height===0){k[u-2].visibility='visible'}else{k[u-1].visibility='visible'}}}this._mbcLA_posInfo.space=d;if(this._mbcLA_options.position==='top'||this._mbcLA_options.position==='bottom'){this._mbcLA_markerSize.width=h;this._mbcLA_markerSize.height=this._mbcLA_posInfo.markerSize}else{this._mbcLA_markerSize.width=this._mbcLA_posInfo.markerSize;this._mbcLA_markerSize.height=h}};M.prototype._mbcLAfn_getThemeStyleDef=function(){var v=this._mbcLA_styleManager.query('v-label');var f=false;if(v){if(v['fill']&&v['fill']!==this._mbcLA_valueLabelFont.color){this._mbcLA_valueLabelFont.color=v['fill']}if(v['font-family']&&v['font-family']!==this._mbcLA_valueLabelFont.fontfamily){this._mbcLA_valueLabelFont.fontfamily=v['font-family'];f=true}if(v['font-size']&&v['font-size']!==this._mbcLA_valueLabelFont.fontsize){this._mbcLA_valueLabelFont.fontsize=v['font-size'];f=true}if(v['font-weight']&&v['font-weight']!==this._mbcLA_valueLabelFont.fontweight){this._mbcLA_valueLabelFont.fontweight=v['font-weight'];f=true}if(f){this._need_calTextSize=true}}};M.prototype.destroy=function(){if(this._mbcLA_wrap){this._mbcLA_wrap=null}this._mbcLA_styleManager=null;this._mbcLA_effectManager=null;this._mbcLA_selectedItem=null};M.prototype._mbcLAfn_calLegendWidthFromMarkerWidth=function(w){var m=0,t=0,a=false,i,n,r,d;var v=this._mbcLAfn_calTextSize().textSize;var l=this._mbcLA_chartData.length,f=l;if(this._mbcLA_nullLabelIndex!==-1){n=v[this._mbcLA_nullLabelIndex].width;f=l-1}for(i=0;i<v.length;i++){if(i===this._mbcLA_nullLabelIndex){continue}if(v[i].width>w){a=true;this._mbcLA_minimized=true;break}}for(i=0;i<v.length;i++){if(a){v[i].visibility='hidden'}else{v[i].visibility='visible'}}if(this._mbcLA_nullLabelIndex!==-1){v[this._mbcLA_nullLabelIndex].visibility='visible'}v[0].visibility_tVal='visible';if(f>0){if(v[f-1].width===0){v[f-2].visibility='visible'}else{v[f-1].visibility='visible'}}m=(w+this._mbcLA_paddingBottom)*l;if(this._mbcLA_nullLabelIndex!==-1){if(f>0){m+=this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom}else{m=w}}if(f>0){if(a){if(v[f-1].width===0){if(v[0].width>(w+this._mbcLA_paddingBottom)*(f-1)){t=0;v[0].visibility_tVal='hidden';v[f-2].visibility='hidden'}else{t=(w+this._mbcLA_paddingBottom)*(f-1)+v[f-2].width}}else{if(v[0].width>(w+this._mbcLA_paddingBottom)*f){v[0].visibility_tVal='hidden';v[f-1].visibility='hidden';t=0}else{t=(w+this._mbcLA_paddingBottom)*f+v[f-1].width}}}else{t=(w+this._mbcLA_paddingBottom)*f+v[f-1].width}}else{t=0}if(this._mbcLA_nullLabelIndex!==-1){if(f>0){if(t<((w+this._mbcLA_paddingBottom)*f+this._mbcLA_posInfo.noValuePadding)){t=(w+this._mbcLA_paddingBottom)*f+this._mbcLA_posInfo.noValuePadding+n}else{v[this._mbcLA_nullLabelIndex].visibility='hidden'}}else{t=n}}d=m>t?m:t;if(t<=0){r=this._mbcLA_posInfo.markerSize}else{r=this._mbcLA_posInfo.markerSize+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+this._mbcLA_textHeight}return{width:d,height:r}};var e=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};return M});define('sap/viz/modules/legend/common',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/manifest','sap/viz/util/TextUtils','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/base/utils/ObjectUtils','sap/viz/modules/legend/colorLegendArea','sap/viz/modules/legend/sizeLegendArea','sap/viz/modules/legend/mbcLegendArea','sap/viz/lang/langManager','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector','sap/viz/mvc/TapGestureDetector','sap/viz/format/FormatManager'],function Setup(o,B,M,T,b,c,O,C,S,e,l,f,g,U,h,F){var L=function(a,d){this._legend_imageInfo={imageMode:false,imagePalette:[],radio:1};this._legend_width=0;this._legend_height=0;this._legend_preferenceSize={width:0,height:0};this._legend_titleFont={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'bold','color':'#333333'};this._legend_valueLabelFont={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'};this._legend_options={};this._legend_isVisible=true;this._legend_shapes=[];this._legend_colors=[];this._legend_textHeight=20;this._legend_margin={top:0,right:0,bottom:0,left:0};this._legend_titleMarginBottom=0.5;this._legend_legendAreaPos={x:0,y:0};this._legend_sizeInfo={sizeScale:undefined};this._legend_mbcInfo={colorScale:undefined};this._legend_hideTitle=false;this._legend_chartData={title:'',labels:''};this._legend_bubleSizeData=[];this._legend_data=null;this._legend_shapeFeeds=[];this._legend_colorFeeds=[];this._legend_colorFeedLength=0;this._legend_shapeFeedLength=0;this._legend_relayout=true;this._legend_ctx=d;this._legend_legendArea=new C(d.styleManager);this._legend_eDispatch=new c('highlightedByLegend');this._legend_effectManager=d.effectManager;this._legend_eventManager=d.eventManager;this._legend_styleManager=d.styleManager;this._legend_properties=a.props(null);this._legend_isHierarchicalChanged=false;this._legend_oTapGestureDetector=undefined;this._legend_gEnterCol=undefined;this._legend_elem_title=null;this._legend_elem_root=null;this.properties(null);this._need_parseFeedsData=false;this._firstRenderReady=undefined};o.extend(L,B);L.prototype.render=function(a){g.drawBound(a,this._legend_width,this._legend_height);this._legend_elem_root=a;this._legendfn_parseFeedsData(this._legend_data);this._legendfn_renderLegend(a);if(this._firstRenderReady===undefined){this._firstRenderReady=!this._legend_options.visible}};L.prototype.width=function(_){if(!arguments.length){return this._legend_width}this._legend_width=_;this._legend_legendArea.width(_);this._legend_relayout=true;return this};L.prototype.height=function(_){if(!arguments.length){return this._legend_height}this._legend_height=_;this._legend_legendArea.height(_);this._legend_relayout=true;return this};L.prototype.imageInfo=function(_){if(!arguments.length){return this._legend_imageInfo}this._legend_imageInfo=_;this._legend_relayout=true;return this};L.prototype.colorPalette=function(_){if(!arguments.length){return this._legend_colors}this._legend_colors=_;this._legend_legendArea.color(_);return this};L.prototype.shapes=function(_){if(!arguments.length){return this._legend_shapes}this._legend_shapes=_;this._legend_legendArea.shapes(_);return this};L.prototype.data=function(_){if(!arguments.length){return this._legend_data}this._legend_data=_;this._need_parseFeedsData=true;return this};L.prototype.properties=function(a){if(!arguments.length){return this._legend_properties}if(this._legend_properties&&a&&this._legend_properties.isHierarchical!==a.isHierarchical){this._legend_isHierarchicalChanged=true}f.extend(true,this._legend_properties,a);this._legend_options.visible=this._legend_properties.visible;this._legend_isVisible=this._legend_options.visible;this._legend_options.isShowTitle=this._legend_properties.title.visible;this._legend_options.titleText=this._legend_properties.title.text;this._legend_options.isHierarchy=this._legend_properties.isHierarchical;this._legend_options.isScrollable=this._legend_properties.isScrollable;this._legend_options.position=this._legend_properties.position;this._legend_options.formatString=this._legend_properties.formatString;this._legend_options.alignment=this._legend_properties.alignment;this._legend_options.drawingEffect=this._legend_properties.drawingEffect;if(this._legend_options.visible===true){if(this._firstRenderReady){this._need_parseFeedsData=true;this._firstRenderReady=false}if(this._legend_options.legendType!==this._legend_properties.type){this._legend_options.legendType=this._legend_properties.type;if(this._legend_data&&this._legend_chartData.labels){this._need_parseFeedsData=true}if(t(this._legend_options.legendType)){this._legend_legendArea=new S(this._legend_styleManager)}else if(v(this._legend_options.legendType)){this._legend_legendArea=new e(this._legend_styleManager)}}this._legend_legendArea.properties(this._legend_options)}else{this._need_parseFeedsData=false}this._legend_height=0;this._legend_width=0;return this};L.prototype.getPreferredSize=function(){this._legendfn_parseFeedsData(this._legend_data);this._legendfn_getThemeStyleDef();return this._legendfn_calculateRowPosition()};L.prototype.sizeLegendInfo=function(_){if(!arguments.length){return this._legend_sizeInfo.sizeScale}this._legend_sizeInfo.sizeScale=_.scale;this._legend_legendArea.scale(this._legend_sizeInfo.sizeScale);if(_.data.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible;this._legend_bubleSizeData=_.data;this._legend_legendArea.data(this._legend_bubleSizeData)}this._legend_chartData.title=x(_.title);return this};L.prototype.mbcLegendInfo=function(_){if(!arguments.length){return this._legend_mbcInfo.colorScale}this._legendfn_parseFeedsData(this._legend_data);if(_.colorScale===undefined){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible;this._legend_mbcInfo.colorScale=_.colorScale;this._legend_chartData.title=x(_.title);this._legendfn_parseMeasureBasedColoringLegend();this._legend_legendArea.data(this._legend_chartData.labels)}return this};L.prototype.deselectLegend=function(d){};L.prototype.setSelectionMode=function(_){};L.prototype.dispatch=function(_){if(!arguments.length){return this._legend_eDispatch}this._legend_eDispatch=_;return this};L.prototype.getPropertyZone=function(){var a=[],d,i,j,D,E,G;if(t(this._legend_options.legendType)){d='sizeLegend'}else{d='legend'}if(this._legend_isVisible&&this._legend_options.isShowTitle&&!this._legend_hideTitle){i=this._legend_elem_title.node().getBoundingClientRect();if(i.width>1.5&&i.height>1.5){D=[[]];D[0].push([i.left,i.top]);D[0].push([i.right,i.top]);D[0].push([i.right,i.bottom]);D[0].push([i.left,i.bottom]);a.push({"name":d+' title',"bound":D})}}G=this._legend_elem_root.select(".v-bound").node().getBoundingClientRect();if(G.width>1.5&&G.height>1.5){j={left:G.left,right:G.right,top:G.top,bottom:G.bottom};if(a.length>0){j.top=a[0].bound[0][3][1]+1}E=[[]];E[0].push([j.left,j.top]);E[0].push([j.right,j.top]);E[0].push([j.right,j.bottom]);E[0].push([j.left,j.bottom]);a.push({"name":d,"bound":E})}return a};L.prototype.destroy=function(){if(this._legend_legendArea&&this._legend_legendArea.destroy){this._legend_legendArea.destroy()}if(this._legend_gEnterCol){this._legend_gEnterCol.on('click',null);this._legend_gEnterCol=null}this._legend_colorFeeds=null;this._legend_data=null;this._legend_chartData=null;this._legend_legendArea=null;this._legend_effectManager=null;this._legend_eventManager=null;this._legend_styleManager=null;this._legend_elem_root=null;if(this._legend_ctx){this._legend_ctx.destroy();this._legend_ctx=null}};L.prototype.highlight=function(a){if(this._legend_legendArea){this._legend_legendArea.highlight(a)}};L.prototype.unhighlight=function(a,i){if(this._legend_legendArea){this._legend_legendArea.unhighlight(a,i)}};L.prototype.selected=function(a){if(this._legend_legendArea){this._legend_legendArea.selected(a)}};L.prototype.panStart=function(a){if(this._legend_legendArea&&this._legend_legendArea.panStart){this._legend_legendArea.panStart(a)}};L.prototype.panMove=function(a){if(this._legend_legendArea&&this._legend_legendArea.panMove){this._legend_legendArea.panMove(a)}};L.prototype.panEnd=function(a){if(this._legend_legendArea&&this._legend_legendArea.panEnd){this._legend_legendArea.panEnd(a)}};L.prototype._legendfn_renderLegend=function(a){var i=this;a.each(function(){if(s(i._legend_options.legendType)||u(i._legend_options.legendType)){if(i._legend_chartData.labels.length===0){i._legend_isVisible=false}}if(i._legend_isVisible&&w.call(i)){i._legendfn_getThemeStyleDef();if(i._legend_relayout){i._legendfn_calculateRowPosition({'width':i._legend_width,'height':i._legend_height})}var j=i._legend_margin.left*i._legend_textHeight,D=i._legend_margin.top*i._legend_textHeight,E=i._legend_margin.right*i._legend_textHeight,G=i._legend_margin.bottom*i._legend_textHeight;var H=d3.select(this).selectAll('g.v-content').data([i._legend_chartData]);H.enter().append('g').attr('class','v-content');if(i._legend_isHierarchicalChanged){i._legend_isHierarchicalChanged=false;H.selectAll('.v-row').remove();H.selectAll('.v-group').remove()}if(i._legend_options.isShowTitle&&!i._legend_hideTitle){var I=parseInt(i._legend_titleFont.fontsize,10);var J='font-weight: '+i._legend_titleFont.fontweight+'; fill:'+i._legend_titleFont.color+'; font-family: '+i._legend_titleFont.fontfamily+'; font-size: '+i._legend_titleFont.fontsize+";";var K=(i._legend_options.titleText===undefined||i._legend_options.titleText===null)?i._legend_chartData.title:i._legend_options.titleText;var N=H.selectAll('text.v-title');if(N.empty()){N=H.append('text').attr('class','v-title viz-legend-title')}i._legend_elem_title=N;var P=i._legend_styleManager.queryDefault('v-title');N.text(K).attr('dx',j).attr('dy',D+I).attr('visibility','visible').attr('font-weight',P['font-weight']).attr('fill',P['fill']).attr('font-family',P['font-family']).attr('font-size',P['font-size']);N.each(function(d){T.ellipsis(K,this,i._legend_width-j-E,J)})}else{H.selectAll('text.v-title').attr('visibility','hidden');if(i._legend_hideTitle){i._legend_hideTitle=false}}var Q=i._legend_chartData.labels;var R=H.selectAll('g.v-groups').data([Q]);i._legend_gEnterCol=R;R.enter().append('g').attr('class','v-groups v-label viz-legend-valueLabel');R.attr('transform','translate('+i._legend_legendAreaPos.x+','+i._legend_legendAreaPos.y+')');var V=(!i._legend_width?i._legend_preferenceSize.width:i._legend_width)-j-E;var W=(!i._legend_height?i._legend_preferenceSize.height:i._legend_height)-G;i._legend_legendArea.properties(i._legend_options).width(V).height(W-i._legend_legendAreaPos.y).effectManager(i._legend_effectManager);if(t(i._legend_options.legendType)){i._legend_legendArea.data(i._legend_bubleSizeData).scale(i._legend_sizeInfo.sizeScale)}else if(v(i._legend_options.legendType)){i._legend_legendArea.data(Q).color(i._legend_mbcInfo.colorScale.range())}else{i._legend_legendArea.imageInfo(i._legend_imageInfo);i._legend_legendArea.data(Q).color(i._legend_colors).colorFeedLength(i._legend_colorFeedLength).shapeFeedLength(i._legend_shapeFeedLength)}i._legend_legendArea.render(R);if(i._legend_options.position==='left'||i._legend_options.position==='right'){switch(i._legend_options.alignment){case'start':H.attr('transform','translate('+0+','+0+')');break;case'end':H.attr('transform','translate('+0+', '+(((i._legend_height-i._legend_preferenceSize.height)>0)?((i._legend_height-i._legend_preferenceSize.height)):0)+')');break;case'middle':H.attr('transform','translate('+0+', '+(((i._legend_height-i._legend_preferenceSize.height)/2>0)?((i._legend_height-i._legend_preferenceSize.height)/2):0)+')');break}}else{H.attr('transform','translate('+0+','+0+')')}}else{var X=d3.select(this).selectAll('g.v-content');if(!X.empty()){X.remove()}}})};L.prototype._legendfn_isInLegendContent=function(a){var d=false;if(a===null){return false}else{if(a===this._legend_gEnterCol.node()){return true}d=this._legendfn_isInLegendContent(a.parentNode)}return d};L.prototype._legendfn_isValid=function(a){return this._legendfn_isInLegendContent(a.target)};L.prototype._legendfn_getThemeStyleDef=function(){var a=this._legend_styleManager.query('v-title');if(a){if(a['fill']){this._legend_titleFont.color=a['fill']}if(a['font-family']){this._legend_titleFont.fontfamily=a['font-family']}if(a['font-size']){this._legend_titleFont.fontsize=a['font-size']}if(a['font-weight']){this._legend_titleFont.fontweight=a['font-weight']}}var d=this._legend_styleManager.query('v-label');if(d){if(d['fill']){this._legend_valueLabelFont.color=d['fill']}if(d['font-family']){this._legend_valueLabelFont.fontfamily=d['font-family']}if(d['font-size']){this._legend_valueLabelFont.fontsize=d['font-size']}if(d['font-weight']){this._legend_valueLabelFont.fontweight=d['font-weight']}}};L.prototype._legendfn_parseFeedsData=function(d){if(!this._need_parseFeedsData||!d){return}this._legend_colorFeeds=[];this._legend_shapeFeeds=[];var a=d.getAnalysisAxisDataByIdx(0);if(a){this._legend_colorFeeds=a.values}a=d.getAnalysisAxisDataByIdx(1);if(a){this._legend_shapeFeeds=a.values}if(u(this._legend_options.legendType)){this._legendfn_parseBubbleColorLegendFeeds()}else if(t(this._legend_options.legendType)){this._legend_chartData.labels=[0,0,0]}else{this._legendfn_parseColorLegendFeeds()}if(!v(this._legend_options.legendType)){this._legend_legendArea.data(this._legend_chartData.labels)}this._need_parseFeedsData=false};L.prototype._legendfn_parseMeasureBasedColoringLegend=function(){var a=[],d={'val':undefined,'ctx':{}};var D=this._legend_mbcInfo.colorScale.domain();var E=this._legend_mbcInfo.colorScale.domainInfo;var G=D.length;for(var i=0,j=G-1;i<G;i++,j--){if(D[i].length>0){d.val=D[i][0];d.ctx.ranges={startValue:D[i][0],endValue:D[i][1],isRightOpen:E[i].isRightOpen,isLeftOpen:E[i].isLeftOpen,isAsending:E[i].isAscending}}else{d.val='N/A';d.ctx.ranges={}}d.ctx.path=E[i].dpPaths;a[j]={};O.extend(true,a[j],d)}if(a[G-1].val===-Number.MAX_VALUE){a[G-1].val=undefined;a[G-2].val="<"+F.format(a[G-2].ctx.ranges.startValue,this._legend_options.formatString)}if(a[0].val==='N/A'){var H=a.shift();a.push(H)}var I=a[0].ctx.ranges.endValue;if(I===Number.MAX_VALUE){I=">"+F.format(a[0].ctx.ranges.startValue,this._legend_options.formatString)}a[0].val1=I;if(b.isExist(this._legend_options.formatString)){for(i=0;i<a.length;i++){var J=a[i];if(J.val!==undefined){J.val=F.format(J.val,this._legend_options.formatString)}if(J.val1!==undefined){J.val1=F.format(J.val1,this._legend_options.formatString)}}}this._legend_chartData.labels=a};function k(){this.array=[];this.index={}}k.prototype.push=function(a){this.array.push(a);this.index[a.val]=this.array.length-1};k.prototype.lookupByValue=function(a){var i=this.index[a];if(i!==undefined){return this.array[i]}else{return null}};L.prototype._legendfn_parseBubbleColorLegendFeeds=function(){var a=new k(),d='',D='',i,j=0,E,G={'val':undefined,'ctx':{'path':{}}},H,I,J;this._legend_colorFeedLength=0,this._legend_shapeFeedLength=0;if(this._legend_colorFeeds&&this._legend_colorFeeds.length>0&&this._legend_colorFeeds[0].rows.length>0){var K=this._legend_colorFeeds[0];d=x(K.col.val);H='dii_a'+(K.rows[0].ctx.path.aa+1);G={'val':K.rows[0].val,'ctx':{'path':{}},'info':K.rows[0].info};G.ctx.path[H]=[K.rows[0].ctx.path.dii];for(i=1,E=K.rows.length;i<E;i++){D=K.rows[i].val;J=a.lookupByValue(D);if(D===G.val){G.ctx.path[H].push(K.rows[i].ctx.path.dii)}else if(J!==null){J.ctx.path[H].push(K.rows[i].ctx.path.dii)}else{J={};G.val=y(G);O.extend(true,J,G);G.val=D;G.ctx={path:{}};G.ctx.path[H]=[K.rows[i].ctx.path.dii];a.push(J)}}J={};G.val=y(G);O.extend(true,J,G);a.push(J);this._legend_colorFeedLength=a.length}a=a.array;if(this._legend_shapeFeeds&&this._legend_shapeFeeds.length>0){var N=this._legend_shapeFeeds[0],P=[];d=(d==='')?x(N.col.val):d+" / "+x(N.col.val);H='dii_a'+(N.rows[0].ctx.path.aa+1);G={'val':N.rows[0].val,'ctx':{'path':{}},'info':N.rows[0].info},j=0;G.ctx.path[H]=[N.rows[0].ctx.path.dii];for(i=1,E=N.rows.length;i<E;i++){D=N.rows[i].val;I=n(P,D);if(D===G.val){G.ctx.path[H].push(N.rows[i].ctx.path.dii)}else if(I!==false){P[I].ctx.path[H].push(N.rows[i].ctx.path.dii)}else{P[j]={};G.val=y(G);O.extend(true,P[j++],G);G.val=D;G.ctx={path:{}};G.ctx.path[H]=[N.rows[i].ctx.path.dii]}}P[j]={};G.val=y(G);O.extend(true,P[j],G);this._legend_shapeFeedLength=P.length;if(a.length>0){a=p([a,P],' / ')}else{a=P}}if(a.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible}this._legend_chartData={'title':d,'labels':a}};L.prototype._legendfn_parseColorLegendFeeds=function(){var a,d=[];this._legend_colorFeedLength=0;this._legend_shapeFeedLength=0;var i=this._legendfn_parseLegendFeed(a,this._legend_colorFeeds,this._legend_colorFeedLength);this._legend_colorFeedLength=i.feedsLength;var j=this._legendfn_parseLegendFeed(a,this._legend_shapeFeeds,this._legend_shapeFeedLength);this._legend_shapeFeedLength=j.feedsLength;if(j.labels.length>0){if(i.labels.length>0){if(i.MNDInfo.MNDIndex===undefined&&j.MNDInfo.MNDIndex===undefined){d=p([i.labels,j.labels],' / ');a=i.title+" / "+j.title}else{if((i.MNDInfo.MNDIndex!==undefined&&!i.MNDInfo.hasOnlyMND)||(j.MNDInfo.MNDIndex!==undefined&&!j.MNDInfo.hasOnlyMND)){d=p([i.labels,j.labels],' - ');a=i.title+" - "+j.title}else if(i.MNDInfo.MNDIndex!==undefined&&i.MNDInfo.hasOnlyMND){d=j.labels;a=j.title}else{d=i.labels;a=i.title}}}else{d=j.labels;a=j.title}}else{d=i.labels;a=i.title}if(d.length===0){this._legend_isVisible=false}else{this._legend_isVisible=this._legend_options.visible}this._legend_chartData={'title':a,'labels':d}};L.prototype._legendfn_parseLegendFeed=function(a,d,D){var E=[],G=[],H=' / ',I=' - ';var J,K=false,i,j,N;if(d&&d.length>0){for(i=0,N=d.length;i<N;i++){if(d[i].type!=='MND'){if(a===undefined){a=x(d[i].col.val)}else{a=a+H+x(d[i].col.val)}G=d[i].rows;for(j=0;j<G.length;j++){if(E[j]===undefined){E[j]={};E[j].val=y(G[j]);if(G[j].dataTransformInfo&&G[j].dataTransformInfo.autoBinning){E[j].val+=('('+G[j].dataTransformInfo.autoBinning.othersNum+')')}E[j].ctx={path:m(G[j].ctx.path)};E[j].orignialVal=[];E[j].orignialVal.push(x(G[j].val))}else{if(G[j].val!==''){E[j].val=E[j].val+H+y(G[j]);E[j].orignialVal.push(x(G[j].val))}}}}else{J=i}}D=E.length}if(J!==undefined){if(E.length>0){if(d[J].rows.length>1){if(J===0){a=l.get('IDS_DEFAULTMND')+I+a;E=p([z(d[J].rows),E],I);D=D*d[J].rows.length}else if(J===d.length-1){a=a+I+l.get('IDS_DEFAULTMND');E=p([E,z(d[J].rows)],I);D=D*d[J].rows.length}}}else{a=l.get('IDS_DEFAULTMND');G=d[J].rows;for(j=0;j<G.length;j++){E[j]={};E[j].val=y(G[j]);E[j].ctx=G[j].ctx;E[j].orignialVal=[];E[j].orignialVal.push(x(G[j].val))}D=G.length;if(G.length===1){K=true}}}return{'title':a,'labels':E,'feedsLength':D,'MNDInfo':{'MNDIndex':J,'hasOnlyMND':K}}};L.prototype._legendfn_calculateRowPosition=function(){var a=0,d=0,i=0,j=0,D={width:0,height:0},E={};var G,H,I;if(this._legend_isVisible&&this._legend_legendArea.hasData()){G="font-size:"+this._legend_titleFont.fontsize+"; font-weight:"+this._legend_titleFont.fontweight+"; font-family:"+this._legend_titleFont.fontfamily;this._legend_textHeight=parseInt(this._legend_valueLabelFont.fontsize,10);H=this._legend_margin.left*this._legend_textHeight,I=this._legend_margin.top*this._legend_textHeight;var J=I,K=this._legend_margin.right*this._legend_textHeight,N=this._legend_margin.bottom*this._legend_textHeight;if(this._legend_options.isShowTitle&&((typeof this._legend_options.titleText!=='undefined'&&this._legend_options.titleText!==null)||(typeof this._legend_chartData.title!=='undefined'&&this._legend_chartData.title!==null))){D=T.fastMeasure(typeof this._legend_options.titleText==='undefined'||this._legend_options.titleText===null?this._legend_chartData.title:this._legend_options.titleText,this._legend_titleFont.fontsize,this._legend_titleFont.fontweight,this._legend_titleFont.fontfamily);I=I+D.height+this._legend_titleMarginBottom*this._legend_textHeight}this._legend_legendAreaPos={x:H,y:I};E=this._legend_legendArea.getPreferredSize();if(this._legend_options.position==='top'||this._legend_options.position==='bottom'){d=H+((D.width>E.width)?D.width:E.width);a=I+E.height;i=H+E.minWidth;j=J+E.minHeight}else{d=H+((D.width>E.width)?D.width:E.width);a=I+E.height;i=H+E.minWidth;j=J+E.minHeight}if(this._legend_options.isShowTitle){var P={width:this._legend_width-H-K,height:this._legend_height-I-N};if(parseFloat(P.height.toFixed(1))<parseFloat(E.minHeight.toFixed(1))){this._legend_hideTitle=true;this._legend_legendAreaPos={x:H,y:J};if(this._legend_height>0&&P.height<0&&(this._legend_options.position==='top'||this._legend_options.position==='bottom')){a=E.height+J}}else{this._legend_hideTitle=false}}d=d+K;i=i+K;a=a+N;j=j+N}this._legend_preferenceSize={width:d,height:a,maxWidth:d,maxHeight:a,minWidth:i,minHeight:j};return this._legend_preferenceSize};var m=function(a){var d={};switch(a.aa){case 0:d.dii_a1=a.dii;break;case 1:d.dii_a2=a.dii;break;case 2:d.dii_a3=a.dii;break}return d};var n=function(a,d){for(var i=0;i<a.length;i++){if(a[i].val===d){return i}}return false};var p=function(a,d){var D=a[0];var E=function(G){var H=D;D=[];for(var i=0;i<H.length;i++){for(var j=0;j<G.length;j++){var I=(H[i].val===undefined)?H[i].val:H[i].val,J=(G[j].val===undefined)?G[j].val:G[j].val;var K={path:{}};O.extend(K.path,H[i].ctx.path,G[j].ctx.path);var N={'val':I+d+J,'ctx':K,'orignialVal':[]};if(H[i].orignialVal===undefined){N.orignialVal.push(H[i].val)}else{N.orignialVal=N.orignialVal.concat(H[i].orignialVal)}if(G[j].orignialVal===undefined){N.orignialVal.push(G[j].val)}else{N.orignialVal=N.orignialVal.concat(G[j].orignialVal)}D.push(N)}}};for(var i=1;i<a.length;i++){E(a[i])}return D};var q=function(a){var d=false;if(a.search('color')!==-1){d=true}return d};var r=function(a){var d=false;if(a.search('shape')!==-1){d=true}return d};var s=function(a){var d=false;if(a==='ColorLegend'){d=true}return d};var t=function(a){var d=false;if(a==='SizeLegend'){d=true}return d};var u=function(a){var d=false;if(a==='BubbleColorLegend'){d=true}return d};var v=function(a){var d=false;if(a==='MeasureBasedColoringLegend'){d=true}return d};var w=function(){return(this._legend_width>0&&this._legend_height>0)};var x=function(_){var d=l.get('IDS_ISNOVALUE');if(_===null||_===undefined){return d}else{return _}};var y=function(a){var d;if(a.info){var i=a.info.customlabel;if(i){if(i.type==='url'){d=a.val}else if(i.type==='string'){d=i.val}}else{d=a.val}}else{d=a.val}d=x(d);return d};var z=function(a){var d=[];for(var i=0;i<a.length;++i){d[i]={};O.extend(true,d[i],a[i]);d[i].val=x(a[i].val)}return d};var A=function(){if(d3.event){return d3.event}else{return window.event}};return L});define('sap/viz/modules/manifests/legend/Common',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/legend/common','sap/viz/base/UADetector'],function Setup(M,C,f,U){var m={'id':'sap.viz.modules.legend.common','type':C.Type.Supplementary,'name':'common legend','description':'Settings for the legend','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the legend'},'title':{'name':'title','description':'Settings for the legend title','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the legend title'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set the text of the legend title'}}},'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':null,'description':'Set the format string for the legend. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@.','isExported':false},'isHierarchical':{'name':'isHierarchical','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the legend is hierarchical. This is only supported if the legend is located to the right of the chart.','isExported':true,'example':"<a href='"+C.DocExample.SnippetUrl+"8742' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'isScrollable':{'name':'isScrollable','supportedValueType':'Boolean','defaultValue':false,'description':"Set whether the legend is scrollable. If this value is set to 'false', and there is not enough room to show the whole legend, an ellipsis (…) indicates the missing legend items.",'isExported':true},'position':{'name':'position','supportedValueType':'String','supportedValues':['top','bottom','right','left'],'defaultValue':'right','description':'It is a deprecated property. Please use "legendGroup.layout.position" property to set legend position. ','isExported':false},'type':{'name':'type','supportedValueType':'String','supportedValues':['ColorLegend','BubbleColorLegend','SizeLegend','MeasureBasedColoringLegend'],'defaultValue':'ColorLegend','description':'Set legend type for Bubble charts. Non-bubble charts are not supported.','isExported':false},'alignment':{'name':'alignment','supportedValueType':'String','supportedValues':['start','middle','end'],'defaultValue':'start','description':'Set the alignment of the legend','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':"Set the drawing effect for colors in the legend. If this value is set to 'glossy', colors are glossy. If this value is set to 'normal', colors are matte.",'isExported':true,'example':"<a href='"+C.DocExample.SnippetUrl+"9606' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},'css':{'.viz-legend-title.v-title':{'description':'Define the style for the the legend title','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-legend-valueLabel.v-label':{'description':'Define the style for the legend label','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}},'.v-hovershadow':{'description':'Define the style for the hovershadow in legend','value':{'fill':'#cccccc'}},'.v-scrollbarThumb':{'description':"Define the style for the legend's scrollbar thumb",'value':{'fill':'#a6a6a6','opacity':1}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/manifests/layout/Dock',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/dock','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.dock",'name':"dock",'base':"sap.viz.modules.layout.base",'description':"The dock layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/manifests/layout/Stack',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/stack','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.stack",'name':"stack",'base':"sap.viz.modules.layout.base",'description':"The stack layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/BaseVerticalChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYContainer','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Background','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/legend/Common','sap/viz/modules/manifests/layout/Dock','sap/viz/modules/manifests/layout/Stack'],function Setup(M,R,T,L,X,I,a,A,B,D,C,b,S){var c={id:'riv/baseverticalchart',name:'IDS_BASEVERTICALCHART',isBuiltIn:true,'abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general',properties:{layout:{padding:24,vgap:8,hgap:8}}},modules:{layout:{id:'sap.viz.modules.layout.dock'},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true},propertiesOverride:{pan:{isExported:true}}}},title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0}}}},legends:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legendGroup',properties:{layout:{position:'right',priority:1}}},modules:{layout:{id:'sap.viz.modules.layout.stack'},legend:{id:'sap.viz.modules.legend.common',data:{aa:[2]},configure:{propertyCategory:'legend',properties:{layout:{order:0}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalbar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{layout:{position:'center',priority:5}}},modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},plot:{configure:{properties:{orientation:'vertical'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'}],events:[]}};var m={viz:[c],module:[].concat(R.module,T.module,L.module,X.module,I.module,a.module,A.module,B.module,D.module,C.module,b.module,S.module),feeds:[].concat(R.feeds,T.feeds,L.feeds,X.feeds,I.feeds,a.feeds,A.feeds,B.feeds,D.feeds,C.feeds,b.feeds,S.feeds)};return m});define('sap/viz/mvc/PinchGestureDetector',['sap/viz/mvc/GestureDetector','sap/viz/base/Math'],function Setup(G,M){var t=G.TransitionState;var P=G.extend({constructor:function(){this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0},_distance:function(){var p=[];for(var a in this._grTouchTracker){p.push(this._grTouchTracker[a].globalXY)}var d=p[1].x-p[0].x;var b=p[1].y-p[0].y;return M.sqrt(d*d+b*b)},doTouchBegin:function(a){var c=this.totalTouches();if(this.state===t.Possible){if(c===2){var b=this._distance();if(b>35){this._origDistance=this._currDistance=b;this._startWhen=this._stopWhen=a.timeStamp;this._touchStartPoints=[];var d=this._grTouchTracker;for(var e in d){if(d[e].globalXY!==undefined){this._touchStartPoints.push(d[e].globalXY)}}}else{this.state=t.Failed;return}}else if(c>2){this.state=t.Failed;return}}else if((this.state===t.Began||this.state===t.Changed)){this._stopWhen=a.timeStamp;this._currDistance=this._distance();this.state=t.Canceled;return}},doTouchMove:function(a){switch(this.state){case t.Possible:if(this.totalTouches()===2){this._stopWhen=a.timeStamp;this._currDistance=this._distance();var s=this.scale();if(s>1.1||s<0.9){this.state=t.Began}}break;case t.Began:if(M.abs(this._origDistance-this._distance())>10){this._stopWhen=a.timeStamp;this._currDistance=this._distance();this.state=t.Changed}break;case t.Changed:this._currDistance=this._distance();this._stopWhen=a.timeStamp;this.state=t.Changed;break}},doTouchEnd:function(a){if(this.state===t.Began||this.state===t.Changed){if(this.totalTouches()===0){this._stopWhen=a.timeStamp;this._currDistance=this._distance();this.state=t.Ended}else{this._stopWhen=a.timeStamp;this._currDistance=this._distance();this.state=t.Canceled}}else if(this.state===t.Possible){this.state=t.Failed}},doTouchCancel:function(a){if(this.state===t.Began||this.state===t.Changed){this._stopWhen=a.timeStamp;this._currDistance=this._distance();this.state=t.Canceled}else if(this.state===t.Possible){this.state=t.Failed}},scale:function(){return this._currDistance/this._origDistance},velocity:function(){var d=this._startWhen-this._stopWhen;if(d){return M.abs((this._currDistance-this._origDistance))*1000/d}else{return 0}},reset:function(){this._super();this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0}});return P});define('sap/viz/modules/controller/pinch',['sap/viz/mvc/PinchGestureDetector','sap/viz/mvc/GestureDetector','sap/viz/mvc/PanGestureDetector','sap/viz/modules/dispatch','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects',"sap/viz/base/utils/log/Analyzer"],function Setup(P,G,a,d,T,O,A){return function(m,c){var b;var e=null;var f=null;var g;var h=c.eventManager;var k=d('clear','touchStart','touchEnd','pinchStart','pinchMove','pinchEnd');var l=m.props(null);var n=null;var p=function(){return p};p.module=function(i){if(!arguments.length){return e}e=i;return p};p.targetPlot=function(i){if(i){g=i}};var o=function(j){var z=[];for(var i=0;i<j.length;i++){z.push({x:j[i].clientX,y:j[i].clientY})}return z};var t=function(){if(g&&g.parent&&g.parent()){g.parent().node().parentNode.addEventListener('touchstart',function(i){var j=o(i.touches);if(j.length===2){if(u(j,n)){k.touchStart()}}});g.parent().node().parentNode.addEventListener('touchend',function(i){k.touchEnd()})}};p.registerEvent=function(){if(!f){f=e.modules()}var i=T.isExist(l.enable)?l.enable:'true';if(i){if(!b){b=new P();b.addGestureAction(y);b.enable(true);h.addGestureDetector(b);t()}}n=q()};var q=function(){var i={};i.width=g.width();i.height=g.height();var j=g.parent().select(".v-bound").node();i.boundingClientRect=j.getBoundingClientRect();return i};var r=function(j){var z=j.watchedComponent.container.getBoundingClientRect();var B=j.involvedTouchePoints();var C=[];if(T.isArray(B)){for(var i=0;i<B.length;i++){var D=B[i].x+z.left,E=B[i].y+z.top;C.push({x:D,y:E})}}return C};var s=function(i,j){var z=j.boundingClientRect;var B=z.top,C=z.left,D=z.right,E=z.bottom;if(i.x>=C&&i.y>=B&&i.x<=D&&i.y<=E){return true}else{return false}};var u=function(j,z){if(T.isArray(j)){for(var i=0;i<j.length;i++){var B=s(j[i],z);if(!B){return false}}return true}return false};var v=function(i,j){var z=j.getTransformToElement(j.ownerSVGElement);return{x:i.x-z.e,y:i.y-z.f}};var w=[],x;var y=function(z){var B=r(z);var C=z.globalLocOfGesture();var D=T.isExist(l.orientation)?l.orientation:'both';var E=Math.round(z.scale()*100)/100,F;if(f){if(z.state===G.TransitionState.Began){A.pnrProfiling('Interaction:Pinch');A.pnrProfiling('Interaction:Pinch_start');k.pinchStart(z._touchStartPoints);k.pinchMove(z.involvedTouchePoints());for(var H in f){if(f.hasOwnProperty(H)&&f[H].parent&&f[H].parent()){if(f[H].pinchBegan&&u(B,n)){f[H].pinchBegan({point:v(C,f[H].parent().node()),pinchProperties:{orientation:D}});w.push({module:f[H]})}}}A.pnrProfiling('Interaction:Pinch_start');x=E}else if(z.state===G.TransitionState.Changed){if(w.length>0){F=Math.round(E/x*100)/100;x=F;k.pinchMove(z.involvedTouchePoints());for(var i=0;i<w.length;i++){if(w[i].module.pinch&&u(B,n)){w[i].module.pinch({scale:F})}}}}else{if(w.length>0){k.pinchEnd(z.involvedTouchePoints());A.pnrProfiling('Interaction:Pinch_end');for(var j=0;j<w.length;j++){if(w[j].module.pinchEnd){w[j].module.pinchEnd()}}A.pnrProfiling('Interaction:Pinch_end')}A.pnrProfiling('Interaction:Pinch');w.length=0}}};p.properties=function(_){if(!arguments.length){return l}O.extend(true,l,_)};p.destroy=function(){};p.data=function(){};p.dispatch=function(_){if(!arguments.length){return k}k=_;return p};return p}});define('sap/viz/modules/manifests/controller/Pinch',['sap/viz/modules/manifests/Module','sap/viz/modules/controller/pinch','sap/viz/modules/manifests/controller/Base'],function Setup(M,f,B){var m={'id':'sap.viz.modules.controller.pinch','name':'selection','base':"sap.viz.modules.controller.base",'description':'Settings for the drag of the chart.','properties':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':true,'description':'Enable/disable pinch.','isExported':false},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['horizontal','vertical','both'],'defaultValue':'both','description':'Set orientation of pinch.','isExported':false}},'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/controller/pan',['sap/viz/mvc/PinchGestureDetector','sap/viz/mvc/GestureDetector','sap/viz/mvc/PanGestureDetector','sap/viz/modules/dispatch','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects',"sap/viz/base/utils/log/Analyzer"],function Setup(P,G,a,d,T,O,A){return function(m,c){var b;var e=null;var f=null;var g;var h=c.eventManager;var k=m.props(null);var p;var l=[];var n=null;var o=null;var q=function(){return q};q.module=function(i){if(!arguments.length){return e}e=i;return q};q.targetPlot=function(i){if(i){g=i}};q.registerEvent=function(){if(!f){f=e.modules()}var i=T.isExist(k.enable)?k.enable:'true';if(i){if(!b){b=new a();b.addGestureAction(v);b.enable(true);h.addGestureDetector(b)}}};var r=function(){var i={};i.width=g.width();i.height=g.height();var j=g.parent().node();i.boundingClientRect=j.getBoundingClientRect();return i};var s=function(j){var w=j.gesture,x=[];if(!n){n=w.watchedComponent.container.getBoundingClientRect()}if(j.gestureType==='pan'){x.push({x:w._lastXY.x,y:w._lastXY.y})}var y=[];for(var i=0;i<x.length;i++){var z=x[i].x+n.left,B=x[i].y+n.top;y.push({x:z,y:B})}return y};var t=function(i,j){var w=j.boundingClientRect;var x=w.top,y=w.left,z=w.right,B=w.bottom;if(i.x>=y&&i.y>=x&&i.x<=z&&i.y<=B){return true}else{return false}};var u=function(j,w){if(T.isArray(j)){for(var i=0;i<j.length;i++){var x=t(j[i],w);if(!x){return false}}return true}return false};var v=function(w){var x=s({gesture:w,gestureType:'pan'});if(!o){o=r()}var y=w._lastXY,z;if(f){if(w.state===G.TransitionState.Began){for(var B in f){if(f.hasOwnProperty(B)&&f[B].parent&&f[B].parent()){if(f[B].panBegan&&u(x,o)){f[B].panBegan({point:w._lastXY});l.push({module:f[B]})}}}p=y}else if(w.state===G.TransitionState.Changed){if(l.length>0){for(var i=0;i<l.length;i++){if(l[i].module.pan&&u(x,o)){l[i].module.pan({point:w._lastXY})}}p=y}}else if(w.state===G.TransitionState.Ended){for(var j=0;j<l.length;j++){if(l[j].module.panEnd){l[j].module.panEnd({point:w._lastXY})}}l=[]}}};q.properties=function(_){if(!arguments.length){return k}O.extend(true,k,_)};q.destroy=function(){b=null;p=null;l=[];n=null;o=null};q.data=function(){};return q}});define('sap/viz/modules/manifests/controller/Pan',['sap/viz/modules/manifests/Module','sap/viz/modules/controller/pan','sap/viz/modules/manifests/controller/Base'],function Setup(M,f,B){var m={'id':'sap.viz.modules.controller.pan','name':'selection','base':"sap.viz.modules.controller.base",'description':'Settings for the drag of the chart.','properties':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether panning is enabled.','isExported':false},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['horizontal','vertical','both'],'defaultValue':'both','description':'Set the orientation of the panning.','isExported':false}},'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/AreaChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/modules/manifests/controller/Pinch','sap/viz/modules/manifests/controller/Pan'],function Setup(M,U,R,A,B,I,P,a){var c={id:'viz/area',name:'IDS_AREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,outsidePosition:'down',showZero:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{bStacked:true,indicator:{isExported:false}}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};m.pan={id:'sap.viz.modules.controller.pan',configure:{clientID:'main',propertyCategory:'pan',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pan',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pan',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pan'});b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var d={viz:[c].concat(B.viz),module:[].concat(B.module,A.module,R.module,I.module,P.module,a.module),feeds:[].concat(B.feeds,A.feeds,R.feeds,I.feeds,P.feeds)};return d});define('sap/viz/impls/AreaChart',['sap/viz/manifests/xy/AreaChart'],function Setup(A){var m={viz:[].concat(A.viz),module:[].concat(A.module),feeds:[].concat(A.feeds)};return m});define('sap/viz/modules/threeD/Vector3D',['sap/viz/modules/threeD/Vector','sap/viz/modules/threeD/Point'],function Setup(V,P){function a(){V.apply(this,arguments)}a.prototype=Object.create(V.prototype);a.prototype.transform=function(m){var p=new P(0,0,0).transform(m);var b=new P(this.value(0),this.value(1),this.value(2)).transform(m);this.value(0,b.x-p.x);this.value(1,b.y-p.y);this.value(2,b.z-p.z);return this};return a});define('sap/viz/modules/xyzcontainer',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/manifest','sap/viz/data/handler/SingleChartDataHandler','sap/viz/modules/dispatch','sap/viz/modules/threeD/matrix','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/Vector3D','sap/viz/modules/util/BoundUtil','sap/viz/util/ignite','sap/viz/modules/Constants'],function Setup(T,O,F,M,S,d,a,P,V,b,c,C){var r=function(e,f){var w=0,h=0,p={},g={},j={},k={},s={},l,n=null;var o=new d('initialized','showTooltip','hideTooltip'),q=0;var t=e.props(null);var x=20,y=50;var u=d3.scale.linear();var v=d3.scale.ordinal();var z=d3.scale.ordinal();var A=false;var B=function(i,m){var _={},d1,e1,f1;if(m){if(i){d1=i.propertyCategory;e1=p;f1={};f1[d1]=i.properties;O.extend(true,_,f1,e1)}else{_=p}}else{if(i){d1=i.propertyCategory;e1=p[d1];f1=i.properties;O.extend(true,_,f1,e1)}}return _};var D=function(i,m){var _=j.modules;var d1,e1,f1;if(_[i]&&k[i]){e1=_[i].configure;if(m){d1=p}else{if(e1){f1=e1.propertyCategory;d1=O.extend(true,{},p[f1])}else{d1={}}}k[i].properties(d1)}};function E(){if(T.isEmptyObject(j))F.error('Container configuration missing');q=0;H('xAxis');H('yAxis');H('zAxis');H('background');var i=j.modules.plot;if(!i)return;var m=k.plot=c(i.id,f,"plot");var _=new S(g);m.data(_.getDataAdapter());var d1;if(i.configure){d1=B(i.configure);m.properties(d1)}if(m.dispatch){var e1=m.dispatch();if(e1.initialized){q++;e1.on('initialized.xycontainer',a1)};if(e1.showTooltip)e1.on('showTooltip.xycontainer',b1);if(e1.hideTooltip)e1.on('hideTooltip.xycontainer',c1)}var f1=j.modules.dataLabel;if(T.isExist(f1)&&T.isExist(m.dataLabel)){var g1=k.dataLabel=c(f1.id,f);m.dataLabel(g1);g1.plot(m);if(f1.configure){d1=B(f1.configure);g1.properties(d1)}}if(k.xAxis&&!s.xAxis)s.xAxis=n.append('g').attr('class','v-m-xAxis');if(k.yAxis&&!s.yAxis)s.yAxis=n.append('g').attr('class','v-m-yAxis');if(k.zAxis&&!s.zAxis)s.zAxis=n.append('g').attr('class','v-m-zAxis');if(k.plot&&!s.plot)s.plot=n.append('g').attr('class','v-m-plot');if(k.background&&!s.background)s.background=n.insert('g',':first-child').attr('class','background')}function G(i){if(k[i]){var m=j.modules[i];var _=m.data;if(_){k[i].data(g.createDataAdapterForModule(_))}}};function H(i){if(!j.modules[i])return;var m=j.modules[i],_=k[i]=c(m.id,f,C.CSS.CLASS.MODULEPREFIX+i);G(i);var d1=B(m.configure);_.properties(d1);if(_.dispatch&&_.dispatch()['initialized']){q++;_.dispatch().on('initialized.xycontainer',a1)}}var I=function(w,h,i){var m=[{x:0,y:0,z:0},{x:0,y:0,z:i},{x:w,y:0,z:0},{x:w,y:0,z:i},{x:0,y:h,z:0},{x:0,y:h,z:i},{x:w,y:h,z:0},{x:w,y:h,z:i}];return m.map(function(_){return new P(_.x,_.y,_.z)})};var J=function(_,m){var d1=_[0];d1.transform(m);var e1=d1.x,f1=d1.y,g1=d1.x,h1=d1.y;for(var i=1,i1=_.length;i<i1;i++){d1=_[i];d1.transform(m);e1=Math.min(e1,d1.x);f1=Math.min(f1,d1.y);g1=Math.max(g1,d1.x);h1=Math.max(h1,d1.y)}return{x:e1,y:f1,z:g1,w:h1}};function K(i){return i*Math.PI/180}var L=function(i,m,_,d1,e1,f1,g1,h1,i1){var j1=U('south',i,'xAxis',v,_,0,0,d1,e1,f1,m.x0,m.x1,m.y0,m.z0,m.z1);var k1=Math.abs(K(j1));var l1=U('west',i,'yAxis',u,_,0,0,d1,e1,f1,m.x0,m.x1,m.y0,m.z0,m.z1);var m1=Math.abs(K(l1));var n1=U('none',i,'zAxis',z,_,0,0,d1,e1,f1,m.x0,m.x1,m.y0,m.z0,m.z1);var o1=Math.abs(K(n1));var p1=0,q1=0,r1=0,s1=0;p1=h1.width*Math.cos(m1);if(n1<=1&&j1>0&&!(n1==1&&j1==91&&x>0)){p1=(p1>g1.height*Math.cos(k1))?p1:g1.height*Math.cos(k1);r1=i1.height*Math.cos(o1);s1=(g1.height*Math.sin(k1)>i1.height*Math.sin(o1))?g1.height*Math.sin(k1):i1.height*Math.sin(o1)}else{p1=(p1>i1.height*Math.cos(o1))?p1:i1.height*Math.cos(o1);r1=g1.height*Math.cos(k1);s1=(g1.height*Math.sin(k1)>i1.height*Math.sin(o1))?g1.height*Math.sin(k1):i1.height*Math.sin(o1)}if(Math.abs(x)===90){p1=(p1>g1.height*Math.cos(k1))?p1:g1.height*Math.cos(k1);r1=i1.height*Math.cos(o1);q1=(g1.height*Math.sin(k1)>i1.height*Math.sin(o1))?g1.height*Math.sin(k1):i1.height*Math.sin(o1)}return{top:q1,left:p1,bottom:s1,right:r1}};var N=function(i,m,_,d1,e1){var f1=_.z-_.x;var g1=_.w-_.y;var h1=i/f1;var i1=m/g1;var j1=Math.min(h1,i1);return{x:j1,y:i1,z:j1}};var Q=function(m){var i=new V(0,0,1);var _=false,d1=false,e1=false;var f1=new P(0,0,0);var g1=new P(1,0,0);var h1=new P(0,-1,0);var i1=new P(0,0,1);f1.transform(m);g1.transform(m);h1.transform(m);i1.transform(m);var j1=new V(g1.x-f1.x,g1.y-f1.y,g1.z-f1.z),k1=new V(h1.x-f1.x,h1.y-f1.y,h1.z-f1.z),l1=new V(i1.x-f1.x,i1.y-f1.y,i1.z-f1.z);if(i.dotProduct(j1)<0){_=true}if(i.dotProduct(k1)<0){d1=true}if(i.dotProduct(l1)>0){e1=true}return{isRenderRT:_,isRenderTP:d1,isRenderFT:e1,renderingOrderX:j1,renderingOrderY:k1,renderingOrderz:l1}};function R(i,m,_,d1,e1,f1){var x0,x1,y0,y1,z0,z1;y0=_+e1;if(i.isRenderFT){x0=m;if(i.isRenderTP)z0=0;else z0=f1}else{x0=m+d1;if(i.isRenderTP)z0=f1;else z0=0}if(i.isRenderRT){z1=0;if(i.isRenderTP)x1=m+d1;else x1=m}else{z1=f1;if(i.isRenderTP)x1=m;else x1=m+d1}return{x0:x0,x1:x1,y0:y0,z0:z0,z1:z1}};function U(i,_,d1,e1,m,x_,y_,h1,i1,j1,x0,x1,y0,z0,z1){var p1,q1,r1,s1;var t1,u1,v1,w1,y1;switch(i){case'south':p1=new P(x_,y0,z0);y1=(0==z0)?-j1:j1;r1=new P(x_,y0,z0+y1);q1=new P(x_+h1,y0,z0);break;case'north':p1=new P(x_,i1-y0,j1-z0);y1=(0==z0)?-j1:j1;r1=new P(x_,y0,j1-z0+y1);q1=new P(x_+h1,i1-y0,j1-z0);break;case'west':p1=new P(x0,y_,z1);r1=new P(x0-h1,y_,z1);q1=new P(x0,y_-i1,z1);break;case'east':p1=new P(h1-x0,y_+i1,j1-z1);r1=new P(h1,y_+i1,j1-z1);q1=new P(h1-x0,y_,j1-z1);break;default:p1=new P(x1,y0,0);y1=(x_==x1)?-h1:h1;r1=new P(x1+y1,y0,0);q1=new P(x1,y0,j1);break}p1.transform(m);r1.transform(m);q1.transform(m);if(i=='west'){v1=0;w1=0}else{s1=new V(r1.x-p1.x,r1.y-p1.y,q1.z-p1.z);v1=Math.atan2(s1.values[0],s1.values[1])*180/Math.PI+90;if(v1>90)v1-=180;else if(v1<-90)v1+=180;v1=W(v1);w1=Math.atan2(s1.values[1],s1.values[0])*180/Math.PI}k[d1].labelAngle(v1).tickAngle(w1);s1=new V(q1.x-p1.x,q1.y-p1.y,q1.z-p1.z);s[d1].attr('transform','translate('+p1.x+' '+p1.y+')');u1=Math.atan2(s1.values[1],s1.values[0])*180/Math.PI+90;if(i==='none'&&u1==0){u1=-1}k[d1].angle(u1);k[d1].labelAlign('start');t1=(q1.x-p1.x)*(q1.x-p1.x)+(q1.y-p1.y)*(q1.y-p1.y);if(t1<0.01)t1=0;if(i=='west'){k[d1].height(Math.sqrt(t1));k[d1].width(Math.sqrt(t1*100))}else{k[d1].width(Math.sqrt(t1))}if(e1.rangeBands){var A1=e1.range();if(A1[A1.length-1]>A1[0]){e1.rangeBands([Math.sqrt(t1),0])}else{e1.rangeBands([0,Math.sqrt(t1)])}}else{var A1=e1.range();if(A1[A1.length-1]>A1[0]){e1.range([Math.sqrt(t1),0])}else{e1.range([0,Math.sqrt(t1)])}}return v1};function W(i){var m=i%360;if(-271<m&&m<-270)return-271;else if(-270<=m&&m<-269)return-269;if(-181<m&&m<-180)return-181;else if(-180<=m&&m<-179)return-179;else if(-91<m&&m<-90)return-91;else if(-90<=m&&m<-89)return-89;else if(-1<m&&m<0)return-1;else if(0<=m&&m<1)return 1;else if(89<m&&m<90)return 89;else if(90<=m&&m<91)return 91;else if(179<m&&m<180)return 179;else if(180<=m&&m<181)return 181;else if(269<m&&m<270)return 269;else if(270<=m&&m<271)return 271;else if(359<m&&m<360)return 359;return Math.round(i)}function X(i){if(T.isEmptyObject(k)||!w||!h)return;w=w<0?0:w;h=h<0?0:h;k.plot.width(w).height(h);k.xAxis.drawable(true);k.yAxis.drawable(true);k.zAxis.drawable(true);var m=k.xAxis.getPreferredSize();var _=k.yAxis.getPreferredSize();var d1=k.zAxis.getPreferredSize();var e1=k.plot.width(),f1=k.plot.height(),g1=k.plot.depth();var h1=a().rotateY(y).rotateX(x);var i1=Q(h1);var j1=R(i1,0,0,e1,f1,g1);var k1=I(e1,f1,g1);var bb=J(k1,h1);var m1=L(i1,j1,h1,e1,f1,g1,m,_,d1);if(m1.left>w/3||m1.right>w/3||m1.bottom>h/3){k.yAxis.drawable(false);k.zAxis.drawable(false);k.xAxis.drawable(false);m=k.xAxis.getPreferredSize();_=k.yAxis.getPreferredSize();d1=k.zAxis.getPreferredSize();e1=k.plot.width(),f1=k.plot.height(),g1=k.plot.depth();h1=a().rotateY(y).rotateX(x);i1=Q(h1);j1=R(i1,0,0,e1,f1,g1);k1=I(e1,f1,g1);bb=J(k1,h1);m1=L(i1,j1,h1,e1,f1,g1,m,_,d1)}var n1=h-m1.bottom-m1.top;var o1=w-m1.left-m1.right;var p1=N(o1,n1,bb,m1);var q1=h1.unit().scale(p1.x,p1.y,p1.z).clone();h1.rotateY(y).rotateX(x);var r1=0,s1=0;var t1=0;while(t1<10){k1=I(e1,f1,g1);bb=J(k1,h1);r1=0-bb.x+m1.left+(o1-bb.z+bb.x)/2;s1=0-bb.y+m1.top+(n1-bb.w+bb.y)/2;if(r1>0&&s1>0){break}p1=N(o1,n1,bb,m1);h1=q1.clone();h1.scale(p1.x,p1.y,p1.z);q1=h1.clone();h1.rotateY(y).rotateX(x);t1++}k.plot.matrix(h1);U('south',i1,'xAxis',v,h1,0,0,e1,f1,g1,j1.x0,j1.x1,j1.y0,j1.z0,j1.z1);U('west',i1,'yAxis',u,h1,0,0,e1,f1,g1,j1.x0,j1.x1,j1.y0,j1.z0,j1.z1);U('none',i1,'zAxis',z,h1,0,0,e1,f1,g1,j1.x0,j1.x1,j1.y0,j1.z0,j1.z1);var u1=k.yAxis.getPreferredSize();var v1=s.yAxis.node(),w1=v1.getTransformToElement(v1.parentNode);s.yAxis.attr('transform','translate('+(w1.e-u1.width)+','+w1.f+')');k1=I(e1,f1,g1);bb=J(k1,h1);v1=s.yAxis.node(),w1=v1.getTransformToElement(v1.parentNode);s.yAxis.attr('transform','translate('+(w1.e+r1)+','+(w1.f+s1)+')');v1=s.xAxis.node(),w1=v1.getTransformToElement(v1.parentNode);s.xAxis.attr('transform','translate('+(w1.e+r1)+','+(w1.f+s1)+')');v1=s.zAxis.node(),w1=v1.getTransformToElement(v1.parentNode);s.zAxis.attr('transform','translate('+(w1.e+r1)+','+(w1.f+s1)+')');v1=s.plot.node();s.plot.attr('transform','translate('+(r1)+','+(s1)+')')};function Y(i){X();i.each(function(g){n=i;b.drawBound(i,w,h);if(T.isEmptyObject(k))E();Z()});return Y}Y.width=function(_,i){if(!arguments.length)return w;w=_;if(h){X()}return Y};Y.height=function(_,i){if(!arguments.length)return h;h=_;if(w){X()}return Y};Y.size=function(_){if(!arguments.length)return{'width':w,'height':h};h=_.height;w=_.width;X();return Y};Y.data=function(_){if(!arguments.length)return g;g=_;if(!T.isEmptyObject(k)){var i=new S(g);k.plot.data(i.getDataAdapter());G('xAxis');G('yAxis');G('zAxis')}return Y};Y.properties=function(_){if(!arguments.length)return t;p=_;if(!T.isEmptyObject(k)){D('xAxis');D('yAxis');D('zAxis');D('plot');D('datalabel');D('background')}O.extend(true,t,_.xyzcontainer);x=t&&t.xAngle?t.xAngle:x;y=t&&t.yAngle?t.yAngle:y;return Y};Y.config=function(_){if(!arguments.length)return j;j=_;return Y};Y.modules=function(_){if(!arguments.length){if(T.isEmptyObject(k)){E()}return k}k=_;return Y};Y.parent=function(_){if(!arguments.length)return n;n=_;return Y};Y.rotate=function(_){if(!arguments.length){return{xAngle:x,yAngle:y}}A=true;t.xAngle=(x=_.xAngle);t.yAngle=(y=_.yAngle);X();Z();A=false;return Y};Y.dispatch=function(_){if(!arguments.length)return o;o=_;return Y};Y.infoForSizeLegend=function(){return{space:l,number:1,plotHeight:k.plot.height()}};Y.yAxis=function(_){if(!arguments.length){return u}u=_.copy();u.tickHint=_.tickHint;u.tickNum=_.tickNum;return Y};Y.xAxis=function(_){if(!arguments.length){return v}v=_.copy();v.tickHint=_.tickHint;v.tickNum=_.tickNum;return Y};Y.zAxis=function(_){if(!arguments.length){return z}z=_.copy();return Y};Y.xAxisScaleChange=function(_,i){if(v.rangeBands){v.rangeBands(i)}else{v.range(i)}};Y.zAxisScaleChange=function(_,i){z.rangeBands(i)};Y.yAxisScaleChange=function(_,i){if(u.rangeBands){u.rangeBands(i)}else{u.range(i)}};Y.getPropertyZone=function(_){var i=[];var m=s.plot.node().getBoundingClientRect();var d1=[[]];d1[0].push([m.left,m.top]);d1[0].push([m.right,m.top]);d1[0].push([m.right,m.bottom]);d1[0].push([m.left,m.bottom]);i.push({"name":'plot',"bound":d1});return i};Y.destroy=function(){if(u){u.domain([0,1]).range([0,1])}if(v){v.domain([0,1]).range([0,1])}if(z){z.domain([0,1]).range([0,1])}u=null;v=null;z=null;for(var i in k){if(k.hasOwnProperty(i)){var m=k[i];if(m.dispatch){var _=m.dispatch();if(_.initialized){_.on('initialized.xyzcontainer',null)};if(_.showTooltip)_.on('showTooltip.xyzcontainer',null);if(_.hideTooltip)_.on('hideTooltip.xyzcontainer',null)}}}k=null;g=null;n=null;s=null;if(f){f.destroy();f=null}};function Z(){for(var i in s){if(s.hasOwnProperty(i)){s[i].datum(k[i].data()).call(k[i],A)}}if(T.isExist(k.dataLabel)){k.dataLabel()}}var $=0;function a1(){if(q==++$&&!A){$=0;o.initialized()}}function b1(i){o.showTooltip(i)}function c1(i){o.hideTooltip(i)}return Y};return r});define('sap/viz/modules/manifests/XYZContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/xyzcontainer'],function Setup(M,C,f){var m={'id':'sap.viz.modules.xyzcontainer','type':C.Type.Container,'name':'single container','properties':{'xAngle':{name:'xAngle',supportedValueType:'Number',defaultValue:20,description:"Set the angle for the x axis. This value should be between '-90' and '90'."},'yAngle':{name:'yAngle',supportedValueType:'Number',defaultValue:50,description:"Set the angle for the y axis. This value should be between '-180' and '180'."}},'css':null,'configure':null,'events':{'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/threeD/cube',['sap/viz/modules/threeD/Vector4D','sap/viz/modules/threeD/Vector3D','sap/viz/modules/threeD/matrix','sap/viz/modules/threeD/Point','sap/viz/util/NumberUtils'],function Setup(V,e,f,P,N){return function(){var g,j,k,t,l,n,q,r;var s,u;var C="v-datapoint-default";function v(x){var y=x.selectAll("g.v-cube").data(function(d,i){var w=d3.functor(g).apply(this,arguments);var h=d3.functor(j).apply(this,arguments);var a=d3.functor(k).apply(this,arguments);var m=d3.functor(t).apply(this,arguments);var c=d3.functor(l).apply(this,arguments);var b=d3.functor(n).apply(this,arguments);var o=d3.functor(q).apply(this,arguments);var p=d3.functor(r).apply(this,arguments);return[{wv:w,hv:h,dv:a,m:m,data:d,c:c,lightC:b,darkC:o,oc:p,ctx:d.data.ctx,val:d.data.val,info:d.data.info}]});y.exit().remove();y.enter().append("g").attr("class","v-cube v-datapoint v-morphable-datapoint "+C);var z=function(w,h,d){return[[0,0,0],[0,h,0],[0,h,d],[0,0,d],[w,0,0],[w,h,0],[w,h,d],[w,0,d]]};var A=y.selectAll("rect[class|=\"v-cube-surface\"]").data(function(d){var w=d.wv;var h=d.hv;var a=d.dv;var c=d.c;var b=d.lightC;var i=d.darkC;var m=function(p){if(!u){return}var B={graphType:"cubeSide",drawingEffect:s,fillColor:c};c=u.register(B);B.fillColor=i;i=u.register(B);var D=[];p.forEach(function(o){D.push(o.type)});B.fillColor=b;B.graphType="cubeTop";if(D.indexOf("front")>-1&&D.indexOf("right")>-1&&D.indexOf("top")>-1){B.direction="LeftRight"}else if(D.indexOf("right")>-1&&D.indexOf("back")>-1&&D.indexOf("top")>-1){B.direction="BottomUp"}else if(D.indexOf("back")>-1&&D.indexOf("left")>-1&&D.indexOf("top")>-1){B.direction="RightLeft"}else if(D.indexOf("left")>-1&&D.indexOf("front")>-1&&D.indexOf("top")>-1){B.direction="TopDown"}else if(D.indexOf("front")>-1&&D.indexOf("right")>-1&&D.indexOf("bottom")>-1){B.direction="LeftRight"}else if(D.indexOf("right")>-1&&D.indexOf("back")>-1&&D.indexOf("bottom")>-1){B.direction="TopDown"}else if(D.indexOf("back")>-1&&D.indexOf("left")>-1&&D.indexOf("bottom")>-1){B.direction="RightLeft"}else if(D.indexOf("left")>-1&&D.indexOf("front")>-1&&D.indexOf("bottom")>-1){B.direction="BottomUp"}b=u.register(B)};var p=new Array({m:f().rotateX(90).translate(0,h,0).transform(d.m),type:"bottom"},{m:f().rotateY(180).translate(0,0,a).transform(d.m),type:"back"},{m:f().rotateY(90).transform(d.m),type:"left"},{type:"front",m:d.m},{m:f().rotateY(-90).translate(w,0,0).transform(d.m),type:"right"},{m:f().rotateX(-90).transform(d.m),type:"top"});p.forEach(function(o){o.normal=new e(0,0,-1).transform(o.m)});p=p.filter(function(o){return o.normal.value(2)<0});m(p);p.forEach(function(o){switch(o.type){case"bottom":o.x=0;o.y=0;o.w=w;o.h=a;break;case"back":o.x=-w;o.y=0;o.w=w;o.h=h;break;case"left":o.x=-a;o.y=0;o.w=a;o.h=h;break;case"front":o.x=0;o.y=0;o.w=w;o.h=h;break;case"right":o.x=0;o.y=0;o.w=a;o.h=h;break;case"top":o.x=0;o.y=-a;o.w=w;o.h=a;break}var B=o.normal.value(0);o.fill=N.precise(B)===0?b:(B<0?c:i)});return p});A.exit().remove();A.enter().append("rect").attr("class",function(d){return"v-cube-surface-"+d.type});A.attr("x",function(d){return d.x}).attr("y",function(d){return d.y}).attr("width",function(d){return d.w}).attr("height",function(d){return d.h}).attr("transform",function(d){if(d.m){return d.m.projection()}}).attr("fill",function(d){return d.fill});y.each(function(d){var c=0;if(d.m){var h=d.m.row(2);c=new V(0,d.hv,0,1).dotProduct(h)}d3.select(this.parentNode).datum().flbpz=c;var i=z(d.wv,d.hv,d.dv),m=[];i.forEach(function(p){m.push(new P(p[0],p[1],p[2]).transform(d.m))});m.sort(function(a,b){return(b.x-a.x)});m.splice(2);m.sort(function(a,b){return(a.y-b.y)});d.rtp=m[0]});x.sort(function(a,b){return d3.descending(a.flbpz,b.flbpz)})}v.width=function(){if(arguments.length===0){return g}g=arguments[0];return v};v.height=function(){if(arguments.length===0){return j}j=arguments[0];return v};v.depth=function(){if(arguments.length===0){return k}k=arguments[0];return v};v.matrix=function(){if(arguments.length===0){return t}t=arguments[0];return v};v.color=function(){if(arguments.length===0){return l}l=arguments[0];return v};v.colorlightC=function(){if(arguments.length===0){return n}n=arguments[0];return v};v.colordarkC=function(){if(arguments.length===0){return q}q=arguments[0];return v};v.originalcolor=function(){if(arguments.length===0){return r}r=arguments[0];return v};v.effectManager=function(){if(arguments.length===0){return u}u=arguments[0];return v};v.drawingEffect=function(){if(arguments.length===0){return s}s=arguments[0];return v};return v}});define('sap/viz/modules/bar3d',['sap/viz/modules/util/MNDHandler','sap/viz/util/Scaler','sap/viz/base/utils/Objects','sap/viz/modules/threeD/cube','sap/viz/modules/threeD/matrix','sap/viz/lang/langManager','sap/viz/base/utils/ObjectUtils','sap/viz/modules/dispatch','sap/viz/base/utils/TypeUtils','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/NumberUtils','sap/viz/util/DrawUtil'],function Setup(M,S,O,a,b,l,e,f,T,t,N,D){var g=0.5;return function(h,k){var w=0,n=0,p=0,q,r=h.props(null),m=b();var s,d=f('initialized','showTooltip','hideTooltip','valueScaleChange','primaryCategoryScaleChange','secondaryCategoryScaleChange');var u=null;var v=null;var A='normal';var C="v-datapoint-selected",B="v-datapoint-default",E="v-datapoint-hover";var F={'normal':'#FFFFFF','deselected':'#FFFFFF'};var G={'selected':1,'hovered':2,'deselected':'none','normal':'none'};var H={'normal':'fill-opacity:1','selected':'fill-opacity:1','deselected':'fill-opacity:0.4'};var I={'sap.viz.modules.column3d.dimension':{key:'sap.viz.modules.column3d.dimension',values:[{col:{val:''},rows:[]}]}};var J={'sap.viz.modules.column3d.dimension':{key:'sap.viz.modules.column3d.dimension',values:[{col:{val:''},rows:[]}]}};var K=d3.scale.ordinal(),L=d3.scale.ordinal(),P=d3.scale.linear();var Q=a();var R=d3.scale.ordinal();var U=k.effectManager;function V(c,i){c.setAttribute("class","v-cube v-datapoint v-morphable-datapoint "+W(i));if(i!=='hovered'){c.setAttribute('style',H[i])}c.setAttribute("stroke",F[i]);c.setAttribute("stroke-width",G[i])}function W(c){var i=null;switch(c){case"normal":i=B;break;case"selected":i=C;break;case"deselected":i=B;break;case"hovered":i=E;break}return i}function X(i,j){u=i;R.range(r.colorPalette);A=r.drawingEffect;var o=K.rangeBand();var i1=L.rangeBand();var j1=Y();var k1=o/(1+2*g);var l1=k1;var m1=k1*g;var n1=j1?function(d){if(N.isNoValue(d.data.val)){return 0}if(d.data.val<0){return P(d.data.val)-P(0)}else{return P(0)-P(d.data.val)}}:function(d){if(N.isNoValue(d.data.val)){return 0}if(d.data.val<0){return P(0)-P(d.data.val)}else{return P(d.data.val)-P(0)}};var o1=function(d){if(N.isNoValue(d.data.val)){return 0}else{return l1}};Q.width(j1?k1:n1).height(j1?n1:k1).depth(o1).matrix(function(d){var c=d.aa1*o+m1;var x=0;if(j1){x=c}else{if(d.data.val<0){x=P(d.data.val)}else{x=P(0)}}var y=0;if(j1){if(d.data.val<0){y=P(0)}else{y=P(d.data.val)}}else{y=n-c-2*m1}var z=d.aa2*i1+m1;return b().translate(x,y,z).transform(m)}).color(function(d){return R(d.aa2)}).colorlightC(function(d){var c=R(d.aa2);var x=d3.rgb(c).hsl();var y=x.l;return d3.hsl(x.h,x.s,y*1.06).rgb().toString()}).colordarkC(function(d){var c=R(d.aa2);var x=d3.rgb(c).hsl();var y=x.l;return d3.hsl(x.h,x.s,y*0.94).rgb().toString()}).originalcolor(function(d){return R(d.aa2)}).effectManager(U).drawingEffect(A);var p1=i.select('g.v-datashapesgroup');if(!T.isExist(p1[0][0])){p1=i.append('g').attr('class','v-datashapesgroup')}var q1=p1.selectAll("g.v-datashape").data(s);q1.enter().append("g").attr("class","v-datashape");q1.exit().remove();Q(p1.selectAll('g.v-datashape'));i.selectAll('.v-datapoint').each(function(){this.setAttribute('class',"v-cube v-datapoint v-morphable-datapoint "+B);this.setAttribute('style',H.normal);this.setAttribute("stroke",F.normal)});if(!j){d.initialized()}}X.afterUIComponentAppear=function(){d.initialized()};X.width=function(c){if(!arguments.length){return w}w=c;if(Y()){Z();$()}else{a1()}return X};X.depth=function(c){if(!arguments.length){return p}p=c;return X};X.height=function(c){if(!arguments.length){return n}n=c;if(Y()){a1()}else{Z();$()}return X};X.primaryCategoryScale=function(c){if(!arguments.length){return K}K=c;return X};X.secondaryCategoryScale=function(c){if(!arguments.length){return L}L=c;return X};X.valueScale=function(c){if(!arguments.length){return P}P=c;return X};X.valueScaleTitle=function(_){if(!arguments.length){var c=q.getMeasureValuesGroupDataByIdx(0),j=[];if(c){for(var i=0,o=c.values.length;i<o;i++){if(c.values[i].col!==null&&c.values[i].col!==undefined){j.push(c.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};X.data=function(c){if(!arguments.length){return q}q=c;var x=M(q);h1(x,q);var y=x.MG1;var i;var z=y[0].length;var i1=new Array(z);for(i=0;i<z;i++){i1[i]=i}K.domain(i1);var j1=y.length;var k1=new Array(j1);for(i=0;i<j1;i++){k1[i]=i}L.domain(k1);$();s=[];for(var i=0,l1=y.length;i<l1;i++){var m1=y[i];for(var j=0,n1=m1.length;j<n1;j++){s.push({data:m1[j],aa2:i,aa1:j})}}var o1=d3.extent(s,function(o){return o.data.val});var p1=o1[0],q1=o1[1];p1=(p1===undefined)?0:p1;q1==(q1===undefined)?1:q1;var r1=p1>=0?0:p1;var s1=q1<=0?0:q1;if(r1===0&&s1===0){s1=1}P.domain([r1,s1]);return X};X.properties=function(c){if(!arguments.length){return r}O.extend(true,r,c);Z();$();return X};X.colorPalette=function(_){if(!arguments.length){return r.colorPalette}r.colorPalette=_;return this};X.matrix=function(_){if(!arguments.length){return m}m=_;return this};X.secondaryCategoryData=function(_){if(!arguments.length){return I}I=_;return this};X.primaryCategoryData=function(_){if(!arguments.length){return J}J=_;return X};X.dispatch=function(_){if(!arguments.length){return d}d=_;return X};X.parent=function(){if(!arguments.length){return u}u=_;return X};X.highlight=function(c,j){if(!T.isArray(c)){c=[c]}for(var i=0;i<c.length;i++){var o=d3.select(c[i]);var x=D.getColorString(o.select('rect').node(),'fill');var y=D.colorLinerTransform(U,{factor:0.7,constant:0},x);F['hovered']=F['selected']=D.rgb2Hex(y);if(j){V(c[i],'hovered')}else{V(c[i],'selected')}}};X.unhighlight=function(c,j,o){if(!T.isArray(c)){c=[c]}for(var i=0;i<c.length;i++){if(!j){if(o){V(c[i],"normal")}else{V(c[i],"deselected")}}else{var x=d3.select(c[i]);var y=D.getColorString(x.select('rect').node(),'fill');var z=D.colorLinerTransform(U,{factor:0.7,constant:0},y);F['selected']=D.rgb2Hex(z);V(c[i],'selected')}}};X.clear=function(c){if(c==null){u.selectAll('.v-datapoint').each(function(){V(this,"normal")})}else{u.selectAll('.v-datapoint').each(function(){V(this,"deselected")})}};X.destroy=function(c){if(u){u.selectAll('.v-datapoint').remove()}q=null;s=null;u=null;v=null;I['sap.viz.modules.column3d.dimension'].key=null;I['sap.viz.modules.column3d.dimension'].values[0].col=null;I['sap.viz.modules.column3d.dimension'].values[0].rows=null;I=null;J['sap.viz.modules.column3d.dimension'].key=null;J['sap.viz.modules.column3d.dimension'].values[0].col=null;J['sap.viz.modules.column3d.dimension'].values[0].rows=null;J=null;if(K){K.domain([0,1]).range([0,1])}if(L){L.domain([0,1]).range([0,1])}if(P){P.domain([0,1]).range([0,1])}K=null;L=null;P=null;Q=null;if(R){R.domain([0,1]).range([0,1])}if(U&&U.destroy){U.destroy()}m.destroy();m=null;if(k){k.destroy();k=null}};function Y(){return r.direction==="vertical"}function Z(){K.rangeBands(Y()?[0,w]:[n,0]);d.primaryCategoryScaleChange(K,Y()?[0,w]:[n,0])}function $(){p=K.rangeBand()*L.domain().length;L.rangeBands([0,p]);d.secondaryCategoryScaleChange(L,[0,p])}function a1(){P.range(Y()?[n,0]:[0,w]);S.perfect(P);d.valueScaleChange(P,Y()?[n,0]:[0,w])}var b1=function(_){var c=l.get('IDS_ISNOVALUE');if(_===null||_===undefined){return c}else{return _}};var c1=function(c){for(var i=0;i<c.length;++i){c[i].val=b1(c[i].val)}return c};var d1=function(c){var i={};switch(c.aa){case 0:i.dii_a1=c.dii;break;case 1:i.dii_a2=c.dii;break;case 2:i.dii_a3=c.dii;break}return i};var e1=function(c,i){var j,o,x;var y=g1(j,c,o);o=y.feedsLength;var z=g1(j,i,x);x=z.feedsLength;I['sap.viz.modules.column3d.dimension'].values[0].type=undefined;J['sap.viz.modules.column3d.dimension'].values[0].type=undefined;I['sap.viz.modules.column3d.dimension'].values[0].rows=z.labels;I['sap.viz.modules.column3d.dimension'].values[0].col.val=z.title;if(z.MNDInfo.hasOnlyMND){I['sap.viz.modules.column3d.dimension'].values[0].type='MND'}J['sap.viz.modules.column3d.dimension'].values[0].rows=y.labels;J['sap.viz.modules.column3d.dimension'].values[0].col.val=y.title;if(y.MNDInfo.hasOnlyMND){J['sap.viz.modules.column3d.dimension'].values[0].type='MND'}};var f1=function(c,o){var x=c[0];var y=function(z){var ar=x;x=[];for(var i=0;i<ar.length;i++){for(var j=0;j<z.length;j++){var t1=(ar[i].val===undefined)?ar[i].val:ar[i].val,t2=(z[j].val===undefined)?z[j].val:z[j].val;var k={path:{}};e.extend(k.path,ar[i].ctx.path,z[j].ctx.path);x.push({'val':t1+o+t2,'ctx':k})}}};for(var i=1;i<c.length;i++){y(c[i])}return x};var g1=function(c,o,x){var y=[],z=[],i1=' / ',j1=' - ';var k1,l1=false,i,j,m1;if(o&&o.length>0){for(i=0,m1=o.length;i<m1;i++){if(o[i].type!=='MND'){if(c===undefined){c=b1(o[i].col.val)}else{c=c+i1+b1(o[i].col.val)}z=o[i].rows;for(j=0;j<z.length;j++){if(y[j]===undefined){y[j]={};y[j].val=b1(z[j].val);y[j].ctx={path:d1(z[j].ctx.path)}}else{y[j].val=y[j].val+i1+b1(z[j].val)}}}else{k1=i}}x=y.length}if(k1!==undefined){if(y.length>0){if(o[k1].rows.length>1){if(k1===0){c=l.get('IDS_DEFAULTMND')+j1+c;y=f1([c1(o[k1].rows),y],j1);x=x*o[k1].rows.length}else if(k1===o.length-1){c=c+j1+l.get('IDS_DEFAULTMND');y=f1([y,c1(o[k1].rows)],j1);x=x*o[k1].rows.length}}}else{c=l.get('IDS_DEFAULTMND');z=o[k1].rows;for(j=0;j<z.length;j++){z[j].val=b1(z[j].val);y.push(z[j])}x=z.length;if(o.length===1){l1=true}}}return{'title':c,'labels':y,'feedsLength':x,'MNDInfo':{'MNDIndex':k1,'hasOnlyMND':l1}}};function h1(){var c=null,i=null;;var j=q.getAnalysisAxisDataByIdx(0);if(j){c=j.values}j=q.getAnalysisAxisDataByIdx(1);if(j){i=j.values}e1(c,i)};return X}});define('sap/viz/modules/manifests/xy/BaseBar',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/manifests/xy/Base'],function Setup(M,C,B){var m={'id':'sap.viz.modules.xy.bar.base','name':'bar',base:"sap.viz.modules.xy.base",'abstract':true,'properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for tooltip related properties'},'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether bars have rounded corners','isExported':false},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},css:{}};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/manifests/xyz/Bar3D',['sap/viz/modules/manifests/Module','sap/viz/modules/bar3d','sap/viz/modules/Constants','sap/viz/modules/manifests/xy/BaseBar'],function Setup(M,f,C,B){var m={'id':'sap.viz.modules.bar3d','name':'3d bar','type':C.Type.Chart,fn:f,'properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color palette.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'direction':{'name':"direction",'supportedValueType':'String','supportedValues':['vertical','horizontal'],'defaultValue':"vertical",'description':'Set the direction.','isExported':false},'drawingEffect':{'name':'drawingEffect','description':'Set the drawing effect for the 3D elements.','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true,}},'feeds':{id:"xy",configure:{secondaryValues:null}}};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/chart/elements/utils/RotateHandler',[],function(){var R=function(){this._xAngle=undefined;this._yAngle=undefined;this._oldX=undefined;this._oldY=undefined;this._module=undefined};function g(){if(d3.event){return d3.event}else{return window.event}}var r=R.prototype;r.rotateStart=function(e,m){var a=m.rotate();this._xAngle=a.xAngle;this._yAngle=a.yAngle;this._module=m;var b=g();this._oldX=b.layerX;this._oldY=b.layerY};r.rotateMove=function(e){if(!this._module){return}var a=g(),x=a.layerX,y=a.layerY;this._yAngle+=(this._oldX-x)/2;if(this._yAngle>180){this._yAngle-=360}else if(this._yAngle<-180){this._yAngle+=360}this._xAngle+=(y-this._oldY)/2;if(this._xAngle>90){this._xAngle=90}else if(this._xAngle<-90){this._xAngle=-90}this._oldX=x;this._oldY=y;this._module.rotate({xAngle:this._xAngle,yAngle:this._yAngle});a.stopPropagation();a.preventDefault()};r.rotateEnd=function(e){if(!this._module){return}if(this._module.rotateEnd){this._module.rotateEnd()}};r.destroy=function(){this._module=null};return R});define('sap/viz/manifests/xyz/Base3DChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYZContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Background','sap/viz/modules/manifests/xyz/Bar3D','sap/viz/chart/elements/behaviors/Interaction','sap/viz/modules/manifests/layout/Dock','sap/viz/modules/manifests/legend/Common','sap/viz/chart/elements/utils/RotateHandler','sap/viz/chart/elements/behaviors/InteractionHelper','sap/viz/util/BoundingBox'],function Setup(M,T,L,X,A,B,a,I,D,C,R,h,b){return function(d){var c=d==="vertical";var e,v;if(c){e="xAxis";v="yAxis"}else{e="yAxis";v="xAxis"}var r=new R();var f=function(p,i){var j=true;for(var n in p){if(p.hasOwnProperty(n)){if(p[n]!==i[n]){j=false;break}}}return j};var s;var g={id:'viz/3d_'+(c?'column':'bar'),name:'IDS_3D_'+(c?'COLUMN':'BAR'),isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:1}}}},legends:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legendGroup',properties:{layout:{position:'right',priority:1}}},modules:{layout:{id:'sap.viz.modules.layout.stack'},legend:{id:'sap.viz.modules.legend.common',data:{aa:[2]},configure:{propertyCategory:'legend',properties:{layout:{position:'top',priority:0}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},layout:{id:'sap.viz.modules.layout.dock'},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{selectability:{mode:'inclusive',lassoWithCtrlKey:true},preserveSelectionWhenDragging:true,holdSelection:false,'handlers':[{'triggerKey':'pan_start_on_eventLayer','fn':function(j){var l=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!b.contains(l,j.data.point)){return}s=[];for(var i=-1;++i<this._lastSelected.length;){s.push(this._lastSelected[i].__data__.ctx.path)}this.runDecoration('hideDetail','infoMode');this.runDecoration('hideDetail','actionMode');this.runDecoration('clearPlot');var n=this._selb_plots["main"];r.rotateStart(j,n)}},{'triggerKey':'pan_move_on_eventLayer','fn':function(i){var j=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!b.contains(j,i.data.point)){return}r.rotateMove(i)}},{'triggerKey':'pan_end_on_eventLayer','fn':function(l){var n=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!b.contains(n,l.data.point)){return}r.rotateEnd(l);if(s&&s.length){var p=h.findPlotNodeContainingNode(l.data.target);if(p){var o=p.querySelectorAll(".v-datapoint");var q=[],t=[];for(var i=-1;++i<o.length;){for(var j=-1;++j<s.length;){if(f(o[i].__data__.ctx.path,s[j])){q.push(o[i]);break}}if(j>=s.length){t.push(o[i])}}this._lastSelected=q;this.runDecoration('highlightBySelecting',this._lastSelected);this.runDecoration('unhighlight',t,false,false)}}}}]},propertiesOverride:{pan:{isExported:false}}}},main:{id:'sap.viz.modules.xyzcontainer',modules:{plot:{id:'sap.viz.modules.bar3d',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{direction:d}}},zAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XYZ chart',propertyCategory:'zAxis',properties:{type:'category',position:'bottom',forceVerticalFont:true,forceLabelArea:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:d}}}},configure:{propertyCategory:'xyzcontainer',properties:{xAngle:20,yAngle:50,layout:{position:'center',priority:10}}}}}}},dependencies:{attributes:[{targetModule:'root.main',target:e,sourceModule:'root.main.plot',source:'primaryCategoryScale'},{targetModule:'root.main',target:v,sourceModule:'root.main.plot',source:'valueScale'},{targetModule:'root.main.'+v,target:'scale',sourceModule:'root.main',source:v},{targetModule:'root.main.'+e,target:'scale',sourceModule:'root.main',source:e},{targetModule:'root.main',target:'zAxis',sourceModule:'root.main.plot',source:'secondaryCategoryScale'},{targetModule:'root.main.zAxis',target:'scale',sourceModule:'root.main',source:'zAxis'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.main.zAxis',target:'independentData',sourceModule:'root.main.plot',source:'secondaryCategoryData'},{targetModule:'root.main.'+e,target:'independentData',sourceModule:'root.main.plot',source:'primaryCategoryData'},{targetModule:'root.main.'+v,target:'title',sourceModule:'root.main.plot',source:'valueScaleTitle'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main',listener:c?'xAxisScaleChange':'yAxisScaleChange',sourceModule:'root.main.plot',type:'primaryCategoryScaleChange.xyzcontainer'},{targetModule:'root.main',listener:c?'yAxisScaleChange':'xAxisScaleChange',sourceModule:'root.main.plot',type:'valueScaleChange.xyzcontainer'},{targetModule:'root.main',listener:'zAxisScaleChange',sourceModule:'root.main.plot',type:'secondaryCategoryScaleChange.xyzcontainer'}]}};var m=g.modules.root.modules.main.modules;m[e]={id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XYZ chart',propertyCategory:e,properties:{type:'category',isIndependentMode:true,position:c?'bottom':'left',forceVerticalFont:(c?true:undefined),forceLabelArea:true,gridline:{visible:false,showFirstLine:false,showLastLine:false},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}};m[v]={id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XYZ chart',propertyCategory:v,properties:{type:'value',position:(c?'left':'bottom'),forceVerticalFont:(c?undefined:true),shapeRendering:false,gridline:{visible:false,showFirstLine:false,showLastLine:false}},propertiesOverride:{gridline:{isExported:false},label:{hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}};var k={viz:[g],module:[].concat(T.module,L.module,X.module,A.module,B.module,a.module,I.module,D.module,C.module),feeds:[].concat(T.feeds,L.feeds,X.feeds,A.feeds,B.feeds,a.feeds,I.feeds,D.feeds,C.feeds)};return k}});define('sap/viz/manifests/xyz/Bar3DChart',['sap/viz/manifests/xyz/Base3DChart'],function Setup(f){return f("horizontal")});define('sap/viz/impls/Bar3DChart',['sap/viz/manifests/xyz/Bar3DChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/xy/BaseHorizontalChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYContainer','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Background','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/layout/Dock','sap/viz/modules/manifests/layout/Stack','sap/viz/modules/manifests/legend/Common','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,R,T,L,X,a,A,B,D,b,S,C,I){var c={id:'riv/basehorizontalchart',name:'IDS_BASEHORIZONTALCHART',isBuiltIn:true,'abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true},propertiesOverride:{pan:{isExported:true}}}},layout:{id:'sap.viz.modules.layout.dock'},title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0}}}},legends:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legendGroup',properties:{layout:{position:'right',priority:1}}},modules:{legend:{id:'sap.viz.modules.legend.common',data:{aa:[2]},configure:{propertyCategory:'legend',properties:{layout:{order:0}}}},layout:{id:'sap.viz.modules.layout.stack'}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'bar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{layout:{position:'center',priority:3}}},modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'horizontal',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'right'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{type:'value',position:'bottom'},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}},plot:{configure:{properties:{orientation:'horizontal'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'}],events:[]}};var m={viz:[c],module:[].concat(R.module,T.module,L.module,X.module,I.module,a.module,A.module,B.module,D.module,b.module,S.module,C.module),feeds:[].concat(R.feeds,T.feeds,L.feeds,X.feeds,I.feeds,a.feeds,A.feeds,B.feeds,D.feeds,b.feeds,S.feeds,C.feeds)};return m});define('sap/viz/modules/BaseHorizontalBar',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/modules/dispatch','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/TypeUtils','sap/viz/lang/langManager','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/BoundUtil','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(C,o,B,d,O,a,T,l,b,G,c,D,s){var e=C.CSS.CLASS.DATAPOINTSELECTED,f=C.CSS.CLASS.DATAPOINT,S='.'+f,g=C.CSS.CLASS.DATAPOINTHOVER;var h=function(m,i){h.superclass.constructor.apply(this,arguments);a.extend(true,this._props,m.props(null));this._shapePalette=['squareWithRadius'];this._colorPalette=[];this._seriesData=[];this._valueScales=[];this._sizeChange=false,this._dataStructureChange=false,this._dataValueChange=false,this._propertiesChange=false;this._lastHovered=null;this._defsEnter=null,this._roundCornerDefs=null,this._suffix=O.guid();this._effectManager=i.effectManager;this._styleManager=i.styleManager;this._rawData=i.rawData;this._enableDataLoadingAnimation=true,this._enableDataUpdatingAnimation=true,this._enableResizingAnimation=true,this._isOnlyInitAnimation=false;this._totalIntervalTime=1000;this._enableRoundCorner=false,this._tooltipVisible=true;this._isDualAxis=false,this._hasMNDonCategoryAxis=false;this._axis1ColorPalette=null,this._axis2ColorPalette=null,this._drawingEffect='normal';this._MNDInnerOnColor=false;this._measureOnAxis1=0;this._measureOnAxis2=0;this._data1=null,this._data2=null;this._secondaryAxisBottomBoundary=0,this._secondaryAxisTopBoundary=0,this._primaryAxisBottomBoundary=0,this._primaryAxisTopBoundary=0;this._init_secondaryAxisBottomBoundary=0,this._init_secondaryAxisTopBoundary=0,this._init_primaryAxisBottomBoundary=0,this._init_primaryAxisTopBoundary=0;this._secondaryAxisManualRange=false,this._primaryAxisManualRange=false;this._hasDefaultSelection=false;this._isPinching=false;this._pinchEvent=null;this._raw_data=null};h.prototype.applyFormatConditions=function(j,k,m,t){var n=function(p,q){var r={drawingEffect:t._drawingEffect,fillColor:q.color,direction:'vertical'};var u=t._effectManager.register(r);var i;for(i=0;i<p.length;i++){p[i].setAttribute('fill',u)}};s.applyConditons(j,k,m,n)};h.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};h.prototype.setRawData=function(_){this._raw_data=_};h.prototype.data=function(_){if(!arguments.length){return this._data}this._data=_;if(this._data){this.parseData()}return this};h.prototype.width=function(_){if(!arguments.length){return this._width}this._sizeChange=(this._width===_)&&!this._sizeChange?false:true;this._width=_;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._seriesData)){this.makeScales()}return this};h.prototype.height=function(_){if(!arguments.length){return this._width}this._sizeChange=(this._height===_)&&!this._sizeChange?false:true;this._height=_;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._seriesData)){this.makeScales()}return this},h.prototype.size=function(_){if(!arguments.length){return{width:this._width,height:this._height}}this._sizeChange=(this._height===_.height&&this._width===_.width)&&!this._sizeChange?false:true;this._width=_.width;this._height=_.height;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._seriesData)){this.makeScales()}return this},h.prototype.properties=function(_){if(!arguments.length){return this._props}this._propertiesChange=true;a.extend(true,this._props,_);this.parseOptions();return this};h.prototype.render=function(){};h.prototype.clear=function(i){if(i===undefined||i===false){var r=this._d3root.selectAll(S);r.attr('fill-opacity',1).attr('stroke','none').classed(e,false).classed(g,false);if(this._hasDefaultSelection){b.clearSelectionInfo(this._d3root,false,r)}}else{this._d3root.selectAll(S).attr('fill-opacity',0.4).attr('stroke','none').classed(e,false).classed(g,false)}};h.prototype.highlight=function(k,m){var t=this;if(!T.isArray(k)){k=[k]}if(!m){for(var i=0;i<k.length;i++){d3.select(k[i]).classed(e,true);d3.select(k[i]).classed(g,false)}}else{for(var j=0;j<k.length;j++){d3.select(k[j]).classed(e,false);d3.select(k[j]).classed(g,true)}}if(t._hasDefaultSelection){b.clearSelectionInfo(t._d3root,true,k)}if(!this._enableRoundCorner){D.highlightProperties.attributeOpacityName="fill-opacity";D.nodesHighlight(k,{factor:0.7,constant:0},this._effectManager,m);D.resetHighlightProperties()}};h.prototype.unhighlight=function(k,m,n){if(!T.isArray(k)){k=[k]}if(m){for(var i=0;i<k.length;i++){d3.select(k[i]).classed(e,true);d3.select(k[i]).classed(g,false)}}else{for(var j=0;j<k.length;j++){d3.select(k[j]).classed(e,false);d3.select(k[j]).classed(g,false)}}if(this._hasDefaultSelection){b.clearSelectionInfo(this._d3root,false,k)}D.highlightProperties.attributeOpacityName="fill-opacity";D.nodesUnhighlight(k,m,n);D.resetHighlightProperties()};h.prototype.secondAxisTitle=function(_){if(!arguments.length){var t=this._data.getMeasureValuesGroupDataByIdx(1),j=[];if(t){for(var i=0,k=t.values.length;i<k;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){j.push(t.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};h.prototype.primaryAxisTitle=function(_){if(!arguments.length){var t=this._data.getMeasureValuesGroupDataByIdx(0),j=[];if(t){for(var i=0,k=t.values.length;i<k;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){j.push(t.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};h.prototype.shapePalette=function(_){if(!arguments.length){return this._shapePalette}this._shapePalette=_;return this};h.prototype.colorPalette=function(_){if(!arguments.length){return this._colorPalette}this._colorPalette=_;return this};h.prototype.secondScale=function(i){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale.scale=i;this._valueScales[1]=i;return this};h.prototype.primaryScale=function(i){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=i;this._valueScales[0]=i;return this};h.prototype.categoryScale=function(i){if(!arguments.length){return this._categoryScale}this._categoryScale=i;return this};h.prototype.dataLabel=function(_){};h.prototype.secondAxisColor=function(){if(!this._hasMNDonCategoryAxis){return this._colorPalette[this._seriesData[0].length-1]}else{return undefined}};h.prototype.primaryAxisColor=function(){if(this._isDualAxis&&!this._hasMNDonCategoryAxis){return this._colorPalette[0]}else{return undefined}};h.prototype.parseOptions=function(){};h.prototype.parseData=function(){};h.prototype.makeScales=function(){};h.prototype.enableAnimation=function(){var i=false;if(!this._isOnlyInitAnimation){i=this._enableDataLoadingAnimation}else if(this._dataStructureChange||this._dataValueChange){i=this._enableDataUpdatingAnimation}else if(this._sizeChange){i=this._enableResizingAnimation}return i};h.prototype.destroy=function(){var i=0;if(this._seriesData){for(i=0;i<this._seriesData.length;i++){this._seriesData[i]=null}this._seriesData=null}if(this._data1){for(i=0;i<this._data1.length;i++){this._data1[i]=null}this._data1=null}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._effectManager&&this._effectManager.destroy){this._effectManager.destroy()}if(this._styleManager&&this._styleManager.destroy){this._styleManager.destroy()}if(this._d3root){this._d3root.selectAll('.'+f).remove();this._d3root=null}this._data2=null;this._defsEnter=null;this._roundCornerDefs=null;this._data=null;this._rawData=null;this._valueAxis1=null;this._valueAxis2=null;this._categoryScale=null;this._effectManager=null;this._styleManager=null;this._axis1ColorPalette=null;this._axis2ColorPalette=null;this._colorPalette=null;this._shapePalette=null;this._suffix=null;this._drawingEffect=null;this._eDispatch=null;this._props=null;this._valueScales=null;this._dimensionScale=null;this._pinchEvent=null;this._raw_data=null;this._panEvent=null};o.extend(h,B);return h});define('sap/viz/modules/util/imageUtil',[],function Setup(){var c=function(){};var e=function(n){var r=0;if(n>=1){r=1;for(;;){if((n/10)<1){break}else{n/=10;r*=10}}}else if(n<1){r=0.1;for(;;){if((n*10)>=1){break}else{n*=10;r/=10}}}return r};var f=function(s,v,d){var r=1;var h=[];for(var i=0;i<s.length;i++){for(var j=0;j<s[i].length;j++){var k={};k.rectWidth=v(s[i][j].val);k.rectHeight=d;k.imageWidth=d;k.val=s[i][j].val;h.push(k)}}h.sort(function(a,b){return b.rectWidth-a.rectWidth});if(h.length!==0){var l=h[0].rectWidth/h[0].imageWidth;var t=h[0].val;var m=e(l/t);var n=[];n.push({"base":1,"gap":Math.abs(m*t-l)});n.push({"base":2,"gap":Math.abs(m*2*t-l)});n.push({"base":5,"gap":Math.abs(m*5*t-l)});n.push({"base":10,"gap":Math.abs(m*10*t-l)});var o=function(a,b){return a.gap-b.gap};n.sort(o);r=m*n[0].base}return r};var g=function(i){var a="";var b=this._props.imagePalette.length;if(b>0){a=this._props.imagePalette[i%b]}return a};c.imageFill=function(b,a,h){var t=this;var j=function(d,k,i){return'I-'+t._suffix+"-defID-"+i+k};var u=function(d,k,i){return"url(#"+j(d,k,i)+")"};var r=function(d){var v=t._valueScales[d.valueAxis];return v(d.val)};var l=function(d){return r(d)+2};var m=function(d){var v=d.val;if(d.val<0){v=-v}var i={number:0,interval:h};i.number=v*q;var k=Math.floor(i.number);var w=i.number-k;var x=r(d);var y=h;var z=y*w;var A;if(k===0){A=0}else{if(x>z){A=(x-z)/k}else{A=0}}var B;if(k<=1){B=x/2}else{if(x>y){B=(x-z)/(k)}else{B=x/(k+1)}}var C;if(k===0){C=0}else if(k===1){C=x-z}else if(x>y){C=(x-y)/(k-1)}else{C=x/(k+1)}if(A>=y){i.interval=A}else if(B<y&&(z>(y-B))){i.interval=B}else{i.interval=C}return i};var n=[];var o=function(v,k,i){var w=function(d,J){return t._suffix+"-pathID-"+i+k+J};var x=function(d,J){return"url(#"+w(d,J)+")"};var y=function(d,J){return"L-"+w(d,J)};var z=function(d,J){return"url(#"+y(d,J)+")"};var A=d3.select(this);var B=r(v);var C=h;var D=m(v);var E=Math.floor(D.number);var F=D.number-E;A.selectAll("*").remove();var I=0;for(;I<E;I++){A.append("image").attr("xlink:xlink:href",g.call(t,k)).attr("width",C).attr("height",C).attr("x",I*D.interval)}if(F){var G=I*D.interval;var H=A.append("g").attr('transform',"translate("+G+",0)");H.append("defs").append("pattern").attr("id",y).attr("patternUnits","userSpaceOnUse").attr("width",C+2).attr("height",C+2).append("image").attr("xlink:xlink:href",g.call(t,k)).attr("width",C).attr("height",C);H.append("rect").attr("width",C*F).attr("height",C).attr("fill",z)}};b.selectAll("defs").remove();var p=b.append("defs").append("pattern").attr("id",j).attr("patternUnits","userSpaceOnUse").attr("width",l).attr("height",h+2);var q=1;p.each(function(d){var v=t._valueScales[d.valueAxis];q=f(t._seriesData,v,h)});p.each(o);a.attr('fill',u);var s=false;if(s){a.attr("stroke","#555555");a.attr("stroke-width","1")}};return c});define('sap/viz/modules/util/VizBarSizeUtil',[],function Setup(){function f(v){if(v<2){return 1}return v}return{fixDecimal:f}});define('sap/viz/modules/bar',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/BaseHorizontalBar','sap/viz/base/utils/TypeUtils','sap/viz/modules/util/MNDHandler','sap/viz/util/NumberUtils','sap/viz/util/Scaler','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/imageUtil','sap/viz/modules/util/ClippathUtil','sap/viz/modules/util/VizBarSizeUtil'],function Setup(C,o,B,T,M,N,S,a,U,b,c,e,f,V){var g=C.CSS.CLASS.DATAPOINTSELECTED,k=C.CSS.CLASS.DATAPOINT,l='.'+k,p=C.CSS.CLASS.MORPHABLEDATAPOINT;var q="v-datashapesgroup";var s=function(){if(++this._bar_currentAnimationCount===this._bar_totalAnimationCount&&this._eDispatch){this._eDispatch.initialized()}};var u=function(d,h,r){this._primaryAxisTopBoundary=this._primaryAxisBottomBoundary=0;this._secondaryAxisTopBoundary=this._secondaryAxisBottomBoundary=0;var t=[];var w=0;if(d[0]&&d[0].length){w=d[0].length}else if(h[0]&&h[0].length){w=h[0].length}var x=[];var y=0,J=0;var i=0,j=0;for(i=0;i<d.length;i++){if(this._hasMNDonCategoryAxis){for(j=0;j<d[i].length;j++){if(r[j]===0){y=d[i][j].val;d[i][j].valueAxis=0;if(this._primaryAxisTopBoundary<y){this._primaryAxisTopBoundary=y}if(this._primaryAxisBottomBoundary>y){this._primaryAxisBottomBoundary=y}this._bar_indexforSecondaryAxis++}else{J=d[i][j].val;d[i][j].valueAxis=1;if(this._secondaryAxisTopBoundary<J){this._secondaryAxisTopBoundary=J}if(this._secondaryAxisBottomBoundary>J){this._secondaryAxisBottomBoundary=J}}}}else{y=d3.max(d[i],function(m){return m.val});J=d3.min(d[i],function(m){return m.val});if(this._primaryAxisTopBoundary<y){this._primaryAxisTopBoundary=y}if(this._primaryAxisBottomBoundary>J){this._primaryAxisBottomBoundary=J}}x.push(d[i])}if(h!==undefined){for(i=0;i<h.length;i++){y=d3.max(h[i],function(m){return m.val});J=d3.min(h[i],function(m){return m.val});if(this._secondaryAxisTopBoundary<y){this._secondaryAxisTopBoundary=y}if(this._secondaryAxisBottomBoundary>J){this._secondaryAxisBottomBoundary=J}x.push(h[i])}}this._init_primaryAxisTopBoundary=this._primaryAxisTopBoundary;this._init_primaryAxisBottomBoundary=this._primaryAxisBottomBoundary;this._init_secondaryAxisTopBoundary=this._secondaryAxisTopBoundary;this._init_secondaryAxisBottomBoundary=this._secondaryAxisBottomBoundary;for(j=0;j<w;j++){var K=[];for(i=0;i<x.length;i++){if(!this._hasMNDonCategoryAxis){if(i<d.length){x[i][j].valueAxis=0}else{x[i][j].valueAxis=1}}if(N.isNoValue(x[i][j].val)){x[i][j].val=' '}K.push(x[i][j])}if(this._MNDInnerOnColor){var L=[],O=0,P=0;var n=0;for(var m=0;m<d.length;m++){L.push(K[m]);O++;if(O===this._measureOnAxis1&&h!==undefined){P=0;for(;n<h.length;n++){if(P>=this._measureOnAxis2){O=0;break}L.push(K[d.length+n]);P++}}}t.push(L)}else{t.push(K)}}return t};var v=function(){return(this._props.imageFill&&!this._isDualAxis)};var z=function(t,d,m,i,r){var h='roundCorner-clip'+'-'+m+i+t._suffix;t._roundCornerDefs.append('clipPath').attr('id',h).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('width',function(){var j=t._valueScales[d.valueAxis];if(d.val!==' '&&d.val!==0){var w=Math.abs(j(d.val)-j(0));return(w+r)}else{return 0}}).attr('height',t._bar_barHeight).attr('y',0).attr('x',function(){return d.val<0?0:-r});return'url(#'+h+')'};var A=function(t,j,m,i,r,n){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var J='roundCorner-clip'+'-'+m+i+t._suffix;t._roundCornerDefs.append('clipPath').attr('id',J).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('width',w+r).attr('height',t._bar_barHeight).attr('y',0).attr('x',x).transition().delay(function(d,m){return(m+t._bar_barNumber*i)*n}).attr('x',function(){if(j.val<0){return 0}else{return 0-r}}).attr('width',function(){if(t._valueScales&&j.val!==' '&&j.val!==0){var d=t._valueScales[j.valueAxis];var K=Math.abs(d(j.val)-d(0));return K+r}else{return 0}});return'url(#'+J+')'};var D=function(t,d,m,i,r,j){var w=parseFloat(this.getAttribute('width')),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var n='roundCorner-clip'+'-'+m+i+t._suffix;t._roundCornerDefs.append('clipPath').attr('id',n).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('x',function(){if(d.val<0){return 0}else{return 0-r}}).attr('width',w+r).attr('height',h).attr('y',y).transition().duration(t._totalIntervalTime).attr('width',function(){if(t._valueScales&&d.val!==' '&&d.val!==0){var J=t._valueScales[d.valueAxis];var K=Math.abs(J(d.val)-J(0));return(K+r)}else{return 0}}).attr('height',t._bar_barHeight).attr('y',0);return'url(#'+n+')'};var E=function(t,d,h,r,j){function n(){d.attr('clip-path',function(w,m,i){switch(t){case'none':return z.call(this,h,w,m,i,r);case'structureChange':return A.call(this,h,w,m,i,r,j);case'valueChange':return D.call(this,h,w,m,i,r,j);default:return D.call(this,h,w,m,i,r,j)}})}if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(n,0)}else{n()}};var F=function(h,t,y,r,j,n,w){h.attr('height',V.fixDecimal(t._bar_barHeight)).attr('width',0).each(function(d,m){d3.select(this).classed('series-'+m,true)});if(t._enableRoundCorner){E.call(this,'structureChange',h,t,r,j)}var x=h.transition();x.delay(function(d,m,i){return(m+t._bar_barNumber*i)*j}).attr('x',0).attr('y',0).attr('width',function(d){if(t._valueScales&&d.val!==' '&&d.val!==0){var i=t._valueScales[d.valueAxis];var m=Math.abs(i(d.val)-i(0));return m}else{return 0}}).each('end',function(d,m,i){s.call(t)})};var G=function(d,t,r,i){d.each(function(h){var j;var m=t._valueScales[h.valueAxis];if(h.val!==' '&&h.val!==0){j=Math.abs(m(h.val)-m(0))}else{j=0}this.setAttribute('width',j);this.setAttribute('height',V.fixDecimal(t._bar_barHeight));this.setAttribute('x',0);this.setAttribute('y',0)});if(t._enableRoundCorner){E.call(this,'none',d,t,r,i)}};var H=function(h,t,y,r,i,j,n){if(!v.call(t)){if(t._enableRoundCorner){E.call(this,'valueChange',h,t,r,i)}var w=h.transition();w.duration(t._totalIntervalTime).attr('x',0).attr('y',0).attr('width',function(d,m){if(t._valueScales&&d.val!==' '&&d.val!==0){var K=t._valueScales[d.valueAxis];var L=Math.abs(K(d.val)-K(0));return L}else{return 0}}).attr('height',V.fixDecimal(t._bar_barHeight)).each('end',function(d,m){s.call(t)})}else{var x=500;G(h,t,r,i);var J=h.attr("opacity",0.3);J=J.transition();J=J.delay(0).duration(x).attr('opacity',1).each('end',function(){s.call(t)})}};var I=function(m,d){I.superclass.constructor.apply(this,arguments);this._bar_indexforSecondaryAxis=0;this._bar_clipEdge=true;this._bar_barNumber=0,this._bar_barGroupNumber=0,this._bar_barHeight=0;this._bar_tooltipDataHandlerObj=null;this._bar_currentAnimationCount=0;this._bar_totalAnimationCount=0;this._bar_id=Math.floor(Math.random()*10000);this._bar_gapObj=0;return this};I.prototype.draw=function(){var r=Math.log(this._bar_barHeight)/Math.log(2);if(r<0){this._enableRoundCorner=false}var h=this._datashapesgroup.selectAll('g.v-bar').data(this._seriesData),j=this._seriesData.length-1;var n=this,w=[];var J=n._totalIntervalTime/(n._bar_barNumber*n._bar_barGroupNumber);h.enter().append('g').attr('class','v-bar');var K=h.selectAll('g.v-datashape').data(function(d){return d});K.enter().append('g').attr('class','v-datashape').append('rect').classed(k,true).classed(p,true);K.attr('transform',function(d,m,i){var x,t=n._valueScales[d.valueAxis];if(d.val<0){x=t(d.val)}else{x=t(0)}var y=n._categoryScale(i)+n._bar_barHeight*m;y=y+n._bar_barHeight/8*m+n._bar_barHeight/2;w.push(y);return'translate('+x+','+y+')'});var L=K.select('rect.'+k),O=n._seriesData[0].length-1;L.each(function(d,t){d.fillColor=n._colorPalette[t%n._colorPalette.length];var i={drawingEffect:n._drawingEffect,fillColor:d.fillColor,direction:'vertical'};var m=n._effectManager.register(i);this.setAttribute('class',k+' '+p);this.setAttribute('fill',m);if(n._bar_barHeight>1){this.setAttribute('shape-rendering','crispEdges')}this.setAttribute('fill-opacity',1);this.setAttribute('stroke','none')});if(n.enableAnimation()){F(L,n,w,r,J,O,j)}else{G(L,n,r,J)}if(v.call(n)){e.imageFill.call(n,K,L,n._bar_barHeight)}K.exit().remove();h.exit().remove()};I.prototype.refresh=function(){var r=Math.log(this._bar_barHeight)/Math.log(2);if(r<0){this._enableRoundCorner=false}var h=this._datashapesgroup.selectAll('g.v-bar').data(this._seriesData),j=this._seriesData.length-1;var t=this,n=[];var w=t._totalIntervalTime/(t._bar_barNumber*t._bar_barGroupNumber);var J=h.selectAll('g.v-datashape').data(function(d){return d});J.attr('transform',function(d,m,i){var x,O=t._valueScales[d.valueAxis];if(d.val<0){x=O(d.val)}else{x=O(0)}var y=t._categoryScale(i)+t._bar_barHeight*m;y=y+t._bar_barHeight/8*m+t._bar_barHeight/2;n.push(y);return'translate('+x+','+y+')'});var K=J.select('rect.'+k),L=t._seriesData[0].length-1;if(t.enableAnimation()){H(K,t,n,r,w,L,j)}else{G(K,t,r,w)}if(v.call(t)){e.imageFill.call(t,J,K,t._bar_barHeight)}};I.prototype.render=function(d,h){a.drawBound(d,this._width,this._height);if(U.isMobile()&&this._props.drawClipPath!==false){var i=f.drawClippath(d,this._width,this._height);d.attr('clip-path',"url(#"+i+")")}this._bar_tooltipDataHandlerObj=b();if(this._valueScales.length===0){return}this._eDispatch.startToInit();this._bar_barNumber=this._seriesData[0].length;this._bar_barGroupNumber=this._seriesData.length;this._bar_barHeight=8*(this._categoryScale.rangeBand())/(9*this._bar_barNumber+7);this._bar_currentAnimationCount=0;this._bar_totalAnimationCount=this._bar_barGroupNumber*this._bar_barNumber;var j=this._d3root=d;var t=this;var m;if(this._valueScales[0]){m=Math.abs(this._valueScales[0].range()[0]-this._valueScales[0].range()[1])}else if(this._valueScales[1]){m=Math.abs(this._valueScales[1].range()[0]-this._valueScales[1].range()[1])}if(this._defsEnter===null){this._defsEnter=j.append('defs').append('clipPath').attr('id','clipPlot_'+this._bar_id).append('rect').attr('width',this._width).attr('height',this._height)}else{this._defsEnter.attr('width',this._width).attr('height',this._height)}if(this._roundCornerDefs===null){this._roundCornerDefs=j.append('defs')}else{if(this._dataStructureChange||this._sizeChange||this._dataValueChange||!this._enableRoundCorner){this._roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=j.selectAll('g.'+q);if(!T.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=j.append('g');this._datashapesgroup.each(function(){this.setAttribute('class',q);if(!U.isMobile()){this.setAttribute("clip-path","url(#clipPlot_"+t._bar_id+")")}})}if(this._dataStructureChange||this._dataValueChange||this._propertiesChange){this.draw()}else if(this._sizeChange||this._isPinching){this.refresh()}if(U.isMobile()&&!h&&this._datashapesgroup){this._datashapesgroup.attr('transform',null)}if(!this.enableAnimation()){if(h&&h.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}}this._sizeChange=false,this._dataStructureChange=false,this._dataValueChange=false,this._propertiesChange=false;this._isOnlyInitAnimation=true;this._lastHovered=null;this.applyFormatConditions(this._props.formatRules,d,this._raw_data?this._raw_data:this._data,this);return this};I.prototype.secondDataRange=function(r){if(!arguments.length){return{min:this._secondaryAxisBottomBoundary,max:this._secondaryAxisTopBoundary}}var t,d;if(r!==null){if(!isNaN(r.max)){t=r.max}else{t=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(r.min)){d=r.min}else{d=this._valueAxis2.scale.perfectDomainBegin}if(t>d){this._secondaryAxisTopBoundary=t;this._secondaryAxisBottomBoundary=d;if(r.from==='axis'){this._secondaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}else{if(this._secondaryAxisManualRange===true){this._secondaryAxisTopBoundary=this._init_secondaryAxisTopBoundary;this._secondaryAxisBottomBoundary=this._init_secondaryAxisBottomBoundary;this._secondaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}return this};I.prototype.primaryDataRange=function(r){if(!arguments.length){return{min:this._primaryAxisBottomBoundary,max:this._primaryAxisTopBoundary}}var t,d;if(r!==null){if(!isNaN(r.max)){t=r.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){d=r.min}else{d=this._valueAxis1.scale.perfectDomainBegin}if(t>d){this._primaryAxisTopBoundary=t;this._primaryAxisBottomBoundary=d;if(r.from==='axis'){this._primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}else{if(this._primaryAxisManualRange===true){this._primaryAxisTopBoundary=this._init_primaryAxisTopBoundary;this._primaryAxisBottomBoundary=this._init_primaryAxisBottomBoundary;this._primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}return this};I.prototype.imageInfo=function(){var i={imageMode:this._props.imageFill,imagePalette:this._props.imagePalette,radio:1};return i};I.prototype.makeCategoryScale=function(){var d=[];for(var i=0;i<this._seriesData.length;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._height])},I.prototype.makeValueScales=function(){this._valueScales=[];if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._primaryAxisBottomBoundary,this._primaryAxisTopBoundary]).range([0,this._width])}if(T.isExist(this._data2)||this._isDualAxis){if(this._secondaryAxisTopBoundary===0&&this._secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._secondaryAxisBottomBoundary,this._secondaryAxisTopBoundary]).range([0,this._width]);if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._secondaryAxisManualRange&&!this._primaryAxisManualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._secondaryAxisManualRange&&this._primaryAxisManualRange){S.perfect(this._valueAxis2.scale);S.getRoughTickNum(this._valueAxis1.scale)}else if(this._secondaryAxisManualRange&&!this._primaryAxisManualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._primaryAxisManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}this._valueAxis2.scale.range([0,0])}var d=0;var h=0;if(this._bar_gapObj){if(this._bar_gapObj.startGap){d=this._bar_gapObj.startGap}if(this._bar_gapObj.endGap){h=this._bar_gapObj.endGap}}S.adjustGap(d,h,this._valueAxis1.scale);S.adjustGap(d,h,this._valueAxis2.scale);this._valueScales.push(this._valueAxis1.scale);this._valueScales.push(this._valueAxis2.scale)},I.prototype.makeScales=function(){this.makeCategoryScale();this.makeValueScales()},I.prototype.parseData=function(){var d=M(this._data);this._data1=d["MG1"];this._data2=d["MG2"];this._measureOnAxis1=d.MG1Number;this._measureOnAxis2=d.MG2Number||0;this._MNDInnerOnColor=d.MNDOnColor&&d.MNDInner;if(this._data1[0]&&this._data1[0][0].info&&this._data1[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(T.isExist(d.color)){this._hasMNDonCategoryAxis=true;this._isDualAxis=true}else{this._hasMNDonCategoryAxis=false;if(T.isExist(this._data2)){this._isDualAxis=true}else{this._isDualAxis=false}}var _=u.call(this,this._data1,this._data2,d.color);if(this._seriesData.length!==_.length||_[0].length!==this._seriesData[0].length){this._dataStructureChange=true}else{this._dataValueChange=true}this._seriesData=_;if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}this.parseOptions();return this},I.prototype.parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._enableDataLoadingAnimation=this._props.animation.dataLoading;this._enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._enableResizingAnimation=this._props.animation.resizing;this._tooltipVisible=this._props.tooltip.enabled;if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._axis1ColorPalette=this._props.primaryValuesColorPalette;this._axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._axis2ColorPalette=this._props.colorPalette;this._axis1ColorPalette=this._props.colorPalette}this._drawingEffect=this._props.drawingEffect;var d=0;if(!this._hasMNDonCategoryAxis){this._bar_indexforSecondaryAxis=this._data1.length;d=this._seriesData[0].length}else{d=this._seriesData.length*this._seriesData[0].length}this._colorPalette=[];var i=0;if(this._MNDInnerOnColor){var h=0,m=0,j=0;for(i=0;i<this._bar_indexforSecondaryAxis;i++){this._colorPalette.push(this._axis1ColorPalette[i%this._axis1ColorPalette.length]);h++;if(h===this._measureOnAxis1){m=0;for(;j<=(d-this._bar_indexforSecondaryAxis);j++){if(m>=this._measureOnAxis2){h=0;break}this._colorPalette.push(this._axis2ColorPalette[j%this._axis2ColorPalette.length]);m++}}}}else{for(i=0;i<d;i++){if(i<this._bar_indexforSecondaryAxis){this._colorPalette.push(this._axis1ColorPalette[i%this._axis1ColorPalette.length])}else if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._colorPalette.push(this._axis2ColorPalette[(i-this._bar_indexforSecondaryAxis)%this._axis2ColorPalette.length])}}}};I.prototype.setAxisGap=function(_){this._bar_gapObj=_};I.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll('.'+k).remove();this._d3root.selectAll('g.v-datashape').remove();this._d3root.selectAll('g.v-bar').remove();this._d3root.selectAll('g.'+q).remove();this._d3root.selectAll('defs').remove();this._d3root.selectAll('.v-bound').remove()}this._d3root=null;if(this._datashapesgroup){this._datashapesgroup.remove();this._datashapesgroup=null}this._defsEnter=null;this._roundCornerDefs=null;this._bar_tooltipDataHandlerObj=null;I.superclass.destroy.apply(this,arguments)};o.extend(I,B);return I});define('sap/viz/modules/manifests/xy/Bar',['sap/viz/modules/manifests/Module','sap/viz/modules/bar','sap/viz/modules/manifests/xy/BaseBar','sap/viz/modules/Constants'],function Setup(M,f,B,C){var m={'id':'sap.viz.modules.bar','name':'bar',base:"sap.viz.modules.xy.bar.base",'properties':{'imageFill':{'name':'imageFill','supportedValueType':'Boolean','defaultValue':false,'isExported':false,'description':'Set where the image fill is enabled.'},'imagePalette':{'name':'imagePalette','supportedValueType':'StringArray','defaultValue':['http://www.sap.com/global/ui/images/global/sap-logo.png'],'isExported':false,'description':'Set the images that fill the bars.',},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/BarChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/manifests/xy/BaseHorizontalChart','sap/viz/modules/manifests/xy/Bar','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,B,a,I){var c={id:'viz/bar',name:'IDS_BARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{id:'sap.viz.modules.rootContainer',modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'horizontal',position:'inside',automaticInOutside:true,showZero:false,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'right'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',indicator:{enable:true},gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:'sap.viz.modules.bar',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var d={viz:[c].concat(B.viz),module:[].concat(B.module,a.module,I.module),feeds:[].concat(B.feeds,a.feeds,I.feeds)};return d});define('sap/viz/impls/BarChart',['sap/viz/manifests/xy/BarChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/BaseChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/layout/Dock','sap/viz/modules/manifests/legend/Common','sap/viz/modules/manifests/layout/Stack'],function Setup(M,R,T,L,D,a,C,S){var c={id:'riv/base',name:'IDS_BASECHART',isBuiltIn:true,'abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0}}}},layout:{id:'sap.viz.modules.layout.dock'},legends:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legendGroup',properties:{layout:{position:'right',priority:1,alignment:'right'}}},modules:{layout:{id:'sap.viz.modules.layout.stack'},legend:{id:'sap.viz.modules.legend.common',configure:{propertyCategory:'legend',properties:{layout:{order:0}}}}}}}}},dependencies:{}};var m={viz:[c],module:[].concat(R.module,T.module,L.module,D.module,a.module,C.module,S.module),feeds:[].concat(R.feeds,T.feeds,L.feeds,D.feeds,a.feeds,C.feeds,S.feeds)};return m});define('sap/viz/manifests/BaseSingleChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/Background','sap/viz/modules/manifests/legend/Common'],function Setup(M,B,R,X,a,C){var p={id:'riv/base/single',name:'IDS_BASESINGLECHART',isBuiltIn:true,base:'riv/base','abstract':true,modules:{root:{configure:{propertyCategory:'general'},modules:{main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{layout:{position:'center',priority:10}}}}}}}};var m={viz:[p].concat(B.viz),module:[].concat(B.module,R.module,X.module,a.module,C.module),feeds:[].concat(B.feeds,R.feeds,X.feeds,a.feeds,C.feeds)};return m});define('sap/viz/manifests/scatter/BaseBubbleChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseSingleChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,R,B,T,A,I){var c={id:'viz/scatter/single/base',name:'IDS_BASEBUBBLECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset','abstract':true,base:'riv/base/single',modules:{root:{modules:{legends:{configure:{properties:{layout:{position:'right',priority:1,alignment:'right'}}},modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend',layout:{order:1}},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',propertiesOverride:{pan:{isExported:true}}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',orientation:'vertical',visible:false,position:'outside',outsideVisible:true,positionPreference:true}}},xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{'description':'Settings for the x axis of a normal bubble or scatter plot',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false},indicator:{enable:true}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{description:'Settings for the y axis of a normal bubble or scatter plot',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:true},indicator:{enable:true}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'valueAxis1DataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.plot',target:'valueAxis2DataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'valueAxis1Scale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'valueAxis2Scale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'valueAxis1Title'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'valueAxis2Title'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,T.module,A.module,I.module),feeds:[].concat(B.feeds,R.feeds,T.feeds,A.feeds)};return b});define('sap/viz/util/ShapeSeriesGenerator',[],function Setup(){var S={sapShapes:function(){return d3.scale.ordinal().range(['circle','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'])}};return S});define('sap/viz/modules/bubble',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/util/ColorSeriesGenerator','sap/viz/util/ShapeSeriesGenerator','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/util/TextUtils','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/util/DrawUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/dataUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/modules/util/selectionUtil'],function Setup(o,B,C,S,T,O,c,e,N,D,f,k,l,n,p,G,q,s,t){var u=function(w,h){this._ble_formerWidth=w;this._ble_formerHeight=h};var v=s.CSS.CLASS.DATAPOINTSELECTED,z=s.CSS.CLASS.DATAPOINTHOVER,A=s.CSS.CLASS.DATAPOINTDEFAULT,E=s.CSS.CLASS.DATAPOINT,F=s.CSS.CLASS.MORPHABLEDATAPOINT,H='v-m-tooltip',I='0.4',J='0.8',K=1/6,L={'stroke':'#ffffff','stroke-width':1},M={'stroke':'#ffffff','stroke-width':1},P={'stroke':'#333333','stroke-width':1},Q=1000;var R=E+' '+F;var U="v-datashapesgroup";var V=function(m,a){V.superclass.constructor.apply(this,arguments);this._ble_padding=0;this._ble_data=null;this._ble_xManualRange=false;this._ble_yManualRange=false;this._ble_xScale=d3.scale.linear();this._ble_yScale=d3.scale.linear();this._ble_wScale=undefined;this._ble_hScale=undefined;this._ble_wMax=undefined;this._ble_wMin=undefined;this._ble_hMax=undefined;this._ble_hMin=undefined;this._ble_xMax=undefined;this._ble_xMin=undefined;this._ble_yMax=undefined;this._ble_yMin=undefined;this._ble_init_xMax=undefined;this._ble_init_xMin=undefined;this._ble_init_yMax=undefined;this._ble_init_yMin=undefined;this._ble_randomSuffix=O.guid();this._ble_distinctValuesObj=undefined;this._ble_color=C.sap32().range();this._ble_shape=S.sapShapes().range();this._ble_bFirstCreation=true;this._ble_drawingEffect='normal';this._ble_effectManager=a.effectManager;this._ble_styleManager=a.styleManager;this._ble_markerSize=10;this._ble_minMarkerSize=null;this._ble_animationComplete=false;this._ble_hasDefaultSelection=false;this._ble_formatString=undefined;this._ble_isDataSchemaChanged=false;this._ble_isSizeChanged=false;this._ble_isDatasetChanged=false;this._ble_formerWidth=undefined;this._ble_formerHeight=undefined;this._ble_timeBased=false;this._ble_xTicks=undefined;this._blefn_resetBoundaryValues();k.extend(true,this._props,m.props(null));this._ble_xGapObj=null;this._ble_yGapObj=null};o.extend(V,B);V.prototype.render=function(a,b){if(this._ble_formerWidth!==undefined&&this._ble_formerHeight!==undefined){if(!this._ble_isSizeChanged){this._ble_isSizeChanged=this._ble_formerWidth!==this._width||this._ble_formerHeight!==this._height}}u.call(this,this._width,this._height);n.drawBound(a,this._width,this._height);this._blefn_renderChart(a,b);this._ble_bFirstCreation=false;this._ble_isDataSchemaChanged=false,this._ble_isSizeChanged=false,this._ble_isDatasetChanged=false;return this};V.prototype.width=function(a){if(!arguments.length){return this._width}this._width=a;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._ble_data)){this._blefn_computeScales()}return this};V.prototype.height=function(a){if(!arguments.length){return this._height}this._height=a;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._ble_data)){this._blefn_computeScales()}return this};V.prototype.applyFormatConditions=function(a,b,d,g){var h=function(j,m){var i;for(i=0;i<j.length;i++){j[i].__data__.parameter.fillColor=m.color}};t.applyConditons(a,b,d,h)};V.prototype.size=function(a){if(!arguments.length){return{width:this._width,height:this._height}}this._width=a.width;this._height=a.height;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._ble_data)){this._blefn_computeScales()}return this};V.prototype.padding=function(a){if(!arguments.length){return this._ble_padding}this._ble_padding=a;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._ble_data)){this._blefn_computeScales()}return this};V.prototype.valueAxis1Scale=function(a){if(!arguments.length){return this._ble_xScale}this._ble_xScale=a;return this};V.prototype.valueAxis2Scale=function(a){if(!arguments.length){return this._ble_yScale}this._ble_yScale=a;return this};V.prototype.valueAxis1DataRange=function(r){if(!arguments.length){return{min:this._ble_xMin,max:this._ble_xMax}}var a,b;if(r!==null){if(!isNaN(r.max)){a=r.max}else{a=this._ble_xScale.perfectDomainEnd}if(!isNaN(r.min)){b=r.min}else{b=this._ble_xScale.perfectDomainBegin}if(a>b){this._ble_xMax=a;this._ble_xMin=b;if(r.from==='axis'){this._ble_xManualRange=true}if(r.ticks){this._ble_xTicks=r.ticks}if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}}}else{if(this._ble_xManualRange===true){this._ble_xMax=this._ble_init_xMax;this._ble_xMin=this._ble_init_xMin;this._ble_xManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}}}return this};V.prototype.valueAxis2DataRange=function(r){if(!arguments.length){return{min:this._ble_yMin,max:this._ble_yMax}}var a,b;if(r!==null){if(!isNaN(r.max)){a=r.max}else{a=this._ble_yScale.perfectDomainEnd}if(!isNaN(r.min)){b=r.min}else{b=this._ble_yScale.perfectDomainBegin}if(a>b){this._ble_yMax=a;this._ble_yMin=b;if(r.from==='axis'){this._ble_yManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}}}else{if(this._ble_yManualRange===true){this._ble_yMax=this._ble_init_yMax;this._ble_yMin=this._ble_init_yMin;this._ble_yManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}}}return this};V.prototype.bubbleWidthDataRange=function(r){if(!arguments.length){return{distinctValuesObj:this._ble_distinctValuesObj,min:this._ble_wMin,max:this._ble_wMax}}this._ble_wMax=r.max;this._ble_wMin=r.min;this._ble_distinctValuesObj=r.distinctValuesObj;if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}return this};V.prototype.bubbleHeightDataRange=function(r){if(!arguments.length){return{min:this._ble_hMin,max:this._ble_hMax}}this._ble_hMax=r.max;this._ble_hMin=r.min;if(T.isExist(this._width)&&T.isExist(this._height)){this._blefn_computeScales()}return this};V.prototype.colorPalette=function(a){if(!arguments.length){return this._ble_color}this._ble_color=a;return this};V.prototype.shapes=function(a){if(!arguments.length){return this._ble_shape}this._ble_shape=a;return this};V.prototype.sizeLegend=function(){var h=this._ble_data.getMeasureValuesGroupDataByIdx(3);var a=(T.isExist(h)&&h.values.length>0);var w=this._ble_data.getMeasureValuesGroupDataByIdx(2);var b;if(w&&w.values.length){b=w.values[0].col}return{bubbleScale:K,space:this._ble_padding,scale:this._ble_wScale,data:this._blefn_sizeData(),title:b,hasHeightFeed:a}};V.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};V.prototype.dataLabel=function(_){};V.prototype.data=function(a){if(!arguments.length){return this._ble_data}this._ble_isDatasetChanged=true;this._ble_isDataSchemaChanged=false;if(!p().hasSameSchema(this._ble_data,a)){this._ble_isDataSchemaChanged=true}this._ble_data=a;var i=this._ble_data.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][0].info;if(i&&i.defaultSelection){this._ble_hasDefaultSelection=true}else{this._ble_hasDefaultSelection=false}if(this._ble_data){this._blefn_calculateBoundaryValues()}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._ble_data)){this._blefn_computeScales()}if(this._datashapesgroup){this._datashapesgroup.attr('transform',null)}return this};V.prototype.valueAxis1Title=function(_){if(!arguments.length){var a=this._ble_data.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join(' & ')}return this};V.prototype.valueAxis2Title=function(_){if(!arguments.length){var a=this._ble_data.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join(' & ')}return this};V.prototype.properties=function(_){if(!arguments.length){return this._props}k.extend(true,this._props,_);this._blefn_parseOptions();return this};V.prototype.highlight=function(a,h){if(!T.isArray(a)){a=[a]}for(var i=0,b=a.length;i<b;i++){d3.select(a[i]).classed(A,false);if(!h){d3.select(a[i]).classed(v,true);d3.select(a[i]).classed(z,false)}else{d3.select(a[i]).classed(z,true)}}d3.selectAll(a).attr('stroke-opacity',J);D.highlightProperties.selectedOpacity=J;D.nodesHighlight(a,{factor:0.7,constant:0},this._ble_effectManager,h);D.resetHighlightProperties();if(this._ble_hasDefaultSelection){q.clearSelectionInfo(this._d3root,true,a)}};V.prototype.unhighlight=function(a,b,d){if(!T.isArray(a)){a=[a]}for(var i=0,g=a.length;i<g;i++){d3.select(a[i]).classed(z,false);if(!b){d3.select(a[i]).classed(A,true);if(d3.select(a[i]).classed(v)){d3.select(a[i]).classed(v,false)}}}D.highlightProperties.selectedOpacity=J;D.nodesUnhighlight(a,b,d);D.resetHighlightProperties();if(!b){d3.selectAll(a).attr('stroke',L['stroke']).attr('stroke-width',L['stroke-width']).attr('stroke-opacity',I)}if(d){d3.selectAll(a).attr('stroke-opacity',J)}if(this._ble_hasDefaultSelection){q.clearSelectionInfo(this._d3root,false,a)}};V.prototype.clear=function(g){if(!this._d3root){return}var a=this._d3root.selectAll('.'+E);if(g===undefined||g===false){a.attr('fill-opacity',J).attr('stroke-opacity',J).attr('stroke',L.stroke).attr('stroke-width',L["stroke-width"]);if(this._ble_hasDefaultSelection){q.clearSelectionInfo(this._d3root,false,a)}}else{a.attr('fill-opacity',I).attr('stroke-opacity',I).attr('stroke',L.stroke).attr('stroke-width',L["stroke-width"])}};V.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll('.'+E).remove()}if(this._ble_xScale){this._ble_xScale.domain([0,1]).range([0,1])}if(this._ble_yScale){this._ble_yScale.domain([0,1]).range([0,1])}this._ble_xScale=null;this._ble_yScale=null;this._ble_wScale=undefined;this._ble_hScale=undefined;this._datashapesgroup=undefined;this._d3root=undefined;if(this._ble_effectManager&&this._ble_effectManager.destroy){this._ble_effectManager.destroy()}if(this._ble_styleManager&&this._ble_styleManager.destroy){this._ble_styleManager.destroy()}};V.prototype._blefn_isAnimationEnabled=function(){var h=false;if(this._ble_bFirstCreation){h=this._props.animation.dataLoading}else if(this._ble_isDatasetChanged){h=this._props.animation.dataUpdating}else if(this._ble_isSizeChanged){h=this._props.animation.resizing}return h};V.prototype._blefn_resetBoundaryValues=function(){this._ble_wMax=0;this._ble_wMin=Number.MAX_VALUE;this._ble_hMax=0;this._ble_hMin=Number.MAX_VALUE;this._ble_xMax=this._ble_timeBased?-Number.MAX_VALUE:0;this._ble_xMin=this._ble_timeBased?Number.MAX_VALUE:0;this._ble_yMax=0;this._ble_yMin=0};V.prototype._blefn_parseOptions=function(){this._ble_color=this._props.colorPalette;this._ble_shape=this._props.shapePalette;this._ble_drawingEffect=this._props.drawingEffect;this._ble_minMarkerSize=this._props.minMarkerSize>0?this._props.minMarkerSize:null;var _=this._props.markerSize;this._ble_markerSize=T.isExist(_)&&_<=32&&_>=4?_:this._ble_markerSize;if(this._props.xScaleType&&this._props.xScaleType==="log"){this._ble_xScale=d3.scale.log()}this._ble_timeBased=this._props.timeBased;if(this._ble_timeBased){this._blefn_calculateBoundaryValues()}};V.prototype._blefn_calculateBoundaryValues=function(){this._blefn_resetBoundaryValues();var m=this._ble_data.getMeasureValuesGroupDataByIdx(0);var a=this._ble_data.getMeasureValuesGroupDataByIdx(1);var b=this._ble_data.getMeasureValuesGroupDataByIdx(2);var d=this._ble_data.getMeasureValuesGroupDataByIdx(3);this._ble_distinctValuesObj={};for(var i=0;i<m.values[0].rows.length;i++){for(var j=0;j<m.values[0].rows[i].length;j++){var x=m.values[0].rows[i][j].val;var y=a.values[0].rows[i][j].val;if(N.isNoValue(x)||N.isNoValue(y)){continue}var w=b&&b.values.length&&T.isExist(b.values[0].rows[i][j].val)?Math.abs(b.values[0].rows[i][j].val):null;var h;if(d&&d.values.length){if(T.isExist(d.values[0].rows[i][j].val)){h=Math.abs(d.values[0].rows[i][j].val)}else{h=null}}else{h=w}if(!N.isNoValue(w)){this._ble_distinctValuesObj[w]=''}this._ble_xMax=x>this._ble_xMax?x:this._ble_xMax;this._ble_xMin=x<this._ble_xMin?x:this._ble_xMin;this._ble_yMax=y>this._ble_yMax?y:this._ble_yMax;this._ble_yMin=y<this._ble_yMin?y:this._ble_yMin;this._ble_wMax=w>this._ble_wMax?w:this._ble_wMax;this._ble_wMin=w<this._ble_wMin?w:this._ble_wMin;this._ble_hMax=h>this._ble_hMax?h:this._ble_hMax;this._ble_hMin=h<this._ble_hMin?h:this._ble_hMin}}this._ble_init_xMax=this._ble_xMax;this._ble_init_xMin=this._ble_xMin;this._ble_init_yMax=this._ble_yMax;this._ble_init_yMin=this._ble_yMin};V.prototype._blefn_computeXScale=function(){var m=this._ble_xMin;var a=this._ble_xMax;if(!this._ble_xManualRange&&(this._props.maxPriValue>this._props.minPriValue)){a=this._props.maxPriValue;m=this._props.minPriValue>0?0:this._props.minPriValue}if((a===0&&m===0&&!this._ble_timeBased)||(a===-Number.MAX_VALUE&&m===Number.MAX_VALUE&&this._ble_timeBased)){this._ble_xScale.domain([0,1]).range([this._ble_padding,this._width-this._ble_padding])}else{if(this._ble_timeBased){if(this._ble_xManualRange){this._ble_xScale.domain([m,a]).range([this._ble_padding,this._width-this._ble_padding]);this._ble_xScale.userTicks=this._ble_xTicks}else{var b=m===a?1:parseInt((a-m)*K,10);this._ble_xScale.domain([m-b,a+b]).range([this._ble_padding,this._width-this._ble_padding])}}else if(this._ble_xManualRange){this._ble_xScale.domain([m,a]).range([this._ble_padding,this._width-this._ble_padding])}else{this._ble_xScale.domain([m>0?m/(1+K):m*(1+K),a>0?a*(1+K):a/(1+K)]).range([this._ble_padding,this._width-this._ble_padding])}}};V.prototype._blefn_computeYScale=function(){var m=this._ble_yMax;var a=this._ble_yMin;if(!this._ble_yManualRange&&(this._props.maxSecValue>this._props.minSecValue)){m=this._props.maxSecValue;a=this._props.minSecValue>0?0:this._props.minSecValue}if(a===0&&m===0){this._ble_yScale.domain([0,1]).range([this._height-this._ble_padding,this._ble_padding])}else{if(this._ble_yManualRange){this._ble_yScale.domain([a,m]).range([this._height-this._ble_padding,this._ble_padding])}else{this._ble_yScale.domain([a>0?a/(1+K):a*(1+K),m>0?m*(1+K):m/(1+K)]).range([this._height-this._ble_padding,this._ble_padding])}}};V.prototype._blefn_computeWScale=function(){var a=this;var b=this._ble_data.getMeasureValuesGroupDataByIdx(2);var d=this._ble_data.getMeasureValuesGroupDataByIdx(3);var m=this._ble_wMax;var g=this._ble_wMin;if(this._props.maxBubbleWidth!==0||this._props.minBubbleWidth!==0){m=this._props.maxBubbleWidth;g=this._props.minBubbleWidth}if(b&&b.values.length&&(m!==g||this._ble_minMarkerSize)){this._ble_wScale=this._blefn_bubbleSizeScale(m,g,true,d)}else{this._ble_wScale=function(h){return a._ble_markerSize}}};V.prototype._blefn_computeHScale=function(){var a=this;var b=this._ble_data.getMeasureValuesGroupDataByIdx(3);var m=this._ble_hMax;var d=this._ble_hMin;if(this._props.maxBubbleHeight!==0||this._props.minBubbleHeight!==0){m=this._props.maxBubbleHeight;d=this._props.minBubbleHeight}if(b&&b.values.length&&(m!==d||this._ble_minMarkerSize)){this._ble_hScale=this._blefn_bubbleSizeScale(m,d,false)}else{if(this._ble_wScale&&(m>d||this._ble_minMarkerSize||(this._props.maxBubbleWidth!==0)||(this._props.minBubbleWidth!==0))){this._ble_hScale=this._ble_wScale}else{this._ble_hScale=function(g){return a._ble_markerSize}}}};var W=function(g,a){var b=0;var d=0;if(g){if(g.startGap){b=g.startGap}if(g.endGap){d=g.endGap}}e.adjustGap(b,d,a)};V.prototype._blefn_computeScales=function(){this._blefn_computeXScale();if(this._ble_timeBased){e.perfectTime(this._ble_xScale)}else if(!this._ble_xManualRange){e.perfect(this._ble_xScale)}else{e.getRoughTickNum(this._ble_xScale)}this._blefn_computeYScale();if(!this._ble_yManualRange){e.perfect(this._ble_yScale)}else{e.getRoughTickNum(this._ble_yScale)}W(this._ble_xGapObj,this._ble_xScale);W(this._ble_yGapObj,this._ble_yScale);this._blefn_computeWScale();this._blefn_computeHScale()};function X(a,b){var d=true;if(Array.isArray(a)&&Array.isArray(b)){if(a.length===b.length){for(var i=0;i<a.length&&d;++i){if(!a[i]&&!b[i]){continue}if(!a[i]||!b[i]){d=false}else{d=t.ctxEqual(a[i].path,b[i].path)}}}else{d=false}}else{d=t.ctxEqual(a,b)}return d}V.prototype._blefn_renderChart=function(r,Y){var Z=f.drawClippath(r,this._width,this._height);this._d3root=r;r.attr('clip-path',"url(#"+Z+")");this._eDispatch.startToInit();var i;var $=this._ble_data.getMeasureValuesGroupDataByIdx(0);var _=this._ble_data.getMeasureValuesGroupDataByIdx(1);var a1=this._ble_data.getMeasureValuesGroupDataByIdx(2);var b1=this._ble_data.getMeasureValuesGroupDataByIdx(3);var c1=this._ble_data.getAnalysisAxisDataByIdx(0);var d1=this._ble_data.getAnalysisAxisDataByIdx(1);var e1=r.select('#event-rect'+this._ble_randomSuffix);if(e1.empty()){e1=r.append('rect')}var f1=this;e1.each(function(){this.setAttribute('x',0);this.setAttribute('y',0);this.setAttribute('width',f1._width);this.setAttribute('height',f1._height);this.setAttribute('fill-opacity',0);this.setAttribute('id','event-rect'+f1._ble_randomSuffix)});var g1=this._blefn_isAnimationEnabled();if(!g1){r.select("g.v-datashapesgroup").remove()}this._datashapesgroup=r.select("g.v-datashapesgroup");if(this._datashapesgroup.empty()){this._datashapesgroup=r.append('g').attr('class','v-datashapesgroup')}var g=this._datashapesgroup;var h1=g.node();var i1=0;var j1={};function k1(i,m1,l1){for(var j=0;j<$.values[0].rows[i].length;j++){var a=(c1&&c1.values.length>0)?c1.values[0].rows[j].val:0;var y1;if(j1[a]){y1=j1[a]}else{y1=this._ble_color[i1%this._ble_color.length];j1[a]=y1;i1++}var x=$.values[0].rows[i][j].val;var y=_.values[0].rows[i][j].val;var w=a1&&a1.values.length?a1.values[0].rows[i][j].val:null;var h=b1&&b1.values.length?b1.values[0].rows[i][j].val:null;var b={x:x,y:y,w:w,h:h,colorIndex:j,shapeIndex:i,colorValue:y1,shapeValue:m1,val:[x,y,w,h],ctx:[$.values[0].rows[i][j].ctx,_.values[0].rows[i][j].ctx,a1&&a1.values.length?a1.values[0].rows[i][j].ctx:null,b1&&b1.values.length?b1.values[0].rows[i][j].ctx:null],info:[$.values[0].rows[i][j].info,_.values[0].rows[i][j].info,a1&&a1.values.length?a1.values[0].rows[i][j].info:null,b1&&b1.values.length?b1.values[0].rows[i][j].info:null],timeMeasure:this._ble_timeBased?0:undefined};if(!N.isNoValue(x)&&!N.isNoValue(y)){if(this._props.showNegativeValues||!(w<0||h<0)){l1.push(b)}}}}var l1=[];var m1;if(d1&&d1.values.length>0){i=0;for(var n1=0,o1={};i<d1.values[0].rows.length;i++){var p1=d1.values[0].rows[i].val;if(o1[p1]){m1=o1[p1]}else{m1=this._ble_shape[n1%this._ble_shape.length];o1[p1]=m1;n1++}k1.call(this,i,m1,l1)}}else{k1.call(this,0,this._ble_shape[0],l1)}l1.sort(function(a,b){var j=a.h===null?a.w:a.h;var m=b.h===null?b.w:b.h;return Math.abs(b.w*m)-Math.abs(a.w*j)});var q1=0;this._ble_animationComplete=false;var r1=l1.length;function s1(d,m){q1++;if(q1===r1){f1._ble_animationComplete=true;f1._eDispatch.initialized()}}var t1=g.selectAll('.v-datashape');var u1=t1.empty();function v1(a,b,j){var m=a[0];var z1=m.length;var B1;for(var i=0;i<z1;++i){var A1=m[i];var d=A1.firstChild.__data__;if(X(d.ctx,b.ctx)){d.bReserved=true;b.originalElement=d3.select(A1);B1=A1;h1.removeChild(B1);break}}if(!B1){B1=document.createElementNS("http://www.w3.org/2000/svg","g");B1.setAttribute('class','v-datashape')}var E1=h1.childNodes;if(j<E1.length){h1.insertBefore(B1,E1[j])}else{h1.appendChild(B1)}var F1=d3.select(B1);if(F1.selectAll("path").empty()){F1.append("path").attr("class",A+" "+R);F1.attr("transform",'translate(0,'+this._height+')')}b.originalElement=F1}for(i=0;i<l1.length;i++){v1.call(this,t1,l1[i],i)}t1.each(function(d,i){var a=this.firstChild.__data__;if(!a.bReserved){this.parentNode.removeChild(this)}else{delete a.bReserved}});var w1=0;if(g1){w1=Q}var x1=!this._isPinching&&g1&&!u1;if(x1){r1=2*l1.length}var d=[];for(i=0;i<l1.length;i++){var x=l1[i].x,y=l1[i].y,w=l1[i].w,h=b1&&b1.values.length?l1[i].h:w,y1=l1[i].colorValue;m1=l1[i].shapeValue;var rx=this._ble_wScale(w)/2,ry=this._ble_hScale(h)/2;var B1,C1;B1=l1[i].originalElement;if(!x1){B1.attr('transform','translate('+this._ble_xScale(x)+','+this._ble_yScale(y)+')')}else{B1.transition().duration(w1).attr("transform",'translate('+this._ble_xScale(x)+','+this._ble_yScale(y)+')').each('end',s1)}C1=B1.select('.v-datapoint');var D1={drawingEffect:this._ble_drawingEffect,fillColor:y1,graphType:m1,direction:'vertical',rx:rx,ry:ry,borderWidth:L['stroke-width'],borderColor:L['stroke'],strokeOpacity:J,node:C1,visibility:"visible",animateTime:w1,endFunc:s1,className:A+" "+R};d[i]=D.createGraph(D1);l1[i].parameter=D1;C1.node().__data__=l1[i]}this.applyFormatConditions(this._props.formatRules,g,this._ble_data,this);for(i=0;i<l1.length;i++){D.updateGraph(l1[i].parameter,this._ble_effectManager,undefined,d[i]).attr('fill-opacity',J).attr('opacity',null);delete l1[i].originalElement;delete l1[i].parameter}if(!g1){this._ble_animationComplete=true;if(Y&&Y.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}}};V.prototype._blefn_bubbleSizeScale=function(m,a,b,h){var d=this;return function(g){var i;if(b){i=(!h&&(d._height<d._width))?d._height:d._width}else{i=d._height}var r,j,w=(i-d._ble_padding)*K;if(d._ble_minMarkerSize){j=d._ble_minMarkerSize<w?d._ble_minMarkerSize:w}if(N.isNoValue(g)){return j?j:4}g=Math.abs(g);if(g>m){g=m}if(j){if(m>a){r=Math.pow((Math.abs(g)-a)/(m-a),0.5)*(w-j)+j}else{r=j}}else{r=Math.pow(Math.abs(g)/m,0.5)*w}return r>4?r:4}};V.prototype._blefn_sizeData=function(){var w=0;for(var i in this._ble_distinctValuesObj){if(this._ble_distinctValuesObj.hasOwnProperty(i)){w++}}var m=this._ble_wMax;var a=this._ble_wMin;if(this._props.maxBubbleWidth!==0||this._props.minBubbleWidth!==0){m=this._props.maxBubbleWidth;a=this._props.minBubbleWidth}if(w===0){return[]}else if(w===1){return[m]}else if(w===2){return[m,a]}else{return[m,(m+a)/2,a]}};V.prototype.setXAxisGap=function(_){this._ble_xGapObj=_};V.prototype.setYAxisGap=function(_){this._ble_yGapObj=_};V.prototype.getXAxisRange=function(){var x=this._ble_xScale.range();return Math.abs(x[0]-x[1])};V.prototype.getYAxisRange=function(){var y=this._ble_yScale.range();return Math.abs(y[0]-y[1])};V.prototype.pinch=function(a){var b=this._pinchEvent.pinchProperties;var d=G.convertToLayerPoint(this._pinchEvent.point,this._d3root,'.'+U);var g=G.valueAxisZoomInfo(this._ble_xScale,a.scale,d,this._width);if(g){var h=this._datashapesgroup.node();var i=h.getTransformToElement(h.parentNode);var j=g.scale,m=g.offset;var x=this._ble_xScale.range();if(b.orientation==='horizontal'||b.orientation==='both'){this._ble_xScale.range([x[0]*j,x[x.length-1]*j]);m.x+=i.e}var y=this._ble_yScale.range();if(b.orientation==='vertical'||b.orientation==='both'){this._ble_yScale.range([y[0]*j,y[y.length-1]*j]);m.y+=i.f}if(b.orientation==='horizontal'){m.y=0}else if(b.orientation==='vertical'){m.x=0}this.render(this._d3root,{isPinching:this._isPinching});this._eDispatch.scale({scale:j});this.dragToOffset({offset:m});this._eDispatch.stretch({offset:m})}};V.prototype.getAxisList=function(){var a={xAxis:{},yAxis:{}};a.xAxis.axis=this._ble_xScale;a.xAxis.type='value';a.yAxis.axis=this._ble_yScale;a.yAxis.type='value';return a};V.prototype.blurOut=function(){};return V});define('sap/viz/feeds/Scatter',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"scatter",feeds:[{'id':'regionColor','name':'IDS_REGIONCOLOR','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'IDS_REGIONSHAPE','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'secondaryValues','name':'IDS_SECONDARYVALUES','type':c.Type.Measure,'min':1,'max':1,'mgIndex':2},{'id':'bubbleWidth','name':'IDS_BUBBLEWIDTH','type':c.Type.Measure,'min':0,'max':1,'mgIndex':3},{'id':'bubbleHeight','name':'IDS_BUBBLEHEIGHT','type':c.Type.Measure,'min':0,'max':1,'mgIndex':4}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Bubble',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/bubble','sap/viz/feeds/Scatter'],function Setup(M,C,f,S){var m={'id':'sap.viz.modules.bubble','type':C.Type.Chart,'name':'bubble','data':'DATA STRUCTURE DOC','properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color of the bubbles','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'shapePalette':{'name':'shapePalette','supportedValueType':'StringArray','defaultValue':['circle','square','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'supportedValues':['circle','square','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'description':'Set the shape of the bubbles'},'minMarkerSize':{'name':'minMarkerSize','supportedValueType':'PositiveInt','defaultValue':undefined,'description':'Set the minimum size of the data points'},'maxPriValue':{'name':'maxPriValue','supportedValueType':'Number','defaultValue':0,'description':'Set the max value of primary values','isExported':false},'minPriValue':{'name':'minPriValue','supportedValueType':'Number','defaultValue':0,'description':'Set the minimum value of primary values','isExported':false},'maxSecValue':{'name':'maxSecValue','supportedValueType':'Number','defaultValue':0,'description':'Set the max value of secondary values','isExported':false},'minSecValue':{'name':'minSecValue','supportedValueType':'Number','defaultValue':0,'description':'Set the minimum value of secondary values','isExported':false},'maxBubbleWidth':{'name':'maxBubbleWidth','supportedValueType':'Number','defaultValue':0,'description':'Set the max value of bubble width values','isExported':false},'minBubbleWidth':{'name':'minBubbleWidth','supportedValueType':'Number','defaultValue':0,'description':'Set the minimum value of bubble width values','isExported':false},'maxBubbleHeight':{'name':'maxBubbleHeight','supportedValueType':'Number','defaultValue':0,'description':'Set the max value of bubble height values','isExported':false},'minBubbleHeight':{'name':'minBubbleHeight','supportedValueType':'Number','defaultValue':0,'description':'Set the minimum value of bubble height values','isExported':false},'timeBased':{'name':'timeBased','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether it is time based scatter/bubble','isExported':false},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in bubble and scatter charts','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set the drawing effect for the bubbles','isExported':true},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'axisTooltip':{'name':'axisTooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'enabled/disabled tooltip.'},'formatString':{'name':'formatString','supportedValueType':'StringArray','defaultValue':null,'description':'Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis.Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.'}},'description':'Set tooltip related properties.','isExported':false},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for hoverline properties.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set to enabled/disabled hoverline or not.'}},'isExported':false},'showNegativeValues':{'name':'showNegativeValues','supportedValueType':'Boolean','defaultValue':true,'description':'Show/hide the data of negetive value.','isExported':false}},'css':{},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"scatter",configure:{bubbleWidth:{min:1}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(S.feeds)};return a});define('sap/viz/manifests/scatter/BubbleChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/scatter/BaseBubbleChart','sap/viz/modules/manifests/Bubble'],function Setup(M,C,U,R,B,a){var c={id:'viz/bubble',name:'IDS_BUBBLECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:"viz/scatter/single/base",modules:{root:{configure:{properties:{layout:{adjustPolicy:C.LAYOUT_ADJUST_POLICY.APPROXIMATE}}},modules:{legends:{modules:{sizeLegend:{id:'sap.viz.modules.legend.common',configure:{description:'Settings for the size legend.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend',layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{configure:{properties:{chartType:'bubble'}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:true,position:'inside',respectShapeWidth:false,isBubbleChart:true},propertiesOverride:{respectShapeWidth:{isExported:true}}}},plot:{id:'sap.viz.modules.bubble',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{showNegativeValues:{isExported:true}}}}}}}}},dataScale:{primaryValues:{maxValue:["plotArea.maxPriValue"],minValue:["plotArea.minPriValue"]},secondaryValues:{maxValue:["plotArea.maxSecValue"],minValue:["plotArea.minSecValue"]},bubbleWidth:{maxValue:["plotArea.maxBubbleWidth"],minValue:["plotArea.minBubbleWidth"]},bubbleHeight:{maxValue:["plotArea.maxBubbleHeight"],minValue:["plotArea.minBubbleHeight"]}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:'root.legends.sizeLegend',target:'sizeLegendInfo',sourceModule:'root.main.plot',source:'sizeLegend'}],events:[{targetModule:'root',listener:'relayout',sourceModule:'root.legends',type:'relayout'},{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},valueAxis:['xAxis','yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var d={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,a.module),feeds:[].concat(B.feeds,R.feeds,a.feeds)};return d});define('sap/viz/impls/BubbleChart',['sap/viz/manifests/scatter/BubbleChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/xyz/Column3DChart',['sap/viz/manifests/xyz/Base3DChart'],function Setup(f){return f("vertical")});define('sap/viz/impls/Column3DChart',['sap/viz/manifests/xyz/Column3DChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/modules/combination',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/modules/dispatch','sap/viz/modules/manifests/Module','sap/viz/util/ColorSeriesGenerator','sap/viz/modules/util/MNDHandler','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/data/MultiAxesDataAdapter','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/dataUtil','sap/viz/modules/Constants'],function Setup(o,B,c,M,C,e,T,O,f,g,S,N,h,l,k,p,q){var r='v-module';var s='v-modules';var t=q.CSS.CLASS.DATAPOINT;var u=['line','line','line'];var v={priorityMap:{'bar':5,'line':0},defaultShape:'line',MNDOnCategory:false,MNDInner:false};var w=function(_,a){this.mtype=_;this.that=a};w.prototype.initialized=function(){x.initialized(this.mtype,this.that)};w.prototype.startToInit=function(){this.that._eDispatch.startToInit()};var x={initialized:function(m,_){var i;if(_._module[m]){_._module[m].isCompleteAnimation=true}for(i in _._module){if(!_._module[i].isCompleteAnimation){return true}}_.hasAnimationEnd=true;return true}};var y=function(m,a){y.superclass.constructor.apply(this,arguments);O.extend(true,this._props,v);this._setProperty(m.props(null));this._effectManager=a.effectManager;this._ctx=a;this._rawdata=undefined;this._randomSuffix=O.guid();this._clipRect=undefined;this._module=undefined;this._lastmodule=undefined;this._colorPalette=undefined;this._shapePalette=undefined;this._tooltipdata=undefined;this.isDataSchemaChanged=false;this.isDataLoading=true;this.isSizeChanged=false;this.isDatasetChanged=false;this._tooltipDataHandler=undefined;this.hasAnimationEnd=undefined;this._need_computeScales=false;this._need_prepareData=false};o.extend(y,B);y.prototype.render=function(a,b){k.drawBound(a,this._width,this._height);this._tooltipDataHandler=g();this._redraw(a,b);this.isDataSchemaChanged=false,this.isDataLoading=false,this.isSizeChanged=false,this.isDatasetChanged=false;return this};y.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};y.prototype.width=function(_){if(!arguments.length){return this._width}this._width=_;this.isSizeChanged=(!this.isSizeChanged&&(_===this._width))?false:true;this._need_computeScales=true;return this};y.prototype.height=function(_){if(!arguments.length){return this._height}this._height=_;this.isSizeChanged=(!this.isSizeChanged&&(_===this._height))?false:true;this._need_computeScales=true;return this};y.prototype.size=function(_){if(!arguments.length){return{width:this._width,height:this._height}}if(_.width!==this._width||_.height!==this._height){this._width=_.width;this._height=_.height;this._need_computeScales=true;this._computeScales()}return this};y.prototype.properties=function(_){if(!arguments.length){return this._getProperty()}this._setProperty(h.extend(true,this._getProperty(),_));return this};y.prototype.dataLabel=function(_){};y.prototype.data=function(_){if(!arguments.length){return this._rawdata}if((!_)||(this._rawdata===_)){return}this._rawdata=_;this.isDatasetChanged=true;this.isDataSchemaChanged=false;if(!p().hasSameSchema(this._rawdata,_)){this.isDataSchemaChanged=true}this._need_prepareData=true;return this};y.prototype.primaryAxisTitle=function(_){if(!arguments.length){var a=this._rawdata.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join(' & ')}return this};y.prototype.secondAxisTitle=function(_){if(!arguments.length){var a=this._rawdata.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join(' & ')}return this};y.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};y.prototype.primaryScale=function(a){if(!arguments.length){this._computeScales();return this._valueAxis1.scale}this._valueAxis1.scale=a;this._need_computeScales=false;return this};y.prototype.secondaryScale=function(a){if(!arguments.length){this._computeScales();return this._valueAxis2.scale}this._valueAxis2.scale=a;this._need_computeScales=false;return this};y.prototype.categoryScale=function(a){if(!arguments.length){this._computeScales();return this._categoryScale}this._categoryScale=a;this._need_computeScales=false;return this};y.prototype.primaryDataRange=function(a){if(!arguments.length){this._computeScales();return{min:this._valueAxis1.bottomValue,max:this._valueAxis1.topValue}}var b,d;if(a!==null){if(!isNaN(a.max)){b=a.max}else{b=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(a.min)){d=a.min}else{d=this._valueAxis1.scale.perfectDomainBegin}if(b>d){this._valueAxis1.topValue=b;this._valueAxis1.bottomValue=d;if(a.from==='axis'){this._valueAxis1.manualRange=true}this._need_computeScales=true}}else{if(this._valueAxis1.manualRange===true){this._valueAxis1.topValue=this._valueAxis1.initTopValue;this._valueAxis1.bottomValue=this._valueAxis1.initBottomValue;this._valueAxis1.manualRange=false;this._need_computeScales=true}}return this};y.prototype.secondDataRange=function(a){if(!arguments.length){this._computeScales();return{min:this._valueAxis2.bottomValue,max:this._valueAxis2.topValue}}var b,d;if(a!==null){if(!isNaN(a.max)){b=a.max}else{b=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(a.min)){d=a.min}else{d=this._valueAxis2.scale.perfectDomainBegin}if(b>d){this._valueAxis2.topValue=b;this._valueAxis2.bottomValue=d;if(a.from==='axis'){this._valueAxis2.manualRange=true}this._need_computeScales=true}}else{if(this._valueAxis2.manualRange===true){this._valueAxis2.topValue=this._valueAxis2.initTopValue;this._valueAxis2.bottomValue=this._valueAxis2.initBottomValue;this._valueAxis2.manualRange=false;this._need_computeScales=true}}return this};y.prototype.primaryAxisColor=function(){if(!this._props.MNDOnCategory){return this._props.primaryValuesColorPalette[0]}else{return null}};y.prototype.secondAxisColor=function(){if(!this._props.MNDOnCategory){return this._props.secondaryValuesColorPalette[0]}else{return null}};y.prototype.colorPalette=function(P){if(!arguments.length){return this._colorPalette}return this};y.prototype.shapePalette=function(P){if(!arguments.length){return this._shapePalette}return this};y.prototype.clear=function(a){for(var i in this._module){if(a===undefined||a===false){this._module[i].module.clear()}else{this._module[i].module.clear('grayall')}}};y.prototype.highlight=function(a,b){var i,j;var d;if(a instanceof Array){d=a}else{d=[];d.push(a)}if(d.length===0){return}for(i in this._module){if(this._module.hasOwnProperty(i)){this._module[i].highlightArray=[]}}for(i=0;i<d.length;i++){var m=d[i];for(j in this._module){if(this._module.hasOwnProperty(j)){var n=this._module[j].dataPointElements;if(this._isExist(n,m)){this._module[j].highlightArray.push(m);break}}}}for(i in this._module){if(this._module.hasOwnProperty(i)&&this._module[i].highlightArray.length!==0){this._module[i].module.highlight(this._module[i].highlightArray,b)}}};y.prototype.unhighlight=function(a,b,n){var i,j;var d;if(a instanceof Array){d=a}else{d=[];d.push(a)}for(i in this._module){if(this._module.hasOwnProperty(i)){this._module[i].unhighlightArray=[]}}for(i=0;i<d.length;i++){var m=d[i];for(j in this._module){if(this._module.hasOwnProperty(j)){var z=this._module[j].dataPointElements;if(this._isExist(z,m)){this._module[j].unhighlightArray.push(m);break}}}}for(i in this._module){if(this._module.hasOwnProperty(i)&&this._module[i].unhighlightArray.length!==0){this._module[i].module.unhighlight(this._module[i].unhighlightArray,b,n)}}};y.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll('.'+t).remove()}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}this._valueAxis1.data=null;this._valueAxis1.manualRange=null;this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null;this._valueAxis2.data=null;this._valueAxis2.manualRange=null;this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null;this._categoryScale=null;this._valueAxis1=null;this._valueAxis2=null;this._effectManager=null;this._d3root=null;if(this._ctx){this._ctx.destroy();this._ctx=null}};y.prototype._init_data=function(){if(this._module&&this._module.bar&&this._module.bar.module){this._lastmodule=this._module}this._module={};if(!this._valueAxis1.manualRange){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null}if(!this._valueAxis2.manualRange){this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null}this._valueAxis1.scale=d3.scale.linear();this._valueAxis2.scale=d3.scale.linear()};y.prototype._prepareData=function(){var i,j,m,a;if(!this._need_prepareData){return}this._init_data();var b=e(this._rawdata);this._props.MNDInner=b.MNDInner;this._valueAxis1.data=b['MG1'];this._valueAxis2.data=b['MG2'];this._tooltipdata=g.dataTransform(b);if(b.color){var d=b['MG1'];var n=[];var z=[];for(i=0;i<d.length;i++){var A=[];var D=[];var E=d[i];for(j=0;j<E.length;j++){if(b.color[j]===0){A.push(E[j])}else if(b.color[j]===1){D.push(E[j])}}n.push(A);z.push(D)}this._valueAxis1.data=n;this._valueAxis2.data=z}if(b.hasMND&&!b.MNDOnColor){m=this._props.dataShape.primaryAxis[0];if(m===undefined||m===null){m=this._props.defaultShape}if(this._module[m]===undefined){this._module[m]={}}this._module[m].data=this._rawdata;this._props.MNDOnCategory=true}else{this._props.MNDOnCategory=false;var F=this._rawdata.getAnalysisAxisDataByIdx(0);var G=this._rawdata.getAnalysisAxisDataByIdx(1);var H=this._rawdata.getMeasureValuesGroupDataByIdx(0);var I=this._rawdata.getMeasureValuesGroupDataByIdx(1);for(i=0;i<H.values.length;i++){m=this._props.dataShape.primaryAxis[i];if(m===undefined||m===null){m=this._props.defaultShape}if(this._module[m]===undefined){this._module[m]={m1Num:0,m2Num:0}}a=this._module[m];a.m1Num++;if(a.data===undefined){a.data=new f();a.data.addAnalysisAxis(F);a.data.addAnalysisAxis(G);a.data.addMeasureValuesGroup({index:H.index,values:[]});if(I){a.data.addMeasureValuesGroup({index:I.index,values:[]})}}var J=a.data.getMeasureValuesGroupDataByIdx(0);J.values.push(H.values[i])}if(I){for(i=0;i<I.values.length;i++){m=this._props.dataShape.secondaryAxis!==u?this._props.dataShape.secondaryAxis[i]:this._props.dataShape.secondAxis[i];if(m===undefined||m===null){m=this._props.defaultShape}if(this._module[m]===undefined){this._module[m]={m1Num:0,m2Num:0}}a=this._module[m];a.m2Num++;if(a.data===undefined){a.data=new f();a.data.addAnalysisAxis(F);a.data.addAnalysisAxis(G);a.data.addMeasureValuesGroup({index:H.index,values:[]});if(I){a.data.addMeasureValuesGroup({index:I.index,values:[]})}}var K=a.data.getMeasureValuesGroupDataByIdx(1);K.values.push(I.values[i])}}}this._prepareColor();this._need_prepareData=false;this._need_computeScales=true};y.prototype._prepareColor=function(){var i,j,a,m,b;if(this._rawdata===undefined){return}var d=this._rawdata.getMeasureValuesGroupDataByIdx(0);var n=this._rawdata.getMeasureValuesGroupDataByIdx(1);var z;var A;if(n&&!this._props.MNDOnCategory){z=this._props.primaryValuesColorPalette}else{z=this._props.colorPalette}A=this._props.secondaryValuesColorPalette;this._colorPalette=[];this._shapePalette=[];for(i in this._module){if(this._module.hasOwnProperty(i)){this._module[i].colorPaletteY1=[];this._module[i].currentM1Index=-1;if(n){this._module[i].colorPaletteY2=[];this._module[i].currentM2Index=-1}}}if(this._props.MNDOnCategory){m=this._props.dataShape.primaryAxis[0];var D=d.values[0].rows.length;for(j=0;j<D;j++){this._module[m].colorPaletteY1.push(z[(j)%z.length]);this._shapePalette.push(this._getShape(m));this._colorPalette.push(z[(j)%z.length])}}else{var E=d.values.length;var F=0;if(n){F=n.values.length}var G=E+F;var H=d.values[0].rows.length;for(i=0;i<E;i++){m=this._props.dataShape.primaryAxis[i];if(m===undefined||m===null){m=this._props.defaultShape}b=this._module[m];b.currentM1Index++;for(j=0;j<H;j++){if(this._props.MNDInner){a=z[(i+j*E)%z.length];b.colorPaletteY1[b.currentM1Index+j*b.m1Num]=a;this._shapePalette[i+j*G]=this._getShape(m);this._colorPalette[i+j*G]=a}else{a=z[(i*H+j)%z.length];this._module[m].colorPaletteY1.push(a);this._shapePalette.push(this._getShape(m));this._colorPalette.push(a)}}}if(n){for(i=0;i<F;i++){m=this._props.dataShape.secondaryAxis!==this.defaultSecondaryAxis?this._props.dataShape.secondaryAxis[i]:this._props.dataShape.secondAxis[i];if(m===undefined||m===null){m=this._props.defaultShape}b=this._module[m];b.currentM2Index++;for(j=0;j<H;j++){if(this._props.MNDInner){a=A[(i+j*F)%A.length];b.colorPaletteY2[b.currentM2Index+j*b.m2Num]=a;this._shapePalette[E+i+j*G]=this._getShape(m);this._colorPalette[E+i+j*G]=a}else{a=A[(i*H+j)%A.length];this._module[m].colorPaletteY2.push(a);this._shapePalette.push(this._getShape(m));this._colorPalette.push(a)}}}}}};y.prototype._moduleSortHelp=function(a,b){return(v.priorityMap[b]-v.priorityMap[a])};y.prototype._prepareModule=function(a){var b=[],i,j,m,n,z;var A=this;for(i in this._module){if(this._module.hasOwnProperty(i)){b.push(i)}}b.sort(this._moduleSortHelp);if(!this._clipRect){n="clip1_"+this._randomSuffix;this._clipRect=this._d3root.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",n).append("rect");this._d3root.attr('clip-path',"url(#"+n+")")}if(this._clipRect){this._clipRect.attr("width",this._width).attr("height",this._height)}this._datashapesgroup=this._d3root.selectAll('.'+s);if(this._datashapesgroup.empty()){this._datashapesgroup=this._d3root.append('svg:g').attr('class',s)}if(!a||!a.isPinching){this._datashapesgroup.attr("transform",undefined)}var D=this._datashapesgroup.selectAll('.'+r).data(b);D.enter().append('svg:g').attr('class',r);D.exit().remove();D.each(function(d){A._module[d].d3root=d3.select(this)});for(i in this._module){if(this._module.hasOwnProperty(i)){if(!this._module[i].module){if(this._lastmodule&&this._lastmodule[i]&&this._lastmodule[i].module){this._module[i].module=this._lastmodule[i].module}else{this._module[i].module=this._getModule(i)}}var E=false;if(this.isDataLoading){E=this._props.animation.dataLoading}else if(this.isDatasetChanged){E=this._props.animation.dataUpdating}else if(this.isSizeChanged){E=this._props.animation.resizing}var F={colorPalette:this._module[i].colorPaletteY1,primaryValuesColorPalette:this._module[i].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:E,dataUpdating:E},drawingEffect:this._props.drawingEffect,drawClipPath:false,formatRules:this._props.formatRules,orientation:this._props.orientation};if(this._module[i].colorPaletteY2){F.secondaryValuesColorPalette=this._module[i].colorPaletteY2}switch(i){case'line':O.extend(F,this._props.line);break;case'bar':O.extend(F,this._props.bar);break;default:break}this._module[i].props=F;this._module[i].module.dispatch(new w(i,this))}}};y.prototype._redraw=function(a,b){var i,d,j,n;var z=this;this._d3root=a;this.hasAnimationEnd=false;this._prepareData();this._computeScales();this._prepareModule(b);if(this._module.hasOwnProperty('bar')){p().addMetaInfo2Data(this._module,'bar',{chart:'combination',element:'bar'})}if(this._module.hasOwnProperty('line')){p().addMetaInfo2Data(this._module,'line',{chart:'combination',element:'line'})}for(i in this._module){if(this._module.hasOwnProperty(i)){var m=this._module[i];d=d3.scale.linear();d.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range());var A=this._categoryScale.rangeExtent();j=d3.scale.ordinal();j.domain(this._categoryScale.domain()).rangeBands(A);m.module.width(null).height(null).data(null);m.module.width(this._width).height(this._height).data(m.data).properties(m.props).primaryScale(d).categoryScale(j);if(m.module.setRawData){m.module.setRawData(this._rawdata)}var D=this._rawdata.getMeasureValuesGroupDataByIdx(1);if(D){n=d3.scale.linear();n.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range());switch(i){case'bar':m.module.secondScale(n);break;case'line':m.module.secondaryScale(n);break;default:break}}m.d3root.call(m.module);m.dataPointElements=[];m.d3root.selectAll('.v-datapoint').each(function(){m.dataPointElements.push(this)})}}if(this.hasAnimationEnd){this._dispatch_initialized(this._eDispatch,b)}else{var E=20;var F=0;var G=5000;var H=setInterval(function(){if(z.hasAnimationEnd||F>G){clearInterval(H);z._dispatch_initialized(z._eDispatch,b)}else{F+=E}},E)}};y.prototype._dispatch_initialized=function(c,a){if(a&&a.isPinching){c.initialized({eventSource:'pinch'})}else{c.initialized()}};y.prototype._getCategoryIndex=function(a){var b;var d=this._categoryScale.domain().length;var i=a/this._categoryScale.rangeBand();i=Math.floor(i);if(i>d-1){i=d-1}if(i<0){i=0}return i};y.prototype._computeScales=function(){this._prepareData();if(!this._need_computeScales){return}var d=[];var a=0;var b,j;if(this._props.orientation==="vertical"){b=[0,this._width];j=[this._height,0]}else if(this._props.orientation==="horizontal"){j=[0,this._width];b=[0,this._height]}if(this._props.MNDOnCategory){if(this._valueAxis1.data&&this._valueAxis1.data.length>0){a+=this._valueAxis1.data[0].length}if(this._valueAxis2.data&&this._valueAxis2.data.length>0){a+=this._valueAxis2.data[0].length}}else{if(this._valueAxis1.data&&this._valueAxis1.data.length>0){a=this._valueAxis1.data[0].length}else{a=this._valueAxis2.data[0].length}}for(var i=0;i<a;i++){d.push(i)}this._categoryScale.domain(d).rangeBands(b);this._calculateScale(this._valueAxis1,this._valueAxis1.scale);this._calculateScale(this._valueAxis2,this._valueAxis2.scale);if(this._valueAxis1.data&&this._valueAxis1.data.length>0&&this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(j);this._valueAxis2.scale.domain([0,1]).range(j)}else if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length!==0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}else if(this._valueAxis1.scale.domain().length!==0&&this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}if(!this._valueAxis1.manualRange&&!this._valueAxis2.manualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._valueAxis1.manualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else if(!this._valueAxis2.manualRange){S.perfect(this._valueAxis2.scale);S.getRoughTickNum(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else if(this._valueAxis1.data&&this._valueAxis1.data.length>0){if(this._valueAxis1.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(j)}if(!this._valueAxis1.manualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}}else if(this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain([0,1]).range(j)}if(!this._valueAxis2.manualRange){S.perfect(this._valueAxis2.scale)}else{S.getRoughTickNum(this._valueAxis2.scale)}}this._need_computeScales=false};y.prototype._calculateScale=function(a,b){var d;if(this._props.orientation==="vertical"){d=[this._height,0]}else if(this._props.orientation==="horizontal"){d=[0,this._width]}if(a.data&&a.data.length>0){if(!a.topValue){var m=this._calculateMinMax(a);if(!m||(m.min===0&&m.max===0)){b.domain([]).range([])}else{b.domain([m.min,m.max]).range(d);a.initBottomValue=m.min;a.initTopValue=m.max}}else{b.domain([a.bottomValue,a.topValue]).range(d)}}else{b.domain([0,0]).range(0,0)}};y.prototype._getProperty=function(){var a={};a.orientation=this._props.orientation;a.tooltip={enabled:this._props.tooltip.enabled};a.primaryValuesColorPalette=this._props.primaryValuesColorPalette;a.secondaryValuesColorPalette=this._props.secondaryValuesColorPalette;a.colorPalette=this._props.colorPalette;a.drawingEffect=this._props.drawingEffect;a.formatRules=this._props.formatRules;a.animation={};O.extend(true,a.animation,this._props.animation);a.dataShape={};O.extend(true,a.dataShape,this._props.dataShape);a.bar={};O.extend(true,a.bar,this._props.bar);a.line={};O.extend(true,a.line,this._props.line);return a};y.prototype._setProperty=function(a){this._props.orientation=a.orientation;this._props.tooltip={enabled:a.tooltip.enabled};this._props.primaryValuesColorPalette=a.primaryValuesColorPalette;this._props.secondaryValuesColorPalette=a.secondaryValuesColorPalette;this._props.drawingEffect=a.drawingEffect;this._props.colorPalette=a.colorPalette;this._props.formatRules=a.formatRules;this._props.animation={};O.extend(true,this._props.animation,a.animation);this._props.dataShape={};O.extend(true,this._props.dataShape,a.dataShape);this._props.bar={};O.extend(true,this._props.bar,a.bar);this._props.line={};O.extend(true,this._props.line,a.line);return this._props};y.prototype._getModule=function(m){var a;if(this._props.orientation==="vertical"){switch(m){case'bar':a=M.get("sap.viz.modules.verticalbar");break;case'line':a=M.get("sap.viz.modules.line");break;default:break}}else if(this._props.orientation==="horizontal"){switch(m){case'bar':a=M.get("sap.viz.modules.bar");break;case'line':a=M.get("sap.viz.modules.horizontalline");break;default:break}}return a.execute(this._ctx)};y.prototype._getShape=function(m){var a;switch(m){case'line':a=this._props.line.marker.shape;break;case'bar':a='squareWithRadius';break;default:break}return a};y.prototype._isExist=function(a,b){for(var n=0;n<a.length;n++){if(a[n]===b){return true}}return false};y.prototype._calculateMinMax=function(a){if(!a.data||a.data.length===0){return null}var m={min:null,max:null};m.max=d3.max(a.data,function(d){return d3.max(d,function(_){return _.val})});m.min=d3.min(a.data,function(d){return d3.min(d,function(_){return _.val})});if(N.isNoValue(m.max)){return null}var b;if(this._props.orientation==="vertical"){b=this._height}else if(this._props.orientation==="horizontal"){b=this._width}if(m.min>=0){m.min=0;m.max+=m.max*5/b}else if(m.max<=0){m.max=0;m.min+=m.min*5/b}else{var i=(m.max-m.min)*5/b;m.min-=i;m.max+=i}return m};return y});define('sap/viz/modules/manifests/xy/Combination',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/combination','sap/viz/modules/manifests/xy/Base'],function Setup(M,C,U,f,B){var m={base:"sap.viz.modules.xy.base",'id':'sap.viz.modules.combination','name':'combination','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for the tooltip'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'dataShape':{'name':'dataShape','supportedValueType':'Object','supportedValues':{'primaryAxis':{'name':'primaryAxis','supportedValueType':'StringArray','supportedValues':['bar','line'],'defaultValue':['bar','line','line'],'description':'Set the shape of data series on the primary axis'},'secondaryAxis':{'name':'secondaryAxis','supportedValueType':'StringArray','supportedValues':['line','line'],'defaultValue':['line','line','line'],'description':'Set the shape of data series on the secondary axis','isExported':true},'secondAxis':{'name':'secondAxis','supportedValueType':'StringArray','supportedValues':['line','line'],'defaultValue':['line','line','line'],'description':'Set the shape of data series on the secondary axis (Old version; still works)','isExported':false}},'description':'Settings for the shape of data series'},'bar':{'name':'bar','supportedValueType':'Object','supportedValues':{'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the bars have rounded corners','isExported':false}},'description':'Settings for bar properties'},'line':{'name':'line','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'description':"Set the width of lines, ranging from '1' to '7'. If you enter a value outside the range, the line width will default to '2'."},'marker':{'name':'marker','description':'Settings for the visual markers for data points','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the data point markers'},'shape':{'name':'shape','supportedValueType':'StringArray','supportedValues':['circle','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'defaultValue':'circle','description':'Set the shape of the data point markers'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':"Set the size of the data point markers, ranging from '4' to '32'. If you enter a value outside the range, the size defaults to '6'."},'number':{'name':'number','isExported':U.isMobile()?true:false,'supportedValueType':'Int','defaultValue':Number.POSITIVE_INFINITY,'description':'Set the number to enable events for markers when they are invisible. '+'If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. '+'The default value is Number.POSITIVE_INFINITY, which is the largest possible value.'}}}},'description':'Settings for line properties'},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},css:{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/BaseLine',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/modules/util/dataUtil','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/base/utils/TypeUtils','sap/viz/util/Scaler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/BoundingBox','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/util/DrawUtil','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/manifests/Module','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/UADetector','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants'],function Setup(o,B,d,a,M,T,S,C,b,N,l,D,c,e,O,f,U,g,h,m){var n=m.CSS.CLASS.DATAPOINTSELECTED,p=m.CSS.CLASS.DATAPOINTHOVER,q=m.CSS.CLASS.DATAPOINTDEFAULT,r=m.CSS.CLASS.DATAPOINT,s=m.CSS.CLASS.MORPHABLEDATAPOINT,t=m.CSS.CLASS.MORPHABLELINE;var u="v-lines",v="."+u;var w="v-lightLine",x="."+w;var y=r+' '+s;var z=u+' '+t;var A=w+' '+t;var E=0.4;var P='v-axis1';var F='v-axis2';var G=function(i,j){G.superclass.constructor.apply(this,arguments);this._line_data=null;f.extend(true,this._props,i.props(null));this._line_randomSuffix=O.guid();this._line_tooltipData=null;this._line_tooltipDataHandler=null;this._line_svgMarkersGroup=null;this._line_svgLinesGroup=null;this._line_svgLightLinesGroup=null;this._line_hasMND=undefined;this._line_bMNDOnColor=undefined;this._line_bMNDInner=undefined;this._line_effectManager=j.effectManager;this._line_styleManager=j.styleManager;f.extend(true,this._valueAxis1,{data:[],colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,highLines:[]});f.extend(true,this._valueAxis2,{data:[],colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,initBottomValue:null,initTopValue:null,highLines:[]});this._line_colorPalette=[];this._line_hasDefaultSelection=false;this._line_isDataSchemaChanged=false;this._line_isDataLoading=true;this._line_isSizeChanged=false;this._line_isDatasetChanged=false;this._line_selectedMarkerNum=0;this._line_needRescale=false;this._line_clipRect=null;this._line_animation_clipPath=null;this._line_animation_clipRect=null;this._line_gapObj=null;this._line_threshold=false};o.extend(G,B);G.prototype.render=function(i,j){g.drawBound(i,this._width,this._height);this._line_tooltipDataHandler=c();this._linefn_renderChart(i,j);this._line_isDataSchemaChanged=false,this._line_isDataLoading=false,this._line_isSizeChanged=false,this._line_isDatasetChanged=false;return this};G.prototype.width=function(i){if(!arguments.length){return this._width}this._line_isSizeChanged=(!this._line_isSizeChanged&&(i===this._width))?false:true;this._width=i;if(this._line_isSizeChanged){this._line_needRescale=true}return this};G.prototype.height=function(i){if(!arguments.length){return this._height}this._line_isSizeChanged=(!this._line_isSizeChanged&&(i===this._height))?false:true;this._height=i;if(this._line_isSizeChanged){this._line_needRescale=true}return this};G.prototype.properties=function(_){if(!arguments.length){return this._props}f.extend(true,this._props,_);if(this._props.marker.size<4||this._props.marker.size>32){this._props.marker.size=6}if(this._props.width<1||this._props.width>7){this._props.width=2}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._line_data)){this._line_needRescale=true}this._linefn_createColorPalette();return this};G.prototype.primaryAxisColor=function(){if(this._valueAxis2.data&&this._valueAxis2.data.length>0){return this._line_effectManager.register({graphType:"line",fillColor:this._valueAxis1.colorPalette[0]})}else{return null}};G.prototype.secondAxisColor=function(){return this._line_effectManager.register({graphType:"line",fillColor:this._valueAxis2.colorPalette[0]})};G.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};G.prototype.data=function(i){if(!arguments.length){return this._line_data}this._line_isDatasetChanged=true;this._line_isDataSchemaChanged=false;if(!d().hasSameSchema(this._line_data,i)){this._line_isDataSchemaChanged=true}this._line_data=i;if(this._line_data){var j=M(this._line_data);this._valueAxis1.data=j["MG1"];this._valueAxis2.data=j["MG2"];this._linefn_resetDataRange();var k=(this._valueAxis1.data.length===0?this._valueAxis2.data[0][0]:this._valueAxis1.data[0][0]);if(k.info&&k.info.defaultSelection){this._line_hasDefaultSelection=true}else{this._line_hasDefaultSelection=false}this._line_hasMND=j["hasMND"];this._line_bMNDOnColor=j["MNDOnColor"];this._line_bMNDInner=j["MNDInner"];this._line_tooltipData=c.dataTransform(j);if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._line_data)){this._line_needRescale=true}this._linefn_createColorPalette()}return this};G.prototype.dataLabel=function(_){};G.prototype.primaryAxisTitle=function(_){if(!arguments.length){var j=this._line_data.getMeasureValuesGroupDataByIdx(0),k=[];if(j){for(var i=0,H=j.values.length;i<H;i++){if(j.values[i].col!==null&&j.values[i].col!==undefined){k.push(j.values[i].col)}else{k.push(l.get('IDS_ISNOVALUE'))}}}return k.join(' & ')}return this};G.prototype.secondAxisTitle=function(_){if(!arguments.length){var j=this._line_data.getMeasureValuesGroupDataByIdx(1),k=[];if(j){for(var i=0,H=j.values.length;i<H;i++){if(j.values[i].col!==null&&j.values[i].col!==undefined){k.push(j.values[i].col)}else{k.push(l.get('IDS_ISNOVALUE'))}}}return k.join(' & ')}return this};G.prototype.getColorPalette=function(){if(this._line_colorPalette.length===0){this._linefn_createColorPalette()}return this._line_colorPalette};G.prototype.shapePalette=function(){if(!arguments.length){return[this._props.marker.shape]}return this};G.prototype.primaryScale=function(i){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=i;this._line_needRescale=false;return this};G.prototype.secondaryScale=function(i){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=i;this._line_needRescale=false;return this};G.prototype.categoryScale=function(i){if(!arguments.length){return this._categoryScale}this._categoryScale=i;return this};G.prototype.primaryDataRange=function(i){if(!arguments.length){return{min:this._valueAxis1.bottomValue,max:this._valueAxis1.topValue}}var j,k;if(i!==null){if(!isNaN(i.max)){j=i.max}else{j=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(i.min)){k=i.min}else{k=this._valueAxis1.scale.perfectDomainBegin}if(j>k){this._valueAxis1.topValue=j;this._valueAxis1.bottomValue=k;if(i.from==='axis'){this._valueAxis1.manualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._linefn_calculateScale(this._valueAxis1)}}}else{if(this._valueAxis1.manualRange===true){this._valueAxis1.topValue=this._valueAxis1.initTopValue;this._valueAxis1.bottomValue=this._valueAxis1.initBottomValue;this._valueAxis1.manualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._linefn_calculateScale(this._valueAxis1)}}}return this};G.prototype.secondDataRange=function(i){if(!arguments.length){return{min:this._valueAxis2.bottomValue,max:this._valueAxis2.topValue}}var j,k;if(i!==null){if(!isNaN(i.max)){j=i.max}else{j=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(i.min)){k=i.min}else{k=this._valueAxis2.scale.perfectDomainBegin}if(j>k){this._valueAxis2.topValue=j;this._valueAxis2.bottomValue=k;if(i.from==='axis'){this._valueAxis2.manualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._linefn_calculateScale(this._valueAxis2)}}}else{if(this._valueAxis2.manualRange===true){this._valueAxis2.topValue=this._valueAxis2.initTopValue;this._valueAxis2.bottomValue=this._valueAxis2.initBottomValue;this._valueAxis2.manualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._linefn_calculateScale(this._valueAxis2)}}}return this};G.prototype.reScale=function(){if(this._line_needRescale){this._linefn_computeScales()}};G.prototype.size=function(_){if(arguments.length===0){return{width:this._width,height:this._height}}var i=(_.height!==this._height)||(_.width!==this._width);this._line_isSizeChanged=(!this._line_isSizeChanged&&(_.height===this._height)&&(_.width===this._width))?false:true;this._width=_.width;this._height=_.height;if(this._line_isSizeChanged){this._line_needRescale=true}return this};G.prototype.clear=function(i){};G.prototype.highlight=function(j,k){if(!T.isArray(j)){j=[j]}var i;if(!k){for(i=0;i<j.length;i++){var H=j[i];if(!this._linefn_processOneAxisSelect(this._valueAxis1,H)){this._linefn_processOneAxisSelect(this._valueAxis2,H)}}}else{d3.selectAll(j).classed(n,false).classed(p,true);D.nodesHighlight(j,{factor:0.7,constant:0},this._line_effectManager,k);if(!this._props.marker.visible){for(i=0;i<j.length;i++){j[i].setAttribute('fill-opacity',1);j[i].setAttribute('stroke-opacity',1)}}}if(!k&&this._props.marker.visible){this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+n).attr("fill-opacity",1).classed(q,false);this._line_svgMarkersGroup.selectAll("g."+F).selectAll("g.v-marker").selectAll("."+n).attr("fill-opacity",1).classed(q,false)}if(this._line_hasDefaultSelection){h.clearSelectionInfo(this._d3root,true,j)}};G.prototype.unhighlight=function(j,k,H){if(!T.isArray(j)){j=[j]}var i;if(!k&&!H){this._line_selectedMarkerNum-=j.length;for(i=0;i<j.length;i++){var I=j[i];if(!this._linefn_processOneAxisDeselect(this._valueAxis1,I,H)){this._linefn_processOneAxisDeselect(this._valueAxis2,I,H)}}}else{D.nodesUnhighlight(j,k,H);if(k){d3.selectAll(j).classed(n,true).classed(p,false)}else{d3.selectAll(j).classed(n,false).classed(p,false).classed(q,true);if(!this._props.marker.visible){for(i=0;i<j.length;i++){j[i].setAttribute('fill-opacity',0);j[i].setAttribute('stroke-opacity',0)}}}}if(this._line_hasDefaultSelection){h.clearSelectionInfo(this._d3root,false,j)}};G.prototype.globalDOMDestroy=function(_){var i=0;if(_){_.remove();for(i=0;i<_.length;i++){_[i]=null}_=null}};G.prototype.destroy=function(){var i=0;var j=0;if(this._line_tooltipData){for(i=0;i<this._line_tooltipData.length;i++){this._line_tooltipData[i]=null}this._line_tooltipData=null}if(this._valueAxis1){if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis1.data){for(i=0;i<this._valueAxis1.data.length;i++){this._valueAxis1.data[i]=null}this._valueAxis1.data=null}if(this._valueAxis1.selectedMarkers){for(i=0;i<this._valueAxis1.selectedMarkers.length;i++){this._valueAxis1.selectedMarkers[i]=null}this._valueAxis1.selectedMarkers=null}if(this._valueAxis1.markers){for(i=0;i<this._valueAxis1.markers.length;i++){for(j=0;j<this._valueAxis1.markers[i].length;j++){if(this._valueAxis1.markers[i]&&this._valueAxis1.markers[i][j]&&this._valueAxis1.markers[i][j].remove){this._valueAxis1.markers[i][j].remove()}this._valueAxis1.markers[i][j]=null}this._valueAxis1.markers[i]=null}this._valueAxis1.markers=null}this._valueAxis1=null}if(this._valueAxis2){if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.data){for(i=0;i<this._valueAxis2.data.length;i++){this._valueAxis2.data[i]=null}this._valueAxis2.data=null}if(this._valueAxis2.selectedMarkers){for(i=0;i<this._valueAxis2.selectedMarkers.length;i++){this._valueAxis2.selectedMarkers[i]=null}this._valueAxis2.selectedMarkers=null}if(this._valueAxis2.markers){for(i=0;i<this._valueAxis2.markers.length;i++){for(j=0;j<this._valueAxis2.markers[i].length;j++){if(this._valueAxis2.markers[i]&&this._valueAxis2.markers[i][j]&&this._valueAxis2.markers[i][j].remove){this._valueAxis2.markers[i][j].remove()}this._valueAxis2.markers[i][j]=null}this._valueAxis2.markers[i]=null}this._valueAxis2.markers=null}this._valueAxis2=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._d3root){this._d3root.selectAll('.'+r).remove()}if(this._line_svgLinesGroup){this.globalDOMDestroy(this._line_svgLinesGroup);this._line_svgLinesGroup=null}if(this._line_svgLightLinesGroup){this.globalDOMDestroy(this._line_svgLightLinesGroup);this._line_svgLightLinesGroup=null}if(this._line_svgMarkersGroup){this.globalDOMDestroy(this._line_svgMarkersGroup);this._line_svgMarkersGroup=null}if(this._datashapesgroup){this.globalDOMDestroy(this._datashapesgroup);this._datashapesgroup=null}if(this._line_clipRect){this.globalDOMDestroy(this._line_clipRect);this._line_clipRect=null}if(this._d3root){this.globalDOMDestroy(this._d3root);this._d3root=null}this._line_animation_clipPath=null;this._line_animation_clipRect=null;this._line_data=null;this._raw_data=null;if(this._line_effectManager&&this._line_effectManager.destroy){this._line_effectManager.destroy()}if(this._line_styleManager&&this._line_styleManager.destroy){this._line_styleManager.destroy()}this._eDispatch=null;this._line_colorPalette=null;this._line_randomSuffix=null;this._line_tooltipDataHandler=null;this._props=null;this._line_effectManager=null;this._line_styleManager=null};G.prototype._linefn_enableAnimation=function(){var i=false;if(this._line_isDataLoading){i=this._props.animation.dataLoading}else if(this._line_isDatasetChanged){i=this._props.animation.dataUpdating}else if(this._line_isSizeChanged){i=this._props.animation.resizing}return i};G.prototype.setRawData=function(i){this._raw_data=i};G.prototype._linefn_createColorPalette=function(){this._line_colorPalette=[];var i=0,j=0;if(this._valueAxis2.data&&this._valueAxis2.data.length>0){this._valueAxis1.colorPalette=this._props.primaryValuesColorPalette}else{this._valueAxis1.colorPalette=this._props.colorPalette}this._valueAxis2.colorPalette=this._props.secondaryValuesColorPalette;if(this._line_hasMND&&this._line_bMNDOnColor&&this._line_bMNDInner){var k=this._line_data.getMeasureValuesGroupDataByIdx(0);var H=this._line_data.getMeasureValuesGroupDataByIdx(1);var I=0,J=0,K=0,L=0;if(k&&k.values.length>0){I=k.values.length;L=k.values[0].rows.length}if(H&&H.values.length>0){J=H.values.length;L=H.values[0].rows.length}for(i=0;i<L;i++){for(j=0;j<I;j++){this._line_colorPalette.push(this._valueAxis1.colorPalette[(i*I+j)%this._valueAxis1.colorPalette.length])}for(j=0;j<J;j++){this._line_colorPalette.push(this._valueAxis2.colorPalette[(i*J+j)%this._valueAxis2.colorPalette.length])}}}else{for(i=0;i<this._valueAxis1.data.length;++i){this._line_colorPalette.push(this._valueAxis1.colorPalette[i%this._valueAxis1.colorPalette.length])}if(this._valueAxis2.data&&this._valueAxis2.data.length>0){for(i=0;i<this._valueAxis2.data.length;++i){this._line_colorPalette.push(this._valueAxis2.colorPalette[i%this._valueAxis2.colorPalette.length])}}}};G.prototype._linefn_resetDataRange=function(){this._valueAxis1.highLines=[];this._valueAxis2.highLines=[];if(!this._valueAxis1.manualRange){this._valueAxis1.topValue=null;this._valueAxis1.bottomValue=null}if(!this._valueAxis2.manualRange){this._valueAxis2.topValue=null;this._valueAxis2.bottomValue=null}this._valueAxis1.scale=d3.scale.linear();this._valueAxis2.scale=d3.scale.linear()};G.prototype._linefn_calculateScale=function(i){};G.prototype._linefn_computeScales=function(){};G.prototype._linefn_lightLine=function(i,j,k,H){};G.prototype._linefn_changeOneMarker=function(i,j,k,H,I){if(this._line_threshold){return}var J;var K;if(k===n){J=false;if(j>0&&H.selectedMarkers[i][j-1]){this._linefn_lightLine(i,j-1,"visible",H)}if(j<H.markers[0].length-1&&H.selectedMarkers[i][j+1]){this._linefn_lightLine(i,j,"visible",H)}H.selectedMarkers[i][j]=true;K=d3.select(H.markers[i][j]);K.attr("class",y+' '+k);D.nodesHighlight(K[0][0],{factor:0.7,constant:0},this._line_effectManager,J);if(!this._props.marker.visible){K.attr('stroke-opacity',1)}}else{if(H.selectedMarkers[i][j]&&!I){if(j>0&&H.selectedMarkers[i][j-1]){this._linefn_lightLine(i,j-1,"hidden",H)}if(j<H.markers[0].length-1&&H.selectedMarkers[i][j+1]){this._linefn_lightLine(i,j,"hidden",H)}H.selectedMarkers[i][j]=false}K=d3.select(H.markers[i][j]);K.attr("class",y+' '+k);D.nodesUnhighlight(K[0][0],false,I);if(!this._props.marker.visible){K.attr('fill-opacity',0);K.attr('stroke-opacity',0)}}};G.prototype._linefn_processOneAxisSelect=function(i,j){var k,H;k=j.__data__.y;H=j.__data__.x;if(i.markers.length===0||!i.markers[k]||i.markers[k][H]!==j){return false}if(!i.selectedMarkers[k][H]){++this._line_selectedMarkerNum}this._linefn_changeOneMarker(k,H,n,i);return true};G.prototype._linefn_processOneAxisDeselect=function(i,j,k){var H,I;H=j.__data__.y;I=j.__data__.x;if(i.markers.length===0||!i.markers[H]||i.markers[H][I]!==j){return false}this._linefn_changeOneMarker(H,I,q,i,k);return true};G.prototype._linefn_processNullValue=function(H){var I={data:[],color:[]};var J=[],K,k;for(var i=0;i<H.length;++i){var L=0;for(var j=0;j<H[i].length;++j){if(N.isNoValue(H[i][j].val)){if(j>L){J=[];for(k=L;k<j;k++){K=H[i][k];K.x=k;K.y=i;J.push(K)}I.data.push(J);I.color.push(i)}L=j+1}}if(L<H[i].length){J=[];for(k=L;k<H[i].length;k++){K=H[i][k];K.x=k;K.y=i;J.push(K)}I.data.push(J);I.color.push(i)}}return I};G.prototype._linefn_processOneAxis=function(i,j){};G.prototype._linefn_processOneAxisDeselectAll=function(i,j){};G.prototype._linefn_getCurrentEvent=function(){if(d3.event){return d3.event}else{return window.event}};G.prototype._linefn_deselectedAllHandler=function(){};G.prototype._linefn_renderChart=function(i){};G.prototype._linefn_getCSSStyle=function(){if(!this._props.style){this._props.style={}}if(!this._props.style.marker){this._props.style.marker={}}this._props.style.marker.stroke="transparent"};G.prototype._linefn_lightAll=function(){this._line_svgLightLinesGroup.selectAll(x).attr("visibility","hidden");this._line_svgLinesGroup.attr("opacity",1);if(U.isIE()){this._line_svgLinesGroup.selectAll(v).attr("visibility","visible")}var i;if(this._props.marker.visible===true){i=1}else{i=0}if(U.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._line_effectManager!=='glossy'){i=1}this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+q).attr("fill-opacity",i).attr("class",y+" "+q);this._line_svgMarkersGroup.selectAll("g."+F).selectAll("g.v-marker").selectAll("."+q).attr("fill-opacity",i).attr("class",y+" "+q)};G.prototype._linefn_grayAll=function(){this._line_svgLightLinesGroup.selectAll(x).attr("visibility","hidden");this._line_svgLinesGroup.attr("opacity",E);if(U.isIE()){this._line_svgLinesGroup.selectAll(v).attr("visibility","visible")}var i;if(this._props.marker.visible===true){i=E}else{i=0}if(U.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._line_effectManager!=='glossy'){i=1}this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+q).attr("fill-opacity",i).attr("class",y+" "+q);this._line_svgMarkersGroup.selectAll("g."+F).selectAll("g.v-marker").selectAll("."+q).attr("fill-opacity",i).attr("class",y+" "+q)};G.prototype.setAxisGap=function(_){this._line_gapObj=_};return G});define('sap/viz/modules/line',['sap/viz/base/utils/oo','sap/viz/modules/BaseLine','sap/viz/modules/util/dataUtil','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/base/utils/TypeUtils','sap/viz/util/Scaler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/BoundingBox','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/util/DrawUtil','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/manifests/Module','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/base/UADetector','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/modules/util/selectionUtil'],function Setup(o,B,a,b,M,T,S,C,c,N,l,D,e,f,O,g,U,h,k,m,s){var n=function(i){var j={min:null,max:null};if(!i.data||i.data.length===0){return null}j.max=Number(d3.max(i.data,function(d){return d3.max(d,function(_){return _.val})}));j.min=Number(d3.min(i.data,function(d){return d3.min(d,function(_){return _.val})}));if(N.isNoValue(j.max)){return null}var Q;if(this._props.orientation==="vertical"){Q=this._height}else if(this._props.orientation==="horizontal"){Q=this._width}if(j.min>=0){j.min=0;j.max+=j.max*5/Q}else if(j.max<=0){j.max=0;j.min+=j.min*5/Q}else{var R=(j.max-j.min)*5/Q;j.min-=R;j.max+=R}return j};var p=function(d){var i;var j=this._categoryScale.domain().length;var Q=d/this._categoryScale.rangeBand();Q=Math.max(0,Math.min(j-1,Math.floor(Q)));return Q};var q=function(d){var i;if(d&&d.length){if(d[0].length){i=d.length*d[0].length}}else{i=0}return i};var r=m.CSS.CLASS.DATAPOINTSELECTED,t=m.CSS.CLASS.DATAPOINTHOVER,u=m.CSS.CLASS.DATAPOINTDEFAULT,v=m.CSS.CLASS.DATAPOINT,w=m.CSS.CLASS.MORPHABLEDATAPOINT,x=m.CSS.CLASS.MORPHABLELINE;var y="v-lines",z="."+y;var A="v-lightLine",E="."+A;var F="v-datashapesgroup";var G=v+' '+w;var H=y+' '+x;var I=A+' '+x;var J=0.4;var P='v-axis1';var K='v-axis2';var L=function(d,i){L.superclass.constructor.apply(this,arguments);this.resultCache=null;this.linesCache=null;this.groupsCache=null;this.seriesMarkersCache=null};o.extend(L,B);L.prototype.clear=function(d){this._linefn_deselectedAllHandler();if(d===null||d===undefined||d===false){this._linefn_lightAll();if(this._line_hasDefaultSelection){var i=[];i.push(this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+G));i.push(this._line_svgMarkersGroup.selectAll("g."+K).selectAll("g.v-marker").selectAll("."+G));k.clearSelectionInfo(this._d3root,false,i)}}else{this._linefn_grayAll()}};L.prototype._linefn_calculateScale=function(d){var i;if(this._props.orientation==="vertical"){i=[this._height,0]}else if(this._props.orientation==="horizontal"){i=[0,this._width]}if(d.data&&d.data.length>0){if(T.isNaN(d.topValue)){var j=n.call(this,d);if(!j||(j.min===0&&j.max===0)){d.scale.domain([]).range([]);d.bottomValue=null;d.topValue=null}else{d.scale.domain([j.min,j.max]).range(i);d.bottomValue=j.min;d.topValue=j.max;d.initBottomValue=j.min;d.initTopValue=j.max}}else{d.scale.domain([d.bottomValue,d.topValue]).range(i)}}else{d.scale.domain([0,0]).range([0,0])}return d.scale};L.prototype._linefn_computeScales=function(){this._line_needRescale=false;var d=[];var j=0;var Q,R;if(this._props.orientation==="vertical"){Q=[this._height,0];R=[0,this._width]}else if(this._props.orientation==="horizontal"){Q=[0,this._width];R=[0,this._height]}if(this._valueAxis1.data.length!==0){j=this._valueAxis1.data[0].length}else{j=this._valueAxis2.data[0].length}for(var i=0;i<j;i++){d.push(i)}this._categoryScale.domain(d).rangeBands(R);this._linefn_calculateScale(this._valueAxis1);this._linefn_calculateScale(this._valueAxis2);if(this._valueAxis1.data&&this._valueAxis1.data.length>0&&this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(Q);this._valueAxis2.scale.domain([0,1]).range(Q)}else if(this._valueAxis1.scale.domain().length===0&&this._valueAxis2.scale.domain().length!==0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}else if(this._valueAxis1.scale.domain().length!==0&&this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}if(!this._valueAxis1.manualRange&&!this._valueAxis2.manualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._valueAxis1.manualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else if(!this._valueAxis2.manualRange){S.perfect(this._valueAxis2.scale);S.getRoughTickNum(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else if(this._valueAxis1.data&&this._valueAxis1.data.length>0){if(this._valueAxis1.scale.domain().length===0){this._valueAxis1.scale.domain([0,1]).range(Q)}if(!this._valueAxis1.manualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}}else if(this._valueAxis2.data&&this._valueAxis2.data.length>0){if(this._valueAxis2.scale.domain().length===0){this._valueAxis2.scale.domain([0,1]).range(Q)}if(!this._valueAxis2.manualRange){S.perfect(this._valueAxis2.scale)}else{S.getRoughTickNum(this._valueAxis2.scale)}}var V=0;var W=0;if(this._line_gapObj){if(this._line_gapObj.startGap){V=this._line_gapObj.startGap}if(this._line_gapObj.endGap){W=this._line_gapObj.endGap}}S.adjustGap(V,W,this._valueAxis1.scale);S.adjustGap(V,W,this._valueAxis2.scale)};L.prototype._linefn_lightLine=function(d,i,j,Q){if(!Q.highLines[d]){Q.highLines[d]=[]}if(!Q.highLines[d][i]&&j==="visible"){var R=this;var V=Q.data[d][i].val;var W=Q.data[d][i+1].val;Q.highLines[d][i]=R._line_svgLightLinesGroup.append("svg:line");Q.highLines[d][i].each(function(){if(R._props.orientation==="vertical"){this.setAttribute("x1",R._categoryScale(i)+R._categoryScale.rangeBand()/2);this.setAttribute("y1",Q.scale(V));this.setAttribute("x2",R._categoryScale(i+1)+R._categoryScale.rangeBand()/2);this.setAttribute("y2",Q.scale(W))}else if(R._props.orientation==="horizontal"){this.setAttribute("x1",Q.scale(V));this.setAttribute("y1",R._categoryScale(i)+R._categoryScale.rangeBand()/2);this.setAttribute("x2",Q.scale(W));this.setAttribute("y2",R._categoryScale(i+1)+R._categoryScale.rangeBand()/2)}this.setAttribute("class",I);this.setAttribute("stroke-width",R._props.width);this.setAttribute("stroke",Q.colorPalette[d%Q.colorPalette.length]);this.setAttribute("visibility",j)})}else if(Q.highLines[d][i]){Q.highLines[d][i].attr("visibility",j)}};L.prototype._linefn_processOneAxis=function(j,Q){var R=this._line_svgLinesGroup.select("g."+Q);if(R.empty()){R=this._line_svgLinesGroup.append("svg:g").attr("class",Q)}var V=this._line_svgMarkersGroup.select("g."+Q);if(V.empty()){V=this._line_svgMarkersGroup.append("svg:g").attr("class",Q)}if(!j.data||j.data.length===0){R.remove();V.remove();return}j.selectedMarkers=new Array(j.data.length);j.markers=[];j.highLines=[];var W=this._linefn_processNullValue(j.data);if(this.resultCache){this.resultCacheToDestroy()}this.resultCache=W;var X=R.selectAll(z).data(W.data);if(!this.linesCache){this.linesCache={}}this.linesCache[Q]=X;var Y=this;X.enter().append("path");X.exit().remove();X.each(function(){this.setAttribute('class',H);this.setAttribute("stroke-width",Y._props.width);this.setAttribute("stroke-linejoin","round")});var Z;if(this._props.orientation==="vertical"){Z=d3.svg.line().x(function(d,i){return Y._categoryScale(d.x)+Y._categoryScale.rangeBand()/2}).y(function(d){return N.isNoValue(j.scale(d.val))?null:j.scale(d.val)})}else if(this._props.orientation==="horizontal"){Z=d3.svg.line().y(function(d,i){return Y._categoryScale(d.x)+Y._categoryScale.rangeBand()/2}).x(function(d){return N.isNoValue(j.scale(d.val))?null:j.scale(d.val)})}X.each(function(d,i){var e1={graphType:"line",fillColor:j.colorPalette[W.color[i]%j.colorPalette.length]};var f1=Y._line_effectManager.register(e1);this.setAttribute("d",Z(d));this.setAttribute("stroke",f1)});for(var $=0;$<j.data.length;++$){j.selectedMarkers[$]=[];for(var _=0;_<j.data[0].length;++_){j.selectedMarkers[$][_]=false}}if(this._line_threshold){if(V.selectAll("g.v-marker")[0].length){V.selectAll("g.v-marker").remove()}return}var a1=V.selectAll("g.v-marker").data(j.data);if(!this.groupsCache){this.groupsCache={}}this.groupsCache[Q]=a1;a1.enter().append("svg:g").attr("class","v-marker");a1.exit().remove();var b1="hidden",c1=0,d1=null;if(this._props&&this._props.marker&&this._props.marker.visible){b1="visible";c1=1}else{d1=0}a1.each(function(d,i){var e1=d3.select(this).selectAll(".v-datashape").data(d);if(Y.seriesMarkersCache){Y.seriesMarkersCacheToDestroy()}Y.seriesMarkersCache=e1;var f1=e1.enter().append('g').attr('class','v-datashape').append("path");e1.exit().remove();var g1;if(Y._props.drawingEffect!=="glossy"){g1=Y._line_effectManager.register({fillColor:j.colorPalette[i%j.colorPalette.length]})}var h1=[];var i1={drawingEffect:Y._props.drawingEffect,graphType:Y._props.marker.shape,fillId:g1,fillColor:j.colorPalette[i%j.colorPalette.length],direction:Y._props.orientation,rx:Y._props.marker.size/2,ry:Y._props.marker.size/2,borderWidth:2,borderColor:Y._props.style.marker.stroke,node:null,visibility:b1,strokeOpacity:d1,className:G+" "+u};e1.attr("transform",function(j1,k1){if(N.isNoValue(j1.val)){d3.select(this).remove();h1.push(null);return}h1.push(d3.select(this).selectAll('path').node());i1.node=d3.select(this).select('path');D.drawGraph(i1,Y._line_effectManager).attr('fill-opacity',c1).attr('opacity',null);var l1;if(Y._props.orientation==="vertical"){l1="translate("+(Y._categoryScale(k1)+Y._categoryScale.rangeBand()/2)+","+j.scale(j1.val)+")"}else if(Y._props.orientation==="horizontal"){l1="translate("+j.scale(j1.val)+","+(Y._categoryScale(k1)+Y._categoryScale.rangeBand()/2)+")"}return l1});j.markers.push(h1)})};L.prototype.applyFormatConditions=function(d,j,Q,R){var V=function(W,X){var Y={drawingEffect:R._props.drawingEffect,fillColor:X.color,direction:R._props.orientation,graphType:R._props.marker.shape};var Z=R._line_effectManager.register(Y);var i;for(i=0;i<W.length;i++){W[i].setAttribute('fill',Z)}};s.applyConditons(d,j,Q,V)};L.prototype._linefn_processOneAxisDeselectAll=function(d,i){if(!d.selectedMarkers||d.selectedMarkers.length===0){return}for(var j=0;j<d.selectedMarkers.length;++j){for(var Q=0;Q<d.selectedMarkers[0].length;++Q){if(!d.selectedMarkers[j][Q]){continue}D.nodesUnhighlight(d.markers[j][Q],false,true);d.selectedMarkers[j][Q]=false}}};L.prototype._linefn_deselectedAllHandler=function(){var d,i,j;var Q=this._linefn_getCurrentEvent();if(this._props.orientation==="vertical"){d=(Q?Q.clientX:0)-this._datashapesgroup.node().getBoundingClientRect().left;j=p.call(this,d)}else if(this._props.orientation==="horizontal"){i=(Q?Q.clientY:0)-this._datashapesgroup.node().getBoundingClientRect().top;j=p.call(this,i)}this._line_selectedMarkerNum=0;this._linefn_processOneAxisDeselectAll(this._valueAxis1,j);this._linefn_processOneAxisDeselectAll(this._valueAxis2,j);if(this._props.marker.visible){this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+u).attr("fill-opacity",1);this._line_svgMarkersGroup.selectAll("g."+K).selectAll("g.v-marker").selectAll("."+u).attr("fill-opacity",1)}else{this._line_svgMarkersGroup.selectAll("g."+P).selectAll("g.v-marker").selectAll("."+u).attr("fill-opacity",0);this._line_svgMarkersGroup.selectAll("g."+K).selectAll("g.v-marker").selectAll("."+u).attr("fill-opacity",0)}};L.prototype._linefn_dispatch_initialized=function(b,d){if(b){if(d&&d.isPinching){b.initialized({eventSource:'pinch'})}else{b.initialized()}}};L.prototype._linefn_renderChart=function(d,j){var Q;var R=this;if(this._line_needRescale){this._linefn_computeScales()}this._d3root=d;this._linefn_getCSSStyle();this._eDispatch.startToInit();if(!this._line_clipRect&&this._props.drawClipPath!==false){Q="clip1_"+this._line_randomSuffix;this._line_clipRect=this._d3root.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",Q).append("rect");this._d3root.attr('clip-path',"url(#"+Q+")")}if(this._line_clipRect){this._line_clipRect.attr("width",this._width).attr("height",this._height)}if(!this._datashapesgroup){this._datashapesgroup=this._d3root.append("svg:g")}if(!j||!j.isPinching){this._datashapesgroup.attr("transform",undefined)}var V=this._categoryScale.rangeBand()*this._categoryScale.domain().length;var W={point:{}};var X;if(this._valueAxis1.scale){X=Math.abs(this._valueAxis1.scale.range()[0]-this._valueAxis1.scale.range()[1])}else if(this._valueAxis2.scale){X=Math.abs(this._valueAxis2.scale.range()[0]-this._valueAxis2.scale.range()[1])}if(!this._line_svgLinesGroup){this._line_svgLinesGroup=this._datashapesgroup.append("svg:g").attr("class","v-datalines");this._line_svgLightLinesGroup=this._datashapesgroup.append("svg:g").attr("class","v-lightLines");this._line_svgMarkersGroup=this._datashapesgroup.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(this._props.showGroupDetail){var Y=this._datashapesgroup.selectAll("g.v-grouptooltip");if(Y.empty()){var Z=document.createElementNS('http://www.w3.org/2000/svg',"g");Z.setAttribute("class","v-grouptooltip");this._datashapesgroup.node().insertBefore(Z,this._datashapesgroup.node().childNodes[0]);Y=this._datashapesgroup.select("g.v-grouptooltip")}Y.selectAll("rect.v-grouptooltip-rect").remove();for(var i=0,$=this._categoryScale.domain().length;i<$;++i){var _=this._line_tooltipDataHandler.generateTooltipData(this._line_data,this._line_tooltipData,i,this._line_colorPalette,[this._props.marker.shape]);var a1=e.formatTooltipData(_);W={point:{},hoverline:{},data:a1};var b1=Y.append("svg:rect").attr("class","v-grouptooltip-rect");if(this._props.orientation==="vertical"){b1.attr("x",""+this._categoryScale(i)).attr("y","0").attr("height",this._height).attr("width",""+this._categoryScale.rangeBand());W.point.x=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.point.y=this._height*0.2;W.hoverline.startx=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.hoverline.starty=0;W.hoverline.endx=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.hoverline.endy=this._height;b1.attr("fill","transparent")}else{b1.attr("y",""+this._categoryScale(i)).attr("x","0").attr("width",this._width).attr("height",""+this._categoryScale.rangeBand());W.point.y=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.point.x=this._width*0.8;b1.attr("fill","transparent");W.hoverline.starty=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.hoverline.startx=0;W.hoverline.endy=this._categoryScale(i)+this._categoryScale.rangeBand()/2;W.hoverline.endx=this._width}b1.node().__data__=W}}else{this._datashapesgroup.selectAll("g.v-grouptooltip").remove()}this._line_selectedMarkerNum=0;this._linefn_lightAll();this._line_svgMarkersGroup.attr("fill","none");this._line_svgLinesGroup.attr("fill","none");this._line_svgLightLinesGroup.attr("fill","none");this._line_svgLightLinesGroup.selectAll(E).remove();if(U.isMobile()&&this._props&&this._props.marker&&!this._props.marker.visible&&this._props.marker.number>=0){var c1=q(this._valueAxis1.data)+q(this._valueAxis2.data);this._line_threshold=c1>this._props.marker.number?true:false}this._linefn_processOneAxis(this._valueAxis1,P);this._linefn_processOneAxis(this._valueAxis2,K);this.applyFormatConditions(this._props.formatRules,this._line_svgMarkersGroup,this._raw_data?this._raw_data:this._line_data,this);if(this._linefn_enableAnimation()){if(!this._line_animation_clipRect){Q="clip2_"+this._line_randomSuffix;this._line_animation_clipPath=this._datashapesgroup.insert("svg:clipPath",":first-child").attr("id",Q);this._line_animation_clipRect=this._line_animation_clipPath.append("rect");this._datashapesgroup.attr('clip-path',"url(#"+Q+")")}if(this._line_animation_clipRect){if(this._props.orientation==="vertical"){this._line_animation_clipRect.attr("x",0).attr("y",0).attr("height",X).attr("width",0).transition().duration(1500).attr("width",function(){return V}).each("end",function(){if(R._line_animation_clipPath){R._line_animation_clipPath.remove()}if(R._datashapesgroup){R._datashapesgroup.attr('clip-path',undefined)}R._line_animation_clipRect=null;R._linefn_dispatch_initialized(R._eDispatch,j)})}else if(this._props.orientation==="horizontal"){this._line_animation_clipRect.attr("x",0).attr("y",V).attr("height",0).attr("width",X).transition().duration(1500).attr("height",function(){return V}).attr("y",0).each("end",function(){if(R._line_animation_clipPath){R._line_animation_clipPath.remove()}if(R._datashapesgroup){R._datashapesgroup.attr('clip-path',undefined)}R._line_animation_clipRect=null;R._linefn_dispatch_initialized(R._eDispatch,j)})}}}else{this._linefn_dispatch_initialized(this._eDispatch,j)}};L.prototype.resultCacheToDestroy=function(){var i=0;if(this.resultCache){if(this.resultCache.data){for(i=0;i<this.resultCache.data.length;i++){this.resultCache.data[i]=null}this.resultCache.data=null}if(this.resultCache.color){this.resultCache.color=null}this.resultCache=null}};L.prototype.linesCache__data__ToDestroy=function(){var i=0;var j=0;if(this.linesCache){for(var d in this.linesCache){if(this.linesCache.hasOwnProperty(d)){var Q=this.linesCache[d];for(i=0;i<Q.length;i++){for(j=0;j<Q[i].length;j++){if(Q[i][j]){Q[i][j].__data__=null}}}}}}};L.prototype.groupsCache__data__ToDestroy=function(){var i=0;var j=0;if(this.groupsCache){for(var d in this.groupsCache){if(this.groupsCache.hasOwnProperty(d)){var Q=this.groupsCache[d];for(i=0;i<Q.length;i++){for(j=0;j<Q[i].length;j++){if(Q[i][j]){Q[i][j].__data__=null}}}}}}};L.prototype.seriesMarkersCacheToDestroy=function(){var i=0;var j=0;if(this.seriesMarkersCache){for(i=0;i<this.seriesMarkersCache.length;i++){for(j=0;j<this.seriesMarkersCache[i].length;j++){this.seriesMarkersCache[i][j]=null}this.seriesMarkersCache[i]=null}this.seriesMarkersCache=null}};L.prototype.destroy=function(){var i=0;var d;this.resultCacheToDestroy();if(this.seriesMarkersCache){this.seriesMarkersCacheToDestroy()}this._line_svgMarkersGroup.selectAll('.v-datashape').remove();if(this.groupsCache){this.groupsCache__data__ToDestroy();for(d in this.groupsCache){if(this.groupsCache.hasOwnProperty(d)){var j=this.groupsCache[d];j.remove();for(i=0;i<j.length;i++){j[i]=null}}}this.groupsCache=null}if(this.linesCache){this.linesCache__data__ToDestroy();for(d in this.linesCache){if(this.linesCache.hasOwnProperty(d)){var Q=this.linesCache[d];Q.remove();for(i=0;i<Q.length;i++){Q[i]=null}}}this.linesCache=null}L.superclass.destroy.apply(this,arguments)};return L});define('sap/viz/modules/manifests/xy/Line',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/line','sap/viz/modules/manifests/xy/Base'],function Setup(M,C,U,f,B){var m={'id':'sap.viz.modules.line','name':'line',base:'sap.viz.modules.xy.base','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for the tooltip'},'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'min':'1','max':'7','description':"Set the width of the lines, ranging from '1' to '7'. If you enter a value outside that range, the line width defaults to '2'."},'showGroupDetail':{'name':'showGroupDetail','supportedValueType':'Boolean','defaultValue':false,'isExported':false,'description':'mouse over show one catergory detail'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations.','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'marker':{'name':'marker','description':'Settings for marker/data point graphics','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the markers'},'shape':{'name':'shape','supportedValueType':'String','supportedValues':['circle','diamond','triangleUp','triangleDown','triangleLeft','triangleRight','cross','intersection'],'defaultValue':'circle','description':'Set the shape of the markers'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':"Set the marker size for data points, ranging from '4' to '32'. If you enter a value outside that range, the marker size defaults to '6'."},'number':{'name':'number','isExported':U.isMobile()?true:false,'supportedValueType':'Int','defaultValue':Number.POSITIVE_INFINITY,'description':'Set the number to enable events for markers when they are invisible. '+'If the total amount of markers is bigger than this value, markers will remain hidden when selected or hovered over. '+'The default value is Number.POSITIVE_INFINITY, which is the largest possible value.'}}},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for the hoverline.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the hoverline.',}},isExported:false}},'css':{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/BaseVerticalBar',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/base/utils/TypeUtils','sap/viz/modules/util/defaultSelectionUtil','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(C,o,B,T,d,D,s){var a=C.CSS.CLASS.DATAPOINTSELECTED,b=C.CSS.CLASS.DATAPOINT,c=C.CSS.CLASS.MORPHABLEDATAPOINT,e=C.CSS.CLASS.DATAPOINTHOVER;var f=b+' '+c;var g="v-datashapesgroup";var h=function(m,i){h.superclass.constructor.apply(this,arguments);this._enableRoundCorner=false;this._hasDefaultSelection=false;this._effectManager=i.effectManager;this._d3root=null};h.prototype.applyFormatConditions=function(j,k,l,t){var m=function(n,p){var q={drawingEffect:t._vbar_drawingEffect,fillColor:p.color,direction:'horizontal'};var r=t._effectManager.register(q);var i;for(i=0;i<n.length;i++){n[i].setAttribute('fill',r)}};s.applyConditons(j,k,l,m)};h.prototype.highlight=function(k,l){if(!T.isArray(k)){k=[k]}if(!l){for(var i=0;i<k.length;i++){d3.select(k[i]).classed(a,true);d3.select(k[i]).classed(e,false)}}else{for(var j=0;j<k.length;j++){d3.select(k[j]).classed(a,false);d3.select(k[j]).classed(e,true)}}if(this._hasDefaultSelection){d.clearSelectionInfo(this._parent,true,k)}if(!this._enableRoundCorner){D.highlightProperties.attributeOpacityName="fill-opacity";D.nodesHighlight(k,{factor:0.7,constant:0},this._effectManager,l);D.resetHighlightProperties()}};h.prototype.unhighlight=function(k,l,n){if(!T.isArray(k)){k=[k]}if(l){for(var i=0;i<k.length;i++){d3.select(k[i]).classed(a,true);d3.select(k[i]).classed(e,false)}}else{for(var j=0;j<k.length;j++){d3.select(k[j]).classed(a,false);d3.select(k[j]).classed(e,false)}}if(this._hasDefaultSelection){d.clearSelectionInfo(this._parent,false,k)}D.highlightProperties.attributeOpacityName="fill-opacity";D.nodesUnhighlight(k,l,n);D.resetHighlightProperties()};h.prototype.clear=function(i){if(i===null||i===undefined||i===false){var r=this._d3root.selectAll('.v-datapoint');r.attr('fill-opacity',1).attr('stroke','none').attr('class',f);if(this._hasDefaultSelection){d.clearSelectionInfo(this._d3root,false,r)}}else{this._d3root.selectAll('.v-datapoint').attr('fill-opacity',0.4).attr('stroke','none').attr('class',f)}};h.prototype.setRawData=function(_){this._raw_data=_};o.extend(h,B);return h});define('sap/viz/modules/verticalbar',['sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/Scaler','sap/viz/base/utils/ObjectUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/base/UADetector','sap/viz/modules/Constants','sap/viz/modules/util/ClippathUtil',"sap/viz/base/utils/oo",'sap/viz/modules/BaseVerticalBar','sap/viz/modules/util/VizBarSizeUtil'],function Setup(T,a,M,b,C,S,O,N,c,l,e,f,U,g,k,o,B,V){var p=g.CSS.CLASS.DATAPOINTSELECTED,q=g.CSS.CLASS.DATAPOINT,s=g.CSS.CLASS.MORPHABLEDATAPOINT;var u=q+' '+s;var v="v-datashapesgroup";var z=function(m,d){z.superclass.constructor.apply(this,arguments);this._vbar_gapObj=null;this._vbar_styleManager=d.styleManager;this._vbar_tooltipDataHandlerObj=null;this._vbar_data1=null;this._vbar_data2=null;this._vbar_data=null;this._vbar_seriesData=[];this._vbar_primaryAxisTopBoundary=0;this._vbar_primaryAxisBottomBoundary=0;this._vbar_init_primaryAxisTopBoundary=0;this._vbar_init_primaryAxisBottomBoundary=0;this._vbar_primaryAxisManualRange=false;this._vbar_secondaryAxisManualRange=false;this._vbar_secondaryAxisTopBoundary=0;this._vbar_secondaryAxisBottomBoundary=0;this._vbar_init_secondaryAxisTopBoundary=0;this._vbar_init_secondaryAxisBottomBoundary=0;this._vbar_hasMNDonCategoryAxis=false;this._vbar_id=Math.floor(Math.random()*10000);this._vbar_x=0;this._vbar_y=0;this._vbar_isDualAxis=false;this._vbar_colorPalette=[];this._vbar_axis1ColorPalette=[];this._vbar_axis2ColorPalette=[];this._vbar_MNDInnerOnColor=false;this._vbar_measureOnAxis1=0;this._vbar_measureOnAxis2=0;this._vbar_shapePalette=['squareWithRadius'];this._vbar_valueScales=[];this._vbar_tooltipVisible=true;this._vbar_lastHovered=null;this._vbar_indexforSecondaryAxis=0;this._vbar_barNumber=0;this._vbar_barGroupNumber=0;this._vbar_barWidth=0;this._vbar_enableDataLoadingAnimation=true;this._vbar_enableDataUpdatingAnimation=true;this._vbar_enableResizingAnimation=true;this._vbar_totalIntervalTime=1000;this._vbar_afterAttachToDOM=false;this._vbar_isOnlyInitAnimation=false;this._vbar_defsEnter=null;this._vbar_roundCornerDefs=null;this._vbar_suffix=O.guid();this._vbar_drawingEffect='normal';this._vbar_sizeChange=false;this._vbar_dataStructureChange=false;this._vbar_dataValueChange=false;c.extend(true,this._props,m.props(null));this._vbar_currentAnimationCount=0;this._vbar_totalAnimationCount=0;return this};o.extend(z,B);z.prototype.render=function(d,h){e.drawBound(d,this._width,this._height);if(U.isMobile()&&this._props.drawClipPath!==false){var i=k.drawClippath(d,this._width,this._height);d.attr('clip-path',"url(#"+i+")")}this._vbar_tooltipDataHandlerObj=b();if(this._vbar_valueScales.length===0){return}this._eDispatch.startToInit();this._vbar_barNumber=this._vbar_seriesData[0].length;this._vbar_barGroupNumber=this._vbar_seriesData.length;this._vbar_barWidth=8*(this._categoryScale.rangeBand())/(9*this._vbar_barNumber+7);this._vbar_currentAnimationCount=0;this._vbar_totalAnimationCount=this._vbar_barGroupNumber*this._vbar_barNumber;var j=this._d3root=d;var m;if(this._vbar_valueScales[0]){m=Math.abs(this._vbar_valueScales[0].range()[0]-this._vbar_valueScales[0].range()[1])}else if(this._vbar_valueScales[1]){m=Math.abs(this._vbar_valueScales[1].range()[0]-this._vbar_valueScales[1].range()[1])}if(!this._vbar_defsEnter){this._vbar_defsEnter=j.append('defs').append('clipPath').attr('id','clipPlot_'+this._vbar_id).append('rect').attr('width',this._width).attr('height',this._height)}else{this._vbar_defsEnter.attr('width',this._width).attr('height',this._height)}if(!this._vbar_roundCornerDefs){this._vbar_roundCornerDefs=j.append('defs')}else{if(this._vbar_dataStructureChange||this._vbar_sizeChange||this._vbar_dataValueChange||!this._enableRoundCorner){this._vbar_roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=j.selectAll('g.'+v);if(!T.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=this._d3root.append('g').attr('class',v).attr("fill","none");if(!U.isMobile()){this._datashapesgroup.attr("clip-path","url(#clipPlot_"+this._vbar_id+")")}}if(this._vbar_dataStructureChange||this._vbar_dataValueChange||this._propsChange){this.draw()}else if(this._vbar_sizeChange||this._isPinching){this.refresh()}if(U.isMobile()&&!h&&this._datashapesgroup){this._datashapesgroup.attr('transform',null)}if(!this._vbarfn_enableAnimation()){if(h&&h.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}}this._vbar_sizeChange=false,this._vbar_dataStructureChange=false,this._vbar_dataValueChange=false,this._propsChange=false;this._vbar_isOnlyInitAnimation=true;this._vbar_lastHovered=null;this.applyFormatConditions(this._props.formatRules,d,this._raw_data?this._raw_data:this._vbar_data,this);return this};z.prototype.draw=function(){var r=Math.log(this._vbar_barWidth)/Math.log(2);if(r<0){this._enableRoundCorner=false}var h=this._datashapesgroup.selectAll('g.v-column').data(this._vbar_seriesData),j=this._vbar_seriesData.length-1;var t=this,n=[];var w=t._vbar_totalIntervalTime/(t._vbar_barNumber*t._vbar_barGroupNumber);h.enter().append('g').attr('class','v-column');var P=h.selectAll('g.v-datashape').data(function(d){return d});P.enter().append('g').attr('class','v-datashape').append('rect').classed(q,true).classed(u,true);P.attr('transform',function(d,m,i){var y;var W=t._vbar_valueScales[d.valueAxis];if(d.val>=0){y=W(d.val)}else{y=W(0)}var x=t._categoryScale(i)+t._vbar_barWidth*m;x=x+t._vbar_barWidth/8*(m)+t._vbar_barWidth/2;n.push(x);return'translate('+x+','+y+')'});var Q=P.select('rect.v-datapoint'),R=t._vbar_seriesData[0].length-1;Q.each(function(d,i){d.fillColor=t._vbar_colorPalette[i%t._vbar_colorPalette.length];var m={drawingEffect:t._vbar_drawingEffect,fillColor:d.fillColor,direction:'horizontal'};var x=t._effectManager.register(m);this.setAttribute('class',u);this.setAttribute('fill',x);if(t._vbar_barWidth>1){this.setAttribute('shape-rendering','crispEdges')}this.setAttribute('fill-opacity',1);this.setAttribute('stroke','none')});if(t._vbarfn_enableAnimation()){F(Q,t,n,r,w,R,j)}else{H(Q,t,r,w)}P.exit().remove();h.exit().remove()};z.prototype.refresh=function(){var r=Math.log(this._vbar_barWidth)/Math.log(2);if(r<0){this._enableRoundCorner=false}var h=this._datashapesgroup.selectAll('g.v-column').data(this._vbar_seriesData),j=this._vbar_seriesData.length-1;var t=this,n=[];var w=t._vbar_totalIntervalTime/(t._vbar_barNumber*t._vbar_barGroupNumber);var P=h.selectAll('g.v-datashape').data(function(d){return d});P.attr('transform',function(d,m,i){var y;var W=t._vbar_valueScales[d.valueAxis];if(d.val>=0){y=W(d.val)}else{y=W(0)}var x=t._categoryScale(i)+t._vbar_barWidth*m;x=x+t._vbar_barWidth/8*(m)+t._vbar_barWidth/2;n.push(x);return'translate('+x+','+y+')'});var Q=P.select('rect.v-datapoint'),R=t._vbar_seriesData[0].length-1;if(t._vbarfn_enableAnimation()){G(Q,t,n,r,w,R,j)}else{H(Q,t,r,w)}};z.prototype.width=function(_){if(!arguments.length){return this._width}this._vbar_sizeChange=(this._width===_)&&!this._vbar_sizeChange?false:true;this._width=_;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};z.prototype.height=function(_){if(!arguments.length){return this._height}this._vbar_sizeChange=(this._height===_)&&!this._vbar_sizeChange?false:true;this._height=_;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};z.prototype.size=function(_){if(!arguments.length){return{width:this._width,height:this._height}}this._vbar_sizeChange=(this._height===_.height&&this._width===_.width)&&!this._vbar_sizeChange?false:true;this._width=_.width;this._height=_.height;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}return this};z.prototype.data=function(d){if(!arguments.length){return this._vbar_data}this._vbar_data=d;if(this._vbar_data){var h=M(this._vbar_data);this._vbar_data1=h["MG1"];this._vbar_data2=h["MG2"];this._vbar_measureOnAxis1=h.MG1Number;this._vbar_measureOnAxis2=h.MG2Number||0;this._vbar_MNDInnerOnColor=h.MNDOnColor&&h.MNDInner;if(this._vbar_data1[0]&&this._vbar_data1[0][0].info&&this._vbar_data1[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(T.isExist(h.color)){this._vbar_hasMNDonCategoryAxis=true;this._vbar_isDualAxis=true}else{this._vbar_hasMNDonCategoryAxis=false;if(T.isExist(this._vbar_data2)){this._vbar_isDualAxis=true}else{this._vbar_isDualAxis=false}}var _=L.call(this,this._vbar_data1,this._vbar_data2,h.color);if(this._vbar_seriesData.length!==_.length||_[0].length!==this._vbar_seriesData[0].length){this._vbar_dataStructureChange=true}else{this._vbar_dataValueChange=true}this._vbar_seriesData=_;if(T.isExist(this._width)&&T.isExist(this._height)){this._vbarfn_makeScales()}this._vbarfn_parseOptions()}return this};z.prototype.properties=function(d){if(!arguments.length){return this._props}this._propsChange=true;c.extend(true,this._props,d);this._vbarfn_parseOptions();return this};z.prototype.primaryAxisTitle=function(_){if(!arguments.length){var t=this._vbar_data.getMeasureValuesGroupDataByIdx(0),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join(' & ')}return this};z.prototype.secondAxisTitle=function(_){if(!arguments.length){var t=this._vbar_data.getMeasureValuesGroupDataByIdx(1),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join(' & ')}return this};z.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};z.prototype.dataLabel=function(_){};z.prototype.colorPalette=function(_){if(!arguments.length){return this._vbar_colorPalette}this._vbar_colorPalette=_;return this};z.prototype.shapePalette=function(_){if(!arguments.length){return this._vbar_shapePalette}this._vbar_shapePalette=_;return this};z.prototype.getPreferredSize=function(){};z.prototype.categoryScale=function(d){if(!arguments.length){return this._categoryScale}this._categoryScale=d;return this};z.prototype.self=function(){return this};z.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;this._vbar_valueScales[0]=this._valueAxis1.scale;return this};z.prototype.secondScale=function(d){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=d;this._vbar_valueScales[1]=this._valueAxis2.scale;return this};z.prototype.primaryAxisColor=function(){if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){return this._vbar_colorPalette[0]}else{return undefined}};z.prototype.secondAxisColor=function(){if(!this._vbar_hasMNDonCategoryAxis){return this._vbar_colorPalette[this._vbar_seriesData[0].length-1]}else{return undefined}};z.prototype.primaryDataRange=function(r){if(!arguments.length){return{min:this._vbar_primaryAxisBottomBoundary,max:this._vbar_primaryAxisTopBoundary}}var t,d;if(r!==null){if(!isNaN(r.max)){t=r.max}else{t=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){d=r.min}else{d=this._valueAxis1.scale.perfectDomainBegin}if(t>d){this._vbar_primaryAxisTopBoundary=t;this._vbar_primaryAxisBottomBoundary=d;if(r.from==='axis'){this._vbar_primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}else{if(this._vbar_primaryAxisManualRange===true){this._vbar_primaryAxisTopBoundary=this._vbar_init_primaryAxisTopBoundary;this._vbar_primaryAxisBottomBoundary=this._vbar_init_primaryAxisBottomBoundary;this._vbar_primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}return this};z.prototype.secondDataRange=function(r){if(!arguments.length){return{min:this._vbar_secondaryAxisBottomBoundary,max:this._vbar_secondaryAxisTopBoundary}}var t,d;if(r!==null){if(!isNaN(r.max)){t=r.max}else{t=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(r.min)){d=r.min}else{d=this._valueAxis2.scale.perfectDomainBegin}if(t>d){this._vbar_secondaryAxisTopBoundary=t;this._vbar_secondaryAxisBottomBoundary=d;if(r.from==='axis'){this._vbar_secondaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}else{if(this._vbar_secondaryAxisManualRange===true){this._vbar_secondaryAxisTopBoundary=this._vbar_init_secondaryAxisTopBoundary;this._vbar_secondaryAxisBottomBoundary=this._vbar_init_secondaryAxisBottomBoundary;this._vbar_secondaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._vbar_seriesData)){this._vbarfn_makeScales()}}}return this};z.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};z.prototype.destroy=function(){if(this._datashapesgroup){this._datashapesgroup.remove()}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}this._categoryScale=null;this._valueAxis1.scale=null;this._valueAxis2.scale=null;this._valueAxis1=null;this._valueAxis2=null;this._vbar_seriesData=null;this._vbar_colorPalette=null;this._d3root=null;this._vbar_data=null;this._vbar_data1=null;this._vbar_data2=null;this._vbar_defsEnter=null;this._vbar_roundCornerDefs=null};z.prototype._vbarfn_enableAnimation=function(){var h=false;if(!this._vbar_isOnlyInitAnimation){h=this._vbar_enableDataLoadingAnimation}else if(this._vbar_dataStructureChange||this._vbar_dataValueChange){h=this._vbar_enableDataUpdatingAnimation}else if(this._vbar_sizeChange){h=this._vbar_enableResizingAnimation}return h};z.prototype._vbarfn_parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._vbar_enableDataLoadingAnimation=this._props.animation.dataLoading;this._vbar_enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._vbar_enableResizingAnimation=this._props.animation.resizing;this._vbar_tooltipVisible=this._props.tooltip.enabled;this._vbar_drawingEffect=this._props.drawingEffect;if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){this._vbar_axis1ColorPalette=this._props.primaryValuesColorPalette;this._vbar_axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._vbar_axis2ColorPalette=this._props.colorPalette;this._vbar_axis1ColorPalette=this._props.colorPalette}var d=0;if(!this._vbar_hasMNDonCategoryAxis){this._vbar_indexforSecondaryAxis=this._vbar_data1.length;d=this._vbar_seriesData[0].length}else{d=this._vbar_seriesData.length*this._vbar_seriesData[0].length}this._vbar_colorPalette=[];var i;if(this._vbar_MNDInnerOnColor){var h=0,m=0,j=0;for(i=0;i<this._vbar_indexforSecondaryAxis;i++){this._vbar_colorPalette.push(this._vbar_axis1ColorPalette[i%this._vbar_axis1ColorPalette.length]);h++;if(h===this._vbar_measureOnAxis1){m=0;for(;j<=(d-this._vbar_indexforSecondaryAxis);j++){if(m>=this._vbar_measureOnAxis2){h=0;break}this._vbar_colorPalette.push(this._vbar_axis2ColorPalette[j%this._vbar_axis2ColorPalette.length]);m++}}}}else{for(i=0;i<d;i++){if(i<this._vbar_indexforSecondaryAxis){this._vbar_colorPalette.push(this._vbar_axis1ColorPalette[i%this._vbar_axis1ColorPalette.length])}else if(this._vbar_isDualAxis&&!this._vbar_hasMNDonCategoryAxis){this._vbar_colorPalette.push(this._vbar_axis2ColorPalette[(i-this._vbar_indexforSecondaryAxis)%this._vbar_axis2ColorPalette.length])}}}};z.prototype.setAxisGap=function(_){this._vbar_gapObj=_};z.prototype._vbarfn_makeScales=function(){var d=[];for(var i=0;i<this._vbar_seriesData.length;i++){d.push(i)}this._vbar_valueScales=[];this._categoryScale.domain(d).rangeBands([0,this._width]);if(this._vbar_primaryAxisBottomBoundary===0&&this._vbar_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._vbar_primaryAxisBottomBoundary,this._vbar_primaryAxisTopBoundary]).range([this._height,0])}if(T.isExist(this._vbar_data2)||this._vbar_isDualAxis){if(this._vbar_secondaryAxisTopBoundary===0&&this._vbar_secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._vbar_secondaryAxisBottomBoundary,this._vbar_secondaryAxisTopBoundary]).range([this._height,0]);if(this._vbar_primaryAxisBottomBoundary===0&&this._vbar_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._vbar_secondaryAxisManualRange&&!this._vbar_primaryAxisManualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._vbar_secondaryAxisManualRange&&this._vbar_primaryAxisManualRange){S.getRoughTickNum(this._valueAxis1.scale);S.perfect(this._valueAxis2.scale)}else if(this._vbar_secondaryAxisManualRange&&!this._vbar_primaryAxisManualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._vbar_primaryAxisManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}this._valueAxis2.scale.range([0,0])}var h=0;var j=0;if(this._vbar_gapObj){if(this._vbar_gapObj.startGap){h=this._vbar_gapObj.startGap}if(this._vbar_gapObj.endGap){j=this._vbar_gapObj.endGap}}S.adjustGap(h,j,this._valueAxis1.scale);S.adjustGap(h,j,this._valueAxis2.scale);this._vbar_valueScales.push(this._valueAxis1.scale);this._vbar_valueScales.push(this._valueAxis2.scale)};z.prototype._vbarfn_x=function(_){if(!arguments.length){return this._vbar_x}this._vbar_x=_;return this};z.prototype._vbarfn_y=function(_){if(!arguments.length){return this._vbar_y}this._vbar_y=_;return this};var A=function(t,d,m,i,r){var h='roundCorner-clip'+'-'+m+i+t._vbar_suffix;t._vbar_roundCornerDefs.append('clipPath').attr('id',h).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('width',t._vbar_barWidth).attr('height',function(){var j=t._vbar_valueScales[d.valueAxis];if(d.val!==' '&&d.val!==0){var n=Math.abs(j(d.val)-j(0));return(n+r)}else{return 0}}).attr('y',function(){var j=t._vbar_valueScales[d.valueAxis];if(d.val>=0){return 0}else{return 0-r}}).attr('x',0);return'url(#'+h+')'};var D=function(t,j,m,i,r,n){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var P='roundCorner-clip'+'-'+m+i+t._vbar_suffix;t._vbar_roundCornerDefs.append('clipPath').attr('id',P).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('x',0).attr('width',t._vbar_barWidth).attr('y',h).transition().delay(function(d,m){return(m+t._vbar_barNumber*i)*n}).attr('height',function(){if(t._vbar_valueScales&&j.val!==' '&&j.val!==0){var d=t._vbar_valueScales[j.valueAxis];var Q=Math.abs(d(j.val)-d(0));return(Q+r)}else{return 0}}).attr('y',function(){if(j.val>0){return 0}else{return 0-r}});return'url(#'+P+')'};var E=function(t,d,m,i,r,j){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var n='roundCorner-clip'+'-'+m+i+t._vbar_suffix;t._vbar_roundCornerDefs.append('clipPath').attr('id',n).attr("class","v-clippath").append('rect').attr('rx',r).attr('ry',r).attr('width',w).attr('x',x).attr('height',h).attr('y',function(){if(d.val>0){return 0}else{return 0-r}}).transition().duration(t._vbar_totalIntervalTime).attr('width',t._vbar_barWidth).attr('height',function(){if(t._vbar_valueScales&&d.val!==' '&&d.val!==0){var P=t._vbar_valueScales[d.valueAxis];var Q=Math.abs(P(d.val)-P(0));return(Q+r)}else{return 0}});return'url(#'+n+')'};var F=function(h,t,x,r,j,n,w){h.attr('width',V.fixDecimal(t._vbar_barWidth)).attr('height',0).attr('y',function(d){var i=t._vbar_valueScales[d.valueAxis];if(d.val!==' '&&d.val!==0&&d.val>0){var m=Math.abs(i(d.val)-i(0));return m}else{return 0}});if(t._enableRoundCorner){I.call(this,'structureChange',h,t,r,j)}h.transition().delay(function(d,m,i){return(m+t._vbar_barNumber*i)*j}).attr('height',function(d){if(t._vbar_valueScales&&d.val!==' '&&d.val!==0){var i=t._vbar_valueScales[d.valueAxis];var m=Math.abs(i(d.val)-i(0));return m}else{return 0}}).attr('y',0).attr('x',0).each('end',function(d,m,i){J.call(t)})};var G=function(h,t,x,r,i,j,n){if(t._enableRoundCorner){I.call(this,'valueChange',h,t,r,i)}h.transition().duration(t._vbar_totalIntervalTime).attr('width',V.fixDecimal(t._vbar_barWidth)).attr('height',function(d){if(t._vbar_valueScales&&d.val!==' '&&d.val!==0){var m=t._vbar_valueScales[d.valueAxis];var w=Math.abs(m(d.val)-m(0));return w}else{return 0}}).attr('y',0).attr('x',0).each('end',function(d,m){J.call(t)})};var H=function(d,t,r,i){d.each(function(h){var j;var m=t._vbar_valueScales[h.valueAxis];if(h.val!==' '&&h.val!==0){j=Math.abs(m(h.val)-m(0));h.height=j}else{j=0}this.setAttribute('width',V.fixDecimal(t._vbar_barWidth));this.setAttribute('height',j);this.setAttribute('y',0);this.setAttribute('x',0)});if(t._enableRoundCorner){I.call(this,'none',d,t,r,i)}};var I=function(t,d,h,r,j){function n(){d.attr('clip-path',function(w,m,i){switch(t){case'none':return A.call(this,h,w,m,i,r);case'structureChange':return D.call(this,h,w,m,i,r,j);case'valueChange':return E.call(this,h,w,m,i,r,j);default:return E.call(this,h,w,m,i,r,j)}})}if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(n,0)}else{n()}};var J=function(){if(++this._vbar_currentAnimationCount===this._vbar_totalAnimationCount){this._eDispatch.initialized();this._vbar_afterAttachToDOM=true}};var K=function(d,m){var i=d3.interpolate(this._height,(m>=this._vbar_indexforSecondaryAxis)?this._valueAxis2.scale(d.val):this._valueAxis1.scale(d.val));return function(t){return i(t)}};var L=function(d,h,r){this._vbar_primaryAxisTopBoundary=this._vbar_primaryAxisBottomBoundary=0;this._vbar_secondaryAxisTopBoundary=this._vbar_secondaryAxisBottomBoundary=0;var t=[];var w=0;if(d[0]&&d[0].length){w=d[0].length}else if(h[0]&&h[0].length){w=h[0].length}var x=[];var y=0;var P=0;var i,j;for(i=0;i<d.length;i++){if(this._vbar_hasMNDonCategoryAxis){for(j=0;j<d[i].length;j++){if(r[j]===0){y=d[i][j].val;d[i][j].valueAxis=0;if(this._vbar_primaryAxisTopBoundary<y){this._vbar_primaryAxisTopBoundary=y}if(this._vbar_primaryAxisBottomBoundary>y){this._vbar_primaryAxisBottomBoundary=y}this._vbar_indexforSecondaryAxis++}else{P=d[i][j].val;d[i][j].valueAxis=1;if(this._vbar_secondaryAxisTopBoundary<P){this._vbar_secondaryAxisTopBoundary=P}if(this._vbar_secondaryAxisBottomBoundary>P){this._vbar_secondaryAxisBottomBoundary=P}}}}else{y=d3.max(d[i],function(m){return m.val});P=d3.min(d[i],function(m){return m.val});if(this._vbar_primaryAxisTopBoundary<y){this._vbar_primaryAxisTopBoundary=y}if(this._vbar_primaryAxisBottomBoundary>P){this._vbar_primaryAxisBottomBoundary=P}}x.push(d[i])}if(h!==undefined){for(i=0;i<h.length;i++){y=d3.max(h[i],function(m){return m.val});P=d3.min(h[i],function(m){return m.val});if(this._vbar_secondaryAxisTopBoundary<y){this._vbar_secondaryAxisTopBoundary=y}if(this._vbar_secondaryAxisBottomBoundary>P){this._vbar_secondaryAxisBottomBoundary=P}x.push(h[i])}}this._vbar_init_primaryAxisTopBoundary=this._vbar_primaryAxisTopBoundary;this._vbar_init_primaryAxisBottomBoundary=this._vbar_primaryAxisBottomBoundary;this._vbar_init_secondaryAxisTopBoundary=this._vbar_secondaryAxisTopBoundary;this._vbar_init_secondaryAxisBottomBoundary=this._vbar_secondaryAxisBottomBoundary;for(j=0;j<w;j++){var Q=[];for(i=0;i<x.length;i++){if(!this._vbar_hasMNDonCategoryAxis){if(i<d.length){x[i][j].valueAxis=0}else{x[i][j].valueAxis=1}}if(N.isNoValue(x[i][j].val)){x[i][j].val=' '}Q.push(x[i][j])}if(this._vbar_MNDInnerOnColor){var R=[],W=0,X=0;var n=0;for(var m=0;m<d.length;m++){R.push(Q[m]);W++;if(W===this._vbar_measureOnAxis1&&h!==undefined){X=0;for(;n<h.length;n++){if(X>=this._vbar_measureOnAxis2){W=0;break}R.push(Q[d.length+n]);X++}}}t.push(R)}else{t.push(Q)}}return t};return z});define('sap/viz/modules/manifests/xy/VerticalBar',['sap/viz/modules/manifests/Module','sap/viz/modules/verticalbar','sap/viz/modules/manifests/xy/BaseBar','sap/viz/modules/Constants'],function Setup(M,f,B,C){var m={'id':'sap.viz.modules.verticalbar','name':'vertical bar',base:"sap.viz.modules.xy.bar.base",'properties':{'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/CombinationChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYContainer','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Combination','sap/viz/modules/manifests/xy/Line','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/manifests/xy/BaseVerticalChart'],function Setup(M,U,R,T,L,X,a,A,C,b,V,I,B){var c={base:'riv/baseverticalchart',id:'viz/combination',name:'IDS_COMBINATIONCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.combination',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{dataShape:{secondaryAxis:{isExported:false},secondAxis:{isExported:false}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'inside'}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var d=c.dependencies.attributes;var e=c.dependencies.events;d.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var f={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,T.module,L.module,X.module,a.module,A.module,C.module,b.module,V.module,I.module),feeds:[].concat(B.feeds,R.feeds,T.feeds,L.feeds,X.feeds,a.feeds,A.feeds,C.feeds,b.feeds,V.feeds,I.feeds)};return f});define('sap/viz/impls/CombinationChart',['sap/viz/manifests/xy/CombinationChart'],function Setup(C){var m={viz:[].concat(C.viz),module:[].concat(C.module),feeds:[].concat(C.feeds)};return m});define('sap/viz/modules/pie/sector',['sap/viz/modules/Constants','sap/viz/util/NumberUtils'],function Setup(C,N){var a=C.CSS.CLASS.DATAPOINT,b=C.CSS.CLASS.MORPHABLEDATAPOINT;var c=a+' '+b;var e=d3.layout.pie().sort(null).value(function(d){return d.v});function S(d,f,g,r,v,h,j,p){this.dimValueObjects=f;this.color=g;this.r=r;this._value=v;this.startAngle=h;this.endAngle=j;this.p=p;this.decoras=[];for(var i in d){if(d.hasOwnProperty(i)){this[i]=d[i]}}}S.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(o){var r;if(o.info){var d=o.info.customlabel;if(d){if(d.type==='url'){r=o.val}else if(d.type==='string'){r=d.val}}else{r=o.val}}else{r=o.val}return r})},value:function(f){var v=this._value;if(f){return d3.format(f)(v)}return v},proportion:function(f){var v=(this.endAngle-this.startAngle)/(2*Math.PI);if(f){return d3.format(f)(v)}return v}};function s(d,f){var g=d.measure.rows[0];var h=d.dimensions;var j=[];var k=g.map(function(o,i){j.push(i);return{v:o.val,i:i}}).filter(function(o){var v=o.v;return(!N.isNoValue(v))&&v>0});var l=d.color.domain(j);var r=d.or;var n=e(k).map(function(i){var o=i.data.i;var p=l(o);if(d.p.info&&d.p.info.isInfoChart&&d.p.info.colorMapping&&d.p.info.colorMapping[o]){p=d.p.info.colorMapping[o]}var q=f.register({drawingEffect:d.drawingEffect,graphType:'sector',fillColor:p,direction:'vertical',radius:r});return new S(g[o],h.map(function(t){return t.rows[o]}),q,r,i.value,i.startAngle,i.endAngle,d.p)});return n}var m=function(){function f(g,h,i){var j=m.all(g).data(function(d){return s(d,h)});j.exit().remove();var n=j.enter().append('svg:g').attr('class','v-datashape').append('svg:path');i.queryDefault("v-sector").toAttrs(n);j.attr('transform',null).select('g.v-datashape path').attr("fill",function(d){return d.color}).attr("d",d3.svg.arc().outerRadius(function(d){return d.r})).classed(c,true).classed(C.CSS.CLASS.DATAPOINTDEFAULT,true).classed("viz-pie-sector",true).classed("v-sector",true).attr('fill-opacity',null)}return f};m.all=function(d){return d.selectAll("g.v-datashape")};return m});define('sap/viz/modules/pie/selection',['sap/viz/modules/pie/sector','sap/viz/modules/Constants','sap/viz/base/UADetector'],function Setup(b,C,U){var c=C.CSS.CLASS.DATAPOINTSELECTED;var e;function f(s,g,n){s.classed(c,g).attr("fill-opacity",g?"1":null);var i=0,j=0;if(!n){s=s.transition().duration(200)}s.each(function(d){i=0,j=0;if(g){if(this.parentNode.parentNode.childNodes.length!==1){var a=d.midAngle();var r=d.r;var k;k=0.08*r;i=k*Math.sin(a);j=-k*Math.cos(a)}}d3.select(this.parentNode).attr('transform',"translate("+i+","+j+")")});s.each('start',function(d){var t=d3.select(this.parentNode).attr('transform');d.decoras.forEach(function(a,k,l){e=d3.select(a);e.transition().attr('transform',t)},this)})}function h(s){return s.classed(c)}return function(){return{allSelected:function(s){return s.selectAll("."+c)},select:function(s,a){f(s,a)},clear:function(g,a){if(U.isIE()){g.attr('visibility','hidden');g.attr('visibility','')}g.attr("fill-opacity",a?"0.4":null);g.selectAll('.v-datalabel').attr("fill-opacity",1)},selected:function(s){return s.classed(c)},clearAll:function(s){var h=this.allSelected(s);if(h.length===0){this.clear(s,false)}else{h.call(f,true)}}}}});define('sap/viz/modules/pie',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/pie/sector','sap/viz/modules/pie/selection','sap/viz/util/TextUtils','sap/viz/util/ColorSeriesGenerator','sap/viz/modules/dispatch','sap/viz/base/UADetector','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/format/FormatManager','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/dataUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,a,b,T,C,c,U,F,e,O,f,g,l,j,m,n,q,D,r){var u=2.414;var v=function(d){return u};var x=1.1;var y=600;var z=C.sap32();var A="v-pie";var E=A,G='v-datashapesgroup',H="v-donut-title",I="v-sectorgroup";var J=q.CSS.CLASS.DATAPOINTSELECTED,K=q.CSS.CLASS.DATAPOINTHOVER,L=q.CSS.CLASS.DATAPOINTDEFAULT,M=q.CSS.CLASS.DATAPOINT;var N=b();var P=a();var Q=function(w){var t=w.selectAll("text."+H).data(function(d){if(d.p.isDonut){var h=d.measure.col;if(h===null){h=l.get('IDS_ISNOVALUE')}var k=d.measure.rows[0];if(k!==null){for(var i=0;i<k.length;i++){if(k[i].val>0){return[{width:d.ir,title:h}]}}}}return[]});t.exit().remove();t.enter().insert("svg:text","."+I).attr("class",H).attr("font-family","'Open Sans',Arial,Helvetica,sans-serif").attr("text-anchor","middle").attr("font-weight","bold").attr("font-size","16px").attr("fill","#333").attr("dominant-baseline","middle");t.each(function(d){T.ellipsisInCircle(d.title,this,d.width,0)})};var R=function(h,p){return h/2-p};var S=function(w,p){var d=Math.max(w/2/(1+1/u),p*u);return Math.min(d,w/2-p)};var V=function(w,h,d,p){if(d){return Math.min(h/2,w/2)}return Math.min(R(h,p),S(w,p))};var W=function(d){return d/v(d)};var X=d3.svg.arc();var Y=function(d){var h=d3.interpolateNumber(d.startAngle,d.endAngle);return function(t){d.endAngle=h(t);return X(d)}};var Z=function(d,h){N.select(e.isArray(d)?d3.selectAll(d):d3.select(d),h)};var $=function(d,h){this._pie_id="v-pie-"+O.guid();this._pie_clipPathIdPrefix=this._pie_id+"-clipPath-";this._pie_width=null;this._pie_height=null;this._pie_data=null;this._pie_props=d.props(null);this._pie_colorPalette=undefined;this._pie_plotScale=this._pie_props.plotScale;this._pie_effectManager=h.effectManager;this._pie_styleManager=h.styleManager;this._pie_widthFunctor=undefined;this._pie_heightFunctor=undefined;this._pie_propsFunctor=F.noop;this._pie_parent=undefined;this._pie_sectorGroup=undefined;this._pie_wrapper=undefined;this._pie_tip=undefined;this._pie_isDataSchemaChanged=false;this._pie_isDataLoading=true;this._pie_isSizeChanged=false;this._pie_isDatasetChanged=false;this._pie_isPropertiesChanged=false;this._pie_hasDefaultSelection=false;this._pie_dispatch=c("selectData","deselectData","initialized",'startToInit',"showTooltip","hideTooltip");this._pie_lastSelectElData=null;this._pie_defaultSectorStyle=this._pie_styleManager.queryDefault("v-sector")};o.extend($,B);$.prototype.applyFormatConditions=function(d,N,h,t){var k=function(s,p){var w={drawingEffect:t._pie_props.drawingEffect,fillColor:p.color,direction:"vertical",graphType:"sector",radius:t._pie_wrapper.data()[0].or};var _=t._pie_effectManager.register(w);var i;for(i=0;i<s.length;i++){s[i].setAttribute('fill',_)}};r.applyConditons(d,N,h,k)};$.prototype.render=function(s){this._pie_parent=s;j.drawBound(this._pie_parent,this._pie_width,this._pie_height);this._pie_dispatch.startToInit();this._pie_wrapper=s.selectAll("g."+E).data(this._pie_pieWrapperData(this._pie_data));var w=this._pie_wrapper;this._pie_wrapper.exit().each(function(d){document.documentElement.removeEventListener("keydown",d.keydownListener);delete d.keydownListener}).remove();var h=w.enter().append("g").attr("class",E);h.append("g").attr("class",I+(this._pie_props.isGeoPie?"":" "+G));var t=this;w.attr("transform",function(d){if(d.p.alignCenter){return null}return"translate("+d.w/2+","+(d.p.valign==="center"?d.h/2:(d.or+d.padding))+")"+'scale('+t._pie_plotScale+')'});var i=w.selectAll(function(){var d=[];Array.prototype.forEach.call(this.childNodes,function(k){if(k.tagName==='clipPath'){d.push(k)}});return d}).data(function(d){var k=[];var a1=d.p.isDonut;var b1=d.animation=t._pie_enableAnimation(d.p);if(a1||b1){k.push({innerRadius:a1?d.ir:0,outerRadius:d.or+d.padding,startAngle:0,endAngle:Math.PI*2,animation:b1})}return k});i.exit().remove();i.enter().append("svg:clipPath").attr("id",function(){var A,k=0;while(true){A=t._pie_clipPathIdPrefix+(k++);if(!document.getElementById(A)){break}}this.parentNode.querySelector("."+I).setAttribute("clip-path","url(#"+A+")");return A}).append("svg:path").attr("clip-rule","evenodd").attr("d",X);w.call(Q);this._pie_sectorGroup=w.select("g."+I).call(P,this._pie_effectManager,this._pie_styleManager);this.applyFormatConditions(this._pie_props.formatRules,this._pie_sectorGroup,this._pie_data,this);var p=this._pie_tip;var _=N.allSelected(this._pie_sectorGroup);if(this._pie_isDataSchemaChanged||this._pie_isDatasetChanged||this._pie_isPropertiesChanged){N.select(_,false);this.clear(false);if(p){p.hide()}}N.clearAll(this._pie_sectorGroup);i.filter(function(d){return d.animation}).select(":first-Child").transition().duration(y).each("end",function(d){var k=this.parentNode;var a1=k.parentNode;if(a1){if(d.innerRadius===0){a1.removeChild(k);a1.querySelector("."+I).removeAttribute("clip-path")}var b1=d3.select(a1).datum();b1.animationEnd=true;t._pie_fireInitializedEvent.call(t,b1)}}).attrTween("d",Y);i.filter(function(d){return!d.animation}).select(":first-Child").attr("d",X);w.each(function(d){d.domInitialized=true;t._pie_fireInitializedEvent.call(t,d)});this._pie_isDataSchemaChanged=false,this._pie_isDataLoading=false,this._pie_isSizeChanged=false,this._pie_isDatasetChanged=false,this._pie_isPropertiesChanged=false};$.prototype._pie_enableAnimation=function(p){var h=false;if(this._pie_isDataLoading){h=p.animation.dataLoading}else if(this._pie_isDatasetChanged){h=p.animation.dataUpdating}else if(this._pie_isSizeChanged){h=p.animation.resizing}return h};$.prototype._pie_pieWrapperData=function(d){var p=this._pie_propsFunctor.apply(this,arguments);var w=this._pie_widthFunctor.apply(this,arguments);var h=this._pie_heightFunctor.apply(this,arguments);var i=this._pie_calculatePadding(w,h);var k=V(w,h,p.maxRadius,i);var s=d3.functor(this._pie_colorPalette).apply(this,arguments);var t={padding:i,w:w,h:h,p:p,or:k,ir:W(k),color:s?d3.scale.ordinal().range(s):this._pie_defaultColorPalette.copy(),measure:d.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:d.getAnalysisAxisDataByIdx(0).values};t.drawingEffect=t.p.drawingEffect;return[t]};$.prototype._pie_fireInitializedEvent=function(d){if(d.domInitialized&&(!d.animation||d.animationEnd)){setTimeout(this._pie_dispatch.initialized,0)}};$.prototype._pie_hoverSector=function(s,d){s.attr("fill-opacity",d?"1":(N.selected(s)?"1":null))};$.prototype.afterUIComponentAppear=function(){this._pie_dispatch.initialized()};$.prototype.dataLabel=function(_){};$.prototype.parent=function(){return this._pie_parent};$.prototype.clear=function(d){N.clear(this._pie_sectorGroup,d);this._pie_defaultSectorStyle.toAttrs(this._pie_sectorGroup.selectAll("."+L));if(this._pie_hasDefaultSelection&&!d){n.clearSelectionInfo(this._pie_parent,false,this._pie_sectorGroup)}return this};$.prototype.highlight=function(d,h){var s=e.isArray(d)?d3.selectAll(d):d3.select(d);if(!e.isArray(d)){d=[d]}s.classed(L,false);if(h){s.classed(J,false).classed(K,true)}else{s.classed(J,true).classed(K,false)}for(var i=0;i<d.length;i++){var k=D.getColorString(d[i],'fill');var p=D.colorLinerTransform(this._pie_effectManager,{factor:0.7,constant:0},k);d[i].setAttribute("stroke",D.rgb2Hex(p));if(h){d[i].setAttribute("stroke-width",2)}else{d[i].setAttribute("stroke-width",1);Z(d[i],true)}}if(this._pie_hasDefaultSelection){n.clearSelectionInfo(this._pie_parent,true,d)}return this};$.prototype.unhighlight=function(d,h,k){var s=e.isArray(d)?d3.selectAll(d):d3.select(d);if(!e.isArray(d)){d=[d]}for(var i=0;i<d.length;i++){if(h){s.classed(J,true).classed(K,false)}else{s.classed(L,true).classed(J,false).classed(K,false);d[i].setAttribute("stroke","none");Z(d[i],false)}d[i].setAttribute("stroke-width",1)}if(this._pie_hasDefaultSelection){n.clearSelectionInfo(this._pie_parent,false,d)}return this};$.prototype._pie_calculatePadding=function(w,h){var p;var d=Math.min(w,h);var i=(x-1)/x/2*h;if(d<i*2){if(d<(i/4)*2){if(d<(i/8)*2){p=0}else{p=i/8}}else{p=i/4}}else{p=i}return p};$.prototype.width=function(_){if(arguments.length===0){return this._pie_width}this._pie_isSizeChanged=(!this._pie_isSizeChanged&&(_===this._pie_width))?false:true;this._pie_width=_;this._pie_widthFunctor=d3.functor(this._pie_width);return this};$.prototype.height=function(_){if(arguments.length===0){return this._pie_height}this._pie_isSizeChanged=(!this._pie_isSizeChanged&&(_===this._pie_height))?false:true;this._pie_height=_;this._pie_heightFunctor=d3.functor(this._pie_height);return this};$.prototype.size=function(_){if(arguments.length===0){return{width:this.width(),height:this.height()}}this._pie_isSizeChanged=(!this._pie_isSizeChanged&&(_.width===this._pie_width)&&(_.height===this._pie_height))?false:true;this._pie_width=_.width;this._pie_height=_.height;this._pie_widthFunctor=d3.functor(this._pie_width);this._pie_heightFunctor=d3.functor(this._pie_height);return this};$.prototype.data=function(_){if(arguments.length===0){return this._pie_data}this._pie_isDatasetChanged=true;this._pie_isDataSchemaChanged=false;if(!m().hasSameSchema(this._pie_data,_)){this._pie_isDataSchemaChanged=true}this._pie_data=_;var i=this._pie_data.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][0].info;if(i&&i.defaultSelection){this._pie_hasDefaultSelection=true}else{this._pie_hasDefaultSelection=false}return this};$.prototype.dispatch=function(_){return this._pie_dispatch};$.prototype.properties=function(_){if(arguments.length===0){return this._pie_props}this._pie_isPropertiesChanged=true;f.extend(true,this._pie_props,_);this._pie_plotScale=this._pie_props.plotScale;this._pie_propsFunctor=d3.functor(this._pie_props);if(typeof(props)==="function"){this._pie_colorPalette=function(d,i){return this._pie_propsFunctor.apply(this,arguments).colorPalette}}else if(this._pie_props.colorPalette){this._pie_colorPalette=this._pie_props.colorPalette}return this};$.prototype.colorPalette=function(_){if(arguments.length===0){return this._pie_colorPalette||this._pie_defaultColorPalette.range()}this._pie_colorPalette=_;return this};$.prototype.destroy=function(){if(this._pie_parent){this._pie_parent.selectAll('.'+M).remove();this._pie_parent=null}};return $});define('sap/viz/feeds/Pie',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"pie",feeds:[{'id':'pieSectorColor','name':'IDS_PIESECTORCOLORNAME','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'pieSectorSize','name':'IDS_PIESECTORSIZE','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'pieDepthSize','name':'IDS_PIEDEPTHSIZE','type':c.Type.Measure,'min':1,'max':1,'mgIndex':2}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Pie',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/pie','sap/viz/feeds/Pie'],function Setup(M,C,f,P){var m={'id':'sap.viz.modules.pie','type':C.Type.Chart,'name':'pie','properties':{'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color palette for the sectors of the pie chart','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':"Set the chart to display as a donut or a pie. If this value is set to 'true', the chart displays as a donut. If this value is set to 'false', the chart displays as a pie."},'isGeoPie':{'name':'isGeoPie','supportedValueType':'Boolean','defaultValue':false,'description':"Set whether the chart displays as a geo pie chart. If this value is set to 'true', the chart displays as a geo pie chart. If this value is set to 'false', the chart does not display as a geo pie chart.",'isExported':false},'valign':{'name':'valign','supportedValueType':'String','supportedValues':['top','center'],'defaultValue':"top",'description':'Set the vertical aligment of the chart','isExported':false},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether tooltip is enabled'},'valueFormat':{'name':'valueFormat','supportedValueType':'String','defaultValue':'n','description':'Set the number format of the measure value in tooltip','isExported':false},'percentageFormat':{'name':'percentageFormat','supportedValueType':'String','defaultValue':".0%",'description':'Set the number format of the percentage label in tooltip','isExported':false},'formatString':{'name':'formatString','supportedValueType':'StringArray','defaultValue':null,'description':'Set format string of tooltip. The first string is applied to value and the second is applied to percentage.Any character in "MDYHSAmdyhsa#?%0@" is reserved as a token for format code.'}},'description':'Settings for tooltip related properties','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set the drawing effect of the pie','isExported':true},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Rules to format data points, sample:\
  [{condition: [{Key1:"Value1", Key2:"Value2"}], color:"#00ff00"}, {condition: [{Key3:"Value3"}], color:"#00ffff"}].\
  Each rule has two properties: "condition" and "color". The relation among the condition object in "condition" array is "OR",\
  which means the data point that met any condition in the array will apply the "color".\
  If multiple rules could apply on the same data point, the last rule would take effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'plotScale':{'name':'plotScale','supportedValueType':'PositiveFloat','defaultValue':1,'description':'Set the plot scale of the pie','isExported':false,'isExperimental':true}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"pie",configure:{pieDepthSize:null}},'css':{'.v-sector.viz-pie-sector':{'description':'Define style for sector in pie','value':{'stroke':'none'}}},fn:f};var a={viz:[],module:[m],feeds:[].concat(P.feeds)};return a});define('sap/viz/modules/datatransform',['sap/viz/base/utils/TypeUtils','sap/viz/manifest','sap/viz/base/utils/Objects','sap/viz/util/NumberUtils','sap/viz/modules/dispatch'],function Setup(T,M,O,N,d){var c=function(e){var _=e.props(null);var f;var g={displayString:'Others'},l={};var o,p,s,t,u,v,z,A;function B(){}B.data=function(a){if(!arguments.length){return f}f=a;return B};B.properties=function(a){if(!arguments.length){return _}O.extend(true,_,a);G();if(f){H(f)}return B};B.parent=function(){};function C(){o=0;p=Number.MAX_VALUE;s=0;t=Number.MAX_VALUE;u=0;v=0;z=0;A=0}function D(a){C();var m=a.getMeasureValuesGroupDataByIdx(0);var b=a.getMeasureValuesGroupDataByIdx(1);var k=a.getMeasureValuesGroupDataByIdx(2);var n=a.getMeasureValuesGroupDataByIdx(3);var q={};for(var i=0;i<m.values[0].rows.length;i++){for(var j=0;j<m.values[0].rows[i].length;j++){var x=m.values[0].rows[i][j].val;var y=b.values[0].rows[i][j].val;if(N.isNoValue(x)||N.isNoValue(y)){continue}var w=k&&k.values.length&&T.isExist(k.values[0].rows[i][j].val)?Math.abs(k.values[0].rows[i][j].val):null;var h;if(n&&n.values.length){if(T.isExist(n.values[0].rows[i][j].val)){h=Math.abs(n.values[0].rows[i][j].val)}else{h=null}}else{h=w}if(!N.isNoValue(w)){q[w]=''}u=x>u?x:u;v=x<v?x:v;z=y>z?y:z;A=y<A?y:A;o=w>o?w:o;p=w<p?w:p;s=h>s?h:s;t=h<t?h:t}}}function E(a,b){var h=false;for(var i=0;i<l.grid.column;i++){var k=0;if(h){break}k=i*l.grid.row;if(b.x>=a[k].xRange.x1&&b.x<a[k].xRange.x2||b.x===u){for(var j=0;j<l.grid.row;j++){if(b.y>=a[k+j].yRange.y1&&b.y<a[k+j].yRange.y2||b.y===z){a[k+j].indexArray.push(b.index);a[k+j].refArray.push(b.ref);h=true;break}}}}}function F(a){var b=a.getMeasureValuesGroupDataByIdx(0);var h=a.getMeasureValuesGroupDataByIdx(1);var k=b.values[0].rows.length*b.values[0].rows[0].length;if(l.sizeFactor>0&&l.sizeFactor<1&&l.numberPrecondition>0&&l.grid.row>0&&l.grid.column>0){if(k&&k>l.numberPrecondition){D(a);var n=[];var x=(u-v)/l.grid.column,y=(z-A)/l.grid.row,q=v,r=A;var i,j;for(i=0;i<l.grid.column;i++){var w={};w.x1=q;w.x2=q+x;for(j=0;j<l.grid.row;j++){var L={},P={};L.y1=r;L.y2=r+y;P.xRange=w;P.yRange=L;P.indexArray=[];P.refArray=[];n.push(P);r+=y}q+=x;r=A}for(i=0;i<b.values[0].rows.length;i++){for(j=0;j<b.values[0].rows[i].length;j++){var Q={};Q.x=b.values[0].rows[i][j].val;Q.y=h.values[0].rows[i][j].val;Q.index=j;Q.ref={x:b.values[0].rows,y:h.values[0].rows,xIndex:i,yIndex:j};E(n,Q)}}for(var m=0;m<n.length;m++){var R=n[m].refArray.length;if(R>0){var S=Math.round(R*l.sizeFactor);if((R&1)!==0){S++}for(;S<R;S++){var U=n[m].refArray[S].xIndex,V=n[m].refArray[S].yIndex;n[m].refArray[S].x[U][V].val=null;n[m].refArray[S].y[U][V].val=null}}}}}}function G(){if(_.autoBinning.enable){g.enable=_.autoBinning.enable;g.binNumber=_.autoBinning.binNumber}else if(_.dataSampling.enable){l.enable=_.dataSampling.enable;l.grid=_.dataSampling.grid;l.sizeFactor=_.dataSampling.sizeFactor;l.numberPrecondition=_.dataSampling.numberPrecondition}}function H(a){if(_&&f){if(g.enable){K(a)}if(l.enable){F(a)}}}function I(a,b){return b.val-a.val}function J(a){var b=a.getMeasureValuesGroupDataByIdx(0).values[0];for(var i=0;i<b.rows[0].length;i++){b.rows[0][i].index=i}b.rows[0].sort(I);var h=a.getAnalysisAxisDataByIdx(0).values;for(var m=0;m<h.length;m++){var j=[];for(var n=0;n<h[m].rows.length;n++){var k=b.rows[0][n].index;if(k!==n){j.push(h[m].rows[k])}else{j.push(h[m].rows[n])}}h[m].rows=j}}function K(a){var b=a.getMeasureValuesGroupDataByIdx(0).values[0];var h=_.autoBinning.binNumber;var w=b.rows[0].length;if(h>0&&h<w){var L=w;for(var i=0;i<b.rows[0].length;i++){b.rows[0][i].index=i;if(b.rows[0][i].val<0){L--}}if(L===0||L<=h){return}b.rows[0].sort(I);var P=a.getAnalysisAxisDataByIdx(0).values;for(var m=0;m<P.length;m++){var Q=[];for(var n=0;n<P[m].rows.length;n++){var R=b.rows[0][n].index;if(R!==n){Q.push(P[m].rows[R])}else{Q.push(P[m].rows[n])}}P[m].rows=Q}var S=0;var j;for(j=b.rows[0].length-1;j>=0;j--){if(b.rows[0][j].val<0){b.rows[0].pop();S++}}w=b.rows[0].length;for(var x=0;x<P.length;x++){var U=P[x].rows.length;for(var y=P[x].rows.length-1;y>U-S-1;y--){P[x].rows.pop()}}var V=h-1;for(var k=V+1;k<w;k++){b.rows[0][V].val+=b.rows[0][k].val}for(j=w-1;j>V;j--){b.rows[0].pop()}for(var q=0;q<P.length;q++){if(q===0){var W=w-h+1;P[q].rows[V].val=g.displayString;P[q].rows[V].dataTransformInfo={autoBinning:{'othersNum':W}}}else{P[q].rows[V].val=''}for(var r=P[q].rows.length-1;r>V;r--){P[q].rows.pop()}}}}B.destroy=function(){f=null};return B};return c});define('sap/viz/modules/manifests/DataTransform',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/datatransform'],function Setup(M,C,f){var m={'id':'sap.viz.modules.datatransform','type':C.Type.Controller,'name':'dataTransform','renderto':C.RenderTo.NONE,'properties':{'autoBinning':{'name':'autoBinning','supportedValueType':'Object','supportedValues':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether data auto-binning is enabled.'},'binNumber':{'name':'binNumber','supportedValueType':'PositiveInt','defaultValue':10,'description':'Set the bin number.'}},'isExported':true,'description':'Settings for the auto-binning algorithm'},'dataSampling':{'name':'dataSampling','supportedValueType':'Object','supportedValues':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether data sampling is enabled.'},'sizeFactor':{'name':'sizeFactor','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set the data point percentage in the original dataset'},'numberPrecondition':{'name':'numberPrecondition','supportedValueType':'PositiveInt','defaultValue':3000,'description':'If the data point is larger than this value, data sampling is triggered.'},'grid':{'name':'grid','supportedValueType':'Object','supportedValues':{'row':{'name':'row','supportedValueType':'PositiveInt','defaultValue':3,'description':'Set the number of rows in the grid.'},'column':{'name':'column','supportedValueType':'PositiveInt','defaultValue':3,'description':'Set the number of columns in the grid.',}}}},'isExported':true,'description':'Settings for the data sampling algorithm'}},configure:null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/pie/PieChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseSingleChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Pie','sap/viz/modules/manifests/DataLabel','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/modules/manifests/DataTransform','sap/viz/chart/elements/manifests/Tooltip'],function Setup(M,B,R,P,D,I,a,T){var c={id:'viz/pie',name:'IDS_PIECHART',base:'riv/base/single',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{dataTransform:{id:'sap.viz.modules.datatransform',configure:{propertyCategory:'dataTransform',properties:{autoBinning:{enable:false},dataSampling:{enable:null}},propertiesOverride:{dataSampling:{isExported:false}}}},root:{configure:{propertyCategory:'general',propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{data:{aa:[1]}}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart'],holdSelection:true}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip'}},main:{modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'polarCoordinate',visible:false,type:'label and value',formatString:[['0.00%'],[]],automaticInOutside:false,outsideVisible:true},propertiesOverride:{position:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,P.module,D.module,I.module,a.module,T.module),feeds:[].concat(B.feeds,R.feeds,P.feeds,D.feeds,I.feeds,a.feeds)};return m});define('sap/viz/manifests/pie/DonutChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/pie/PieChart'],function Setup(M,R,P){var c={'id':'viz/donut','name':'IDS_DONUTCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/pie','modules':{root:{modules:{'main':{'modules':{'plot':{'configure':{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options','propertyCategory':'plotArea','properties':{'isDonut':true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isDonut:true}}}}}}}}};var m={viz:[c].concat(P.viz),module:[].concat(P.module,R.module),feeds:[].concat(P.feeds,R.feeds)};return m});define('sap/viz/impls/DonutChart',['sap/viz/manifests/pie/DonutChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/modules/piewithdepth',['sap/viz/modules/pie/sector','sap/viz/modules/pie/selection','sap/viz/util/TextUtils','sap/viz/util/ColorSeriesGenerator','sap/viz/modules/dispatch','sap/viz/base/UADetector','sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/format/FormatManager','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/Constants','sap/viz/util/DrawUtil'],function Setup(c,e,T,C,f,U,F,h,O,j,k,l,B,t,m,D){var n=function(o,p){var w=500,q=300,r=0;var u=null,v={};var z=Math.PI/4;var x=0,y=0,A=0,E=0,G=0,H=0,I=0;var J=0,K=0;var L=d3.scale.linear();var M=C.sap32().range();var N=false,P;var Q="normal";var R=0;var S,V;var W=0;var X=f('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var Y=m.CSS.CLASS.DATAPOINTSELECTED,Z=m.CSS.CLASS.DATAPOINTHOVER,$=m.CSS.CLASS.DATAPOINTDEFAULT,a1="v-datashape "+m.CSS.CLASS.DATAPOINT+" "+m.CSS.CLASS.MORPHABLEDATAPOINT,b1=1,c1='0.4';var d1={'stroke':'#ffffff','stroke-width':1};var e1={'stroke-width':1};var f1={'stroke-width':2};var g1=p.effectManager;function h1(s){B.drawBound(s,w,q);S=s;W=R*Math.PI/180;n1(s);return h1}h1.width=function(a){if(!arguments.length){return w}w=a;if(h.isExist(w)&&h.isExist(q)){m1();L.domain([0,K]).range([0,G])}return h1};h1.height=function(a){if(!arguments.length){return q}q=a;if(h.isExist(w)&&h.isExist(q)){m1();L.domain([0,K]).range([0,G])}return h1};h1.padding=function(a){if(!arguments.length){return r}r=a;if(h.isExist(w)&&h.isExist(q)){m1();L.domain([0,K]).range([0,G])}return h1};h1.properties=function(_){if(!arguments.length){return v}j.extend(true,v,_);l1();return h1};h1.parent=function(){return S};h1.dispatch=function(_){return X};h1.afterUIComponentAppear=function(){X.initialized()};h1.dataLabel=function(_){};h1.setyAngle=function(_){R=_};h1.data=function(a){if(!arguments.length){return u}u=a;if(h.isExist(w)&&h.isExist(q)&&h.isExist(u)){J=0;K=0;o1();L.domain([0,K]).range([0,G])}return h1};h1.colorPalette=function(_){if(arguments.length===0){return M}M=_;return h1};h1.rotate=function(_){if(P==1)return h1;if(arguments.length===0){return{xAngle:0,yAngle:W*180/Math.PI}}W=_.yAngle*Math.PI/180;n1(S,true);return h1};h1.rotateEnd=function(){S.selectAll('.v-datashapesgroup-deprecated').remove()};h1.blurOut=function(){k1()};h1.highlight=function(a,b){if(!h.isArray(a)){a=[a]}var d;a=i1(a);for(var i=0,g=a.length;i<g;i++){d=d3.select(a[i]);var s=D.getColorString(a[i].lastChild,'fill');var _=D.colorLinerTransform(g1,{factor:0.7,constant:0},s);e1['stroke']=f1['stroke']=D.rgb2Hex(_);if(!b){d.attr('class',Y+' '+a1).attr('stroke',e1['stroke']).attr('stroke-width',e1['stroke-width']);d.selectAll('*').attr('opacity',b1)}else{d.attr('stroke',f1['stroke']).attr('stroke-width',f1['stroke-width']).attr('class',Z+' '+a1)}}};h1.unhighlight=function(a,s,b){if(!h.isArray(a)){a=[a]}var d;a=i1(a);for(var i=0,g=a.length;i<g;i++){d=d3.select(a[i]);var _=D.getColorString(a[i].lastChild,'fill');var H1=D.colorLinerTransform(g1,{factor:0.7,constant:0},_);e1['stroke']=D.rgb2Hex(H1);d.attr('class',$+" "+a1).attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);d.selectAll('*').attr('opacity',c1);if(s){d.attr('class',Y+' '+a1).attr('stroke',e1['stroke']).attr('stroke-width',e1['stroke-width']);d.selectAll('*').attr('opacity',b1)}else{d.attr('class',$+" "+a1).attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);if(b){d.selectAll('*').attr('opacity',b1)}else{d.selectAll('*').attr('opacity',c1)}}}};h1.clear=function(g){var i=S.selectAll('.v-datapoint').attr('class',$+" "+a1).each(function(s){d3.select(this).attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);d3.select(this).selectAll('*').attr('opacity',g?c1:b1)})};h1.destroy=function(){if(S){S.selectAll('.'+m.CSS.CLASS.DATAPOINT).remove();S=null}};h1.heightDataRange=function(a){if(!arguments.length){return{min:0,max:K}}K=a.max;if(h.isExist(w)&&h.isExist(q)){L.domain([0,K]).range([0,G])}return h1};function i1(a){var b,d,g=false;if(h.isArray(a)){d=a.concat();for(var i=0,_=a.length;i<_;i++){b=d3.select(a[i]);if(b.datum().part>=0){g=true;break}}}else{d=[].concat(a);b=d3.select(a);if(b.datum().part>=0){g=true}}if(g){S.selectAll('.v-datapoint').each(function(s){if(d3.select(this).datum().part>=0){d.push(d3.select(this).node())}})}return d};function j1(d,a){var s=u.getMeasureValuesGroupDataByIdx(0);var b=u.getMeasureValuesGroupDataByIdx(1);var g=u.getAnalysisAxisDataByIdx(0);var _={body:[],footer:[]};_.body.push({name:!h.isExist(s.values[0].col)?l.get('IDS_ISNOVALUE'):s.values[0].col,val:[{color:d.colorValue,shape:'circle',value:!h.isExist(d.val[0])?l.get('IDS_ISNOVALUE'):d.val[0]}]});_.body.push({name:!h.isExist(b.values[0].col)?l.get('IDS_ISNOVALUE'):b.values[0].col,val:[{color:d.colorValue,shape:'circle',value:!h.isExist(d.val[1])?l.get('IDS_ISNOVALUE'):d.val[1]}]});for(var i=0;i<g.values.length;i++){_.footer.push({label:g.values[i].col.val,value:g.values[i].rows[d.index].val})}_.point={x:a.x,y:a.y};_.plotArea={x:V.e,y:V.f,width:w,height:q};X.showTooltip(t.formatTooltipData(_))};function k1(){X.hideTooltip()};function l1(){M=v.colorPalette;N=v.isDonut;Q=v.drawingEffect};function m1(){var b=Math.min(w,q);x=b/2;y=x*Math.cos(z);A=x/2.414;E=y/2.414;H=w/2;I=q/2+b/2-y;G=b-2*y};function n1(s,i){if(i&&U.isMobile()){s.select('.v-datashapesgroup').attr('class','v-datashapesgroup-deprecated').attr('visibility','hidden')}else{s.select('.v-datashapesgroup').remove()}var g=s.append('g').attr('class','v-datashapesgroup');var a=p1();q1(a,g);if(!i){X.initialized({name:'initialized'})}V=S[0][0].getTransformToElement(S[0][0].ownerSVGElement)};function o1(){var s=u.getMeasureValuesGroupDataByIdx(0);var d=u.getMeasureValuesGroupDataByIdx(1);P=0;for(var i=0;i<s.values[0].rows[0].length;i++){var a=h.isNaN(s.values[0].rows[0][i].val)?0:Math.abs(s.values[0].rows[0][i].val);var b=h.isNaN(d.values[0].rows[0][i].val)?0:Math.abs(d.values[0].rows[0][i].val);J+=a;K=Math.max(K,b);if(a>0){P++}}};function p1(){var s=u.getMeasureValuesGroupDataByIdx(0);var d=u.getMeasureValuesGroupDataByIdx(1);var a=[];for(var i=0,b=W-Math.PI/2;i<s.values[0].rows[0].length;i++){if(h.isNaN(s.values[0].rows[0][i].val)||s.values[0].rows[0][i].val===0){continue}var g=h.isNaN(d.values[0].rows[0][i].val)?0:Math.abs(d.values[0].rows[0][i].val);var _={startAngle:b,endAngle:b+Math.abs(s.values[0].rows[0][i].val)/J*Math.PI*2,cy:I-L(g),colorValue:M[i%M.length],val:[s.values[0].rows[0][i].val,d.values[0].rows[0][i].val],ctx:[s.values[0].rows[0][i].ctx,d.values[0].rows[0][i].ctx],info:[s.values[0].rows[0][i].info,d.values[0].rows[0][i].info],index:i};_.topPoint1=[H+x*Math.cos(_.startAngle),_.cy+y*Math.sin(_.startAngle)];_.topPoint2=[H+x*Math.cos(_.endAngle),_.cy+y*Math.sin(_.endAngle)];_.bottomPoint1=[H+x*Math.cos(_.startAngle),I+y*Math.sin(_.startAngle)];_.bottomPoint2=[H+x*Math.cos(_.endAngle),I+y*Math.sin(_.endAngle)];if(N){_.topPoint4=[H+A*Math.cos(_.startAngle),_.cy+E*Math.sin(_.startAngle)];_.topPoint3=[H+A*Math.cos(_.endAngle),_.cy+E*Math.sin(_.endAngle)];_.bottomPoint4=[H+A*Math.cos(_.startAngle),I+E*Math.sin(_.startAngle)];_.bottomPoint3=[H+A*Math.cos(_.endAngle),I+E*Math.sin(_.endAngle)]}a.push(_);b=_.endAngle}return a};function q1(d,g){var s=t1(d);s.sort(function(a,b){if(h.isDefined(a.part)&&h.isDefined(b.part)){return a.part-b.part}var H1=r1(a.startAngle);var I1=r1(a.endAngle);var J1=r1(b.startAngle);var K1=r1(b.endAngle);if(H1<Math.PI/2&&I1>Math.PI/2){return 1}if(J1<Math.PI/2&&K1>Math.PI/2){return-1}if(I1<H1){return-1}if(K1<J1){return 1}return Math.max(a.bottomPoint1[1],a.bottomPoint2[1])-Math.max(b.bottomPoint1[1],b.bottomPoint2[1])});for(var i=0;i<s.length;i++){var _=g.append('g').attr('class',$+" "+a1).attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);_.datum(s[i]);u1(s[i],_)}};function r1(a){if(a>=-Math.PI/2&&a<=Math.PI/2*3){return a}else if(a<-Math.PI/2){return r1(2*Math.PI+a)}else if(a>Math.PI/2*3){return r1(a-2*Math.PI)}};function s1(M){var a=d3.rgb(M).hsl();return d3.hsl(a.h,a.s,a.l*0.9).rgb().toString()};function t1(s){var a=s.filter(function(_,H1,I1){var b=r1(_.startAngle);var ea=r1(_.endAngle);return((b<Math.PI/2||ea>Math.PI/2)&&ea<b)});if(a.length>0){a[0].part=0;var b=r1(a[0].startAngle);var d={startAngle:b<Math.PI/2?Math.PI:a[0].startAngle,endAngle:b<Math.PI/2?a[0].endAngle:0,cy:a[0].cy,colorValue:a[0].colorValue,val:a[0].val,ctx:a[0].ctx,index:a[0].index,part:b<Math.PI/2?1:2};var g={startAngle:b<Math.PI/2?a[0].startAngle:0,endAngle:b<Math.PI/2?Math.PI:a[0].endAngle,cy:a[0].cy,colorValue:a[0].colorValue,val:a[0].val,ctx:a[0].ctx,index:a[0].index,part:b<Math.PI/2?3:4};a=[d,g];for(var i=0;i<a.length;i++){a[i].topPoint1=[H+x*Math.cos(a[i].startAngle),a[i].cy+y*Math.sin(a[i].startAngle)];a[i].topPoint2=[H+x*Math.cos(a[i].endAngle),a[i].cy+y*Math.sin(a[i].endAngle)];a[i].bottomPoint1=[H+x*Math.cos(a[i].startAngle),I+y*Math.sin(a[i].startAngle)];a[i].bottomPoint2=[H+x*Math.cos(a[i].endAngle),I+y*Math.sin(a[i].endAngle)];if(N){a[i].topPoint4=[H+A*Math.cos(a[i].startAngle),a[i].cy+E*Math.sin(a[i].startAngle)];a[i].topPoint3=[H+A*Math.cos(a[i].endAngle),a[i].cy+E*Math.sin(a[i].endAngle)];a[i].bottomPoint4=[H+A*Math.cos(a[i].startAngle),I+E*Math.sin(a[i].startAngle)];a[i].bottomPoint3=[H+A*Math.cos(a[i].endAngle),I+E*Math.sin(a[i].endAngle)]}}return s.concat(a)}return s};function u1(s,g){if(N){if(h.isUndefined(s.part)){G1(s,g);B1(s,g);z1(s,g);A1(s,g);F1(s,g)}else if(s.part===0){G1(s,g);B1(s,g);C1(s,g)}else if(s.part>0){y1(s,g);A1(s,g);F1(s,g)}}else{if(h.isUndefined(s.part)){E1(s,g);B1(s,g);x1(s,g);A1(s,g);D1(s,g)}else if(s.part===0){E1(s,g);B1(s,g)}else if(s.part>0){y1(s,g);A1(s,g);D1(s,g)}}};function v1(M){var a={drawingEffect:Q,fillColor:M,graphType:"sectorSide"};return g1.register(a)}function w1(M){var a={drawingEffect:Q,fillColor:M,graphType:"3dSector"};return g1.register(a)}function x1(s,g){if(P==1){return}var a,b,d,i;if(s.bottomPoint1[1]>=s.bottomPoint2[1]){a=s.topPoint2;b=s.bottomPoint2;d=s.topPoint1;i=s.bottomPoint1}else{a=s.topPoint1;b=s.bottomPoint1;d=s.topPoint2;i=s.bottomPoint2}var _='M'+H+','+I+'L'+H+','+s.cy+'L'+a[0]+','+a[1]+'L'+b[0]+','+b[1]+'z';g.append('path').attr('d',_).attr('fill',v1(s1(s.colorValue)));_='M'+H+','+I+'L'+H+','+s.cy+'L'+d[0]+','+d[1]+'L'+i[0]+','+i[1]+'z';g.append('path').attr('d',_).attr('fill',v1(s1(s.colorValue)))};function y1(s,g){var a,b,d,i;if(s.part===1||s.part===4){a=s.topPoint2;d=s.bottomPoint2;b=s.topPoint3;i=s.bottomPoint3}else if(s.part===2||s.part===3){a=s.topPoint1;d=s.bottomPoint1;b=s.topPoint4;i=s.bottomPoint4}var _;if(N){_='M'+a[0]+','+a[1]+'L'+b[0]+','+b[1]+'L'+i[0]+','+i[1]+'L'+d[0]+','+d[1]+'z'}else{_='M'+H+','+I+'L'+H+','+s.cy+'L'+a[0]+','+a[1]+'L'+d[0]+','+d[1]+'z'}g.append('path').attr('d',_).attr('fill',v1(s1(s.colorValue)))}function z1(s,g){if(P==1){C1(s,g);return}var a,b,d,i,_,H1,I1,J1;if(s.bottomPoint1[1]>=s.bottomPoint2[1]){a=s.topPoint2;b=s.topPoint3;d=s.topPoint1;i=s.topPoint4;_=s.bottomPoint2;H1=s.bottomPoint3;I1=s.bottomPoint1;J1=s.bottomPoint4}else{a=s.topPoint1;b=s.topPoint4;d=s.topPoint2;i=s.topPoint3;_=s.bottomPoint1;H1=s.bottomPoint4;I1=s.bottomPoint2;J1=s.bottomPoint3}var K1='M'+a[0]+','+a[1]+'L'+b[0]+','+b[1]+'L'+H1[0]+','+H1[1]+'L'+_[0]+','+_[1]+'z';var L1='M'+d[0]+','+d[1]+'L'+i[0]+','+i[1]+'L'+J1[0]+','+J1[1]+'L'+I1[0]+','+I1[1]+'z';var sa=r1(s.startAngle);var ea=r1(s.endAngle);if(sa<=0&&(ea>=Math.PI||ea<sa)||sa>=Math.PI&&ea>=Math.PI&&ea<sa){g.append('path').attr('d',K1).attr('fill',v1(s1(s.colorValue)));g.append('path').attr('d',L1).attr('fill',v1(s1(s.colorValue)));C1(s,g)}else if(sa>0&&sa<Math.PI&&ea>0&&ea<sa){C1(s,g);g.append('path').attr('d',K1).attr('fill',v1(s1(s.colorValue)));g.append('path').attr('d',L1).attr('fill',v1(s1(s.colorValue)))}else{g.append('path').attr('d',K1).attr('fill',v1(s1(s.colorValue)));C1(s,g);g.append('path').attr('d',L1).attr('fill',v1(s1(s.colorValue)))}};function A1(s,g){var a=r1(s.startAngle);var b=r1(s.endAngle);if(a>=0&&b>a&&b<=Math.PI){var d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if((a<=0||a>=Math.PI)&&b<=Math.PI&&b>=0){var d='M'+(H+x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+(H+x)+','+I+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if(a>=0&&a<=Math.PI&&(b>=Math.PI||b<=0)){var d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+(H-x)+','+s.cy+'L'+(H-x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if(a<=0&&(b>=Math.PI||b<a)||a>=Math.PI&&b>=Math.PI&&b<a){var d='M'+(H+x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+(H-x)+','+s.cy+'L'+(H-x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+(H+x)+','+I+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if(a>=0&&a<=Math.PI&&b>=0&&b<a){var i='M'+(H+x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+(H+x)+','+I+'z';var _='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+(H-x)+','+s.cy+'L'+(H-x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';g.append('path').attr('d',i).attr('fill',v1(s1(s.colorValue)));g.append('path').attr('d',_).attr('fill',v1(s1(s.colorValue)))}};function B1(s,g){var a=r1(s.startAngle);var b=r1(s.endAngle);if(P===1){var d='M'+(H-x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+(H+x)+','+s.cy+'L'+(H+x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+(H-x)+','+I+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)));return}if(a<0&&b<0&&b>a||a>Math.PI&&(b>a||b<0)){var d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if((a<0||a>Math.PI)&&b<Math.PI&&b>0){var d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+(H+x)+','+s.cy+'L'+(H+x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if(a>0&&a<Math.PI&&(b>Math.PI||b<0)){var d='M'+(H-x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+(H-x)+','+I+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}else if(a<=0&&(b>=Math.PI||b<a)||a>=Math.PI&&b>=Math.PI&&b<a){var i='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+'0,1 '+(H+x)+','+s.cy+'L'+(H+x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'z';var _='M'+(H-x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'A'+x+','+y+' 0 '+'0,0 '+(H-x)+','+I+'z';g.append('path').attr('d',i).attr('fill',v1(s1(s.colorValue)));g.append('path').attr('d',_).attr('fill',v1(s1(s.colorValue)))}else if(a>0&&a<Math.PI&&b>0&&b<a){var d='M'+(H-x)+','+s.cy+'A'+x+','+y+' 0 '+'0,1 '+(H+x)+','+s.cy+'L'+(H+x)+','+I+'A'+x+','+y+' 0 '+'0,0 '+(H-x)+','+I+'z';g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))}};function C1(s,g){var a=s.endAngle-s.startAngle>Math.PI?'1':'0';var d;if(P==1){d='M'+(H-A)+','+s.cy+'A'+A+','+E+' 0 1,1 '+(H+A)+','+s.cy+'L'+(H+A)+','+I+'A'+A+','+E+' 0 1,0 '+(H-A)+','+I}else{d='M'+s.topPoint4[0]+','+s.topPoint4[1]+'A'+A+','+E+' 0 '+a+',1 '+s.topPoint3[0]+','+s.topPoint3[1]+'L'+s.bottomPoint3[0]+','+s.bottomPoint3[1]+'A'+A+','+E+' 0 '+a+',0 '+s.bottomPoint4[0]+','+s.bottomPoint4[1]+'z'}g.append('path').attr('d',d).attr('fill',v1(s1(s.colorValue)))};function D1(s,g){if(P==1){g.append('ellipse').attr('cx',H).attr('cy',s.cy).attr('rx',x).attr('ry',y).attr('fill',w1(s.colorValue));return}var d;if(h.isUndefined(s.part)){d='M'+H+','+s.cy+'L'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint2[0]+','+s.topPoint2[1]+'z'}else if(s.part===1||s.part===4){d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+H+','+s.cy}else if(s.part===2||s.part===3){d='M'+H+','+s.cy+'L'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint2[0]+','+s.topPoint2[1]}g.append('path').attr('d',d).attr('fill',w1(s.colorValue))};function E1(s,g){if(P==1){g.append('ellipse').attr('cx',H).attr('cy',I).attr('rx',x).attr('ry',y).attr('fill',v1(s.colorValue)).attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);return}var d='M'+H+','+I+'L'+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'z';g.append('path').attr('d',d).attr('fill',v1(s.colorValue))};function F1(s,g){var d;if(P==1){d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 1,1 '+(s.topPoint2[0]-1)+','+s.topPoint2[1]+'M'+(s.topPoint3[0]-1)+','+s.topPoint3[1]+'A'+A+','+E+' 0 1,0 '+s.topPoint4[0]+','+s.topPoint4[1]}else if(h.isUndefined(s.part)){d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.topPoint3[0]+','+s.topPoint3[1]+'A'+A+','+E+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',0 '+s.topPoint4[0]+','+s.topPoint4[1]+'z'}else if(s.part===1||s.part===4){d='M'+s.topPoint1[0]+','+s.topPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint2[0]+','+s.topPoint2[1]+'L'+s.topPoint3[0]+','+s.topPoint3[1]+'A'+A+','+E+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',0 '+s.topPoint4[0]+','+s.topPoint4[1]}else if(s.part===2||s.part===3){d='M'+s.topPoint2[0]+','+s.topPoint2[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',0 '+s.topPoint1[0]+','+s.topPoint1[1]+'L'+s.topPoint4[0]+','+s.topPoint4[1]+'A'+A+','+E+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.topPoint3[0]+','+s.topPoint3[1]}g.append('path').attr('d',d).attr('fill',w1(s.colorValue))};function G1(s,g){var d;if(P==1){d='M'+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'A'+x+','+y+' 0 1,1 '+(s.bottomPoint2[0]-1)+','+s.bottomPoint2[1]+'M'+(s.bottomPoint3[0]-1)+','+s.bottomPoint3[1]+'A'+A+','+E+' 0 1,0 '+s.bottomPoint4[0]+','+s.bottomPoint4[1]}else{d='M'+s.bottomPoint1[0]+','+s.bottomPoint1[1]+'A'+x+','+y+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',1 '+s.bottomPoint2[0]+','+s.bottomPoint2[1]+'L'+s.bottomPoint3[0]+','+s.bottomPoint3[1]+'A'+A+','+E+' 0 '+(s.endAngle-s.startAngle>Math.PI?'1':'0')+',0 '+s.bottomPoint4[0]+','+s.bottomPoint4[1]+'z'}g.append('path').attr('d',d).attr('fill',w1(s.colorValue))};v=o.props(null);return h1};return n});define('sap/viz/modules/manifests/PieWithDepth',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/piewithdepth'],function Setup(M,C,f){var m={'id':'sap.viz.modules.piewithdepth','name':'piewithdepth','type':C.Type.Chart,'properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.COLOR.SAPColorSingleAxis,'description':'Set the color palette for sectors.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':"Set the chart to display as a donut or a pie. If this value is set to 'true', the chart displays as a donut. If this value is set to 'false', the chart displays as a pie."},'drawingEffect':{'name':'drawingEffect','description':'Set the drawing effect for the 3D elements.','supportedValueType':'String','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true,}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc},'feeds':{id:"pie",configure:null},fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/pie/PieWithDepthChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/pie/PieChart','sap/viz/modules/manifests/PieWithDepth','sap/viz/modules/manifests/DataLabel','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/chart/elements/utils/RotateHandler','sap/viz/chart/elements/behaviors/InteractionHelper','sap/viz/util/BoundingBox'],function Setup(M,R,P,a,D,I,b,h,B){var r=new b();var c=function(e,f){return d3.select(e).datum().index===d3.select(f).datum().index};var l;var d={id:'viz/pie_with_depth',name:'IDS_PIEWITHDEPTHCHART',base:"riv/base/single",isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{configure:{propertyCategory:'general',propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{data:{aa:[1]}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'pie_with_depth',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{selectability:{mode:'inclusive',lassoWithCtrlKey:true},preserveSelectionWhenDragging:true,dataPointsCacheable:false,holdSelection:false,extensionPoints:{isEqual:c},'handlers':[{'triggerKey':'pan_start_on_eventLayer','fn':function(e){var f=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!B.contains(f,e.data.point)){return}l=[].concat(this._lastSelected);this.runDecoration('hideDetail','infoMode');this.runDecoration('hideDetail','actionMode');var g=this._selb_plots["main"];r.rotateStart(e,g)}},{'triggerKey':'pan_move_on_eventLayer','fn':function(e){var f=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!B.contains(f,e.data.point)){return}r.rotateMove(e)}},{'triggerKey':'pan_end_on_eventLayer','fn':function(e){var f=h.getBoundingBox(this._rootNode.select(".v-m-main > .v-bound").node());if(!B.contains(f,e.data.point)){return}r.rotateEnd(e);if(l.length){var p=h.findPlotNodeContainingNode(e.data.target);if(p){var g=p.querySelectorAll(".v-datapoint");var s=[],n=[];for(var i=-1;++i<g.length;){for(var j=-1;++j<l.length;){if(c(g[i],l[j])){s.push(g[i]);break}}if(j>=l.length){n.push(g[i])}}this._lastSelected=s;this.runDecoration('highlightBySelecting',this._lastSelected);this.runDecoration('unhighlight',n,false,false)}}}}]}}},main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{yAngle:0},propertiesOverride:{yAngle:{isExported:true}}},modules:{plot:{id:'sap.viz.modules.piewithdepth',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[d].concat(P.viz),module:[].concat(P.module,R.module,a.module,D.module,I.module),feeds:[].concat(P.feeds,R.feeds,a.feeds,D.feeds,I.feeds)};return m});define('sap/viz/manifests/pie/DonutWithDepthChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/pie/PieWithDepthChart'],function Setup(M,R,P){var c={'id':'viz/donut_with_depth','name':'IDS_DONUTWITHDEPTHCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/pie_with_depth','modules':{root:{modules:{'main':{'modules':{'plot':{'configure':{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options','propertyCategory':'plotArea','properties':{'isDonut':true}}}}}}}}};var m={viz:[c].concat(P.viz),module:[].concat(P.module,R.module),feeds:[].concat(P.feeds,R.feeds)};return m});define('sap/viz/impls/DonutWithDepthChart',['sap/viz/manifests/pie/DonutWithDepthChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/manifests/xy/DualBarChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/BarChart'],function Setup(M,U,R,B){var c={id:'viz/dual_bar',name:'IDS_DUALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/bar',modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{type:'value',position:'bottom',indicator:{enable:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',indicator:{enable:true},gridline:{visible:false}},propertiesOverride:{indicator:{isExported:false},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'xAxis2',properties:{type:'value',position:'top',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{visible:{isExported:true},hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis2',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'secondScale'},{targetModule:'root.main.xAxis2',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis2','xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis2'});e.push({targetModule:'root.main.xAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis2'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module),feeds:[].concat(B.feeds,R.feeds)};return b});define('sap/viz/impls/DualBarChart',['sap/viz/manifests/xy/DualBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/manifests/xy/DualCombinationChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/CombinationChart','sap/viz/modules/manifests/xy/Combination'],function Setup(M,U,R,C,a){var c={id:'viz/dual_combination',name:'IDS_DUALCOMBINATIONCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/combination',modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondaryAxis:{isExported:true},secondAxis:{isExported:false}}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}},propertiesOverride:{indicator:{enable:true},title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.yAxis2',source:'range'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot',source:'secondaryScale'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis2',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis','yAxis2']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.yAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis2'});e.push({targetModule:'root.main.yAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis2'})}var d={viz:[c].concat(C.viz),module:[].concat(C.module,R.module,a.module),feeds:[].concat(C.feeds,R.feeds,a.feeds)};return d});define('sap/viz/impls/DualCombinationChart',['sap/viz/manifests/xy/DualCombinationChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/modules/manifests/xy/HorizontalCombination',['sap/viz/modules/manifests/Module','sap/viz/modules/combination','sap/viz/modules/manifests/xy/Combination'],function Setup(M,f,C){var m={base:"sap.viz.modules.combination",'id':'sap.viz.modules.horizontalcombination','name':'horizontalcombination',fn:f};var a={viz:[],module:[m].concat(C.module),feeds:[].concat(C.feeds)};return a});define('sap/viz/modules/manifests/xy/HorizontalLine',['sap/viz/modules/manifests/Module','sap/viz/modules/line','sap/viz/modules/manifests/xy/Line'],function Setup(M,f,L){var m={'id':'sap.viz.modules.horizontalline','name':'horizontalline',base:'sap.viz.modules.line',fn:f};var a={viz:[],module:[m].concat(L.module),feeds:[].concat(L.feeds)};return a});define('sap/viz/manifests/xy/HorizontalCombinationChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYContainer','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/HorizontalCombination','sap/viz/modules/manifests/xy/HorizontalLine','sap/viz/modules/manifests/xy/Bar','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/manifests/xy/BaseHorizontalChart'],function Setup(M,U,R,T,L,X,a,A,H,b,B,I,c){var d={base:'riv/basehorizontalchart',id:'viz/horizontal_combination',name:'IDS_HORIZONTALCOMBINATIONCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.horizontalcombination',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{dataShape:{secondaryAxis:{isExported:false},secondAxis:{isExported:false}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'inside'}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=d.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var e=d.dependencies.attributes;var f=d.dependencies.events;e.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});f.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});f.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});f.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});f.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});f.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});f.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});f.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});f.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});f.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});f.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});f.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var g={viz:[d].concat(c.viz),module:[].concat(c.module,R.module,T.module,L.module,X.module,a.module,A.module,H.module,b.module,B.module,I.module),feeds:[].concat(c.feeds,R.feeds,T.feeds,L.feeds,X.feeds,a.feeds,A.feeds,H.feeds,b.feeds,B.feeds,I.feeds)};return g});define('sap/viz/manifests/xy/DualHorizontalCombinationChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/HorizontalCombinationChart','sap/viz/modules/manifests/xy/HorizontalCombination'],function Setup(M,U,R,H,a){var c={id:'viz/dual_horizontal_combination',name:'IDS_DUALHORIZONTALCOMBINATIONCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/horizontal_combination',modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondaryAxis:{isExported:true},secondAxis:{isExported:false}}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes','propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'secondaryScale'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis2',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis2',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis2','xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.xAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis2'});e.push({targetModule:'root.main.xAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis2'})}var d={viz:[c].concat(H.viz),module:[].concat(H.module,R.module,a.module),feeds:[].concat(H.feeds,R.feeds,a.feeds)};return d});define('sap/viz/impls/DualHorizontalCombinationChart',['sap/viz/manifests/xy/DualHorizontalCombinationChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/manifests/xy/HorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/xy/HorizontalLine','sap/viz/manifests/xy/BaseHorizontalChart'],function Setup(M,U,H,B){var c={id:'viz/horizontal_line',name:'IDS_HORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},'main':{'modules':{yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,positionPreference:true}}},'plot':{'id':'sap.viz.modules.horizontalline','configure':{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options','propertyCategory':'plotArea'}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,H.module),feeds:[].concat(B.feeds,H.feeds)};return b});define('sap/viz/manifests/xy/DualHorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/HorizontalLine','sap/viz/manifests/xy/HorizontalLineChart'],function Setup(M,U,R,H,a){var c={'id':'viz/dual_horizontal_line','name':'IDS_DUALHORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset','base':'viz/horizontal_line','modules':{root:{modules:{'main':{'id':'sap.viz.modules.xycontainer','modules':{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}},'propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis2',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'secondaryScale'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.xAxis2',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis2','xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.xAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis2'});e.push({targetModule:'root.main.xAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis2'})}var d={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,H.module),feeds:[].concat(a.feeds,R.feeds,H.feeds)};return d});define('sap/viz/impls/DualHorizontalLineChart',['sap/viz/manifests/xy/DualHorizontalLineChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/manifests/xy/LineChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/modules/manifests/xy/Line','sap/viz/modules/manifests/RootContainer','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,B,L,R,I){var c={id:'viz/line',name:'IDS_LINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},main:{'modules':{yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,positionPreference:true}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,L.module,R.module,I.module),feeds:[].concat(B.feeds,L.feeds,R.feeds,I.feeds)};return b});define('sap/viz/manifests/xy/DualLineChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/Line','sap/viz/manifests/xy/LineChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,R,L,a,I){var c={id:'viz/dual_line',name:'IDS_DIUALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/line','modules':{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.yAxis2',source:'range'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot',source:'secondaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis2',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis','yAxis2']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.yAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis2'});e.push({targetModule:'root.main.yAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis2'})}var d={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,L.module,I.module),feeds:[].concat(a.feeds,R.feeds,L.feeds,I.feeds)};return d});define('sap/viz/impls/DualLineChart',['sap/viz/manifests/xy/DualLineChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/modules/stackedbar',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/BaseHorizontalBar','sap/viz/modules/util/MNDHandler','sap/viz/base/utils/TypeUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/ObjectUtils','sap/viz/util/Scaler','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/UADetector','sap/viz/modules/util/ClippathUtil','sap/viz/modules/util/VizBarSizeUtil'],function(C,o,B,M,T,N,O,S,a,t,U,b,V){var c=C.CSS.CLASS.DATAPOINT,e='.'+c,f=C.CSS.CLASS.MORPHABLEDATAPOINT;var g=c+' '+f;var h="v-datashapesgroup";var l=function(d,k,m){var r=-1,x=-1;this._stkbar_positiveIndexes=[[],[]],this._stkbar_negativeIndexes=[[],[]];this._primaryAxisTopBoundary=this._primaryAxisBottomBoundary=0;this._secondaryAxisTopBoundary=this._secondaryAxisBottomBoundary=0;var y=[];this._stkbar_barGroupNumber=d[0].length;var E,F;for(var j=0;j<this._stkbar_barGroupNumber;j++){var G=[],H=[];var I=[];E=0,F=0;r=-1,x=-1;for(var i=0;i<d.length;i++){d[i][j].valueScale=0;if(N.isNoValue(d[i][j].val)){d[i][j].val=null;d[i][j].isNaN=true}else{if(d[i][j].val>=0){E+=d[i][j].val;r=i}else{F+=d[i][j].val;x=i}}G.push(d[i][j])}this._stkbar_positiveIndexes[0].push(r);this._stkbar_negativeIndexes[0].push(x);if(this._primaryAxisTopBoundary<E){this._primaryAxisTopBoundary=E}if(this._primaryAxisBottomBoundary>F){this._primaryAxisBottomBoundary=F}I.push(G);this._init_primaryAxisTopBoundary=this._primaryAxisTopBoundary;this._init_primaryAxisBottomBoundary=this._primaryAxisBottomBoundary;if(T.isExist(k)){E=0,F=0;r=-1,x=-1;for(i=0;i<k.length;i++){r=0,x=-1;k[i][j].valueScale=1;if(N.isNoValue(k[i][j].val)){k[i][j].val=null;k[i][j].isNaN=true}else{if(k[i][j].val>=0){E+=k[i][j].val;r=i}else{F+=k[i][j].val;x=i}}H.push(k[i][j])}this._stkbar_positiveIndexes[1].push(r);this._stkbar_negativeIndexes[1].push(x);if(this._secondaryAxisTopBoundary<E){this._secondaryAxisTopBoundary=E}if(this._secondaryAxisBottomBoundary>F){this._secondaryAxisBottomBoundary=F}I.push(H);this._init_secondaryAxisTopBoundary=this._secondaryAxisTopBoundary;this._init_secondaryAxisBottomBoundary=this._secondaryAxisBottomBoundary}y.push(I)}return y};function n(){for(var i=0,d=this._seriesData.length;i<d;i++){for(var j=0,r=this._seriesData[i],m=this._stkbar_tooltipData[i];j<r.length;j++){var x=0,y=0,k;for(k=0;k<r[j].length;k++){x+=Math.abs(r[j][k].val);if(!r[j][k].isNaN){y++}}if(x===0){for(k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/y;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/y}}}else{for(k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/x);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/x}}}}}}function p(){if(++this._stkbar_currentAnimationCount===this._stkbar_totalAnimationCount){this._eDispatch.initialized();this._stkbar_afterAttachToDOM=true}}var q=function(){q.superclass.constructor.apply(this,arguments);this._stkbar_mode='comparison';this._data1=[[]];this._data2=[[]];this._stkbar_tooltipData=null;this._stkbar_tooltipHandlerObj=null;this._stkbar_barNumber=0,this._stkbar_barHeight=0,this._stkbar_barNumberinGroup=0,this._stkbar_barGroupNumber=0,this._stkbar_currentAnimationCount=0;this._stkbar_totalAnimationCount=0;this._stkbar_afterAttachToDOM=false;this._stkbar_id=Math.floor(Math.random()*10000);this._stkbar_positiveIndexes=[],this._stkbar_negativeIndexes=[];this._gapObj=null};q.prototype.refresh=function(){var r=Math.log(this._stkbar_barHeight)/Math.log(2);if(r<0){this._enableRoundCorner=false}var d=this._datashapesgroup.selectAll('g.v-stackedbar');var i=d.selectAll('g.v-axisGroup');var j=i.selectAll('g.v-datashape'),k=j.select('rect');var m,E,F,G=this;var H=0,I=0;var x,y,J,K;var L=this._isDualAxis===true?2:1;if(G.enableAnimation()){k.attr("x",function(P,Q,R){J=this.parentNode.getTransformToElement(this.parentNode.parentNode).e;if(Q===0){H=0;I=0}m=(P.valueScale===0)?G._valueAxis1.scale:G._valueAxis2.scale;K=(P.valueScale===0)?G._stkbar_barHeight/2:G._stkbar_barHeight*1.625;y=G._categoryScale(Math.floor(R/L))+K;if(P.val>=0){x=m(H);H+=P.val}else{I+=P.val;x=m(I)}this.parentNode.setAttribute('transform','translate('+x+','+y+')');return(J-x)}).attr('width',function(P){m=(P.valueScale===0)?G._valueAxis1.scale:G._valueAxis2.scale;E=parseFloat(this.width.baseVal.value);F=Math.abs(m(P.val)-m(0));return(E>F)?E:F});u.call(G,k,r)}else{j.attr('transform',function(P,Q,R){if(Q===0){H=0;I=0}m=(P.valueScale===0)?G._valueAxis1.scale:G._valueAxis2.scale;K=(P.valueScale===0)?G._stkbar_barHeight/2:G._stkbar_barHeight*1.625;y=G._categoryScale(Math.floor(R/L))+K;if(P.val>=0){x=m(H);H+=P.val}else{I+=P.val;x=m(I)}return'translate('+x+','+y+')'});v.call(G,k,r)}};q.prototype.draw=function(){var r=Math.log(this._stkbar_barHeight)/Math.log(2);if(r<0){this._enableRoundCorner=false}var m=8*(this._categoryScale.rangeBand())/(9*this._stkbar_barNumberinGroup+7);var E=this,F=[];for(var i=0;i<this._seriesData.length;i++){F[i]=[];for(var j=0;j<this._seriesData[i].length;j++){F[i][j]=[];for(var k=0,G=this._seriesData[i][j].length;k<G;k++){F[i][j][k]=this._seriesData[i][j][G-k-1]}}}var H=this._datashapesgroup.selectAll('g.v-stackedbar').data(F);H.enter().append('g').classed('v-stackedbar',true);var I=H.selectAll('g.v-axisGroup').data(function(d){return d});I.enter().append('g').classed('v-axisGroup',true);var J=I.selectAll('g.v-datashape').data(function(d){return d});J.enter().append('g').classed('v-datashape',true).append('rect').classed(c,true).classed(f,true);J.exit().remove();I.exit().remove();var K,L;var P=0,Q=0;var R=this._isDualAxis===true?2:1;var y,x;J.attr('transform',function(d,Y,Z){if(Y===0){P=0;Q=0}K=(d.valueScale===0)?E._valueAxis1.scale:E._valueAxis2.scale;L=(d.valueScale===0)?E._stkbar_barHeight/2:E._stkbar_barHeight*1.625;y=E._categoryScale(Math.floor(Z/R))+L;if(d.val>=0){x=K(P);P+=d.val}else{Q+=d.val;x=K(Q)}return'translate('+x+','+y+')'});var W;var X=J.select('rect'+e);X.attr('fill',function(d,Y,Z){var $,_=Z;for(var i=0;i<F.length;i++){if(_>=F[i].length){_-=F[i].length}else{$=i;break}}W=(d.valueScale===0)?E._axis1ColorPalette:E._axis2ColorPalette;d.fillColor=W[(F[$][_].length-Y-1)%W.length];var a1={drawingEffect:E._drawingEffect,fillColor:d.fillColor,direction:'vertical'};return E._effectManager.register(a1)}).attr('class',g).attr('shape-rendering','crispEdges').attr('fill-opacity',1).attr('stroke','none');if(E.enableAnimation()){s.call(E,X,r,m)}else{v.call(E,X,r)}H.exit().remove()};q.prototype.render=function(d,i){a.drawBound(d,this._width,this._height);if(U.isMobile()&&this._props.drawClipPath!==false){var j=b.drawClippath(d,this._width,this._height);d.attr('clip-path',"url(#"+j+")")}if(this._stkbar_mode==='percentage'){n.call(this)}this._stkbar_tooltipHandlerObj=t();if(!T.isExist(this._valueAxis1.scale)&&!T.isExist(this._valueAxis2.scale)){return}this._eDispatch.startToInit();this._stkbar_barNumber=(T.isExist(this._data2))?2:1;this._stkbar_barHeight=8*(this._categoryScale.rangeBand())/(9*this._stkbar_barNumber+7);this._stkbar_barNumberinGroup=this._seriesData[0][0].length+((T.isExist(this._seriesData[0][1]))?this._seriesData[0][1].length:0);var k=8*(this._categoryScale.rangeBand())/(9*this._stkbar_barNumberinGroup+7);this._stkbar_currentAnimationCount=0;this._stkbar_totalAnimationCount=this._stkbar_barNumberinGroup*this._seriesData.length;var m=this._d3root=d;if(this._defsEnter===null){this._defsEnter=m.append('defs').append('clipPath').attr('id','clipPlot_'+this._stkbar_id).append('rect').attr('width',this._width).attr('height',this._height)}else{this._defsEnter.attr('width',this._width).attr('height',this._height)}if(this._roundCornerDefs===null){this._roundCornerDefs=m.append('defs').attr('id','round-corner-clip'+this.suffix)}else{if(this._dataStructureChange||this._sizeChange||this._dataValueChange||!this._enableRoundCorner){this._roundCornerDefs.selectAll(".v-clippath").remove()}}this._datashapesgroup=m.selectAll('g.'+h);if(!T.isExist(this._datashapesgroup[0][0])){this._datashapesgroup=m.append('g').attr('class',h);if(!U.isMobile()){this._datashapesgroup.attr("clip-path","url(#clipPlot_"+this._stkbar_id+")")}}if(this._dataStructureChange||this._dataValueChange||this._propertiesChange){this.draw()}else{this.refresh()}if(U.isMobile()&&!i&&this._d3root){this._d3root.select('.'+h).attr('transform',null)}if(!this.enableAnimation()){if(i&&i.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}}this._sizeChange=false,this._dataValueChange=false,this._dataStructureChange=false,this._propertiesChange=false;this._isOnlyInitAnimation=true;this._lastHovered=null;this.applyFormatConditions(this._props.formatRules,d,this._data,this);return this};function s(d,r,i){var j=this;var k,y;d.attr('height',V.fixDecimal(i)).attr('y',function(m,x,E){if(m.valueScale===0){y=-j._stkbar_barHeight/2+i*(x*1.125+0.5)}else{y=j._stkbar_barHeight/8+i*(x*1.125+0.5)}return y}).attr('x',function(m,x,E){k=(m.valueScale===0)?j._valueAxis1.scale:j._valueAxis2.scale;return(m.val>0)?0:(k(0)-k(m.val))}).attr('width',0);if(j._enableRoundCorner){w.call(j,'dataChange',d,r,i)}d.transition().duration(j._totalIntervalTime/2).attr('width',function(m,x,E){k=(m.valueScale===0)?j._valueAxis1.scale:j._valueAxis2.scale;return Math.abs(k(m.val)-k(0))}).attr('x',0).each('end',function(x,m){k=(x.valueScale===0)?j._valueAxis1.scale:j._valueAxis2.scale;this.setAttribute('x',0);this.setAttribute('width',Math.abs(k(x.val)-k(0)));d3.select(this).transition().duration(j._totalIntervalTime/2).attr('height',j._stkbar_barHeight).attr('y',0).each('end',function(){this.setAttribute('height',j._stkbar_barHeight);this.setAttribute('y',0);p.call(j)})})}function u(d,r){var i=this;var j;d.transition().duration(i._totalIntervalTime/2).attr('width',function(k){j=(k.valueScale===0)?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(j(k.val)-j(0))}).attr('x',0).attr('y',0).attr('height',V.fixDecimal(i._stkbar_barHeight)).each('end',function(k){j=(k.valueScale===0)?i._valueAxis1.scale:i._valueAxis2.scale;this.setAttribute('x',0);this.setAttribute('height',i._stkbar_barHeight);this.setAttribute('y',0);this.setAttribute('width',Math.abs(j(k.val)-j(0)));p.call(i)});if(i._enableRoundCorner){w.call(i,'sizeChange',d,r)}}function v(d,r){var i=this;var j;d.attr('y',0).attr('x',0).attr('width',function(m,k){j=(m.valueScale===0)?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(j(m.val)-j(0))}).attr('height',V.fixDecimal(i._stkbar_barHeight));if(i._enableRoundCorner){w.call(i,'none',d,r)}}function w(d,i,r,j){var k=this;var m=function(){switch(d){case'none':D.call(k,i,r);break;case'dataChange':z.call(k,i,r,j);break;case'sizeChange':A.call(k,i,r);break;default:A.call(k,i,r);break}};if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(m,0)}else{m()}}function z(d,r,i){var j=this;var k,m=this._isDualAxis?2:1,x;d.attr('clip-path',function(y,E,F){x=Math.floor(F/m);if(E===j._stkbar_negativeIndexes[y.valueScale][x]||E===j._stkbar_positiveIndexes[y.valueScale][x]){var G='roundCorner-clip'+'-'+F+E+y.valueScale+j._suffix;var H=j._roundCornerDefs.append('clipPath').attr('id',G).attr("class","v-clippath").append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',i).attr('width',0).attr('x',this.x.baseVal.value).transition().duration(j._totalIntervalTime/2).attr('x',function(){if(E===j._stkbar_negativeIndexes[y.valueScale][x]){return 0}else{return 0-r}}).attr('width',function(){var k=(y.valueScale===0)?j._valueAxis1.scale:j._valueAxis2.scale;return Math.abs(k(y.val)-k(0))+r}).transition().delay(j._totalIntervalTime/2).duration(j._totalIntervalTime/2).attr('height',j._stkbar_barHeight).attr('y',0);return'url(#'+G+')'}})}function A(d,r){var i=this;var j,k=this._isDualAxis?2:1,m;d.attr('clip-path',function(y,E,F){m=Math.floor(F/k);if(E===i._stkbar_negativeIndexes[y.valueScale][m]||E===i._stkbar_positiveIndexes[y.valueScale][m]){var G='roundCorner-clip'+'-'+F+E+y.valueScale+i._suffix;var x=parseFloat(this.x.baseVal.value);var H=i._roundCornerDefs.append('clipPath').attr('id',G).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((E===i._stkbar_negativeIndexes[y.valueScale][m])?0:r)}).transition().duration(i._totalIntervalTime/2).attr('x',function(){if(E===i._stkbar_negativeIndexes[y.valueScale][m]){return 0}else{return 0-r}}).attr('width',function(){j=(y.valueScale===0)?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(j(y.val)-j(0))+r}).attr('height',i._stkbar_barHeight).attr('y',0);return'url(#'+G+')'}})}function D(d,r){var i=this;var j,k=this._isDualAxis?2:1,m;d.attr('clip-path',function(x,y,E){m=Math.floor(E/k);if(y===i._stkbar_negativeIndexes[x.valueScale][m]||y===i._stkbar_positiveIndexes[x.valueScale][m]){var F='roundCorner-clip'+'-'+E+y+x.valueScale+i._suffix;var G=i._roundCornerDefs.append('clipPath').attr('id',F).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',i._stkbar_barHeight).attr('width',function(){j=(x.valueScale===0)?i._valueAxis1.scale:i._valueAxis2.scale;return Math.abs(j(x.val)-j(0))+r});if(y===i._stkbar_negativeIndexes[x.valueScale][m]){G.attr('x',0)}else{G.attr('x',0-r)}return'url(#'+F+')'}})}q.prototype.primaryDataRange=function(r){if(!arguments.length){var m,d;if(this._stkbar_mode==='percentage'){m=1;d=0}else{d=this._primaryAxisBottomBoundary;m=this._primaryAxisTopBoundary}return{min:d,max:m}}var i,j;if(r!==null){if(!isNaN(r.max)){i=r.max}else{i=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){j=r.min}else{j=this._valueAxis1.scale.perfectDomainBegin}if(i>j){this._primaryAxisTopBoundary=i;this._primaryAxisBottomBoundary=j;if(r.from==='axis'){this._primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}else{if(this._primaryAxisManualRange===true){this._primaryAxisTopBoundary=this._init_primaryAxisTopBoundary;this._primaryAxisBottomBoundary=this._init_primaryAxisBottomBoundary;this._primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}return this};q.prototype.secondDataRange=function(r){if(!arguments.length){var m,d;if(this._stkbar_mode==='percentage'){m=1;d=0}else{d=this._secondaryAxisBottomBoundary;m=this._secondaryAxisTopBoundary}return{min:d,max:m}}var i,j;if(r!==null){if(!isNaN(r.max)){i=r.max}else{i=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(r.min)){j=r.min}else{j=this._valueAxis2.scale.perfectDomainBegin}if(i>j){this._secondaryAxisTopBoundary=i;this._secondaryAxisBottomBoundary=j;if(r.from==='axis'){this._secondaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}else{if(this._secondaryAxisManualRange===true){this._secondaryAxisTopBoundary=this._init_secondaryAxisTopBoundary;this._secondaryAxisBottomBoundary=this._init_secondaryAxisBottomBoundary;this._secondaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}}}return this};q.prototype.secondAxisColor=function(){if(T.isExist(this._seriesData[0][1])&&!this._hasMNDonCategoryAxis){return this._axis2ColorPalette[this._seriesData[0][1].length-1]}else{return undefined}};q.prototype.parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._stkbar_mode=this._props.mode==='percentage'?'percentage':'comparison';this._enableDataLoadingAnimation=this._props.animation.dataLoading;this._enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._enableResizingAnimation=this._props.animation.resizing;this._tooltipVisible=this._props.tooltip.enabled;if(this._isDualAxis&&!this._hasMNDonCategoryAxis){this._axis1ColorPalette=this._props.primaryValuesColorPalette;this._axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._axis2ColorPalette=this._props.colorPalette;this._axis1ColorPalette=this._props.colorPalette}this._drawingEffect=this._props.drawingEffect;var d=this._data1.length;this._colorPalette=[];var i,j;if(this._MNDInnerOnColor){var k=0,m=0;for(i=0;i<this._seriesData[0][0].length;i++){this._colorPalette.push(this._axis1ColorPalette[i%this._axis1ColorPalette.length]);k++;if(k===this._measureOnAxis1&&this._isDualAxis&&T.isExist(this._seriesData[0][1])){m=0;for(j=0;j<=this._seriesData[0][1].length;j++){if(m>=this._measureOnAxis2){k=0;break}this._colorPalette.push(this._axis2ColorPalette[j%this._axis2ColorPalette.length]);m++}}}}else{for(i=0;i<this._seriesData[0].length;i++){for(j=0;j<this._seriesData[0][0].length;j++){this._colorPalette.push(this._axis1ColorPalette[j%this._axis1ColorPalette.length])}if(this._isDualAxis&&T.isExist(this._seriesData[0][1])){for(j=0;j<this._seriesData[0][1].length;j++){this._colorPalette.push(this._axis2ColorPalette[j%this._axis2ColorPalette.length])}}}}};q.prototype.parseData=function(){var d=M(this._data);var _=d["MG1"];var k=d["MG2"];this._measureOnAxis1=d.MG1Number;this._measureOnAxis2=d.MG2Number||0;this._MNDInnerOnColor=d.MNDOnColor&&d.MNDInner;this._stkbar_tooltipData=[];var i;if(_[0]&&_[0][0].info&&_[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(T.isExist(d.color)){this._hasMNDonCategoryAxis=true;this._isDualAxis=true;var m=[],r=[];var x=[],y=[];for(i=0;i<_.length;i++){m=[];r=[];for(var j=0;j<_[i].length;j++){if(d.color[j]===0){m.push(_[i][j]);r.push({val:null,hasMNDonCategoryAxis:true})}else{m.push({val:null,hasMNDonCategoryAxis:true});r.push(_[i][j])}}x.push(m);y.push(r)}_=x;k=y}else{this._hasMNDonCategoryAxis=false;if(T.isExist(k)){if(!this._dataStructureChange&&(this._data2.length!==k.length||this._data2[0].length!==k[0].length)){this._dataStructureChange=true}this._isDualAxis=true}else{this._isDualAxis=false}}if(this._data1.length!==_.length||this._data1[0].length!==_[0].length){this._dataStructureChange=true}var E=l.call(this,_,k,d.color);if(!this._dataStructureChange){this._dataValueChange=true}this._seriesData=E;this._data1=_;this._data2=k;if(this._hasMNDonCategoryAxis){for(i=0;i<this._seriesData.length;i++){var F=this._seriesData[i];if(F[0][0].hasMNDonCategoryAxis){this._stkbar_tooltipData.push(F[1])}else{this._stkbar_tooltipData.push(F[0])}}}else{this._stkbar_tooltipData=O.extend(true,{},this._seriesData)}if(T.isExist(this._width)&&T.isExist(this._height)){this.makeScales()}this.parseOptions();return this};q.prototype.setAxisGap=function(_){this._gapObj=_};q.prototype.makeScales=function(){var d=[];for(var i=0;i<this._seriesData.length;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._height]);if(this._stkbar_mode==='percentage'){this._valueAxis1.scale.domain([0,1]).range([0,this._width]);this._valueAxis2.scale.domain([0,1]).range([0,this._width]);S.perfect(this._valueAxis1.scale);S.perfect(this._valueAxis2.scale)}else{if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._primaryAxisBottomBoundary,this._primaryAxisTopBoundary]).range([0,this._width])}if(T.isExist(this._data2)||this._isDualAxis){if(this._secondaryAxisTopBoundary===0&&this._secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._secondaryAxisBottomBoundary,this._secondaryAxisTopBoundary]).range([0,this._width]);if(this._primaryAxisBottomBoundary===0&&this._primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._primaryAxisManualRange&&!this._secondaryAxisManualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._primaryAxisManualRange&&this._secondaryAxisManualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else if(this._primaryAxisManualRange&&!this._secondaryAxisManualRange){S.perfect(this._valueAxis2.scale);S.getRoughTickNum(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._primaryAxisManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}}}if(!T.isExist(this._data2)){this._valueAxis2.scale.range([0,0])}var j=0;var k=0;if(this._gapObj){if(this._gapObj.startGap){j=this._gapObj.startGap}if(this._gapObj.endGap){k=this._gapObj.endGap}}S.adjustGap(j,k,this._valueAxis1.scale);S.adjustGap(j,k,this._valueAxis2.scale)};q.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll(e).remove()}};q.prototype.getDataOfDataPoint=function(d){var i={};if(d&&d.__data__){i=this._rawData.ctx2ArrayData(d.__data__.ctx);if(i.measure){for(var j in i.measure){if(d.__data__.val){i.measure[j].value=d.__data__.val;break}}}i.context=d.__data__.ctx}return i};o.extend(q,B);return q});define('sap/viz/modules/manifests/xy/StackedBar',['sap/viz/modules/manifests/Module','sap/viz/modules/stackedbar','sap/viz/modules/manifests/xy/Bar'],function Setup(M,f,B){var m={'id':'sap.viz.modules.stackedbar','name':'stacked bar',base:"sap.viz.modules.bar",'properties':{'mode':{'name':'mode','supportedValueType':'String','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set the display mode for stacked bar charts','isExported':true,'updatable':false}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/StackedBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/xy/BarChart'],function Setup(M,R,S,B){var c={id:'viz/stacked_bar',name:'IDS_STACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/bar',feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,S.module),feeds:[].concat(B.feeds,R.feeds,S.feeds)};return m});define('sap/viz/manifests/xy/DualStackedBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/xy/StackedBarChart'],function Setup(M,R,S,a){var c={id:'viz/dual_stacked_bar',name:'IDS_DUALSTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/dual_bar',modules:{root:{modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,S.module),feeds:[].concat(a.feeds,R.feeds,S.feeds)};return m});define('sap/viz/manifests/xy/DualPercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/xy/DualStackedBarChart'],function Setup(M,R,S,D){var c={id:'viz/100_dual_stacked_bar',name:'IDS_DUALPERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/dual_stacked_bar',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{isPercentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis2',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_dual_stacked_bar',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(D.viz),module:[].concat(D.module,R.module,S.module),feeds:[].concat(D.feeds,R.feeds,S.feeds)};return m});define('sap/viz/impls/DualPercentageStackedBarChart',['sap/viz/manifests/xy/DualPercentageStackedBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/modules/stackedverticalbar',['sap/viz/base/utils/oo','sap/viz/modules/BaseVerticalBar','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/modules/util/MNDHandler','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector','sap/viz/modules/Constants','sap/viz/modules/util/ClippathUtil','sap/viz/modules/util/selectionUtil','sap/viz/modules/util/VizBarSizeUtil'],function Setup(o,B,T,O,M,t,S,N,a,l,b,U,C,c,s,V){var e=C.CSS.CLASS.DATAPOINTSELECTED,f=C.CSS.CLASS.DATAPOINT,g=C.CSS.CLASS.MORPHABLEDATAPOINT;var h=f+' '+g;var n="v-datashapesgroup";var p=function(m,d){p.superclass.constructor.apply(this,arguments);this._svb_data=undefined;this._svb_data1=[[]];this._svb_data2=[[]];this._svb_seriesData=[];this._svb_tooltipData=[];this._svb_primaryAxisTopBoundary=0;this._svb_primaryAxisBottomBoundary=0;this._svb_primaryAxisManualRange=false;this._svb_secondaryAxisManualRange=false;this._svb_secondaryAxisTopBoundary=0;this._svb_secondaryAxisBottomBoundary=0;this._svb_init_primaryAxisTopBoundary=0;this._svb_init_primaryAxisBottomBoundary=0;this._svb_init_secondaryAxisTopBoundary=0;this._svb_init_secondaryAxisBottomBoundary=0;this._svb_isDualAxis=false;this._svb_hasMNDonCategoryAxis=false;this._svb_colorPalette=[];this._svb_axis1ColorPalette=undefined;this._svb_axis2ColorPalette=undefined;this._svb_MNDInnerOnColor=false;this._svb_measureOnAxis1=0;this._svb_measureOnAxis2=0;this._svb_shapePalette=['squareWithRadius'];this._svb_styleManager=d.styleManager;this._svb_rawData=d.rawData;this._svb_valueScales=new Array(2);this._svb_lastSelected=[];this._svb_tooltipVisible=true;this._svb_lastHovered=null;this._svb_barNumber=undefined;this._svb_barGroupNumber=undefined;this._svb_barNumberinGroup=undefined;this._svb_yPositions=[];this._svb_positiveIndexes=[];this._svb_negativeIndexes=[];this._svb_barWidth=undefined;this._svb_defsEnter=undefined;this._svb_roundCornerDefs=undefined;this._svb_suffix=O.guid();this._svb_enableDataLoadingAnimation=true;this._svb_enableDataUpdatingAnimation=true;this._svb_enableResizingAnimation=true;this._svb_clipEdge=true;this._svb_isOnlyInitAnimation=false;this._svb_afterAttachToDOM=false;this._svb_totalIntervalTime=800;this._svb_mode='comparison';this._svb_drawingEffect='normal';this._svb_sizeChange=false;this._svb_dataStructureChange=false;this._svb_dataValueChange=false;this._propsChange=false;this._svb_totalAnimationCount=undefined;this._svb_currentAnimationCount=undefined;a.extend(true,this._props,m.props(null));this._svb_tooltipHandlerObj=null;this._svb_gapObj=null};o.extend(p,B);p.prototype.render=function(d,i){b.drawBound(d,this._width,this._height);if(U.isMobile()){var j=c.drawClippath(d,this._width,this._height);d.attr('clip-path',"url(#"+j+")")}this.draw(d,i);if(U.isMobile()&&!i&&this._datashapesgroup){this._datashapesgroup.attr('transform',null)}this._svb_lastHovered=null;this.applyFormatConditions(this._props.formatRules,d,this._svb_data,this);return this};p.prototype.draw=function(q,u){var v=this;var w=[];for(var i=0;i<this._svb_seriesData.length;i++){w[i]=[];for(var j=0;j<this._svb_seriesData[i].length;j++){w[i][j]=[];for(var k=0,z=this._svb_seriesData[i][j].length;k<z;k++){w[i][j][k]=this._svb_seriesData[i][j][z-k-1]}}}this._svb_tooltipHandlerObj=t();if(this._svb_mode==='percentage'){this._svbfn_turnToPercentage()}if(!T.isExist(this._valueAxis1.scale)&&!T.isExist(this._valueAxis2.scale)){return}this._svb_currentAnimationCount=0;this._svb_totalAnimationCount=0;this._eDispatch.startToInit();q.each(function(){v._svb_barNumberinGroup=v._svb_seriesData[0][0].length+((T.isExist(v._svb_seriesData[0][1]))?v._svb_seriesData[0][1].length:0);var A=8*(v._categoryScale.rangeBand())/(9*v._svb_barNumberinGroup+7);v._svb_barNumber=(T.isExist(v._svb_data2))?2:1;v._svb_barWidth=8*(v._categoryScale.rangeBand())/(9*v._svb_barNumber+7);v._svb_totalAnimationCount=v._svb_seriesData.length*v._svb_barNumberinGroup;v._d3root=d3.select(this);var D=v._d3root;if(v._svb_defsEnter===undefined){v._svb_defsEnter=D.append('defs').append('clipPath').attr('id','clipPlot_'+v._svb_suffix).append('rect').attr('width',v._width).attr('height',v._height)}else{v._svb_defsEnter.attr('width',v._width).attr('height',v._height)}if(v._svb_roundCornerDefs===undefined){v._svb_roundCornerDefs=D.append('defs')}else{if(v._svb_dataStructureChange||v._svb_sizeChange||v._svb_dataValueChange||!v._enableRoundCorner||v._propsChange){v._svb_roundCornerDefs.selectAll(".v-clippath").remove()}}var r=Math.log(v._svb_barWidth)/Math.log(2);if(r<0){v._enableRoundCorner=false}var E,F=0,G=0,H=0,I=0;v._datashapesgroup=D.selectAll('g.'+n);if(!T.isExist(v._datashapesgroup[0][0])){v._datashapesgroup=D.append('g').attr('class',n).attr("fill","none");if(!U.isMobile()){v._datashapesgroup.attr("clip-path","url(#clipPlot_"+v._svb_suffix+")")}}var J=v._datashapesgroup.selectAll('g.v-stackedcolumn').data(w);J.enter().append('g');J.attr('class','v-stackedcolumn').each(function(K,i){var L=d3.select(this).selectAll('g.v-axisGroup').data(K);L.enter().append('g');L.attr('class','v-axisGroup').each(function(P,j){var E=(j===0)?v._valueAxis1.scale:v._valueAxis2.scale;var Q=(j===0)?v._svb_barWidth/2:(v._svb_barWidth/2+v._svb_barWidth+v._svb_barWidth/8);var R=(j===0)?v._categoryScale(i):(v._categoryScale(i)+v._svb_barWidth/2+v._svb_barWidth);var W=(j===0)?v._svb_axis1ColorPalette:v._svb_axis2ColorPalette;var X=0,Y=0,Z=0,$=0;var _=[],a1=[];var b1=d3.select(this).selectAll('g.v-datashape').data(P);var c1=b1.enter().append('g').attr('class','v-datashape').append('rect').attr('class',h);b1.exit().remove();if(v._svb_afterAttachToDOM){b1.each(function(){var d=this.getTransformToElement(this.parentNode);if(d!==null){_.push(d.f)}})}b1.attr('transform',function(d,m){var y;if(d.val>=0){Z+=P[m].val;X=E(Z);y=X}else{Y=E($);$+=P[m].val;y=Y}var x=v._categoryScale(i)+Q;a1.push(x);return'translate('+x+','+y+')'});var d1=b1.select('rect.v-datapoint');if(v._svb_dataStructureChange||v._svb_dataValueChange||v._propsChange){d1.attr('fill',function(d,m){var x=w[i][j].length-1-m;d.fillColor=W[x%W.length];var y={drawingEffect:v._svb_drawingEffect,fillColor:d.fillColor,direction:'horizontal'};return v._effectManager.register(y)}).attr('class',h).attr('shape-rendering','crispEdges').attr('fill-opacity',1).attr('stroke','none')}var e1;if(v._svbfn_enableAnimation()){if(v._svb_dataStructureChange||v._propsChange||v._svb_dataValueChange){d1.attr('x',function(d,m){var x=R-a1[m]+A*m;x=x+A/8*(m)+A/2;return x}).attr('width',V.fixDecimal(A)).attr('height',0).attr('y',function(d){if(d.val>0){return Math.abs(E(d.val)-E(0))}else{return 0}});if(v._enableRoundCorner){e1=function(){d1.attr('clip-path',function(d,m){if(m===v._svb_negativeIndexes[j][i]||m===v._svb_positiveIndexes[j][i]){var x='roundCorner-clip'+'-'+m+i+j+v._svb_suffix;var y=v._svb_roundCornerDefs.append('clipPath').attr('id',x).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',Math.abs(E(d.val)-E(0))+r).attr('height',r).attr('width',V.fixDecimal(A)).attr('x',this.x.baseVal.value).transition().duration(v._svb_totalIntervalTime/2).attr('y',function(){if(m===v._svb_negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(E(d.val)-E(0))+r}).transition().delay(v._svb_totalIntervalTime/2).duration(v._svb_totalIntervalTime/2).attr('x',0).attr('width',V.fixDecimal(v._svb_barWidth));return'url(#'+x+')'}})};if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(e1,0)}else{e1()}}d1.transition().duration(v._svb_totalIntervalTime/2).attr('height',function(d){return Math.abs(E(d.val)-E(0))}).attr('y',0).each('end',function(d,m){this.setAttribute('y',0);this.setAttribute('height',Math.abs(E(d.val)-E(0)));d3.select(this).transition().duration(v._svb_totalIntervalTime/2).attr('width',V.fixDecimal(v._svb_barWidth)).attr('x',0).each('end',function(){this.setAttribute('x',0);this.setAttribute('width',V.fixDecimal(v._svb_barWidth));v._svbfn_completeAnimation()})})}else if(v._svb_sizeChange){d1.attr('y',function(d,k){var m=this.parentNode.getTransformToElement(this.parentNode.parentNode);if(m!==null){return _[k]-m.f}else{return _[k]}}).attr('height',function(d,k){var m=Math.abs(E(d.val)-E(0));if(parseFloat(this.height.baseVal.value)>m){return this.height.baseVal.value}else{return m}});var f1=d1.transition();f1.duration(v._svb_totalIntervalTime/2).attr('width',V.fixDecimal(v._svb_barWidth)).attr('x',0).attr('height',function(d){return Math.abs(E(d.val)-E(0))}).attr('y',0).each('end',function(d,m){this.setAttribute('width',V.fixDecimal(v._svb_barWidth));this.setAttribute('x',0);this.setAttribute('height',Math.abs(E(d.val)-E(0)));this.setAttribute('y',0);v._svbfn_completeAnimation()});if(v._enableRoundCorner){e1=function(){f1.attr('clip-path',function(d,m){if(m===v._svb_negativeIndexes[j][i]||m===v._svb_positiveIndexes[j][i]){var x='roundCorner-clip'+'-'+m+i+j+v._svb_suffix;var y=parseFloat(this.y.baseVal.value);var g1=v._svb_roundCornerDefs.append('clipPath').attr('id',x).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){return y-((m===v._svb_negativeIndexes[j][i])?r:0)}).attr('height',this.height.baseVal.value+r).attr('width',V.fixDecimal(this.width.baseVal.value)).attr('x',this.x.baseVal.value).transition().duration(v._svb_totalIntervalTime/2).attr('y',function(){if(m===v._svb_negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(E(d.val)-E(0))+r}).attr('x',0).attr('width',V.fixDecimal(v._svb_barWidth));return'url(#'+x+')'}})};if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(e1,0)}else{e1()}}}else if(v._enableRoundCorner){e1=function(){d1.attr('clip-path',function(d,m){if(m===v._svb_negativeIndexes[j][i]||m===v._svb_positiveIndexes[j][i]){var x='roundCorner-clip'+'-'+m+i+j+v._svb_suffix;var y=v._svb_roundCornerDefs.append('clipPath').attr('id',x).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(m===v._svb_negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(E(d.val)-E(0))+r}).attr('x',0).attr('width',V.fixDecimal(v._svb_barWidth));return'url(#'+x+')'}v._svbfn_completeAnimation()})};if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(e1,0)}else{e1()}}}else{d1.attr('y',0).attr('x',0).attr('width',V.fixDecimal(v._svb_barWidth)).attr('height',function(d){return Math.abs(E(d.val)-E(0))});if(v._enableRoundCorner){e1=function(){d1.attr('clip-path',function(d,m){if(m===v._svb_negativeIndexes[j][i]||m===v._svb_positiveIndexes[j][i]){var x='roundCorner-clip'+'-'+m+i+j+v._svb_suffix;var y=v._svb_roundCornerDefs.append('clipPath').attr('id',x).attr("class","v-clippath").append('rect').attr('class','v-roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(m===v._svb_negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(E(d.val)-E(0))+r}).attr('x',0).attr('width',V.fixDecimal(v._svb_barWidth));return'url(#'+x+')'}})};if((U.isSafari()&&U.os()==="Windows")||U.isMobile()){window.setTimeout(e1,0)}else{e1()}}}})});J.exit().remove()});if(!this._svbfn_enableAnimation()){if(u&&u.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}this._svb_afterAttachToDOM=true}this._svb_sizeChange=false,this._svb_dataValueChange=false,this._svb_dataStructureChange=false,this._propsChange=false;this._svb_isOnlyInitAnimation=true};p.prototype.width=function(v){if(!arguments.length){return this._width}this._svb_sizeChange=(this._width===v)&&!this._svb_sizeChange?false:true;this._width=v;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}return this};p.prototype.height=function(v){if(!arguments.length){return this._height}this._svb_sizeChange=(this._height===v)&&!this._svb_sizeChange?false:true;this._height=v;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}return this};p.prototype.data=function(v){if(!arguments.length){return this._svb_data}this._svb_data=v;var d=M(this._svb_data);var _=d["MG1"];var k=d["MG2"];this._svb_measureOnAxis1=d.MG1Number;this._svb_measureOnAxis2=d.MG2Number||0;this._svb_MNDInnerOnColor=d.MNDOnColor&&d.MNDInner;this._svb_tooltipData=[];var i=0;if(_[0]&&_[0][0].info&&_[0][0].info.defaultSelection){this._hasDefaultSelection=true}else{this._hasDefaultSelection=false}if(T.isExist(d.color)){this._svb_hasMNDonCategoryAxis=true;this._svb_isDualAxis=true;var m=[],q=[];var r=[],u=[];for(i=0;i<_.length;i++){m=[];q=[];for(var j=0;j<_[i].length;j++){if(d.color[j]===0){m.push(_[i][j]);q.push({val:null,hasMNDonCategoryAxis:true})}else{m.push({val:null,hasMNDonCategoryAxis:true});q.push(_[i][j])}}r.push(m);u.push(q)}_=r;k=u}else{this._svb_hasMNDonCategoryAxis=false;if(T.isExist(k)){if(!this._svb_dataStructureChange&&(this._svb_data2.length!==k.length||this._svb_data2[0].length!==k[0].length)){this._svb_dataStructureChange=true}this._svb_isDualAxis=true}else{this._svb_isDualAxis=false}}if(this._svb_data1.length!==_.length||this._svb_data1[0].length!==_[0].length){this._svb_dataStructureChange=true}var w=this._svbfn_dataHandler(_,k);this._svb_seriesData=w;this._svb_data1=_;this._svb_data2=k;if(!this._svb_dataStructureChange){this._svb_dataValueChange=true}if(this._svb_hasMNDonCategoryAxis){for(i=0;i<this._svb_seriesData.length;i++){var x=this._svb_seriesData[i];if(x[0][0].hasMNDonCategoryAxis){this._svb_tooltipData.push(x[1])}else{this._svb_tooltipData.push(x[0])}}}else{this._svb_tooltipData=O.extend(true,{},this._svb_seriesData)}if(T.isExist(this._width)&&T.isExist(this._height)){this._svbfn_makeScales()}this._svbfn_parseOptions();return this};p.prototype.properties=function(d){if(!arguments.length){return this._props}this._propsChange=true;this._props=a.extend(true,this._props,d);this._svbfn_parseOptions();return this};p.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1])}this._categoryScale=null;this._valueAxis1.scale=null;this._valueAxis2.scale=null;this._svb_seriesData=null;this._svb_tooltipData=null;if(this._effectManager&&this._effectManager.destroy){this._effectManager.destroy();this._effectManager=null}if(this._svb_styleManager&&this._svb_styleManager.destroy){this._svb_styleManager.destroy();this._svb_styleManager=null}if(this._d3root){this._d3root.selectAll('.'+f).remove()}};p.prototype.colorPalette=function(P){if(!arguments.length){return this._svb_colorPalette}this._svb_colorPalette=P;return this};p.prototype.primaryDataRange=function(r){if(!arguments.length){var m,d;if(this._svb_mode==='percentage'){m=1;d=0}else{d=this._svb_primaryAxisBottomBoundary;m=this._svb_primaryAxisTopBoundary}return{min:d,max:m}}var i,j;if(r!==null){if(!isNaN(r.max)){i=r.max}else{i=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){j=r.min}else{j=this._valueAxis1.scale.perfectDomainBegin}if(i>j){this._svb_primaryAxisTopBoundary=i;this._svb_primaryAxisBottomBoundary=j;if(r.from==='axis'){this._svb_primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}else{if(this._svb_primaryAxisManualRange===true){this._svb_primaryAxisTopBoundary=this._svb_init_primaryAxisTopBoundary;this._svb_primaryAxisBottomBoundary=this._svb_init_primaryAxisBottomBoundary;this._svb_primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}return this};p.prototype.secondDataRange=function(r){if(!arguments.length){var m,d;if(this._svb_mode==='percentage'){m=1;d=0}else{d=this._svb_secondaryAxisBottomBoundary;m=this._svb_secondaryAxisTopBoundary}return{min:d,max:m}}var i,j;if(r!==null){if(!isNaN(r.max)){i=r.max}else{i=this._valueAxis2.scale.perfectDomainEnd}if(!isNaN(r.min)){j=r.min}else{j=this._valueAxis2.scale.perfectDomainBegin}if(i>j){this._svb_secondaryAxisTopBoundary=i;this._svb_secondaryAxisBottomBoundary=j;if(r.from==='axis'){this._svb_secondaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}else{if(this._svb_secondaryAxisManualRange===true){this._svb_secondaryAxisTopBoundary=this._svb_init_secondaryAxisTopBoundary;this._svb_secondaryAxisBottomBoundary=this._svb_init_secondaryAxisBottomBoundary;this._svb_secondaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._svb_seriesData)){this._svbfn_makeScales()}}}return this};p.prototype.categoryScale=function(d){if(!arguments.length){return this._categoryScale}this._categoryScale=d;return this};p.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;this._svb_valueScales[0]=this._valueAxis1.scale;return this};p.prototype.secondScale=function(d){if(!arguments.length){return this._valueAxis2.scale}this._valueAxis2.scale=d;this._svb_valueScales[1]=this._valueAxis2.scale;return this};p.prototype.primaryAxisColor=function(){if(this._svb_isDualAxis&&!this._svb_hasMNDonCategoryAxis){return this._svb_colorPalette[0]}else{return undefined}};p.prototype.secondAxisColor=function(){if(T.isExist(this._svb_seriesData[0][1])&&!this._svb_hasMNDonCategoryAxis){return this._svb_axis2ColorPalette[this._svb_seriesData[0][1].length-1]}else{return undefined}};p.prototype.getPreferredSize=function(){};p.prototype.dataLabel=function(_){};p.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};p.prototype.primaryAxisTitle=function(_){if(!arguments.length){var d=this._svb_data.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};p.prototype.secondAxisTitle=function(_){if(!arguments.length){var d=this._svb_data.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};p.prototype.applyFormatConditions=function(d,j,k,m){var q=function(r,u){var v={drawingEffect:m._svb_drawingEffect,fillColor:u.color,direction:'horizontal'};var w=m._effectManager.register(v);var i;for(i=0;i<r.length;i++){r[i].setAttribute('fill',w)}};s.applyConditons(d,j,k,q)};p.prototype.getDataOfDataPoint=function(d){var i={};if(d&&d.__data__){i=this._svb_rawData.ctx2ArrayData(d.__data__.ctx);if(i.measure){for(var j in i.measure){if(d.__data__.val){i.measure[j].value=d.__data__.val;break}}}i.context=d.__data__.ctx}return i};p.prototype._svbfn_dataHandler=function(v,d,k){var m=-1,q=-1;this._svb_positiveIndexes=[[],[]],this._svb_negativeIndexes=[[],[]];this._svb_primaryAxisTopBoundary=this._svb_primaryAxisBottomBoundary=0;this._svb_secondaryAxisTopBoundary=this._svb_secondaryAxisBottomBoundary=0;var r=[];this._svb_barGroupNumber=v[0].length;var u,w;for(var j=0;j<this._svb_barGroupNumber;j++){var x=[],y=[];var z=[];u=0,w=0;m=-1,q=-1;for(var i=0;i<v.length;i++){if(N.isNoValue(v[i][j].val)){v[i][j].val=null;v[i][j].isNaN=true}else{if(v[i][j].val>=0){u+=v[i][j].val;m=i}else{w+=v[i][j].val;q=i}}x.push(v[i][j])}this._svb_positiveIndexes[0].push(m);this._svb_negativeIndexes[0].push(q);if(this._svb_primaryAxisTopBoundary<u){this._svb_primaryAxisTopBoundary=u}if(this._svb_primaryAxisBottomBoundary>w){this._svb_primaryAxisBottomBoundary=w}z.push(x);this._svb_init_primaryAxisTopBoundary=this._svb_primaryAxisTopBoundary;this._svb_init_primaryAxisBottomBoundary=this._svb_primaryAxisBottomBoundary;if(T.isExist(d)){u=0,w=0;m=-1,q=-1;for(i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=null;d[i][j].isNaN=true}else{if(d[i][j].val>=0){u+=d[i][j].val;m=i}else{w+=d[i][j].val;q=i}}y.push(d[i][j])}this._svb_positiveIndexes[1].push(m);this._svb_negativeIndexes[1].push(q);if(this._svb_secondaryAxisTopBoundary<u){this._svb_secondaryAxisTopBoundary=u}if(this._svb_secondaryAxisBottomBoundary>w){this._svb_secondaryAxisBottomBoundary=w}z.push(y);this._svb_init_secondaryAxisTopBoundary=this._svb_secondaryAxisTopBoundary;this._svb_init_secondaryAxisBottomBoundary=this._svb_secondaryAxisBottomBoundary}r.push(z)}return r};p.prototype.setAxisGap=function(_){this._svb_gapObj=_};p.prototype._svbfn_makeScales=function(){var d=[];for(var i=0;i<this._svb_seriesData.length;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._width]);if(this._svb_mode==='percentage'){this._valueAxis1.scale.domain([0,1]).range([this._height,0]);this._valueAxis2.scale.domain([0,1]).range([this._height,0]);S.perfect(this._valueAxis1.scale);S.perfect(this._valueAxis2.scale)}else{if(this._svb_primaryAxisBottomBoundary===0&&this._svb_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._svb_primaryAxisBottomBoundary,this._svb_primaryAxisTopBoundary]).range([this._height,0])}if(T.isExist(this._svb_data2)||this._svb_isDualAxis){if(this._svb_secondaryAxisTopBoundary===0&&this._svb_secondaryAxisBottomBoundary===0){this._valueAxis2.scale.domain(this._valueAxis1.scale.domain()).range(this._valueAxis1.scale.range())}else{this._valueAxis2.scale.domain([this._svb_secondaryAxisBottomBoundary,this._svb_secondaryAxisTopBoundary]).range([this._height,0]);if(this._svb_primaryAxisBottomBoundary===0&&this._svb_primaryAxisTopBoundary===0){this._valueAxis1.scale.domain(this._valueAxis2.scale.domain()).range(this._valueAxis2.scale.range())}}if(!this._svb_primaryAxisManualRange&&!this._svb_secondaryAxisManualRange){S.perfectDual(this._valueAxis1.scale,this._valueAxis2.scale)}else if(!this._svb_primaryAxisManualRange&&this._svb_secondaryAxisManualRange){S.perfect(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}else if(this._svb_primaryAxisManualRange&&!this._svb_secondaryAxisManualRange){S.perfect(this._valueAxis2.scale);S.getRoughTickNum(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale);S.getRoughTickNum(this._valueAxis2.scale)}}else{if(!this._svb_primaryAxisManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}}}if(!T.isExist(this._svb_data2)){this._valueAxis2.scale.range([0,0])}var j=0;var k=0;if(this._svb_gapObj){if(this._svb_gapObj.startGap){j=this._svb_gapObj.startGap}if(this._svb_gapObj.endGap){k=this._svb_gapObj.endGap}}S.adjustGap(j,k,this._valueAxis1.scale);S.adjustGap(j,k,this._valueAxis2.scale)};p.prototype._svbfn_completeAnimation=function(){if(++this._svb_currentAnimationCount===this._svb_totalAnimationCount){this._eDispatch.initialized();this._svb_afterAttachToDOM=true}};p.prototype._svbfn_enableAnimation=function(){var d=false;if(!this._svb_isOnlyInitAnimation){d=this._svb_enableDataLoadingAnimation}else if(this._svb_dataStructureChange||this._svb_dataValueChange){d=this._svb_enableDataUpdatingAnimation}else if(this._svb_sizeChange){d=this._svb_enableResizingAnimation}return d};p.prototype._svbfn_turnToPercentage=function(){for(var i=0,d=this._svb_seriesData.length;i<d;i++){for(var j=0,r=this._svb_seriesData[i],m=this._svb_tooltipData[i];j<r.length;j++){var q=0,u=0,k;for(k=0;k<r[j].length;k++){q+=Math.abs(r[j][k].val);if(!r[j][k].isNaN){u++}}if(q===0){for(k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/u;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/u}}}else{for(k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/q);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/q}}}}}};p.prototype._svbfn_parseOptions=function(){this._enableRoundCorner=this._props.isRoundCorner;this._svb_mode=this._props.mode==='percentage'?'percentage':'comparison';this._svb_enableDataLoadingAnimation=this._props.animation.dataLoading;this._svb_enableDataUpdatingAnimation=this._props.animation.dataUpdating;this._svb_enableResizingAnimation=this._props.animation.resizing;this._svb_tooltipVisible=this._props.tooltip.enabled;if(this._svb_isDualAxis&&!this._svb_hasMNDonCategoryAxis){this._svb_axis1ColorPalette=this._props.primaryValuesColorPalette;this._svb_axis2ColorPalette=this._props.secondaryValuesColorPalette}else{this._svb_axis2ColorPalette=this._props.colorPalette;this._svb_axis1ColorPalette=this._props.colorPalette}this._svb_drawingEffect=this._props.drawingEffect;this._svb_colorPalette=[];var d=0,k=0,j=0,i=0;if(this._svb_MNDInnerOnColor){for(i=0;i<this._svb_seriesData[0][0].length;i++){this._svb_colorPalette.push(this._svb_axis1ColorPalette[i%this._svb_axis1ColorPalette.length]);d++;if(d===this._svb_measureOnAxis1&&this._svb_isDualAxis&&T.isExist(this._svb_seriesData[0][1])){k=0;for(;j<=this._svb_seriesData[0][1].length;j++){if(k>=this._svb_measureOnAxis2){d=0;break}this._svb_colorPalette.push(this._svb_axis2ColorPalette[j%this._svb_axis2ColorPalette.length]);k++}}}}else{for(i=0;i<this._svb_seriesData[0].length;i++){for(j=0;j<this._svb_seriesData[0][0].length;j++){this._svb_colorPalette.push(this._svb_axis1ColorPalette[j%this._svb_axis1ColorPalette.length])}if(this._svb_isDualAxis&&T.isExist(this._svb_seriesData[0][1])){for(j=0;j<this._svb_seriesData[0][1].length;j++){this._svb_colorPalette.push(this._svb_axis2ColorPalette[j%this._svb_axis2ColorPalette.length])}}}}};return p});define('sap/viz/modules/manifests/xy/StackedVerticalBar',['sap/viz/modules/manifests/Module','sap/viz/modules/stackedverticalbar','sap/viz/modules/manifests/xy/VerticalBar'],function Setup(M,f,V){var m={'id':'sap.viz.modules.stackedverticalbar','name':'stacked vertical bar',base:"sap.viz.modules.verticalbar",'properties':{'mode':{'name':'mode','supportedValueType':'String','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set the display mode for stacked vertical bar charts','isExported':true,'updatable':false}},fn:f};var a={viz:[],module:[m].concat(V.module),feeds:[].concat(V.feeds)};return a});define('sap/viz/manifests/xy/VerticalBarChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/modules/manifests/controller/Pinch','sap/viz/modules/manifests/controller/Pan'],function Setup(M,U,V,B,P,a){var c={id:'viz/column',name:'IDS_VERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{id:'sap.viz.modules.rootContainer',modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:false,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options',propertyCategory:'plotArea'}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var d={viz:[c].concat(B.viz),module:[].concat(B.module,V.module,P.module,a.module),feeds:[].concat(B.feeds,V.feeds,P.feeds)};return d});define('sap/viz/manifests/xy/StackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/xy/VerticalBarChart'],function Setup(M,R,S,V){var c={id:'viz/stacked_column',name:'IDS_STACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/column',feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};var m={viz:[c].concat(V.viz),module:[].concat(V.module,R.module,S.module),feeds:[].concat(V.feeds,R.feeds,S.feeds)};return m});define('sap/viz/manifests/xy/DualStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/xy/StackedVerticalBarChart'],function Setup(M,R,S,a){var c={id:'viz/dual_stacked_column',name:'IDS_DUALSTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/dual_column',modules:{root:{modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,S.module),feeds:[].concat(a.feeds,R.feeds,S.feeds)};return m});define('sap/viz/manifests/xy/DualPercentageStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/xy/DualStackedVerticalBarChart'],function Setup(M,R,S,D){var c={id:'viz/100_dual_stacked_column',name:'IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/dual_stacked_column',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{isPercentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis2',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_dual_stacked_column',orientation:'bottom',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(D.viz),module:[].concat(D.module,R.module,S.module),feeds:[].concat(D.feeds,R.feeds,S.feeds)};return m});define('sap/viz/impls/DualPercentageStackedVerticalBarChart',['sap/viz/manifests/xy/DualPercentageStackedVerticalBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/impls/DualStackedBarChart',['sap/viz/manifests/xy/DualStackedBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/impls/DualStackedVerticalBarChart',['sap/viz/manifests/xy/DualStackedVerticalBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/manifests/xy/DualVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/VerticalBarChart'],function Setup(M,U,R,V){var c={id:'viz/dual_column',name:'IDS_DUALVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/column',modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',propertiesOverride:{indicator:{isExported:false},title:{applyAxislineColor:{isExported:true}}},properties:{indicator:{enable:true}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.plot',target:'secondDataRange',sourceModule:'root.main.yAxis2',source:'range'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot',source:'secondScale'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis2',target:'color',sourceModule:'root.main.plot',source:'secondAxisColor'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis','yAxis2']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.yAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis2'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.yAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis2'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(V.viz),module:[].concat(V.module,R.module),feeds:[].concat(V.feeds,R.feeds)};return b});define('sap/viz/impls/DualVerticalBarChart',['sap/viz/manifests/xy/DualVerticalBarChart'],function Setup(D){var m={viz:[].concat(D.viz),module:[].concat(D.module),feeds:[].concat(D.feeds)};return m});define('sap/viz/util/RGBA',[],function Setup(){function c(r,g,b,a,s){this.r=r;this.g=g;this.b=b;this.a=a;this.signForOpacity=s}c.prototype.clone=function(){return new c(this.r,this.g,this.b,this.a,this.signForOpacity)};c.prototype.toHex=function(){return d3.rgb(this.r,this.g,this.b).toString()};c.prototype.toString=function(){if(this.a<=1&&this.signForOpacity===true){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else if(this.a<1){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else{return this.toHex()}};c.prototype.from=function(d,a){var n=d3.rgb(0,0,0),e=1,s;if(a){e=a;s=true}if(d!==undefined&&typeof(d)==='object'){if(d.rgb){n=d.rgb()}else{n=d}}else if(typeof(d)==='string'){d=d.toLowerCase();var t,i,j;if(d.indexOf('rgba')>=0){t=d.substring(d.indexOf('(')+1);i=t.lastIndexOf(',');j=t.indexOf(')');if(i>=0&&j>=0){var f='rgb('+t.substring(0,i)+')';e=parseFloat(t.substring(i+1,j));n=d3.rgb(f)}}else if(d.indexOf('hsla')>=0){t=d.substring(d.indexOf('(')+1);i=t.lastIndexOf(',');j=t.indexOf(')');if(i>=0&&j>=0){var h='hsl('+t.substring(0,i)+')';e=parseFloat(t.substring(i+1,j));n=d3.hsl(h).rgb()}}else if(d.indexOf('hsl')>=0){n=d3.hsl(d).rgb()}else if(d.indexOf('#')>=0){var r,g,b;if(d.length===4){r=d.charAt(1);r+=r;g=d.charAt(2);g+=g;b=d.charAt(3);b+=b}else if(d.length===7){r=d.substring(1,3);g=d.substring(3,5);b=d.substring(5,7)}r=parseInt(r,16);g=parseInt(g,16);b=parseInt(b,16);n=d3.rgb(r,g,b)}else{n=d3.rgb(d)}}this.r=n.r;this.g=n.g;this.b=n.b;this.a=e;this.signForOpacity=s;return this};c.prototype.toGray=function(){var r=this.r,g=this.g,b=this.b,a,d;if((r===g)&&(g===b)){a=Math.round(r+(255-r)*0.6)}else{a=Math.round((r*299+g*587+b*114+500)/1000)}d=this.clone();d.r=a;d.g=a;d.b=a;return d};c.prototype.increaseBrightness=function(p){var r=this.r,g=this.g,b=this.b,n,a,d,e;if(!isNaN(p)){if(p>=0){n=Math.round(r+(255-r)*p/100);a=Math.round(g+(255-g)*p/100);d=Math.round(b+(255-b)*p/100)}else{n=Math.round(r*(100+p)/100);a=Math.round(g*(100+p)/100);d=Math.round(b*(100+p)/100)}e=this.clone();e.r=n;e.g=a;e.b=d}return e};return c});define('sap/viz/util/MeasureBasedColoring',["./RGBA",'sap/viz/util/NumberUtils'],function Setup(R,N){var M={getColorScale:function(m,c,h,p){var d;if((m===undefined&&c===undefined)||(m===Number.MAX_VALUE&&c===-Number.MAX_VALUE)){if(h){d=d3.scale.ordinal().domain([[]]).range([p.nullColor]);d.domainInfo=[{}]}}else{var e=null;var t=p.numberOfTicks;if(p.colorPalette&&p.colorPalette.length>=t){var r=p.colorPalette.slice(0,t);if(t===1){r.push(p.colorPalette[0])}if(m!==c){e=d3.scale.quantize().domain([m,c]).range(r);var j=d3.scale.linear().domain([m,c]).range(r).nice().domain();e.domain(j)}else{e=d3.scale.linear().domain([m,c]).range(r).nice()}}else{e=d3.scale.linear().domain([m,c]).range([p.startColor,p.endColor]).nice()}var k=[],i,l;if(a(p.legendValues,t)){k=p.legendValues.slice(0,t+1)}else{var n=e.domain();var o=g(n[0]),q=g(n[1]);var s=o>q?o:q;s++;var u=e.domain();u=f(u,s);m=u[0];c=u[1];if(m===c){t=1}var v=c-m,w,x=0,y;if(v/t>1){if(v%t===0){w=b(v/t,s+1);x=g(w);for(i=0;i<t+1;i++){k.push(m+b(i*w,x))}}else{w=Math.ceil(v/t);x=g(w);y=Math.floor(m/w)*w;if(y===0||(y+w*t<c)){y=m}for(i=0;i<t+1;i++){k.push(y+b(i*w,x))}}}else{y=m,w=b(v/t,s+1);x=g(w);for(i=0;i<t;i++){k.push(y+b(i*w,x))}k.push(b(c,x))}for(i=0,l=k.length;i<l;i++){k[i]=b(k[i],x)}while(m<k[0]){k[0]--}while(c>k[k.length-1]){k[k.length-1]++}}e.domain([0,t===1?1:t-1]);var z=[],A=[],B=[];for(i=0,l=k.length-1;i<l;i++){z.push([k[i],k[i+1]]);A.push(e(i));B.push({isLeftOpen:false,isRightOpen:true,isAscending:true})}B[l-1].isRightOpen=false;var C,D,E;if(m<z[0][0]){z.unshift([-Number.MAX_VALUE,z[0][0]]);C=new R();D=C.from(A[0]).increaseBrightness(10).toHex();A.unshift(D);B.unshift({isLeftOpen:false,isRightOpen:true,isAscending:true})}if(c>z[z.length-1][1]){z.push([z[z.length-1][1],Number.MAX_VALUE]);C=new R();E=C.from(A[A.length-1]).increaseBrightness(-10).toHex();A.push(E);B.push({isLeftOpen:true,isRightOpen:true,isAscending:true})}d=d3.scale.ordinal().domain(z).range(A);d.domainInfo=B;if(h){d.domain().push([]);d.range().push(p.nullColor);d.domainInfo.push({})}}return d},getScale:function(m,c,t,s,e){return M.getColorScale(m,c,false,{numberOfTicks:t,startColor:s,endColor:e})}};M.fillContexts2DomainInfo4MBC=function(c,o,d,e){if(c){var h=c.domain(),k;var l=c.domainInfo,m;var n,p,q,r,s,v;var t;for(var i=-1;++i<o.length;){v=d?d(o[i]):o[i].val;for(var j=-1;++j<h.length;){k=h[j];m=l[j];if(N.isNoValue(v)){n=k.length===0}else if(k.length>0){p=k[0];q=m.isLeftOpen;r=k[1];s=m.isRightOpen;n=((v<p||(!q&&v===p))&&(v>r||(!s&&v===r)))||((v>p||(!q&&v===p))&&(v<r||(!s&&v===r)))}if(n){m.dpPaths=m.dpPaths||[];t=e?e(o[i]):o[i].ctx.path;m.dpPaths.push(t);break}}}}};var a=function(l,n){var i;if(!l||!n){return false}if(l.length<n+1){return false}for(i=0;i<n+1;i++){if(isNaN(l[i])){return false}}for(i=0;i<n+1;i++){if(l[i]>=l[i+1]){return false}}return true};var f=function(r,p){for(var i=0,l=r.length;i<l;i++){r[i]=b(r[i],p)}return r};var g=function(v){var t=v.toString().split(".");return t.length>1?t[1].length:0};var b=function(v,p){return Math.round(Math.pow(10,p)*v)/Math.pow(10,p)};return M});define('sap/viz/modules/heatmap',['sap/viz/modules/dispatch','sap/viz/util/ColorSeriesGenerator','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/NumberUtils','sap/viz/util/EffectManager','sap/viz/base/utils/TypeUtils','sap/viz/util/TextUtils','sap/viz/util/MeasureBasedColoring','sap/viz/lang/langManager','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(a,C,t,N,E,T,b,M,l,O,c,B,e,f,D,s){var h=function(m,g){var k=f.CSS.CLASS.DATAPOINT,S='.'+k,n=f.CSS.CLASS.MORPHABLEDATAPOINT;var o=k+' '+n;var p=f.CSS.CLASS.DATAPOINTSELECTED,q=f.CSS.CLASS.DATAPOINTHOVER;var r=O.guid();var u=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=u(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};var v=[];var w,x;var y={"emptycolor":"#e0e0e0",'animation':{dataLoading:true,dataUpdating:true,resizing:true,},'colornumber':5,'discretecolor':false,'guideline':{visible:false,color:"#ffff90",},'drawemptycell':true,'colorPalette':[],tooltip:{enabled:true,}};y=u(y,m.props(null));var z=m.props(null);var A="'Open Sans', Arial, Helvetica, sans-serif";var F;var G;var H=true;var I="v-heatmap";var J="v-heatmapemptyvalue";var K=1;var L=d3.scale.ordinal();var P=d3.scale.ordinal();var Q=new a('selectData','deselectData','initialized','showTooltip','hideTooltip','startToInit');var R=undefined;var U="#ffffff";var V;var W;var X;var Y;var Z=null;var $=null;var a1=false;var b1=null;var c1=[];var d1=g.effectManager;var e1=l.get('IDS_ISNOVALUE');var f1=null;function g1(d){B.drawBound(d,w,x);Q.startToInit();Z=d;c1=[];var _=false;if(!W){_=true}if(_){var w1=[];var x1=X.values[0].rows[0];for(var i=0;i<x1.length;i++){c1.push(x1[i])}for(var i=0;i<c1.length;i++){var y1="";for(var j=0;j<V.values.length;j++){y1+=V.values[j].rows[i].val;if(j!=(V.values.length-1)){y1+=" / "}}w1.push(y1)}for(var i=0;i<c1.length;i++){c1[i].label=w1[i];c1[i].isOnlyOneCategory=true}}else{var z1=V.values[0].rows;var A1=W.values[0].rows;var B1=X.values[0].rows;var C1=z1.length;var D1=A1.length;for(var i=0;i<D1;i++){for(var j=0;j<C1;j++){c1.push(B1[i][j])}}for(var i=0;i<c1.length;i++){c1[i].isOnlyOneCategory=false}}R=t1();var E1=R.domain();var F1=R.domainInfo;for(var i=0;i<c1.length;i++){var G1;if(N.isNoValue(c1[i].val)){c1[i].color=y.emptycolor}else{for(var j=0;j<E1.length;j++){var H1=E1[j];var I1=F1[j];var J1=false;if((j==E1.length-1)||(E1[j+1].length==0)){G1=H1;break}if((c1[i].val>H1[0])&&(c1[i].val<H1[1])){J1=true}else if(!I1.isLeftOpen&&(c1[i].val===H1[0])){J1=true}else if(!I1.isRightOpen&&(c1[i].val===H1[1])){J1=true}if(J1){G1=H1;break}}c1[i].color=R(G1)}}if(_){var K1=-Number.MAX_VALUE;var L1;var M1;var N1;var O1;var P1;var Q1=[];var R1;if(c1.length==1){L1=x;M1=w;O1=1;N1=1}else{for(N1=1;N1<=c1.length;N1++){L1=x/N1;var O1=Math.ceil(c1.length/N1);M1=w/O1;P1=(O1*N1)-c1.length;R1=(L1-M1)*(L1-M1);if(R1<1){R1=1}var K1;if(P1==0&&R1==0){K1=1+1}else if(P1==0&&R1!=0){K1=1+1/R1}else if(P1!=0&&R1==0){K1=1+1}else{K1=1+1/R1}Q1.push({"iRow":N1,"iCol":O1,"rHeight":L1,"rWidth":M1,"varianceRec":R1,"emptyCellNum":P1,"score":K1})}var S1=0;var T1=-1;for(var i=0;i<Q1.length;i++){if(Q1[i].score>S1){S1=Q1[i].score;T1=i}}L1=Q1[T1].rHeight;M1=Q1[T1].rWidth;O1=Q1[T1].iCol;N1=Q1[T1].iRow}for(var i=0;i<c1.length;i++){c1[i].width=M1;c1[i].height=L1;c1[i].left=M1*(i%O1);c1[i].top=L1*(Math.floor(i/O1));c1[i].textContent=b.ellipsis(c1[i].label,null,c1[i].width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")}}else{for(var i=0;i<c1.length;i++){c1[i].width=w/C1;c1[i].height=x/D1;c1[i].left=(w/C1)*(i%C1);c1[i].top=(x-x/D1)-((x/D1)*(Math.floor(i/C1)))}}j1(d,_);h1(y.formatRules,d,F);return g1};var h1=function(d,j,_){var w1=function(x1,y1){var z1={drawingEffect:'normal',fillColor:y1.color,};var A1=d1.register(z1);var i;for(i=0;i<x1.length;i++){x1[i].setAttribute('fill',A1)}};s.applyConditons(d,j,_,w1)};var i1=function(){var i1=false;if(c1.length>0){var i=c1[0].width;var d=c1[0].height;var j=i;if(i>d){j=d}if(j<2){i1=true}}return i1};var j1=function(j,_){var w1="resizing";if(H){if(j.select("."+I).empty()){w1="dataLoading"}else{w1="dataUpdating"}j.select("."+I).remove()}var x1=j.selectAll('g.v-datashapesgroup');if(!T.isExist(x1[0][0])){x1=j.append('g').attr('class','v-datashapesgroup')}if(!_){K=0}else{if(y.border.visible&&!i1()){K=1}else{K=0}}if(H){Y=x1.append("g").attr("class",I)}else{Y=x1.select("."+I)}if(!y.drawemptycell){if(H){Y.append('rect').attr("x",0).attr("y",0).attr("width",w).attr("height",x).attr("fill",y.emptycolor).attr("class",J).attr("shape-rendering","crispEdges")}else{Y.select("."+J).attr("x",0).attr("y",0).attr("width",w).attr("height",x).attr("fill",y.emptycolor).attr("class",J).attr("shape-rendering","crispEdges")}}var y1=[];for(var i=0;i<c1.length;i++){if(!y.drawemptycell&&!c1[i].val){continue}else{c1[i].index=i;y1.push(c1[i])}}var z1=Y.selectAll("rect").data(y1,function(d){return d.index});var A1=z1.enter();var B1=z1.exit();var C1=0;var D1=true;if(y.border.visible&&!i1()&&!_){C1=0.5;D1=false}var E1;if(H){f1=A1.append("g").attr("class","v-datashape");f1.attr('transform',function(d){return'translate('+(d.left+K)+','+(d.top+K)+')'});E1=f1.append("rect").attr('id',function(d,i){return("HM"+d.index+r)}).attr('class',o).attr("x",C1).attr("y",C1).attr("width",function(d){return d.width-2*K-2*C1}).attr("height",function(d){return d.height-2*K-2*C1}).attr("fill",function(d){var H1={drawingEffect:'normal',fillColor:d.color};return d1.register(H1)});if(D1){E1.attr("shape-rendering","crispEdges")}}else{var F1=0;if(w1==="resizing"&&y.animation.resizing){F1=500}if(f1){if(F1>0){f1.transition().attr('transform',function(d){return'translate('+(d.left)+','+(d.top)+')'}).delay(0).duration(F1)}else{f1.attr('transform',function(d){return'translate('+(d.left)+','+(d.top)+')'})}}E1=z1;if(F1>0){E1=z1.transition()}E1=E1.attr("x",C1).attr('id',function(d,i){return("HM"+d.index+r)}).attr('class',o).attr("y",C1).attr("width",function(d){return d.width-2*K-2*C1}).attr("height",function(d){return d.height-2*K-2*C1}).attr("fill",function(d){var H1={drawingEffect:'normal',fillColor:d.color};return d1.register(H1)}).attr('stroke','none');if(D1){E1.attr("shape-rendering","crispEdges")}if(F1>0){E1.delay(0).duration(F1).each('end',k1)}}if(_){if(!H){Y.selectAll("text").remove();Y.selectAll("rect").data(y1,function(d){return d.index}).enter()}if(f1){f1.append("text").attr("class","v-heatmapdatalabel").attr("x",function(d){return d.width/2}).attr("y",function(d){return d.height/2}).attr("text-anchor","middle").text(function(d){return d.textContent}).attr("fill","#ffffff").attr("font-size","12px").attr("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr('pointer-events','none').each(function(d){if(d.textContent!==d.label&&d.textContent.length>0){this.appendChild(document.createElementNS(this.namespaceURI,"title")).textContent=d.label}})}}if(H){var G1=0;if(w1==="dataLoading"&&y.animation.dataLoading){G1=1000}else if(w1==="dataUpdating"&&y.animation.dataUpdating){G1=500}if(G1>0){E1.attr('fill-opacity',0);E1.transition().delay(0).duration(G1).attr('fill-opacity',1).each('end',k1)}else{E1.attr('fill-opacity',1);k1()}}else{E1.attr('fill-opacity',1);k1()}if(H){G=Y.append('g').attr('class','v-element').attr("visibility","hidden");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(G){G.attr("visibility","hidden")}}H=false};var k1=function(d,i){if((i===(c1.length-1))||(c1.length===0)||(d===undefined&&i===undefined)){setTimeout(Q.initialized,0)}};function l1(){};function m1(){};var n1=function(d){var i=c1[d];var j="";var _="";var w1=false;if(!W){w1=true}if(w1){j=V.values[0].rows[d].val;if(W){_=W.values[0].rows[d].val}}else{var x1=V.values[0].rows;var y1=W.values[0].rows;var z1=x1.length;var A1=y1.length;j=V.values[0].rows[d%z1].val;_=W.values[0].rows[Math.floor(d/z1)].val}$.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");$.attr("transform","translate("+(i.left+i.width/2+5)+","+(i.top+i.height/2+5)+")");if(!N.isNoValue(i.val)){$.select(".valText").text(i.val);$.select(".valXValue").text(j);$.select(".valYValue").text(_);$.attr('visibility','visible');if(y.guideline.visible){b1.select(".xGuidline").attr("x1",c1[d].left+c1[d].width/2).attr("x2",c1[d].left+c1[d].width/2);b1.select(".yGuidline").attr("y1",c1[d].top+c1[d].height/2).attr("y2",c1[d].top+c1[d].height/2);b1.attr('visibility','visible')}}};var o1=function(d){if(d===null||d===undefined){d=l.get('IDS_ISNOVALUE')}return d};var p1=function(d){var j={body:[],footer:[]};var _=c1[d];var w1={'name':o1(X.values[0].col),val:[{color:_.color,value:N.isNoValue(_.val)?e1:_.val}]};j.body.push(w1);if(T.isExist(V)){for(var x1=V.values,y1=x1.length,i=y1-1;i>=0;i--){var z1={};z1.label=x1[i].col;z1.value=x1[i].rows[d%x1[i].rows.length];j.footer.push(z1)}}if(T.isExist(W)){var A1=Math.floor(d/V.values[0].rows.length);for(var x1=W.values,y1=x1.length,i=y1-1;i>=0;i--){var z1={};z1.label=x1[i].col;z1.value=x1[i].rows[A1%x1[i].rows.length];j.footer.push(z1)}}return j};var q1=function(){$.attr('visibility','hidden');b1.attr('visibility','hidden')};var r1=function(i){if(!N.isNoValue(i.datum().val)){G.attr("visibility","visible");var d=i.datum().left;var j=i.datum().left+i.datum().width-K;var _=i.datum().top;var w1=i.datum().top+i.datum().height-K;G.select(".HLLeft").attr("x1",d).attr("y1",_).attr("x2",d).attr("y2",w1);G.select(".HLRight").attr("x1",j).attr("y1",_).attr("x2",j).attr("y2",w1);G.select(".HLTop").attr("x1",d).attr("y1",_).attr("x2",j).attr("y2",_);G.select(".HLBottom").attr("x1",d).attr("y1",w1).attr("x2",j).attr("y2",w1)}};var s1=function(i){G.attr("visibility","hidden")};g1.mouseover=function(d){var i=d3.select(d);var j=i.attr('id');if(j&&y.tooltip.enabled){var _=j.toString().length-r.toString().length-2;var w1=j.toString().substr(2,_);var x1=Z.node().getTransformToElement(Z.node().ownerSVGElement);var y1=Z.node().ownerSVGElement.parentNode.getBoundingClientRect();var z1=d.getBoundingClientRect();var A1=p1(w1);A1.point={x:z1.left-y1.left+z1.width/2,y:(z1.height>16)?z1.top-y1.top+8:z1.top-y1.top+z1.height/2};A1.plotArea={x:x1.e,y:x1.f,width:w,height:x};Q.showTooltip(t.formatTooltipData(A1));r1(i)}};g1.afterUIComponentAppear=function(){Q.initialized()};g1.mouseout=function(d){if(y.tooltip.enabled){Q.hideTooltip()}var i=d3.select(d);s1(i)};g1.parent=function(){return Z};g1.highlight=function(d,i){D.highlightProperties.hoverBorderColor='#999999';D.highlightProperties.selectedBorderColor='#000000';D.nodesHighlight(d,{factor:0.7,constant:0},d1,i);if(a1){e.clearSelectionInfo(Z,true,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(p,false);d3.selectAll(d).classed(q,true)}else{d3.selectAll(d).classed(p,true);d3.selectAll(d).classed(q,false)}D.resetHighlightProperties()};g1.unhighlight=function(d,i,j){D.highlightProperties.hoverBorderColor='#999999';D.highlightProperties.selectedBorderColor='#000000';D.nodesUnhighlight(d,i,j);if(a1){e.clearSelectionInfo(Z,false,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(p,true);d3.selectAll(d).classed(q,false)}else{d3.selectAll(d).classed(p,false);d3.selectAll(d).classed(q,false)}D.resetHighlightProperties()};g1.clear=function(d){if(d==null||d==false){var i=Z.selectAll(S);i.attr('fill-opacity',1);if(a1){e.clearSelectionInfo(Z,false,i)}}else{Z.selectAll(S).attr('fill-opacity',0.4)}};g1.width=function(_){if(!arguments.length){return w}w=_;u1();return g1};g1.height=function(_){if(!arguments.length){return x}x=_;v1();return g1};g1.data=function(d){if(!arguments.length){return F}F=d;H=true;V=F.getAnalysisAxisDataByIdx(0);W=F.getAnalysisAxisDataByIdx(1);X=F.getMeasureValuesGroupDataByIdx(0);if(X.values[0].rows[0][0].info&&X.values[0].rows[0][0].info.defaultSelection){a1=true}else{a1=false}return g1};g1.properties=function(d){if(!arguments.length){return z}c.extend(true,y,d);c.extend(true,z,d);H=true;return g1};g1.getDatapointsByRange=function(d){var j=Z.selectAll(S)[0],_=[],w1=d.ctx.ranges,x1;for(var i=0,y1=j.length;i<y1;i++){x1=j[i].__data__.val;if(d.val==="N/A"){if(N.isNoValue(x1)){_.push(j[i])}}else{if(x1<w1.endValue&&x1>w1.startValue){_.push(j[i])}else{if(!w1.isLeftOpen&&x1===w1.startValue){_.push(j[i])}else if(!w1.isRightOpen&&x1===w1.endValue){_.push(j[i])}}}}return _};g1.mbcLegendInfo=function(){var R=t1();return{'colorScale':R,'title':X.values[0].col}};g1.getPreferredSize=function(){};g1.categoryScaleX=function(){return L};g1.isDrawXaxisBody=function(){var i=false;if(!W){i=true}return(!i)};g1.categoryScaleY=function(){return P};g1.dataLabel=function(_){};var t1=function(){var R=d3.scale.ordinal();var d=[];var _=false;if(!W){_=true}if(_){var w1=X.values[0].rows[0];for(var i=0;i<w1.length;i++){d.push(w1[i])}}else{var x1=V.values[0].rows;var y1=W.values[0].rows;var w1=X.values[0].rows;var z1=x1.length;var A1=y1.length;for(var i=0;i<A1;i++){for(var j=0;j<z1;j++){d.push(w1[i][j])}}}var B1=-Number.MAX_VALUE;var C1=Number.MAX_VALUE;for(var D1=0;D1<d.length;D1++){if(!N.isNoValue(d[D1].val)){if(B1<d[D1].val){B1=d[D1].val}if(C1>d[D1].val){C1=d[D1].val}}}var E1=false;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i].val)){E1=true}}var F1=y.colornumber;var G1={numberOfTicks:F1,startColor:y.startColor,endColor:y.endColor,nullColor:y.emptycolor,legendValues:y.legendValues};if(y.colorPalette){G1.colorPalette=y.colorPalette}var H1=M.getColorScale(C1,B1,E1,G1);M.fillContexts2DomainInfo4MBC(H1,d);return H1};var u1=function(){var d=false;if(!W){d=true}var j=V.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}L=L.domain(_).rangeBands([0,w])};var v1=function(){var d=false;if(!W){d=true}if(d){P=P.domain([0,0]).rangeBands([0,0])}else{var j=W.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}P=P.domain(_).rangeBands([x,0])}};g1.dispatch=function(_){if(!arguments.length)return Q;Q=_;return g1};var u=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=u(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};g1.destroy=function(){if(Z){Z.selectAll('.'+k).remove()}if(g){g.destroy();g=null}F=null;G=null;L.domain([0,1]).range([0,1]);L=null;P.domain([0,1]).range([0,1]);P=null;V=null;W=null;X=null;c1=[];Z=null;f1=null};return g1};return h});define('sap/viz/feeds/HeatMap',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var m={'id':'mainLabelAxis','name':'IDS_MAINLABELAXISNAME','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1};var r={'id':'rectangleColor','name':'IDS_RECTANGLECOLOR','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1};var s={'id':'secondaryLabelAxis','name':'IDS_SECONDARYAXISLABELNAME','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1};var f={id:"heatMap",feeds:[m,r,s]};var a={viz:[],module:[],feeds:[f]};return a});define('sap/viz/modules/manifests/HeatMap',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/heatmap','sap/viz/feeds/HeatMap'],function Setup(M,C,f,H){var m={'id':'sap.viz.modules.heatmap','type':C.Type.Chart,'name':'heatmap','properties':{'border':{'name':'border','description':'Settings for the border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the zone edge'},},},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set the starting color of the heat map'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set the end color of the heat map'},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':undefined,'description':'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},'legendValues':{'name':'legendValues','supportedValueType':'IntArray','defaultValue':undefined,'description':'Set the MBC legend values. For example, [10,11,12,13,14,15]. '+'The values in the array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, '+'the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than MBC legend segment number, '+'then only the first "segment number + 1" values are used.'},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8307' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'tooltip':{'name':'tooltip','description':'Settings for tooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'},},'isExported':false}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"heatMap"},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(H.feeds)};return a});define('sap/viz/manifests/HeatMapChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/manifests/BaseSingleChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Axis','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/HeatMap','sap/viz/modules/manifests/legend/Common','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,C,B,R,A,T,H,a,I){var c={id:'viz/heatmap',name:'IDS_HEATMAPCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/single',modules:{root:{configure:{properties:{layout:{adjustPolicy:C.LAYOUT_ADJUST_POLICY.RELAYOUT}}},modules:{legends:{id:'sap.viz.modules.legend',configure:{properties:{layout:{position:'right',priority:1}}},modules:{legend:{id:'sap.viz.modules.legend.common',configure:{description:'Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'heatmap',orientation:'bottom'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{description:'Settings for the x axis of a normal heatmap',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[2]},configure:{description:'Settings for the y axis of a normal heatmap',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:'sap.viz.modules.heatmap',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScaleX'},{targetModule:'root.main.xAxis',target:'isDrawBody',sourceModule:'root.main.plot',source:'isDrawXaxisBody'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScaleY'},{targetModule:'root.legends.legend',target:'mbcLegendInfo',sourceModule:'root.main.plot',source:'mbcLegendInfo'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:["xAxis","yAxis"]};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,A.module,T.module,H.module,a.module,I.module),feeds:[].concat(B.feeds,R.feeds,A.feeds,T.feeds,H.feeds,a.feeds)};return m});define('sap/viz/impls/HeatMapChart',['sap/viz/manifests/HeatMapChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/manifests/xy/HorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/xy/BaseHorizontalChart','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/modules/manifests/controller/Pinch'],function Setup(M,U,R,A,B,I,P){var c={id:'viz/horizontal_area',name:'IDS_HORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true},isKeepFirstAndLastLabel:true},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,outsidePosition:'left',showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{bStacked:true},properties:{orientation:'horizontal'}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'getColorPalette'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,A.module,I.module,P.module),feeds:[].concat(B.feeds,R.feeds,A.feeds,I.feeds,P.feeds)};return b});define('sap/viz/impls/HorizontalAreaChart',['sap/viz/manifests/xy/HorizontalAreaChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/modules/BaseBoxplot',['sap/viz/modules/Constants','sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/UADetector','sap/viz/util/DrawUtil'],function Setup(C,o,B,T,d,M,a,S,N,l,t,O,b,c,G,e,U,D){var f='v-datashapesgroup';var g='v-datapoint';var h=l.get('IDS_ISNOVALUE');var p=C.CSS.CLASS.DATAPOINTSELECTED;var q=C.CSS.CLASS.DATAPOINTHOVER;var K={'Maximum':'Maximum','ThirdQuartile':'3Quartile','Median':'Median','FirstQuartile':'1Quartile','Minimum':'Minimum','Outlier':'Outlier'};var r=function(m,i){r.superclass.constructor.apply(this,arguments);this._box_dimensionGroup=[];this._box_dimensionDomain=[];this._box_seriesData=[];this._box_legendData=[];this._box_regionData=[];this._box_dimensionData=[];this._box_boxplotData=[];this._box_colorPalette=[];this._box_boxColorPalette=[];this._box_data=null;this._box_dimensions={'sap.viz.modules.verticalboxplot.dimension':{'key':'sap.viz.modules.verticalboxplot.dimension','values':null}};this._box_lastHovered=null;this._box_tooltipVisible=true;this._box_hasDefaultSelection=false;this._box_scaleMinMax={min:0,max:0,initMin:0,initMax:0};this._box_scaleManualRange=false;this._box_effectManager=i.effectManager;this._box_drawingEffect='normal';O.extend(true,this._props,m.props(null));this._box_outlierLayout={radius:4,strokeWidth:1,color:'#000000'};this._box_lineLayout={strokeWidth:1};this._box_quartileLayout={width:'0',midLineColor:'#000000'};this._box_highlightLayout={selectedStrokeWidth:1,hoveredStrokedWidth:2,selectedOpacity:1,grayOpactiy:0.4};this._box_lowOutLiersObj=[];this._box_highOutLiersObj=[];this._box_whiskersObj=[];this._box_lowWhiskerObj=[];this._box_highWhiskerObj=[];this._box_quartilesObj=[];this._box_outLiersObj=[];this._box_defsEnter=null,this._box_id=Math.floor(Math.random()*10000);this._box_axisList={xAxis:{},yAxis:{}};this._box_decoration={}};o.extend(r,B);r.prototype.render=function(s,i){};r.prototype.width=function(v){if(!arguments.length){return this._width}this._width=v;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._box_seriesData)){this._boxfn_makeScales()}return this};r.prototype.height=function(v){if(!arguments.length){return this._height}this._height=v;if(T.isExist(this._width)&&T.isExist(this._height)&&T.isExist(this._box_seriesData)){this._boxfn_makeScales()}return this};r.prototype.parent=function(){return this._d3root};r.prototype.highlight=function(j,k){if(!(j instanceof Array)){j=[j]}for(var i=0;i<j.length;i++){this._boxfn_boxElementsHighlight(j[i],k)}if(this._box_hasDefaultSelection){c.clearSelectionInfo(this._d3root,true,j)}};r.prototype.unhighlight=function(j,s,n){if(!(j instanceof Array)){j=[j]}for(var i=0;i<j.length;i++){this._boxfn_boxElementsUnHighlight(j[i],s,n)}if(this._box_hasDefaultSelection){c.clearSelectionInfo(this._d3root,false,j)}};r.prototype.clear=function(i){if(i===null||i===undefined||i===false){this._d3root.selectAll('.v-quartile').attr('fill-opacity',1);this._d3root.selectAll('.v-lineverticallowwhisker').attr('stroke-opacity',1);this._d3root.selectAll('.v-lineverticalhighwhisker').attr('stroke-opacity',1);this._d3root.selectAll('.v-linehorizontallowwhisker').attr('stroke-opacity',1);this._d3root.selectAll('.v-linehorizontalhighwhisker').attr('stroke-opacity',1);this._d3root.selectAll('.v-outliers').attr('fill-opacity',1);this._d3root.selectAll('.v-boxplotmidline').attr('stroke-opacity',1);if(this._box_hasDefaultSelection){c.clearSelectionInfo(this._d3root,false,this._d3root.selectAll('.v-datapoint'))}}else{this._d3root.selectAll('.v-quartile').attr('fill-opacity',0.4);this._d3root.selectAll('.v-lineverticallowwhisker').attr('stroke-opacity',0.4);this._d3root.selectAll('.v-lineverticalhighwhisker').attr('stroke-opacity',0.4);this._d3root.selectAll('.v-linehorizontallowwhisker').attr('stroke-opacity',0.4);this._d3root.selectAll('.v-linehorizontalhighwhisker').attr('stroke-opacity',0.4);this._d3root.selectAll('.v-outliers').attr('fill-opacity',0.4);this._d3root.selectAll('.v-boxplotmidline').attr('stroke-opacity',0.4)}this._d3root.selectAll('.v-recthighwhisker').attr('fill-opacity',0);this._d3root.selectAll('.v-rectlowwhisker').attr('fill-opacity',0)};r.prototype._boxfn_setClassName=function(n,j,k){if(n.length>0){for(var i=0;i<n.length;i++){d3.select(n[i]).classed(j,k)}}};r.prototype._boxfn_boxElementsHighlight=function(n,s){var u=this._boxfn_getBoxElements(n);var v=u.quartiles[0].concat(u.outliers[0]);var w=u.lowWhiskers[0].concat(u.highWhiskers[0]);var x=u.midLine[0];var y=u.connectLines[0];this._box_decoration={};if(u.quartiles[0][0]){var z=D.getColorString(u.quartiles[0][0],'fill');var A=D.colorLinerTransform(this._box_effectManager,{factor:0.7,constant:0},z);var E=D.rgb2Hex(A);this._box_decoration['stroke']=E}if(s){this._box_decoration['stroke-width']=this._box_highlightLayout.hoveredStrokedWidth;this._boxfn_setClassName(v,q,true);this._boxfn_setClassName(v,p,false);this._boxfn_setClassName(w,q,true);this._boxfn_setClassName(w,p,false)}else{this._box_decoration['fill-opacity']=this._box_highlightLayout.selectedOpacity;this._box_decoration['stroke-width']=this._box_highlightLayout.selectedStrokeWidth;this._boxfn_setClassName(v,q,false);this._boxfn_setClassName(v,p,true);this._boxfn_setClassName(w,q,false);this._boxfn_setClassName(w,p,true)}for(var i=0;i<v.length;i++){D.nodeDecoration(v[i],this._box_decoration)}if(w.length>0){delete this._box_decoration['fill-opacity'];this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity;for(var m=0;m<w.length;m++){D.nodeDecoration(w[m],this._box_decoration)}}if(x.length>0){this._box_decoration={};this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity;for(var j=0;j<x.length;j++){D.nodeDecoration(x[j],this._box_decoration)}}if(y.length>0){this._box_decoration={};this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity;for(var k=0;k<y.length;k++){D.nodeDecoration(y[k],this._box_decoration)}}};r.prototype._boxfn_boxElementsUnHighlight=function(s,u,v){var w=this._boxfn_getBoxElements(s);var x=w.quartiles[0];var y=w.lowWhiskers[0].concat(w.highWhiskers[0]);var z=w.outliers[0];var A=w.midLine[0];var E=w.connectLines[0];this._box_decoration={};if(!u&&w.quartiles[0][0]){var F=D.getColorString(w.quartiles[0][0],'fill');this._box_decoration['stroke']=F}if(u){this._box_decoration['stroke-width']=this._box_highlightLayout.selectedStrokeWidth;this._box_decoration['fill-opacity']=this._box_highlightLayout.selectedOpacity;this._boxfn_setClassName(x,q,false);this._boxfn_setClassName(x,p,true);this._boxfn_setClassName(y,q,false);this._boxfn_setClassName(y,p,true);this._boxfn_setClassName(z,q,false);this._boxfn_setClassName(z,p,true)}else{this._boxfn_setClassName(x,q,false);this._boxfn_setClassName(x,p,false);this._boxfn_setClassName(y,q,false);this._boxfn_setClassName(y,p,false);this._boxfn_setClassName(z,q,false);this._boxfn_setClassName(z,p,false);if(!v){this._box_decoration['fill-opacity']=this._box_highlightLayout.grayOpactiy}}if(x.length>0){if(!u){this._box_decoration['stroke-width']=this._box_quartileLayout.width}for(var i=0;i<x.length;i++){D.nodeDecoration(x[i],this._box_decoration)}}if(y.length>0){delete this._box_decoration['fill-opacity'];if(!u){this._box_decoration['stroke-width']=this._box_lineLayout.strokeWidth;this._box_decoration['stroke-opacity']=this._box_highlightLayout.grayOpactiy}else{this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity}for(var j=0;j<y.length;j++){D.nodeDecoration(y[j],this._box_decoration)}}if(z.length>0){if(!u){this._box_decoration['stroke-width']=this._box_outlierLayout.strokeWidth}for(var k=0;k<z.length;k++){D.nodeDecoration(z[k],this._box_decoration)}}if(A.length>0){this._box_decoration={};if(u){this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity}else if(!v){this._box_decoration['stroke-opacity']=this._box_highlightLayout.grayOpactiy}for(var m=0;m<A.length;m++){D.nodeDecoration(A[m],this._box_decoration)}}if(E.length>0){this._box_decoration={};if(u){this._box_decoration['stroke-opacity']=this._box_highlightLayout.selectedOpacity}else if(!v){this._box_decoration['stroke-opacity']=this._box_highlightLayout.grayOpactiy}for(var n=0;n<E.length;n++){D.nodeDecoration(E[n],this._box_decoration)}}};r.prototype.getDataOfDataPoint=function(j){if(j){var k=-1;var m=j.parentNode.childNodes;for(var i=0;i<m.length;i++){if(j===m[i]){k=i;break}}return this._boxfn_getBoxData(k)}};r.prototype.data=function(v){if(!arguments.length){return this._box_data}this._boxfn_clearGlobalData();this._boxfn_parseOptions();this._box_data=v;var n=M(this._box_data);this._boxfn_dataTransform(this._box_data);var s=n["MG1"];if(s[0]&&s[0][0].info&&s[0][0].info.defaultSelection){this._box_hasDefaultSelection=true}else{this._box_hasDefaultSelection=false}var u=s.length;var w;var x=this._box_dimensionGroup[this._box_dimensionGroup.length-1].val;if(x.length!==0){for(var i=0,y=x.length;i<y;i++){var z=x[i].start,A=x[i].end;for(var j=0;j<u;j++){w=[];var E=z,F=A;for(;E<=F;E++){if(!N.isNoValue(s[j][E].val)){w.push(s[j][E])}}this._box_seriesData.push(w)}}}else{for(var k=0;k<u;k++){w=[];for(var m=0;m<s[k].length;m++){if(!N.isNoValue(s[k][m].val)){w.push(s[k][m])}}this._box_seriesData.push(w)}}this._boxfn_locateBoundary(this._box_seriesData);this._boxfn_generateDimensions();if(T.isExist(this._width)&&T.isExist(this._height)){this._boxfn_makeScales()}this._boxfn_generateTooltipData();this._boxfn_createColorPalette(this._box_regionData.length);if(this._d3root){this._d3root.select('.'+f).attr('transform',null)}return this};r.prototype.dimensionData=function(_){if(!arguments.length){return this._box_dimensions}this._box_dimensions=_;return this};r.prototype.primaryAxisTitle=function(_){if(!arguments.length){var j=this._box_data.getMeasureValuesGroupDataByIdx(0),k=[];if(j){for(var i=0,m=j.values.length;i<m;i++){if(j.values[i].col!==null&&j.values[i].col!==undefined){k.push(j.values[i].col)}else{k.push(l.get('IDS_ISNOVALUE'))}}}return k.join(' & ')}return this};r.prototype.secondAxisTitle=function(_){if(!arguments.length){var j=this._box_data.getMeasureValuesGroupDataByIdx(1),k=[];if(j){for(var i=0,m=j.values.length;i<m;i++){if(j.values[i].col!==null&&j.values[i].col!==undefined){k.push(j.values[i].col)}else{k.push(l.get('IDS_ISNOVALUE'))}}}return k.join(' & ')}return this};r.prototype.properties=function(i){if(!arguments.length){return this._props}O.extend(true,this._props,i);this._boxfn_parseOptions();this._boxfn_createColorPalette(this._box_regionData.length);return this};r.prototype.categoryScale=function(s){};r.prototype.primaryScale=function(s){};r.prototype.primaryDataRange=function(i){};r.prototype.colorPalette=function(P){if(!arguments.length){return this._box_colorPalette}this._box_colorPalette=P;return this};r.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};r.prototype.destroy=function(){};r.prototype._boxfn_makeScales=function(){};r.prototype._boxfn_parseOptions=function(){this._box_tooltipVisible=this._props.tooltip.enabled;this._box_colorPalette=this._props.colorPalette;this._box_drawingEffect=this._props.drawingEffect};r.prototype._boxfn_clearBoxData=function(){this._box_lowOutLiersObj=[];this._box_highOutLiersObj=[];this._box_whiskersObj=[];this._box_lowWhiskerObj=[];this._box_highWhiskerObj=[];this._box_quartilesObj=[];this._box_outLiersObj=[]};r.prototype._boxfn_clearGlobalData=function(){this._box_dimensionGroup=[];this._box_dimensionDomain=[];this._box_seriesData=[];this._box_legendData=[];this._box_regionData=[];this._box_dimensionData=[];this._box_boxplotData=[]};r.prototype._boxfn_getBoxData=function(j){var k={'dimension':{},'measure':{},'context':{}},m=0;var n='';if(this._box_regionData){m=j%this._box_regionData.length;k.context.type="Measure";k.context.path=this._box_regionData[m].name.ctx.path;n=this._box_regionData[m].name.val;if(this._box_boxplotData){if(this._box_boxplotData[j]){for(var s in this._box_boxplotData[j]){if(this._box_boxplotData[j].hasOwnProperty(s)){k.measure[s+' '+n]=this._box_boxplotData[j][s].val}}}}}if(this._box_dimensionData){m=Math.floor(j/this._box_regionData.length);for(var i=0;i<this._box_dimensionData.length;i++){if(this._box_dimensionData[i].rows.length>0){k.dimension[this._box_dimensionData[i].col.val]=this._box_dimensionData[i].rows[m].val}}}return k};r.prototype._boxfn_locateBoundary=function(j){if(T.isExist(j)){var k=j.length;var m=false;for(var i=0;i<k;i++){if(j[i].length>0){if(!m){this._box_scaleMinMax=this._boxfn_findMinMax(j[i]);m=true}else{var n=this._boxfn_findMinMax(j[i]);if(n){if(n.min<this._box_scaleMinMax.min){this._box_scaleMinMax.min=n.min}if(n.max>this._box_scaleMinMax.max){this._box_scaleMinMax.max=n.max}}}}}this._box_scaleMinMax.initMin=this._box_scaleMinMax.min;this._box_scaleMinMax.initMax=this._box_scaleMinMax.max}};r.prototype._boxfn_findMinMax=function(i){var m={min:0,max:0};if(T.isExist(i)){i.sort(function(j,k){return j.val-k.val});m={min:i[0].val,max:i[i.length-1].val}}return m};r.prototype._boxfn_even=function(n){return(n&1)===0};r.prototype._boxfn_median=function(i,s,j){var n=j-s+1;if(n<=0){return-1}var k;var m=i[s+Math.floor((n+1)/2)-1].ctx;var u=i[s+Math.floor((n+1)/2)-1].info;if(this._boxfn_even(n)){k=(i[s+Math.floor((n+1)/2)-1].val+i[s+Math.floor((n+1)/2)].val)/2}else{k=i[s+Math.floor((n+1)/2)-1].val}return{'ctx':m,'info':u,'val':k}};r.prototype._boxfn_setDistribution=function(s){if(s&&s.length>0){var n=s.length;var u={};u[K.Maximum]=null;u[K.ThirdQuartile]=null;u[K.Median]=null;u[K.FirstQuartile]=null;u[K.Minimum]=null;var v=this._boxfn_median(s,0,n-1);u[K.Median]=v;var w=s[Math.floor(n/2)];s[Math.floor(n/2)]=v;var x=this._boxfn_median(s,0,Math.floor(n/2));s[Math.floor(n/2)]=w;w=s[Math.floor((n-1)/2)];s[Math.floor((n-1)/2)]=v;var y=this._boxfn_median(s,Math.floor((n-1)/2),n-1);s[Math.floor((n-1)/2)]=w;u[K.ThirdQuartile]=y;u[K.FirstQuartile]=x;var z=y.val-x.val;var A=x.val-1.5*z;var E=y.val+1.5*z;var i=0;while(s[i].val<A){i++}var F=s[i];u[K.Minimum]=F;if(F){if(x){if(x.val!==F.val){this._box_lowWhiskerObj.push({'pair':[x,F],'ctx':[F.ctx],'val':[F.val],'info':[F.info]})}}}var k;for(k=0;k<i;k++){this._box_outLiersObj.push(s[k])}var j=n-1;while(s[j].val>E){j--}var H=s[j];u[K.Maximum]=H;for(k=0;k<n-j-1;k++){this._box_outLiersObj.push(s[j+1+k])}for(var m=0;m<this._box_outLiersObj.length;m++){u[K.Outlier+(m+1)]=this._box_outLiersObj[m]}if(H){if(y){if(y.val!==H.val){this._box_highWhiskerObj.push({'pair':[H,y],'ctx':[H.ctx],'val':[H.val],'info':[H.info]})}}}if(x&&y&&v){if(x.val===y.val){this._box_quartilesObj.push({'pair':[x,x],'midLine':null,'ctx':[x.ctx],'val':[x.val],'info':[x.info]})}else if(v.val===y.val){this._box_quartilesObj.push({'pair':[y,x],'midLine':null,'ctx':[y.ctx],'val':[y.val],'info':[y.info,x.info]})}else if(v.val===x.val){this._box_quartilesObj.push({'pair':[y,x],'midLine':null,'ctx':[x.ctx],'val':[x.val],'info':[y.info,x.info]})}else{this._box_quartilesObj.push({'pair':[y,v],'midLine':v,'ctx':[y.ctx],'val':[y.val],'info':[y.info]});this._box_quartilesObj.push({'pair':[v,x],'midLine':v,'ctx':[x.ctx],'val':[x.val],'info':[x.info]})}}this._box_boxplotData.push(u)}};r.prototype._boxfn_handleNull=function(_){if(_===null||_===undefined){return h}else{return _}};r.prototype._boxfn_caculateLeavesNum=function(s,i){var j=this._box_dimensionGroup.length,n=0,k=0,m=this._box_dimensionGroup[j-1].val;while(m[k].start!==s){k++}while(m[k].end!==i){n++;k++}n++;return n};r.prototype._boxfn_generateTooltipData=function(){if(this._box_dimensions){for(var i in this._box_dimensions){if(this._box_dimensions.hasOwnProperty(i)){this._box_dimensionData=this._box_dimensions[i].values}}}var m,j;if(this._box_legendData){var s=this._box_legendData.values;if(s.length>1){var u,v,n;if(s[0].type==='MND'){for(v=0;v<s[0].rows.length;v++){for(m=0;m<s[1].rows.length;m++){j={'name':null,'shape':null,'color':null,'label':null};j.name=s[0].rows[v];u=[];for(n=1;n<s.length;n++){u.push(s[n].rows[m])}j.label=u;this._box_regionData.push(j)}}}else if(s[s.length-1].type==='MND'){for(m=0;m<s[0].rows.length;m++){u=[];for(n=0;n<s.length-1;n++){u.push(s[n].rows[m])}for(v=0;v<s[s.length-1].rows.length;v++){j={'name':null,'shape':null,'color':null,'label':null};j.label=u;j.name=s[s.length-1].rows[v];this._box_regionData.push(j)}}}}else{for(m=0;m<s[0].rows.length;m++){j={'name':null,'shape':null,'color':null,'label':null};j.name=s[0].rows[m];this._box_regionData.push(j)}}}for(var k=0;k<this._box_regionData.length;k++){this._box_regionData[k].shape='squareWithRadius'}};r.prototype._boxfn_makeSubGroup=function(i,s,j,k,m){if(i&&s<=j&&j<i.length){var n=s,u=s,v=s;while(v<=j){var w=[];while(((v+1)<=j)&&(i[v+1].val===i[v].val)){w.push(i[u].ctx);u++;v++}if(u<i.length){w.push(i[u].ctx)}i[n].contexts=w;k.push({'val':i[n],'parentGroupIndex':m,'start':n,'end':u});v++;n=u=v}}};r.prototype._boxfn_generateGroup=function(j){var k=[];if(j){var m=this._box_dimensionGroup.length;var n=m>0?this._box_dimensionGroup[m-1].val:null;if(n){for(var i=0,s=n.length;i<s;i++){var u=n[i];var v=u.start;var w=u.end;this._boxfn_makeSubGroup(j,v,w,k,i)}}else{this._boxfn_makeSubGroup(j,0,j.length-1,k,null)}}return k};r.prototype._boxfn_dataTransform=function(j){if(j){var k=j.getAnalysisAxisDataByIdx(0);this._box_legendData=j.getAnalysisAxisDataByIdx(1);if(k){var m=k.values.length;if(m===1){this._box_dimensionGroup.push({'col':k.values[0].col.val,'val':[]})}else{for(var i=0;i<m-1;i++){var n=k.values[i].rows;this._box_dimensionGroup.push({'col':k.values[i].col.val,'val':this._boxfn_generateGroup(n)})}}}}};r.prototype._boxfn_generateDimensions=function(){};r.prototype._boxfn_createColorPalette=function(j){this._box_boxColorPalette=[];if(this._box_colorPalette.length>0){for(var i=0;i<j;++i){this._box_boxColorPalette.push(this._box_colorPalette[i%this._box_colorPalette.length])}}};return r});define('sap/viz/modules/horizontalboxplot',['sap/viz/base/utils/oo','sap/viz/modules/BaseBoxplot','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/UADetector','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,T,a,M,C,S,N,l,t,O,b,c,G,e,U,D,s){var f='v-datashapesgroup';var g='v-datapoint';var h=l.get('IDS_ISNOVALUE');var K={'Maximum':'Maximum','ThirdQuartile':'3Quartile','Median':'Median','FirstQuartile':'1Quartile','Minimum':'Minimum'};var H=function(m,d){H.superclass.constructor.apply(this,arguments);this._box_dimensions={'sap.viz.modules.horizontalboxplot.dimension':{'key':'sap.viz.modules.horizontalboxplot.dimension','values':null}};this._dimensionScale=d3.scale.ordinal();this._box_boxHeight=undefined;this._box_axisList.xAxis.axis=this._valueAxis1.scale;this._box_axisList.xAxis.type='value';this._box_axisList.yAxis.axis=this._dimensionScale;this._box_axisList.yAxis.type='category'};o.extend(H,B);H.prototype.render=function(i,j){var k=this;i.each(function(){b.drawBound(i,k._width,k._height);if(U.isMobile()){var m=e.drawClippath(i,k._width,k._height);i.attr('clip-path',"url(#"+m+")")}var n=1;k._box_boxHeight=8*(k._categoryScale.rangeBand())/(9*n+7);k._d3root=d3.select(this);var p=k._d3root;if(k._box_defsEnter===null){k._box_defsEnter=p.append('defs').append('clipPath').attr('id','clipPlot_'+k._box_id).append('rect').attr('width',k._width).attr('height',k._height)}else{k._box_defsEnter.attr('width',k._width).attr('height',k._height)}var q=p.selectAll('g.v-datashapesgroup');if(!T.isExist(q[0][0])){if(U.isMobile()){k._datashapesgroup=q=p.append('g').attr('class','v-datashapesgroup').attr("fill","none")}else{q=p.append('g').attr('class','v-datashapesgroup').attr("clip-path","url(#clipPlot_"+k._box_id+")").attr("fill","none")}}var r=q.selectAll('g.'+g);if(!r.empty()&&!k._isPinching){r.remove()}var u=null;r=q.selectAll('g.'+g);if(r.empty()&&!k._isPinching){u=q.selectAll('g.'+g).data(k._box_seriesData);u.enter().append('g').attr('class',g)}else{u=q.selectAll('.'+g)}u.each(function(v,w){if(v.length===0){k._box_boxplotData.push({});return}v=v.sort(function(d,x){return d.val-x.val});var z=v.length,A=v[0],E=v[z-1];k._boxfn_setDistribution(v);var F=d3.select(this).selectAll('circle.v-outliers');if(F.empty()&&!k._isPinching){F=d3.select(this).selectAll('circle.v-outliers').data(k._box_outLiersObj);F.enter().append('circle')}F.attr('cy',function(d){var y=k._categoryScale(w)+k._box_boxHeight;return y}).attr('cx',function(d,y){var x=k._valueAxis1.scale(d.val);return x}).attr('r',k._box_outlierLayout.radius).attr('stroke',function(d){var x={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(x)}).attr('stroke-width',k._box_outlierLayout.width).attr('fill','transparent').attr('class','v-morphable-datapoint v-outliers');if(!k._isPinching){F.exit().remove()}var I=d3.select(this).selectAll('rect.v-quartile');if(I.empty()&&!k._isPinching){I=d3.select(this).selectAll('rect.v-quartile').data(k._box_quartilesObj);I.enter().append('rect')}I.attr('y',function(d){var y=k._categoryScale(w)+k._box_boxHeight/2;return y}).attr('x',function(d,y){var x=k._valueAxis1.scale(d.pair[1].val);return x}).attr('height',k._box_boxHeight).attr('width',function(d,x){var y=0;var c1=d.pair[0].val-d.pair[1].val;if(c1===0){y=1}else{y=k._valueAxis1.scale(d.pair[0].val)-k._valueAxis1.scale(d.pair[1].val)}return y}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:k._box_drawingEffect,fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length],direction:'vertical'};return k._box_effectManager.register(x)}).attr('stroke-width',k._box_quartileLayout.width).attr('class','v-morphable-datapoint v-quartile');if(k._box_quartilesObj.length===2){var J=k._categoryScale(w)+k._box_boxHeight/2;var L=J+k._box_boxHeight;var P=k._valueAxis1.scale(k._box_quartilesObj[0].midLine.val);var Q=P;var R=d3.select(this).selectAll('.v-boxplotmidline');if(R.empty()&&!k._isPinching){R=d3.select(this).append('line')}R.attr('x1',Q).attr('y1',J).attr('x2',P).attr('y2',L).attr('stroke','#333333').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-boxplotmidline')}if(!k._isPinching){I.exit().remove()}var V=0,W=0,X=0,Y=0;var Z=0,$=0,_=0,a1=0;var b1=d3.select(this).selectAll('rect.v-rectlowwhisker');if(b1.empty()&&!k._isPinching){b1=d3.select(this).selectAll('rect.v-rectlowwhisker').data(k._box_lowWhiskerObj);b1.enter().append('rect')}b1.attr('y',function(d){var y=k._categoryScale(w)+k._box_boxHeight/2;$=a1=y+k._box_boxHeight/2;W=y;Y=y+k._box_boxHeight;return y}).attr('x',function(d){var x=k._valueAxis1.scale(d.pair[1].val);Z=x;V=X=x;return x}).attr('height',k._box_boxHeight).attr('width',function(x){var y=k._valueAxis1.scale(x.pair[0].val)-k._valueAxis1.scale(x.pair[1].val);_=k._valueAxis1.scale(x.pair[1].val)+y;var R=d3.select(this.parentNode).selectAll('.v-lineverticallowwhisker');if(R.empty()&&!k._isPinching){R=d3.select(this.parentNode).append('line')}R.attr('x1',V).attr('y1',W).attr('x2',X).attr('y2',Y).attr('stroke',function(d){var c1={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(c1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-lineverticallowwhisker');R=d3.select(this.parentNode).selectAll('.v-linehorizontallowwhisker');if(R.empty()&&!k._isPinching){R=d3.select(this.parentNode).append('line')}R.attr('x1',Z).attr('y1',$).attr('x2',_).attr('y2',a1).attr('stroke','#808080').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-linehorizontallowwhisker v-innerwhisker');return y}).attr('shape-rendering','crispEdges').attr('fill','transparent').attr('stroke-width','0').attr('class','v-morphable-datapoint v-rectlowwhisker');if(!k._isPinching){b1.exit().remove()}V=0,W=0,X=0,Y=0;Z=0,$=0,_=0,a1=0;b1=d3.select(this).selectAll('rect.v-recthighwhisker');if(b1.empty()&&!k._isPinching){b1=d3.select(this).selectAll('rect.v-recthighwhisker').data(k._box_highWhiskerObj);b1.enter().append('rect')}b1.attr('y',function(d){var y=k._categoryScale(w)+k._box_boxHeight/2;$=a1=y+k._box_boxHeight/2;W=y;Y=y+k._box_boxHeight;return y}).attr('x',function(d,y){var x=k._valueAxis1.scale(d.pair[1].val);Z=x;V=X=k._valueAxis1.scale(d.pair[0].val);return x}).attr('height',k._box_boxHeight).attr('width',function(x,y){var c1=k._valueAxis1.scale(x.pair[0].val)-k._valueAxis1.scale(x.pair[1].val);_=k._valueAxis1.scale(x.pair[1].val)+c1;var R=d3.select(this.parentNode).selectAll('.v-lineverticalhighwhisker');if(R.empty()&&!k._isPinching){R=d3.select(this.parentNode).append('line')}R.attr('x1',V).attr('y1',W).attr('x2',X).attr('y2',Y).attr('stroke',function(d){var d1={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(d1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-lineverticalhighwhisker');R=d3.select(this.parentNode).selectAll('.v-linehorizontalhighwhisker');if(R.empty()&&!k._isPinching){R=d3.select(this.parentNode).append('line')}R.attr('x1',Z).attr('y1',$).attr('x2',_).attr('y2',a1).attr('stroke','#808080').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-linehorizontalhighwhisker v-innerwhisker');return c1}).attr('shape-rendering','crispEdges').attr('fill','transparent').attr('stroke-width','0').attr('class','v-morphable-datapoint v-recthighwhisker');if(!k._isPinching){b1.exit().remove()}k._boxfn_clearBoxData()});if(U.isMobile()&&!j&&i){k._datashapesgroup.attr('transform',null)}if(j&&j.isPinching){k._eDispatch.initialized({eventSource:'pinch'})}else{k._eDispatch.initialized()}if(!k._isPinching){u.exit().remove()}k.applyFormatConditions(k._props.formatRules,p.selectAll('g.v-datashapesgroup'),k._box_data,k);k._box_lastHovered=null});return this};H.prototype.parent=function(){return this._d3root};H.prototype.categoryScale=function(d){if(!arguments.length){return this._dimensionScale}this._dimensionScale=d;return this};H.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;return this};H.prototype.primaryDataRange=function(r){if(!arguments.length){return{min:this._box_scaleMinMax.min,max:this._box_scaleMinMax.max}}var d,i;if(r!==null){if(!isNaN(r.max)){d=r.max}else{d=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){i=r.min}else{i=this._valueAxis1.scale.perfectDomainBegin}if(d>i){this._box_scaleMinMax.max=d;this._box_scaleMinMax.min=i;if(r.from==='axis'){this._box_scaleManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._boxfn_makeScales()}}}else{if(this._box_scaleManualRange===true){this._box_scaleMinMax.max=this._box_scaleMinMax.initMax;this._box_scaleMinMax.min=this._box_scaleMinMax.initMin;this._box_scaleManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._boxfn_makeScales()}}}return this};H.prototype.destroy=function(){if(this._d3root){this._d3root.selectAll('.'+g).remove()}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._dimensionScale){this._dimensionScale.domain([0,1]).range([0,1])}this._dimensionScale=null;this._categoryScale=null;this._valueAxis1.scale=null;this._box_defsEnter=null;this._d3root=null;this._box_lastHovered=null;this._box_dimensionGroup=null;this._box_dimensionDomain=null;this._box_seriesData=null;this._box_legendData=null;this._box_regionData=null;this._box_dimensionData=null;this._box_boxplotData=null;this._box_colorPalette=null;this._box_boxColorPalette=null;this._box_dimensions['sap.viz.modules.horizontalboxplot.dimension'].values=null;this._box_dimensions=null;this._box_data=null};H.prototype._boxfn_makeScales=function(){var d=[];for(var i=0;i<this._box_seriesData.length;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._height]);this._dimensionScale.domain(this._box_dimensionDomain).rangeBands([0,this._height]);if(!this._box_scaleMinMax||(this._box_scaleMinMax.min===0&&this._box_scaleMinMax.max===0)){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._box_scaleMinMax.min,this._box_scaleMinMax.max]).range([0,this._width])}if(!this._box_scaleManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}};H.prototype._boxfn_generateDimensions=function(){if(this._box_dimensionGroup){var d=this._box_dimensionGroup.length,n=null;n=this._box_dimensionGroup[d-1].val;if(n.length===0){this._box_dimensionDomain.push(0);this._box_dimensionDomain.push(1)}else{for(var i=0,p=n.length;i<p;i++){this._box_dimensionDomain.push(i)}}if(n.length===0){this._box_dimensions['sap.viz.modules.horizontalboxplot.dimension'].values=[{'col':{'val':this._box_dimensionGroup[d-1].col},'rows':[]}]}else{var q=[];for(var j=0;j<d;j++){var r={'col':{'val':''},'rows':[]};r.col.val=this._box_dimensionGroup[j].col;var u=this._box_dimensionGroup[j].val;for(var k=0,v=u.length;k<v;k++){var w=u[k].start,x=u[k].end,y=this._boxfn_caculateLeavesNum.call(this,w,x);for(var m=0;m<y;m++){r.rows.push({'val':this._boxfn_handleNull(u[k].val.val),'info':u[k].val.info,'contexts':u[k].val.contexts})}}q.push(r)}this._box_dimensions['sap.viz.modules.horizontalboxplot.dimension'].values=q}}};H.prototype.applyFormatConditions=function(j,k,m,n){var p=function(q,r){var i;for(i=0;i<q.length;++i){var u=d3.select(q[i]).selectAll('circle.v-outliers');u.attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)});var v=d3.select(q[i]).selectAll('rect.v-quartile');v.attr('fill',function(d){var w={drawingEffect:n._box_drawingEffect,fillColor:r.color,direction:'vertical'};return n._box_effectManager.register(w)});d3.select(q[i]).selectAll('.v-lineverticallowwhisker').attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)});d3.select(q[i]).selectAll('.v-lineverticalhighwhisker').attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)})}};s.applyConditons(j,k,m,p)};H.prototype._boxfn_getBoxElements=function(d){var i=d3.select(d);var q=i.selectAll('.v-quartile');var j=i.selectAll('.v-lineverticallowwhisker');var k=i.selectAll('.v-lineverticalhighwhisker');var m=i.selectAll('.v-outliers');var n=i.selectAll('.v-boxplotmidline');var p=i.selectAll('.v-innerwhisker');return{outliers:m,quartiles:q,lowWhiskers:j,highWhiskers:k,midLine:n,connectLines:p}};return H});define('sap/viz/modules/manifests/xy/HorizontalBoxplot',['sap/viz/modules/manifests/Module','sap/viz/modules/horizontalboxplot','sap/viz/modules/manifests/xy/Base'],function Setup(M,f,B){var m={'id':'sap.viz.modules.horizontalboxplot','name':'horizontal boxplot',base:"sap.viz.modules.xy.base",'properties':{'primaryValuesColorPalette':{'isExported':false},'secondaryValuesColorPalette':{'isExported':false},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},'css':{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/HorizontalBoxplotChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/HorizontalBoxplot','sap/viz/manifests/xy/BaseHorizontalChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,R,H,B,I){var c={id:'viz/horizontal_boxplot',name:'IDS_HORIZONTALBOXPLOTCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'horizontalboxplot',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)},getBoundingBoxes:function(n){var d=n.childNodes;var f=[];Array.prototype.forEach.call(d,function(g){var r=g.getBoundingClientRect();var h={x:r.left,y:r.top,height:r.height,width:r.width,right:r.right,bottom:r.bottom};f.push(h)});return f}}}}},main:{modules:{dataLabel:null,xAxis:{id:'sap.viz.modules.axis',configure:{properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.horizontalboxplot',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,H.module,I.module),feeds:[].concat(B.feeds,R.feeds,H.feeds,I.feeds)};return b});define('sap/viz/impls/HorizontalBoxplotChart',['sap/viz/manifests/xy/HorizontalBoxplotChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/impls/HorizontalCombinationChart',['sap/viz/manifests/xy/HorizontalCombinationChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/impls/HorizontalLineChart',['sap/viz/manifests/xy/HorizontalLineChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/modules/mekko',["sap/viz/base/utils/TypeUtils","sap/viz/modules/dispatch","sap/viz/modules/util/MNDHandler","sap/viz/modules/util/tooltipDataHandler","sap/viz/util/ColorSeriesGenerator","sap/viz/util/Scaler","sap/viz/base/utils/ObjectUtils","sap/viz/util/NumberUtils","sap/viz/base/utils/Objects","sap/viz/lang/langManager","sap/viz/modules/util/BoundUtil","sap/viz/modules/util/defaultSelectionUtil","sap/viz/base/UADetector","sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/BaseGesture",'sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(T,a,M,b,C,S,O,N,c,l,B,e,U,f,o,g,D,s){var u=function(d,i){this._mko_formerWidth=d;this._mko_formerHeight=i};var h=f.CSS.CLASS.DATAPOINTSELECTED;var n=f.CSS.CLASS.DATAPOINT;var p=f.CSS.CLASS.MORPHABLEDATAPOINT;var q=f.CSS.CLASS.DATAPOINTHOVER;var v=n+" "+p;var w=l.get("IDS_ISNOVALUE");var z="sap.viz.modules.mekko.dimension";var A=1000;var H=A/2;var E=function(m,d){E.superclass.constructor.apply(this,arguments);this._mko_data=null;this._mko_data1=[[]];this._mko_data2=[[]];this._mko_seriesData=null;this._mko_tooltipData=[];this._mko_primaryAxisTopBoundary=0;this._mko_primaryAxisBottomBoundary=0;this._mko_primaryAxisManualRange=false;this._mko_secondaryAxisTopBoundary=0;this._mko_secondaryAxisBottomBoundary=0;this._mko_secondaryAxisManualRange=false;this._mko_init_primaryAxisTopBoundary=0;this._mko_init_primaryAxisBottomBoundary=0;this._mko_init_secondaryAxisTopBoundary=0;this._mko_init_secondaryAxisBottomBoundary=0;this._mko_formerWidth=null;this._mko_formerHeight=null;this._mko_colorPalette=[];this._mko_axis1ColorPalette=[];this._mko_shapePalette=["squareWithRadius"];c.extend(true,this._props,m.props(null));this._mko_style={};this._mko_effectManager=d.effectManager;this._mko_styleManager=d.styleManager;this._mko_rawData=d.rawData;this._categoryScale.noEqual=true;this._mko_lastHovered=null;this._mko_barNumber=1;this._mko_barGroupNumber=null;this._mko_barNumberinGroup=null;this._mko_barSize=null;this._mko_positiveIndexes=[];this._mko_negativeIndexes=[];this._mko_enableDataLoadingAnimation=true;this._mko_enableDataUpdatingAnimation=true;this._mko_enableResizingAnimation=true;this._mko_enableRoundCorner=false;this._mko_hasDefaultSelection=false;this._mko_isOnlyInitAnimation=false;this._mko_tooltipVisible=true;this._mko_clipRect=null;this._mko_roundCornerDefs=null;this._mko_suffix=O.guid();this._mko_mode="comparison";this._mko_drawingEffect="normal";this._mko_sizeChange=false;this._mko_dataStructureChange=false;this._mko_dataValueChange=false;this._mko_modeChange=false;this._mko_dimensionData={};this._mko_dimensionData[z]={key:z,values:[{col:{val:""},rows:[]}]};this._mko_rangeBounds=[];this._mko_rangeSum=[];this._mko_isHorizontal=true;this._mko_afterAttachToDOM=false};o.extend(E,g);E.prototype.render=function(t,x){var y=this._mko_suffix;function F(i,j,d){return"roundCorner-clip"+"-"+d+i+j+y}var G=this._width;var I=this._height;if(this._mko_formerWidth!==null&&this._mko_formerHeight!==null){if(!this._mko_sizeChange){this._mko_sizeChange=this._mko_formerWidth!==G||this._mko_formerHeight!==I}}u.call(this,G,I);B.drawBound(t,G,I);this._mkofn_recoveryValues();if(this._mko_mode==="percentage"){this._mkofn_turnToPercentage()}if(this._mko_mode==="comparison"){this._mkofn_turnToComparison()}if(!T.isExist(this._valueAxis1.scale)&&!T.isExist(this._valueAxis2.scale)){return}this._eDispatch.startToInit();var J=this;t.each(function(){var K=[];for(var i=0;i<J._mko_seriesData.length;i++){K[i]=[];for(var j=0;j<J._mko_seriesData[i].length;j++){K[i][j]=[];for(var k=0,L=J._mko_seriesData[i][j].length;k<L;k++){K[i][j][k]=J._mko_seriesData[i][j][L-k-1]}}}var P=J._mko_clipRect;var Q=J._mko_roundCornerDefs;var R=J._mko_isHorizontal;var V=J._mkofn_enableAnimation();var W=J._mko_rangeBounds;var X=J._mko_colorPalette;var Y=(J._mko_barNumber=(T.isExist(J._mko_data2))?2:1);var Z=Math.abs(J._valueAxis1.scale.range()[0]-J._valueAxis1.scale.range()[1]);var $=J._mko_positiveIndexes;var _=J._mko_negativeIndexes;var a1=K[0][0].length;if(T.isExist(K[0][1])){a1+=K[0][1].length}this._mko_barNumberinGroup=a1;var b1=K.length;var c1=(J._d3root=d3.select(this));if(!P){var d1="clipPlot_"+J._mko_suffix;P=(J._mko_clipRect=c1.insert("svg:clipPath",":first-child").attr("class","v-clippath").attr("id",d1).append("rect"));c1.attr("clip-path","url(#"+d1+")")}P.attr("width",G).attr("height",I);if(Q===null){Q=(J._mko_roundCornerDefs=c1.append("defs").attr("id","round-corner-clip"+J._mko_suffix))}else if(J._mko_dataStructureChange||J._mko_sizeChange||J._mko_dataValueChange||!J._mko_enableRoundCorner){Q.selectAll(".v-clippath").remove()}J._datashapesgroup=c1.selectAll("g.v-datashapesgroup");if(!T.isExist(J._datashapesgroup[0][0])){J._datashapesgroup=c1.append("g").attr("class","v-datashapesgroup")}if(!x||!x.isPinching){J._datashapesgroup.attr("transform",undefined)}var e1=J._datashapesgroup.selectAll("g.v-bar").data(K);e1.enter().append("g");e1.attr("class","v-bar").each(function(m,i){var r=d3.select(this).selectAll("g.v-axisGroup").data(m);r.enter().append("g");r.attr("class","v-axisGroup").each(function(f1,j){var g1=[],h1=[];var i1=d3.select(this).selectAll("g.v-datashape").data(f1);i1.enter().append("g").attr("class","v-datashape");i1.each(function(d){var j1=d3.select(this).selectAll("rect").data([d]);j1.enter().append("rect");j1.exit().remove()});i1.exit().remove();J._mkofn_setTransformForShape(i1,i)});r.exit().remove()});e1.each(function(f1,i){var g1=W[i+1]-W[i];if(g1>1){g1=g1-1}var h1=8*g1/(9*a1+7);var r=Math.log(g1)/Math.log(2);if(r<0){J._mko_enableRoundCorner=false}var i1=J._mko_enableRoundCorner;var j1=d3.select(this).selectAll("g.v-axisGroup");j1.each(function(k1,j){var l1=function(){};var m1=[],n1=[];var o1=d3.select(this).selectAll("g.v-datashape").data(k1);if(V){o1.each(function(){if(T.isExist(this.getTransformToElement(this.parentNode))){n1.push(this.getTransformToElement(this.parentNode).e);m1.push(this.getTransformToElement(this.parentNode).f)}else{n1.push(0);m1.push(0)}})}var p1=d3.select(this).selectAll("rect");var q1="height";var r1="y";var s1="width";var t1="x";var u1=function(d){return J._mkofn_getValueFromData(d)};var v1=function(d){return d?-r:0};if(R){q1="width";r1="x";s1="height";t1="y";u1=0;v1=function(d){return d?0:-r}}p1.attr("class",v).attr("fill-opacity",1).attr('stroke','none').attr("fill",function(d,m){var w1=(d.fillColor=X[p1[0].length-1-m]);return J._mkofn_getEffectColor(w1)});if(V){if(J._mko_dataStructureChange){p1.attr(r1,u1).attr(t1,function(d,m){return h1*m}).attr(q1,0).attr(s1,h1).transition().duration(H).attr(r1,0).attr(q1,function(d,m){return J._mkofn_getValueFromData(d)}).transition().delay(H).duration(H).attr(t1,0).attr(s1,g1).attr(q1,function(d,m){return J._mkofn_getValueFromData(d)}).each("end",function(d,m){if(i===0&&m===a1-1){J._mkofn_adjustValues();J._mkofn_initialized(x)}});if(i1){l1=function(){p1.attr("clip-path",function(d,m){if(m===_[j][i]||m===$[j][i]){var id=F(i,j,m);var w1=(m===_[j][i]);var x1=v1(w1);var y1=J._mkofn_getValueFromData(d)+r;Q.append("clipPath").attr("id",id).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",r).attr("ry",r).attr("x",this.x.baseVal.value).attr("y",this.y.baseVal.value).attr(q1,0).attr(s1,h1).transition().duration(H).attr(r1,x1).attr(q1,y1).transition().delay(H).duration(H).attr(t1,0).attr(s1,g1);return"url(#"+id+")"}})}}}else{p1.attr("x",function(d,k){return n1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("y",function(d,k){return m1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).transition().duration(H).attr("x",0).attr("y",0).attr(s1,g1).attr(q1,function(d,m){return J._mkofn_getValueFromData(d)}).each("end",function(d,m){if(i===0&&m===a1-1){J._mkofn_adjustValues();J._mkofn_initialized(x)}});if(J._mko_sizeChange&&!J._mko_modeChange){p1.attr(q1,function(d){var m=J._mkofn_getValueFromData(d);var w1=parseFloat(this[q1].baseVal.value);return w1>m?w1:m})}if(i1){l1=function(){p1.attr("clip-path",function(d,m){if(m===_[j][i]||m===$[j][i]){var id=F(i,j,m);var w1=(m===_[j][i]);var x1=v1(w1);var y1=parseFloat(this[r1].baseVal.value)+x1;var z1=J._mkofn_getValueFromData(d)+r;Q.append("clipPath").attr("id",id).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",r).attr("ry",r).attr(r1,y1).attr(t1,this[t1].baseVal.value).attr(q1,this[q1].baseVal.value+r).attr(s1,this[s1].baseVal.value).transition().duration(H).attr(r1,x1).attr(t1,0).attr(q1,z1).attr(s1,g1);return"url(#"+id+")"}})}}}}else{p1.attr("x",0).attr("y",0).attr(s1,g1).attr(q1,function(d,m){return J._mkofn_getValueFromData(d)});if(i1){l1=function(){p1.attr("clip-path",function(d,m){if(m===_[j][i]||m===$[j][i]){var id=F(i,j,m);var w1=(m===_[j][i]);var x1=v1(w1);var y1=J._mkofn_getValueFromData(d)+r;Q.append("clipPath").attr("id",id).attr("class","v-clippath").append("rect").attr("class","v-roundCorner-clip").attr("rx",r).attr("ry",r).attr(r1,x1).attr(t1,0).attr(q1,y1).attr(s1,g1);return"url(#"+id+")"}})}}}l1()})});if(!V){J._mkofn_adjustValues();J._mkofn_initialized(x)}e1.exit().remove()});this._mko_sizeChange=false,this._mko_dataValueChange=false,this._mko_dataStructureChange=false;this._mko_modeChange=false;this._mko_isOnlyInitAnimation=true;this.applyFormatConditions(this._props.formatRules,t,this._mko_data,this);return this};E.prototype.applyFormatConditions=function(d,j,k,t){var m=function(r,x){var y;if(t._mko_isHorizontal){y="vertical"}else{y="horizontal"}var F={drawingEffect:t._mko_drawingEffect,fillColor:x.color,direction:y};var G=t._mko_effectManager.register(F);var i;for(i=0;i<r.length;i++){r[i].setAttribute('fill',G)}};s.applyConditons(d,j,k,m)};E.prototype.highlight=function(d,k){if(!T.isArray(d)){d=[d]}if(!k){for(var i=0;i<d.length;i++){d3.select(d[i]).classed(h,true);d3.select(d[i]).classed(q,false)}}else{for(var j=0;j<d.length;j++){d3.select(d[j]).classed(h,false);d3.select(d[j]).classed(q,true)}}D.resetHighlightProperties();D.nodesHighlight(d,{factor:0.7,constant:0},this._mko_effectManager,k);if(this._mko_hasDefaultSelection){e.clearSelectionInfo(this._d3root,true,d)}};E.prototype.unhighlight=function(d,k,m){if(!T.isArray(d)){d=[d]}if(!k){for(var i=0;i<d.length;i++){d3.select(d[i]).classed(h,false);d3.select(d[i]).classed(q,false)}}else{for(var j=0;j<d.length;j++){d3.select(d[j]).classed(h,true);d3.select(d[j]).classed(q,false)}}D.resetHighlightProperties();D.nodesUnhighlight(d,k,m);if(this._mko_hasDefaultSelection){e.clearSelectionInfo(this._d3root,false,d)}};E.prototype.clear=function(d){var i=this._d3root;var r=i.selectAll(".v-datapoint");if(d){r.attr("fill-opacity",0.4).attr("stroke","none").attr("class",v)}else{r.attr("fill-opacity",1).attr("stroke","none").attr("class",v);if(this._mko_hasDefaultSelection){e.clearSelectionInfo(i,false,r)}}};E.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};E.prototype.width=function(d){if(!arguments.length){return this._width}this._width=d;this._mkofn_makeScales();return this};E.prototype.height=function(d){if(!arguments.length){return this._height}this._height=d;this._mkofn_makeScales();return this};E.prototype.data=function(d){if(!arguments.length){return this._mko_data}this._mko_data=d;var i=O.extend(true,{},M(this._mko_data));var _=i["MG1"];var j=i["MG2"];this._mko_hasDefaultSelection=false;if(_[0]&&_[0][0].info&&_[0][0].info.defaultSelection){this._mko_hasDefaultSelection=true}if(j[0]&&j[0][0].info&&j[0][0].info.defaultSelection){this._mko_hasDefaultSelection=true}if(this._mko_data1.length!==_.length||this._mko_data1[0].length!==_[0].length){this._mko_dataStructureChange=true}else{this._mko_dataValueChange=true}var k=this._mkofn_dataHandler(_,j);this._mko_data1=_;this._mko_data2=j;this._mko_seriesData=k;this._mko_tooltipData=O.extend(true,{},k);this._mkofn_makeScales();this._mkofn_parseOptions();return this};E.prototype.properties=function(d){if(!arguments.length){return this._props}c.extend(true,this._props,d);this._mkofn_parseOptions();this._mkofn_makeScales();return this};E.prototype.colorPalette=function(P){if(!arguments.length){return this._mko_colorPalette}this._mko_colorPalette=P;return this};E.prototype.categoryScale=function(d){if(!arguments.length){return this._categoryScale}this._categoryScale=d;return this};E.prototype.dimensionData=function(_){if(!arguments.length){return this._mko_dimensionData}this._mko_dimensionData=_;return this};E.prototype.secondCategoryScale=function(_){if(!arguments.length){return this._categoryScale}this._categoryScale=_;return this};E.prototype.primaryDataRange=function(r){if(!arguments.length){var m,d;if(this._mko_mode==="percentage"){m=1;d=0}else{d=this._mko_primaryAxisBottomBoundary<0?this._mko_primaryAxisBottomBoundary:0;m=this._mko_primaryAxisTopBoundary}return{min:d,max:m}}var i=this._mko_isHorizontal;var j=this._valueAxis1.scale;var t,k;if(r!==null){if(!isNaN(r.max)){t=r.max}else{if(i){t=j.perfectDomainEnd}else{t=j.perfectDomainBegin}}if(!isNaN(r.min)){k=r.min}else{if(i){k=j.perfectDomainBegin}else{k=j.perfectDomainEnd}}if(t>k){this._mko_primaryAxisTopBoundary=t;this._mko_primaryAxisBottomBoundary=k;if(r.from==="axis"){this._mko_primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._mkofn_makeScales()}}}else{if(this._mko_primaryAxisManualRange===true){this._mko_primaryAxisTopBoundary=this._mko_init_primaryAxisTopBoundary;this._mko_primaryAxisBottomBoundary=this._mko_init_primaryAxisBottomBoundary;this._mko_primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._mkofn_makeScales()}}}return this};E.prototype.secondDataRange=function(r){if(!arguments.length){var m,d;if(this._mko_mode==="percentage"){m=1;d=0}else{d=this._mko_secondaryAxisBottomBoundary<0?this._mko_secondaryAxisBottomBoundary:0;m=this._mko_secondaryAxisTopBoundary}return{min:d,max:m}}var i=this._mko_isHorizontal;var j=this._valueAxis2.scale;var t,k;if(r!==null){if(!isNaN(r.max)){t=r.max}else{if(i){t=j.perfectDomainEnd}else{t=j.perfectDomainBegin}}if(!isNaN(r.min)){k=r.min}else{if(i){k=j.perfectDomainBegin}else{k=j.perfectDomainEnd}}if(t>k){this._mko_secondaryAxisTopBoundary=t;this._mko_secondaryAxisBottomBoundary=k;if(r.from==="axis"){this._mko_secondaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._mkofn_makeScales()}}}else{if(this._mko_secondaryAxisManualRange===true){this._mko_secondaryAxisTopBoundary=this._mko_init_secondaryAxisTopBoundary;this._mko_secondaryAxisBottomBoundary=this._mko_init_secondaryAxisBottomBoundary;this._mko_secondaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._mkofn_makeScales()}}}return this};E.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;return this};E.prototype.primaryAxisColor=function(){return undefined};E.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};E.prototype.getPreferredSize=function(){};E.prototype.dataLabel=function(_){};E.prototype.primaryAxisTitle=function(_){if(!arguments.length){var t=this._mko_data.getMeasureValuesGroupDataByIdx(0),d=[];if(t){for(var i=0,j=t.values.length;i<j;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(w)}}}return d.join(" & ")}return this};E.prototype.secondAxisTitle=function(_){if(!arguments.length){var t=this._mko_data.getMeasureValuesGroupDataByIdx(1),d=[];if(t){for(var i=0,j=t.values.length;i<j;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(w)}}}return d.join(" & ")}return this};E.prototype._pinch_modifyCategoryscale=function(d,r){for(var i=0;i<this._mko_rangeBounds.length;i++){this._mko_rangeBounds[i]=this._mko_rangeBounds[i]*d}this._categoryScale.range(this._mko_rangeBounds)};E.prototype.destroy=function(){var i=0;var j=0;var k=0;if(this._mko_dimensionData){if(this._mko_dimensionData[z]){if(this._mko_dimensionData[z].values){for(i=0;i<this._mko_dimensionData[z].values.length;i++){this._mko_dimensionData[z].values[i].rows=null;this._mko_dimensionData[z].values[i]=null}this._mko_dimensionData[z].values=null}this._mko_dimensionData[z]=null}this._mko_dimensionData=null}if(this._mko_seriesData){for(i=0;i<this._mko_seriesData.length;i++){for(j=0;j<this._mko_seriesData[i].length;j++){for(k=0;k<this._mko_seriesData[i][j].length;k++){this._mko_seriesData[i][j][k].ctx=null;this._mko_seriesData[i][j][k].val=null;this._mko_seriesData[i][j][k]=null}this._mko_seriesData[i][j]=null}this._mko_seriesData[i]=null}this._mko_seriesData=null}if(this._mko_tooltipData){this._mko_tooltipData=null}if(this._mko_data1){for(i=0;i<this._mko_data1.length;i++){this._mko_data1[i]=null}this._mko_data1=null}if(this._mko_data2){for(i=0;i<this._mko_data2.length;i++){this._mko_data2[i]=null}this._mko_data2=null}if(this._mko_negativeIndexes){for(i=0;i<this._mko_negativeIndexes.length;i++){this._mko_negativeIndexes[i]=null}this._mko_negativeIndexes=null}if(this._mko_positiveIndexes){for(i=0;i<this._mko_positiveIndexes.length;i++){this._mko_positiveIndexes[i]=null}this._mko_positiveIndexes=null}if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1]);this._categoryScale=null}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1]);this._valueAxis1=null}if(this._valueAxis2.scale){this._valueAxis2.scale.domain([0,1]).range([0,1]);this._valueAxis2=null}if(this._mko_effectManager&&this._mko_effectManager.destroy){this._mko_effectManager.destroy()}this._mko_effectManager=null;if(this._mko_styleManager&&this._mko_styleManager.destroy){this._mko_styleManager.destroy()}this._mko_styleManager=null;this._mko_colorPalette=null;this._mko_axis1ColorPalette=null;this._mko_shapePalette=null;this._props=null;this._mko_style=null;this._mko_decorativeShape=null;this._mko_lastHovered=null;this._mko_data=null;this._mko_rawData=null;this._mko_rangeBounds=null;this._mko_rangeSum=null;this._mko_drawingEffect=null;this._mko_mode=null;this._mko_suffix=null;this._eDispatch=null;if(this._d3root){this._d3root.selectAll('.'+n).remove();this._d3root=null}if(this._datashapesgroup){this._datashapesgroup.remove();this._datashapesgroup=null}if(this._mko_clipRect){this._mko_clipRect.remove();this._mko_clipRect=null}if(this._mko_roundCornerDefs){this._mko_roundCornerDefs.remove();this._mko_roundCornerDefs=null}};E.prototype._mkofn_setTransformForShape=function(d,i){var j=this._mko_isHorizontal;var r=this._mko_rangeBounds;var m=this._mko_barGroupNumber;var t=this._valueAxis1.scale;var F=this._categoryScale.rangeExtent();var G=Math.abs(F[0]-F[1]);var I=0,J=0;d.attr("transform",function(K,k){var x,y;if(j){y=r[i];if(K.val>=0){x=t(I);I+=K.val}else{J+=K.val;x=t(J)}}else{x=r[i];if(K.val>=0){I+=K.val;y=t(I)}else{y=t(J);J+=K.val}}return"translate("+x+","+y+")"})};E.prototype._mkofn_getValueFromData=function(d){if(this._valueAxis1&&this._valueAxis1.scale){var i=this._valueAxis1.scale;return Math.abs(i(d.val.length?d.val[0]:d.val)-i(0))}else{return 0}};E.prototype._mkofn_getEffectColor=function(d){var i={drawingEffect:this._mko_drawingEffect,fillColor:d,direction:this._mko_isHorizontal?"vertical":"horizontal"};return this._mko_effectManager.register(i)};E.prototype._mkofn_adjustScale=function(r){var d=this._width;var j=this._height;var k=this._mko_isHorizontal;var i,m=r.length;for(i=0;i<m;i++){if(!N.isNoValue(r[i])&&r[i]!==0){return}}var t=k?j/(m-1):d/(m-1);for(i=1;i<m;i++){r[i]=i*t}};E.prototype._mkofn_makeScales=function(){var d=this._width;var k=this._height;var m=this._mko_seriesData;if(T.isExist(d)&&T.isExist(k)&&T.isExist(m)){var r=this._mko_data2;var t=this._mko_isHorizontal;var x=this._categoryScale;var y=this._valueAxis1.scale;var F=this._mko_primaryAxisTopBoundary;var G=this._mko_primaryAxisBottomBoundary;var I=this._mko_primaryAxisManualRange;var J=this._mko_dimensionData[z].values[0];var K=this._mko_mode;var L=(this._mko_rangeBounds=[]);L[0]=0;var P=(this._mko_rangeSum=[]),Q=[],R=0,V=0;var i,j,W;var X=(J.rows=[]);J.col.val=this._mko_data.getMeasureValuesGroupDataByIdx(1).values[0].col;for(i=0,W=r.length;i<W;i++){for(j=0;j<r[i].length;j++){if(T.isExist(P[j])){P[j]+=r[i][j].val}else{P[j]=r[i][j].val}}}for(i=0,W=P.length;i<W;i++){Q.push(i);R+=P[i]>0?P[i]:-P[i]}for(i=0,W=P.length;i<W;i++){V+=Math.abs(P[i]);V=N.precise(V);L[i+1]=R===0?null:Math.abs(t?V/R*k:V/R*d);X.push({val:T.isExist(P[i])?P[i]:w})}this._mkofn_adjustScale(L);if(t){x.domain(Q).range(L);if(K==="percentage"){y.domain([0,1]).range([0,d])}else{if(G===0&&F===0){y.domain([0,1]).range([0,d])}else{y.domain([G,F]).range([0,d])}}}else{x.domain(Q).range(L);if(K==="percentage"){y.domain([1,0]).range([0,k])}else{if(G===0&&F===0){y.domain([1,0]).range([0,k])}else{y.domain([F,G]).range([0,k])}}}if(!I){S.perfect(y)}else{S.getRoughTickNum(y)}}};E.prototype._mkofn_turnToPercentage=function(){var d=this._mko_seriesData;var t=this._mko_tooltipData;for(var i=0,m=d.length;i<m;i++){for(var j=0,r=d[i],x=t[i];j<r.length;j++){var y=0,F=0,k;for(k=0;k<r[j].length;k++){y+=Math.abs(r[j][k].val);if(!r[j][k].isNaN){F++}}if(y===0){for(k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/F;if(T.isExist(x[j])&&T.isExist(x[j][k])){x[j][k].val=x[j][k].isNaN?" ":1/F}}}else{for(k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/y);if(T.isExist(x[j])&&T.isExist(x[j][k])){x[j][k].val=x[j][k].isNaN?" ":r[j][k].val}}}}}};E.prototype._mkofn_turnToComparison=function(){var d=O.extend(true,{},M(this._mko_data));var _=d["MG1"];var i=d["MG2"];var j=this._mkofn_dataHandler(_,i);this._mko_seriesData=j;this._mko_data1=_;this._mko_data2=i;this._mko_tooltipData=O.extend(true,{},this._mko_seriesData)};E.prototype._mkofn_initialized=function(d){if(this._eDispatch){if(d&&d.isPinching){this._eDispatch.initialized({eventSource:'pinch'})}else{this._eDispatch.initialized()}}this._mko_afterAttachToDOM=true};E.prototype._mkofn_dataHandler=function(d,m){var i,j,r=-1,t=-1;var x=(this._mko_positiveIndexes=[[],[]]);var y=(this._mko_negativeIndexes=[[],[]]);this._mko_primaryAxisTopBoundary=this._mko_primaryAxisBottomBoundary=0;this._mko_secondaryAxisTopBoundary=this._mko_secondaryAxisBottomBoundary=0;var F=[];var G=(this._mko_barGroupNumber=d[0].length);var I,J;for(j=0;j<G;j++){var K=[],L=[];var P=[];I=0,J=0;r=-1,t=-1;for(i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=0;d[i][j].isNaN=true}else{if(d[i][j].val>=0){I+=d[i][j].val;r=i}else{J+=d[i][j].val;t=i}}K.push(d[i][j])}x[0].push(r);y[0].push(t);if(this._mko_primaryAxisTopBoundary<I){this._mko_primaryAxisTopBoundary=I}if(this._mko_primaryAxisBottomBoundary>J){this._mko_primaryAxisBottomBoundary=J}this._mko_init_primaryAxisTopBoundary=this._mko_primaryAxisTopBoundary;this._mko_init_primaryAxisBottomBoundary=this._mko_primaryAxisBottomBoundary;if(T.isExist(m)){I=0,J=0;r=-1,t=-1;for(i=0;i<m.length;i++){r=0,t=-1;if(N.isNoValue(m[i][j].val)){m[i][j].isNaN=true}else{if(m[i][j].val>=0){I+=m[i][j].val;r=i}else{J+=m[i][j].val;t=i}}L.push(m[i][j])}x[1].push(r);y[1].push(t);if(this._mko_secondaryAxisTopBoundary<I){this._mko_secondaryAxisTopBoundary=I}if(this._mko_secondaryAxisBottomBoundary>J){this._mko_secondaryAxisBottomBoundary=J}this._mko_init_secondaryAxisTopBoundary=this._mko_secondaryAxisTopBoundary;this._mko_init_secondaryAxisBottomBoundary=this._mko_secondaryAxisBottomBoundary}var Q=[];var k;for(k=0;k<K.length;k++){var R={};var V=null;for(V in K[k]){if(K[k].hasOwnProperty(V)){R[V]=[];R[V].push(K[k][V]);R[V].push(L[k][V])}}R.isNaN=K[k].isNaN;R.val=K[k].val;R.val2=L[k].val;Q.push(R)}P.push(Q);F.push(P)}return F};E.prototype._mkofn_generateTooltipData=function(d){var k={"body":[],"footer":[]};var m=this._mko_data;var r=this._mko_tooltipData;var x=this._mko_shapePalette;var y=this._mko_colorPalette;var F=this._mko_rangeSum;var G=m.getMeasureValuesGroupDataByIdx(0).values;var I=m.getMeasureValuesGroupDataByIdx(1).values;var J=m.getAnalysisAxisDataByIdx(0).values;var K=m.getAnalysisAxisDataByIdx(1);var L=null;if(T.isExist(K)){L=K.values}var P=r[0][0].length;var i,j,t,Q,R;var V={},W=[];for(i=0,Q=G.length;i<Q;i++){V={},W=[];V.name=G[i].col;V.val=W;for(j=0;j<P;j++){var X="";if(T.isExist(L)){for(t=0,R=L.length;t<R;t++){var Y=L[t].rows[j].val;if(Y===null||Y===undefined){Y=w}X+=t===0?Y:" / "+Y}}W.push({value:r[d][0][j].isNaN?w:r[d][0][j].val,label:X,shape:x[0],color:y[j]})}k.body.push(V)}V={},W=[];V.name=I[0].col;V.val=W;W.push({value:T.isExist(F[d])?F[d]:w,valueAxis:1});k.body.push(V);for(i=0,Q=J.length;i<Q;i++){var Z={label:J[i].col.val};var $=J[i].rows[d].val;if($===null||$===undefined){$=w}Z.value=$;k.footer.push(Z)}return k};E.prototype._mkofn_enableAnimation=function(){var d=false;if(!this._mko_isOnlyInitAnimation){d=this._mko_enableDataLoadingAnimation}else if(this._mko_dataStructureChange||this._mko_dataValueChange||this._mko_modeChange){d=this._mko_enableDataUpdatingAnimation}else if(this._mko_sizeChange){d=this._mko_enableResizingAnimation}return d};E.prototype._mkofn_parseOptions=function(){var d=this._props;if(this._mko_mode!==d.mode){this._mko_modeChange=true}this._mko_mode=d.mode==="percentage"?"percentage":"comparison";this._mko_isHorizontal=d.orientation==="horizontal"?true:false;this._mko_enableRoundCorner=d.isRoundCorner;this._mko_enableDataLoadingAnimation=d.animation.dataLoading;this._mko_enableDataUpdatingAnimation=d.animation.dataUpdating;this._mko_enableResizingAnimation=d.animation.resizing;this._mko_tooltipVisible=d.tooltip.enabled;this._mko_drawingEffect=d.drawingEffect;var k=(this._mko_axis1ColorPalette=d.colorPalette);var m=k.length;this._mko_colorPalette=[];var i,j,r,t;var x=this._mko_seriesData;for(i=0,r=x[0].length;i<r;i++){for(j=0,t=x[0][0].length;j<t;j++){this._mko_colorPalette.push(k[j%m])}}};E.prototype._mkofn_recoveryValues=function(){var i,j,d,k;var m=this._mko_seriesData;if(T.isExist(m)){if(T.isArray(m[0][0][0].val)){for(i=0,d=m.length;i<d;i++){for(j=0,k=m[i][0].length;j<k;j++){if(T.isArray(m[i][0][j].val)){m[i][0][j].val=m[i][0][j].val[0]}}}}}};E.prototype._mkofn_adjustValues=function(){var i,j,d,k;var m=this._mko_seriesData;if(T.isExist(m)){for(i=0,d=m.length;i<d;i++){for(j=0,k=m[i][0].length;j<k;j++){var r=[];var t=m[i][0][j];var x=t.value;t.percentage=t.val;r.push(x===undefined?t.val:x);r.push(t.val2);t.val=r}}}};E.prototype.getDataOfDataPoint=function(d){var i={};if(d&&d.__data__){i=this._mko_rawData.ctx2ArrayData(d.__data__.ctx);if(i.measure){for(var j in i.measure){if(d.__data__.percentage){i.measure[j].value=d.__data__.percentage;break}}}i.context=d.__data__.ctx}return i};return E});define('sap/viz/modules/manifests/xy/Mekko',['sap/viz/modules/manifests/Module','sap/viz/modules/mekko','sap/viz/modules/manifests/xy/BaseBar','sap/viz/modules/Constants'],function Setup(M,f,B,C){var m={'id':'sap.viz.modules.mekko','name':'mekko',base:"sap.viz.modules.xy.bar.base",'properties':{'mode':{'name':'mode','supportedValueType':'String','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set the display mode for the mekko chart.'},'orientation':{'name':'orientation','supportedValueType':'String','supportedValues':['vertical','horizontal'],'defaultValue':'horizontal','description':'Set whether the mekko chart is vertical or horizontal.'},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/HorizontalMekkoChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/BarChart','sap/viz/modules/manifests/xy/Mekko'],function Setup(M,U,R,B,a){var c={id:'viz/horizontal_mekko',name:'IDS_HORIZONTALMEKKOCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/bar',modules:{root:{modules:{interaction:{configure:{properties:{holdSelection:false}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,isMekko:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes'}},yAxis:{id:'sap.viz.modules.axis',configure:{properties:{type:'category',position:'left',label:{hideStrategy:'greedy'}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{isIndependentMode:true,type:'category',position:'right',isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:'greedy'}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',orientation:'left'}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot',source:'secondCategoryScale'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.yAxis2',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.yAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis2'});e.push({targetModule:'root.main.yAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis2'})}var d={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,a.module),feeds:[].concat(B.feeds,R.feeds,a.feeds)};return d});define('sap/viz/impls/HorizontalMekkoChart',['sap/viz/manifests/xy/HorizontalMekkoChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/modules/stackedwaterfall',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/lang/langManager','sap/viz/util/NumberUtils','sap/viz/util/Scaler','sap/viz/util/ColorSeriesGenerator','sap/viz/base/utils/Objects','sap/viz/modules/util/tooltipDataHandler','sap/viz/modules/util/BoundUtil','sap/viz/base/utils/ObjectUtils','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/UADetector','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,T,a,M,l,N,S,C,O,b,c,e,f,g,G,h,U,D,s){var k=function(d,i){if(i&&i.isPinching){d.initialized({eventSource:'pinch'})}else{d.initialized()}};var n=g.CSS.CLASS.DATAPOINTSELECTED,p=g.CSS.CLASS.DATAPOINTHOVER,q="v-datapoint",r=g.CSS.CLASS.MORPHABLEDATAPOINT;var t=q+' '+r;var u="v-datashapesgroup";var v=l.get('IDS_ISNOVALUE');var w=1200;var W=function(m,d){W.superclass.constructor.apply(this,arguments);this._wtf_originData=null;this._wtf_chartData=null;this._wtf_tooltipData=null;this._wtf_primaryAxisMinValue=null;this._wtf_primaryAxisMaxValue=null;this._wtf_init_primaryAxisMinValue=null;this._wtf_Init_primaryAxisMaxValue=null;this._wtf_categoryLen=null;this._wtf_measureLength=null;this._wtf_primaryAxisManualRange=false;this._wtf_tooltipVisible=false;this._wtf_barInfo=null;this._wtf_isDataSchemaChanged=false;this._wtf_isDataLoading=true;this._wtf_isSizeChanged=false;this._wtf_isDatasetChanged=false;this._wtf_lastHovered=null;this._wtf_dimensionData=null;this._wtf_measureData=null;this._wtf_isShowTotal=null;this._wtf_isShowSubtotal=null;this._wtf_hasDefaultSelection=false;O.extend(true,this._props,m.props(null));this._wtf_isPropertyChanged=false;this._wtf_style={};this._wtf_tooltipDataHandler=null;this._wtf_effectManager=d.effectManager;this._wtf_styleManager=d.styleManager;this._wtf_drawingEffect='normal';this._wtf_colorPalette=C.sap32().range(),this._wtf_shapePalette=['squareWithRadius'],this._wtf_defsEnter=null;this._wtf_id=Math.floor(Math.random()*10000)};o.extend(W,B);W.prototype.render=function(j,z){c.drawBound(j,this._width,this._height);if(U.isMobile()){var A=h.drawClippath(j,this._width,this._height);j.attr('clip-path',"url(#"+A+")")}this._wtf_tooltipDataHandler=b();if(!T.isExist(this._valueAxis1.scale)){return}this._eDispatch.startToInit();var E=this;j.each(function(){E._wtf_barInfo=E._wtffn_getBarInfo();var F=E._wtf_barInfo.barSize;var H=0;var I=w/E._wtf_categoryLen;E._d3root=d3.select(this);var J=E._d3root;if(!T.isExist(E._wtf_defsEnter)){E._wtf_defsEnter=J.append('defs').append('clipPath').attr('id','clipPlot_'+E._wtf_id).append('rect').attr('width',E._width).attr('height',E._height)}else{E._wtf_defsEnter.attr('width',E._width).attr('height',E._height)}if(E._wtf_isDataSchemaChanged===true){E._d3root.selectAll('g.v-waterfallgroup').remove();E._d3root.selectAll('g.v-datashapesgroup').remove()}var K=E._d3root.selectAll('g.v-datashapesgroup');if(K.empty()){if(U.isMobile()){K=E._datashapesgroup=E._d3root.append('g').attr('class','v-datashapesgroup')}else{K=E._d3root.append('g').attr('class','v-datashapesgroup').attr("clip-path","url(#clipPlot_"+E._wtf_id+")")}}var L=K.selectAll('g.v-waterfallgroup').data(E._wtf_chartData);L.enter().append('g').attr('class','v-waterfallgroup');L.exit().remove();var P=false;if(E._wtf_isDataLoading){P=E._props.animation.dataLoading}else if(E._wtf_isDatasetChanged){P=E._props.animation.dataUpdating}else if(E._wtf_isSizeChanged){P=E._props.animation.resizing}var Q=L.selectAll('g.v-datashape').data(function(d,i){return d.items});var R=Q.enter().append('g').attr('class','v-datashape');R.append('rect').attr('class',t);if(!P){Q.exit().remove();if(E._props.isHorizontal===false){L.attr('transform',function(d,i){if(E._categoryScale){var x=E._categoryScale(i)+E._wtf_barInfo.barGap;return'translate('+x+','+0+')'}else{return 0}});Q.attr('transform',function(d){if(E._valueAxis1.scale){var y=(d.val>0)?E._valueAxis1.scale(H+d.after):E._valueAxis1.scale(H+d.before);return'translate('+0+','+y+')'}else{return 0}});if((!E._wtf_isSizeChanged||E._wtf_isPropertyChanged)&&!E._isPinching){Q.select('rect').attr('class',t).attr('fill-opacity',1).attr('stroke','none')}Q.select('rect').attr('fill',function(d){var i={drawingEffect:E._wtf_drawingEffect,fillColor:E._wtf_colorPalette[d.index%E._wtf_colorPalette.length],direction:'horizontal'};return E._wtf_effectManager.register(i)}).attr('width',F).attr('height',function(d){if(E._valueAxis1.scale){return Math.abs(E._valueAxis1.scale(d.after)-E._valueAxis1.scale(d.before))}else{return 0}})}else{L.attr('transform',function(d,i){if(E._categoryScale){var x=E._categoryScale(i)+E._wtf_barInfo.barGap;return'translate('+0+','+x+')'}else{return 0}});Q.attr('transform',function(d,i){if(E._valueAxis1.scale){var x=(d.val>0)?E._valueAxis1.scale(H+d.before):E._valueAxis1.scale(H+d.after);return'translate('+x+','+0+')'}else{return 0}});if((!E._wtf_isSizeChanged||E._wtf_isPropertyChanged)&&!E._isPinching){Q.select('rect').attr('class',t).attr('fill-opacity',1).attr('stroke','none')}Q.select('rect').attr('fill',function(d,i){var x={drawingEffect:E._wtf_drawingEffect,fillColor:E._wtf_colorPalette[d.index%E._wtf_colorPalette.length],direction:'vertical'};return E._wtf_effectManager.register(x)}).attr('height',F).attr('width',function(d,i){if(E._valueAxis1.scale){return Math.abs(E._valueAxis1.scale(d.after)-E._valueAxis1.scale(d.before))}else{return 0}})}k(E._eDispatch,z)}else{Q.exit().transition().duration(I).attr('height',0).attr('width',0).remove();var V,m,X;if(E._props.isHorizontal===false){R.selectAll('rect').attr('height',0);R.attr('transform',function(d){if(E._valueAxis1.scale){var y=E._valueAxis1.scale(H+d.before);return'translate('+0+','+y+')'}else{return 0}});L.attr('transform',function(d,i){if(E._categoryScale){var x=E._categoryScale(i)+E._wtf_barInfo.barGap;return'translate('+x+','+0+')'}else{return 0}});var Y=0;for(m=0,X=Q.length;m<X;m++){if(Q[m].length===0){Y++}if(Y===Q.length){k(E._eDispatch,z)}V=d3.selectAll(Q[m]);V.transition().duration(I).delay(function(d,i){return m*I}).attr('transform',function(d){if(E._valueAxis1.scale){var y=(d.val>0)?E._valueAxis1.scale(H+d.after):E._valueAxis1.scale(H+d.before);return'translate('+0+','+y+')'}else{return 0}});if((!E._wtf_isSizeChanged||E._wtf_isPropertyChanged)&&!E._isPinching){V.select('rect').attr('class',t).attr('fill-opacity',1).attr('stroke','none')}V.select('rect').attr('fill',function(d){var i={drawingEffect:E._wtf_drawingEffect,fillColor:E._wtf_colorPalette[d.index%E._wtf_colorPalette.length],direction:'horizontal'};return E._wtf_effectManager.register(i)}).attr('width',F).transition().duration(I).delay(function(){return m*I}).attr('height',function(d){if(E._valueAxis1.scale){return Math.abs(E._valueAxis1.scale(d.after)-E._valueAxis1.scale(d.before))}else{return 0}}).each('end',function(d,i){if(d.isLastItem!==undefined&&d.isLastItem===true){k(E._eDispatch,z)}})}}else{R.selectAll('rect').attr('width',0);R.attr('transform',function(d){if(E._valueAxis1.scale){var x=E._valueAxis1.scale(H+d.before);return'translate('+x+','+0+')'}else{return 0}});L.attr('transform',function(d,i){if(E._categoryScale){var x=E._categoryScale(i)+E._wtf_barInfo.barGap;return'translate('+0+','+x+')'}else{return 0}});for(m=0,X=Q.length;m<X;m++){V=d3.selectAll(Q[m]);V.transition().duration(I).delay(function(){return m*I}).attr('transform',function(d){if(E._valueAxis1.scale){var x=(d.val>0)?E._valueAxis1.scale(H+d.before):E._valueAxis1.scale(H+d.after);return'translate('+x+','+0+')'}else{return 0}});if((!E._wtf_isSizeChanged||E._wtf_isPropertyChanged)&&!E._isPinching){V.select('rect').attr('class',t).attr('fill-opacity',1).attr('stroke','none')}V.select('rect').attr('fill',function(d){var i={drawingEffect:E._wtf_drawingEffect,fillColor:E._wtf_colorPalette[d.index%E._wtf_colorPalette.length],direction:'vertical'};return E._wtf_effectManager.register(i)}).attr('height',F).transition().duration(I).delay(function(){return m*I}).attr('width',function(d){if(E._valueAxis1.scale){return Math.abs(E._valueAxis1.scale(d.after)-E._valueAxis1.scale(d.before))}else{return 0}}).each('end',function(d,i){if(d.isLastItem!==undefined&&d.isLastItem===true){k(E._eDispatch,z)}})}}}if(U.isMobile()&&!z&&E._d3root){E._datashapesgroup.attr('transform',null)}E._wtf_isDataLoading=false;E._wtf_isSizeChanged=false;E._wtf_isDatasetChanged=false;E._wtf_lastHovered=null;E._wtf_isPropertyChanged=false});this.applyFormatConditions(this._props.formatRules,j,this._wtf_originData,this)};W.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};W.prototype.highlight=function(d,i){D.resetHighlightProperties();D.nodesHighlight(d,{factor:0.7,constant:0},this._wtf_effectManager,i);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,true,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(n,false);d3.selectAll(d).classed(p,true)}else{d3.selectAll(d).classed(n,true);d3.selectAll(d).classed(p,false)}};W.prototype.unhighlight=function(d,i,j){D.resetHighlightProperties();D.nodesUnhighlight(d,i,j);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(n,true);d3.selectAll(d).classed(p,false)}else{d3.selectAll(d).classed(n,false);d3.selectAll(d).classed(p,false)}};W.prototype.clear=function(d){if(d===null||d===false||d===undefined){var i=this._d3root.selectAll('.v-datapoint');i.attr('fill-opacity',1).attr('stroke','none').classed(n,false).classed(p,false);if(this._wtf_hasDefaultSelection){f.clearSelectionInfo(this._d3root,false,i)}}else{this._d3root.selectAll('.v-datapoint').attr('fill-opacity',0.4).attr('stroke','none').classed(n,false).classed(p,false)}};W.prototype.parent=function(){return this._d3root};W.prototype.data=function(_){if(!arguments.length){return this._wtf_originData}this._wtf_originData=_;this._wtffn_parseOriginData(_);if(T.isExist(this._width)&&T.isExist(this._height)){this._wtffn_makeScale()}if(this._d3root){this._d3root.select('.'+u).attr('transform',null)}return this};W.prototype.properties=function(d){if(!arguments.length){return this._props}this._wtf_isPropertyChanged=true;O.extend(true,this._props,d);this._wtf_colorPalette=this._props.colorPalette;this._wtf_drawingEffect=this._props.drawingEffect;this._wtf_tooltipVisible=this._props.tooltip.enabled;if(this._wtf_isShowTotal!==this._props.isShowTotal||this._wtf_isShowSubtotal!==this._props.subtotal.visible){this._wtf_isShowTotal=this._props.isShowTotal;this._wtf_isShowSubtotal=this._props.subtotal.visible;this._wtffn_parseOriginData(this._wtf_originData)}return this};W.prototype.width=function(_){if(!arguments.length){return this._width}this._wtf_isSizeChanged=(!this._wtf_isSizeChanged&&(_===this._width))?false:true;this._width=_;if(T.isExist(this._wtf_originData)&&T.isExist(this._width)&&T.isExist(this._height)){this._wtffn_makeScale()}return this};W.prototype.height=function(_){if(!arguments.length){return this._height}this._wtf_isSizeChanged=(!this._wtf_isSizeChanged&&(_===this._height))?false:true;this._height=_;if(T.isExist(this._wtf_originData)&&T.isExist(this._width)&&T.isExist(this._height)){this._wtffn_makeScale()}return this};W.prototype.primaryAxisTitle=function(_){if(!arguments.length){var d=this._wtf_originData.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};W.prototype.secondAxisTitle=function(_){if(!arguments.length){var d=this._wtf_originData.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join(' & ')}return this};W.prototype.categoryScale=function(d){if(!arguments.length){return this._categoryScale}this._categoryScale=d;return this};W.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;return this};W.prototype.colorPalette=function(_){if(!arguments.length){return this._wtf_colorPalette}this._wtf_colorPalette=_;return this};W.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};W.prototype.dataLabel=function(_){return this};W.prototype.dimensionData=function(_){if(!arguments.length){return[this._wtf_dimensionData]}this._wtf_dimensionData=_};W.prototype.primaryDataRange=function(d){if(!arguments.length){return{min:this._wtf_primaryAxisMinValue,max:this._wtf_primaryAxisMaxValue}}var i,j;if(d!==null){if(!isNaN(d.max)){i=d.max}else{i=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(d.min)){j=d.min}else{j=this._valueAxis1.scale.perfectDomainBegin}if(i>j){this._wtf_primaryAxisMaxValue=i;this._wtf_primaryAxisMinValue=j;if(d.from==='axis'){this._wtf_primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._wtffn_makeScale()}}}else{if(this._wtf_primaryAxisManualRange===true){this._wtf_primaryAxisMaxValue=this._wtf_init_primaryAxisMaxValue;this._wtf_primaryAxisMinValue=this._wtf_init_primaryAxisMinValue;this._wtf_primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._wtffn_makeScale()}}}return this};W.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll('.'+q).remove()}this._categoryScale=null;this._wtf_dimensionData=null;this._wtf_tooltipData=null;this._wtf_defsEnter=null;this._wtf_chartData=null;this._wtf_primaryAxisManualRange=null;this._wtf_primaryAxisMaxValue=null;this._wtf_primaryAxisMinValue=null;this._valueAxis1.scale=null;this._d3root=null;if(this._wtf_effectManager&&this._wtf_effectManager.destroy){this._wtf_effectManager.destroy()}if(this._wtf_styleManager&&this._wtf_styleManager.destroy){this._wtf_styleManager.destroy()}};W.prototype._wtffn_getBarInfo=function(){var d=2*(this._categoryScale.rangeBand())/3;var i=d/2;var j=this._props.barGap;var m=i,x=d;if(j!==undefined){var y=this._categoryScale.rangeBand()-j;if(!(j<5||y<0)){x=y;m=j}}return{'barSize':x,'barGap':m/2}};W.prototype._wtffn_makeScale=function(){var d=[];for(var i=0;i<this._wtf_categoryLen;i++){d.push(i)}if(this._props.isHorizontal===true){this._categoryScale.domain(d).rangeBands([0,this._height]);if(this._wtf_primaryAxisMinValue===0&&this._wtf_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._wtf_primaryAxisMinValue,this._wtf_primaryAxisMaxValue]).range([0,this._width])}}else{this._categoryScale.domain(d).rangeBands([0,this._width]);if(this._wtf_primaryAxisMinValue===0&&this._wtf_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._wtf_primaryAxisMinValue,this._wtf_primaryAxisMaxValue]).range([this._height,0])}}if(!this._wtf_primaryAxisManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}};W.prototype._wtffn_parseOriginData=function(d){this._wtf_dimensionData={};this._wtf_measureData={};if((this._wtf_isShowTotal===true)||(this._props.subtotal.visible===true)){e.extend(true,this._wtf_dimensionData,d.getAnalysisAxisDataByIdx(0));e.extend(true,this._wtf_measureData,d.getMeasureValuesGroupDataByIdx(0))}else{this._wtf_dimensionData=d.getAnalysisAxisDataByIdx(0);this._wtf_measureData=d.getMeasureValuesGroupDataByIdx(0)}var m=M(d);this._wtf_tooltipData=b.dataTransform(m);var x=m["MG1"],y=this._props.initialValue;this._wtf_isDataSchemaChanged=false;if(x[0]&&x[0][0].info&&x[0][0].info.defaultSelection){this._wtf_hasDefaultSelection=true}else{this._wtf_hasDefaultSelection=false}if(this._wtf_categoryLen===undefined&&this._wtf_measureLength===undefined){this._wtf_isDataLoading=true}else{this._wtf_isDatasetChanged=true}if((this._wtf_categoryLen!==undefined&&this._wtf_measureLength!==undefined)&&(this._wtf_categoryLen!==x[0].length||this._wtf_measureLength!==x.length)){this._wtf_isDataSchemaChanged=true}var z,A,E,F=[],H=[],I=0,J={},K=[],L,P,Q,R,V=0,X,Y=0;var Z,$=0,_=false;z=A=y;this._wtf_chartData=[],this._wtf_primaryAxisMinValue=this._wtf_primaryAxisMaxValue=this._props.initialValue;this._wtf_categoryLen=x[0].length;this._wtf_measureLength=x.length;var a1,b1,c1,i;if(this._props.subtotal.visible===true){a1=0;b1=this._wtf_categoryLen;c1=this._props.subtotal.subGroups}for(i=0;i<this._wtf_categoryLen;i++){z=A=y;K=[],I=$=0,P=false;if(E===undefined){E=y}for(var j=this._wtf_measureLength-1;j>=0;j--){L=this._wtffn_handleNullValue(x[j][i].val);Z=x[j][i].info;if(Z){P=(Z.valueinfo===undefined)?false:Z.valueinfo.isTotal;if(P&&(j===this._wtf_measureLength-1)){z=A=0;_=true}}if(L!==v){if(P){if(L>0){Q=z;R=z+L;z=R}else{Q=A;R=A+L;A=R}$=$+L}else{H[j]=(H[j]?H[j]+L:L);I=I+L;if(L>0){Q=z;R=z+L;z=R}else{Q=A;R=A+L;A=R}F[j]=(F[j]?F[j]+L:L)}if(R>this._wtf_primaryAxisMaxValue){this._wtf_primaryAxisMaxValue=R}if(R<this._wtf_primaryAxisMinValue){this._wtf_primaryAxisMinValue=R}J={"index":j,"val":x[j][i].val,"info":x[j][i].info,"before":Q,"after":R,"ctx":x[j][i].ctx};K.push(J)}}if(P){this._wtf_chartData.push({"total":$,"start":0,"items":K})}else{this._wtf_chartData.push({"total":I,"start":y,"items":K})}V=V+I;if(this._props.subtotal.visible===true){X=c1[a1];while((a1<c1.length)&&(X<0||X>this._wtf_categoryLen-1)){a1++;X=c1[a1]}if(i===X){if(this._props.subtotal.isSubgroupTotal){this._wtffn_addTotalItemToChartData(i+Y+1,y,H,"Sub-Total-"+Y)}else{this._wtffn_addTotalItemToChartData(i+Y+1,0,F,"Sub-Total-"+Y)}E=undefined;H=[];a1++;Y++;b1++}}y=y+I}if(_){if(this._wtf_primaryAxisMinValue>0){this._wtf_primaryAxisMinValue=0}else if(this._wtf_primaryAxisMaxValue<0){this._wtf_primaryAxisMaxValue=0}}this._wtf_init_primaryAxisMinValue=this._wtf_primaryAxisMinValue;this._wtf_init_primaryAxisMaxValue=this._wtf_primaryAxisMaxValue;if(b1!==undefined){this._wtf_categoryLen=b1}if(this._wtf_isShowTotal){this._wtffn_addTotalItemToChartData(this._wtf_categoryLen,0,F,"Total");this._wtf_categoryLen++}if(this._wtf_categoryLen>0){for(i=this._wtf_categoryLen-1;i>=0;--i){var d1=this._wtf_chartData[i].items;if(d1.length>0){d1[d1.length-1].isLastItem=true;break}}}};W.prototype._wtffn_addTotalItemToChartData=function(d,j,m,x){var y,z,A,E,F,H=[],I=0,J;y=z=j;for(var i=0,L=m.length;i<L;i++){J=m[i];I=I+J;if(J>0){A=y;E=y+J;y=E}else{A=z;E=z+J;z=E}F={"index":i,"val":J,"before":A,"after":E,"ctx":{"path":{"mg":J,"mi":i}}};H.push(F);this._wtf_measureData.values[0].rows[i].splice(d,0,{val:m[i]})}this._wtf_chartData.push({"total":I,"start":j,"items":H});this._wtf_dimensionData.values[0].rows.splice(d,0,{val:x});if(this._wtf_dimensionData.values.length>1){var K;for(i=1,K=this._wtf_dimensionData.values.length;i<K;i++){this._wtf_dimensionData.values[i].rows.splice(d,0,{val:""})}}};W.prototype._wtffn_handleNullValue=function(d){return(d===null||d===undefined)?v:d};W.prototype.applyFormatConditions=function(d,j,m,x){var y=function(z,A){var E={drawingEffect:x._props.drawingEffect,fillColor:A.color,direction:x._props.isHorizontal===false?"horizontal":"vertical"};var F=x._wtf_effectManager.register(E);var i;for(i=0;i<z.length;i++){z[i].setAttribute('fill',F)}};s.applyConditons(d,j,m,y)};return W});define('sap/viz/modules/manifests/xy/StackedWaterfall',['sap/viz/modules/manifests/Module','sap/viz/modules/stackedwaterfall','sap/viz/modules/manifests/xy/BaseBar','sap/viz/modules/Constants'],function Setup(M,f,B,C){var m={'id':'sap.viz.modules.stackedwaterfall','name':'stackedwaterfall',base:"sap.viz.modules.xy.bar.base",'properties':{'isRoundCorner':{'isExported':false},'primaryValuesColorPalette':{'isExported':false},'secondaryValuesColorPalette':{'isExported':false},'isHorizontal':{'name':'isHorizontal','supportedValueType':'Boolean','defaultValue':false,'description':'Set the orientation of the stacked waterfall chart','isExported':false},'isShowTotal':{'name':'isShowTotal','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the stacked waterfall total value is shown','isExported':false},'subtotal':{'name':'subtotal','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the subtotal'},'isSubgroupTotal':{'name':'isSubgroupTotal','supportedValueType':'Boolean','defaultValue':true,'description':'Set isRuntimeTotal of the subtotal'},'subGroups':{'name':'subGroups','supportedValueType':'StringArray','defaultValue':[],'description':'Set bar groups.','isExported':false}},'isExported':false,'description':'Settings for subtotal related properties'},'barGap':{'name':'barGap','supportedValueType':'PositiveInt','defaultValue':undefined,'min':'5','description':"Set the distance between bars. The default value is the same as bar size.",'isExported':true},'initialValue':{'name':'initialValue','supportedValueType':'PositiveInt','defaultValue':0,'description':"Set the initial value of the waterfall",'isExported':true},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},fn:f,'feeds':{configure:{'secondaryValues':null,'regionColor':{acceptMND:-1,min:1,max:1},'axisLabels':{max:1,acceptMND:-1},'primaryValues':{max:1}}}};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/StackedWaterfallChart',['sap/viz/manifests/Viz','sap/viz/data/feed/Constants','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedWaterfall','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/modules/manifests/controller/Pinch','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,c,U,R,S,B,P,I){var a={id:'viz/stacked_waterfall',name:'IDS_STACKEDWATERFALLCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}},main:{modules:{plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false},label:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{primaryValues:{'max':c.Constraints.INF},regionColor:{'acceptMND':1,'max':2},axisLabels:{max:1,acceptMND:0,maxStackedDims:1}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=a.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=a.dependencies.attributes;var e=a.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var d={viz:[a].concat(B.viz),module:[].concat(B.module,R.module,S.module,P.module,I.module),feeds:[].concat(B.feeds,R.feeds,S.feeds,P.feeds,I.feeds)};return d});define('sap/viz/manifests/xy/HorizontalStackedWaterfallChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedWaterfall','sap/viz/manifests/xy/StackedWaterfallChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Background'],function Setup(M,R,A,S,a,T,B){var c={id:'viz/horizontal_stacked_waterfall',name:'IDS_HORIZONTALSTACKEDWATERFALL',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:"viz/stacked_waterfall",modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'bar'}}},main:{modules:{plot:{id:'sap.viz.modules.stackedwaterfall',configure:{propertyCategory:'plotArea',properties:{'isHorizontal':true,'orientation':'horizontal'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:true}},propertiesOverride:{scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false},isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false},isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},label:{isExported:true},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,orientation:'horizontal'},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,A.module,S.module,T.module,B.module),feeds:[].concat(a.feeds,R.feeds,A.feeds,S.feeds,T.feeds,B.feeds)};return m});define('sap/viz/impls/HorizontalStackedWaterfallChart',['sap/viz/manifests/xy/HorizontalStackedWaterfallChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/manifests/xy/HorizontalWaterfallChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedWaterfall','sap/viz/modules/manifests/controller/Pinch','sap/viz/manifests/xy/BaseHorizontalChart'],function Setup(M,U,R,S,P,B){var c={id:'viz/horizontal_waterfall',name:'IDS_HORIZONTALWATERFALLCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}},legends:null,main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{indicator:{enable:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true,indicator:{enable:true}}}},plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{'isHorizontal':true},propertiesOverride:{isShowTotal:{isExported:false}}}}}}}}},feeds:{'regionColor':null},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.xAxis',source:'range'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},null,{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.yAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['yAxis'],valueAxis:['xAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,S.module,P.module),feeds:[].concat(B.feeds,R.feeds,S.feeds,P.feeds)};return b});define('sap/viz/impls/HorizontalWaterfallChart',['sap/viz/manifests/xy/HorizontalWaterfallChart'],function Setup(H){var m={viz:[].concat(H.viz),module:[].concat(H.module),feeds:[].concat(H.feeds)};return m});define('sap/viz/manifests/xy/ImageBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/BarChart'],function Setup(M,R,B){var c={id:'viz/image_bar',name:'IDS_IMAGEBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/bar','isExported':false,modules:{root:{modules:{main:{modules:{dataLabel:{configure:{properties:{visible:true,position:"outside"}}},plot:{configure:{properties:{imageFill:true},propertiesOverride:{imagePalette:{isExported:true}}}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:'root.legends.legend',target:'imageInfo',sourceModule:'root.main.plot',source:'imageInfo'}]}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module),feeds:[].concat(B.feeds,R.feeds)};return m});define('sap/viz/impls/ImageBarChart',['sap/viz/manifests/xy/ImageBarChart'],function Setup(I){var m={viz:[].concat(I.viz),module:[].concat(I.module),feeds:[].concat(I.feeds)};return m});define('sap/viz/impls/LineChart',['sap/viz/manifests/xy/LineChart'],function Setup(L){var m={viz:[].concat(L.viz),module:[].concat(L.module),feeds:[].concat(L.feeds)};return m});define('sap/viz/manifests/xy/MekkoChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/VerticalBarChart','sap/viz/modules/manifests/xy/Mekko'],function Setup(M,U,R,V,a){var c={id:'viz/mekko',name:'IDS_MEKKOCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/column',modules:{root:{modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,isMekko:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{orientation:'vertical'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes',properties:{position:'left'}}},xAxis:{id:'sap.viz.modules.axis',configure:{properties:{type:'category',position:'bottom',label:{hideStrategy:'greedy'}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'xAxis2',properties:{isIndependentMode:true,type:'category',position:'top',isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:'greedy'}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false},hideSubLevels:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',orientation:'bottom'}}},interaction:{configure:{properties:{holdSelection:false}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot',source:'secondCategoryScale'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot',source:'secondAxisTitle'},{targetModule:'root.main.xAxis2',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var b=c.dependencies.attributes;var e=c.dependencies.events;b.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'});e.push({targetModule:'root.main.xAxis2',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis2'});e.push({targetModule:'root.main.xAxis2',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis2'})}var d={viz:[c].concat(V.viz),module:[].concat(V.module,R.module,a.module),feeds:[].concat(V.feeds,R.feeds,a.feeds)};return d});define('sap/viz/impls/MekkoChart',['sap/viz/manifests/xy/MekkoChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/modules/util/DimensionalInfoHandler',['sap/viz/lang/langManager'],function Setup(l){return function(p,m){var d=m;var a=p;var b;var c;var r={'values':[]};var e={'values':[]};var f=[];var g;var h;var n=l.get('IDS_DEFAULTMND');var o=function(){};o.setData=function(i){d=i;return o};o.setProperties=function(p){a=p;return o};o.getColumnDimensionData=function(){return e};o.getRowDimensionData=function(){return r};o.getContexts=function(){return f};function q(){var i=0;if(b>0){g=1;h=d.values[0].rows.length;f.push([]);var j=e.values;j[0]={'col':{'val':n},'rows':[]};for(i=0;i<d.values[0].rows.length;++i){j[0].rows.push({'val':d.values[0].rows[i].val,'info':d.values[0].rows[i].info});f[0].push(d.values[0].rows[i].ctx)}}else{g=d.values[0].rows.length;h=1;var k=r.values;k[0]={'col':{'val':n},'rows':[]};for(i=0;i<d.values[0].rows.length;++i){k[0].rows.push({'val':d.values[0].rows[i].val,'info':d.values[0].rows[i].info});f.push([d.values[0].rows[i].ctx])}}}function s(){r.values=[];e.values=[];g=0;h=0;f=[]}function t(j,k,F,G){for(var i=F;i<F+G;++i){if(d.values[i].rows[j].val!==d.values[i].rows[k].val){return false}}return true}function u(i,j,k,F){var G=0;var H=i.length;var I=true;for(var J=0;I&&J<F;++J){var K=H;var L=G;I=false;for(var M=G;M<H;++M){if(d.values[k+J].rows[i[M]].val===d.values[k+J].rows[j].val){I=true;if(M<K){K=M}if(M>=L){L=M+1}}}if(I){G=K;H=L}}if(!I){if(H<i.length){i.splice(H,0,j)}else{i.push(j)}}}function v(j,k,F){var G=[];for(var i=k;i<k+F;++i){if(d.values[i].rows[j].val===null||d.values[i].rows[j].val===undefined){G.push({})}else{G.push(d.values[i].rows[j].val)}}return G}function w(j,k,F){var G={};for(var i=0;i<j.length;++i){G[v(j[i],k,F)]=i}return G}function x(k,F){var G=[];var H=[];H.push(0);var i;var I={};for(i=1;i<d.values[k].rows.length;++i){u(H,i,k,F)}var J=e.values;for(i=0;i<F;++i){I={};I.col=d.values[k+i].col;I.rows=[];I.rows[0]={'val':d.values[k+i].rows[0].val,'info':d.values[k+i].rows[0].info};J.push(I)}for(i=0;i<H.length;++i){for(var j=0;j<F;j++){J[j].rows[i]={'val':d.values[k+j].rows[H[i]].val,'info':d.values[k+j].rows[H[i]].info}}}var K=w(H,k,F);for(i=0;i<d.values[k].rows.length;++i){I=v(i,k,F);G[i]=K[I]}h=H.length;return G}function y(i){if(!i){return null}return{'type':i.type,'path':{'aa':i.path.aa,'di':i.path.di,'dii':i.path.dii}}}function z(j){var k=[];for(var i=0;i<j.length;++i){k.push(y(j[i]))}return k}function A(j,k){for(var i=0;i<j.length;++i){if(!j[i]){continue}else if(!j[i].path){j[i].path={}}j[i].path.mg=k.path.mg;j[i].path.mi=k.path.mi}}function B(k){var F=f.length;for(var i=0;i<k;++i){for(var j=0;j<F;++j){f.push(z(f[j]))}}}function C(M,F,G,H){var I=M?d.values.length-1:0;var J=d.values[I].rows;var K={};K.col=d.values[I].col;K.col.val=n;K.rows=[];var L=F?r.values:e.values;var N=F?G:H;var i,j,k;var O;if(F&&G===0){L[0]={'col':{'val':n},'rows':[]};A(f[0],J[0].ctx);L[0].rows.push({'val':J[0].val});for(i=1;i<J.length;++i){L[0].rows.push({'val':J[i].val});f.push(z(f[0]));A(f[i],J[i].ctx)}g=J.length;return}if(!F&&H===0){L[0]={'col':{'val':n},'rows':[]};for(i=0;i<J.length;++i){L[0].rows.push({'val':J[i].val})}for(i=0;i<f.length;++i){f[i][0].path.mg=J[0].ctx.path.mg;f[i][0].path.mi=J[0].ctx.path.mi;for(j=1;j<J.length;++j){f[i].push(y(f[i][0]));f[i][j].path.mg=J[j].ctx.path.mg;f[i][j].path.mi=J[j].ctx.path.mi}}return}var P=F?g:h;if(M){for(i=0;i<P;++i){for(j=0;j<L.length;++j){for(k=1;k<J.length;++k){O={'val':L[j].rows[i*J.length+k-1].val,'info':L[j].rows[i*J.length+k-1].info};L[j].rows.splice(i*J.length+k,0,O)}}}for(i=0;i<P;++i){for(j=0;j<J.length;++j){O={'val':J[j].val};K.rows.push(O)}}L.push(K);if(F){g*=J.length;for(i=0;i<g;i+=J.length){A(f[i],J[0].ctx);for(j=1;j<J.length;++j){var Q=z(f[i]);f.splice(i+j,0,Q);A(f[i+j],J[j].ctx)}}}else{h*=J.length;for(i=0;i<f.length;++i){for(j=0;j<h;j+=J.length){if(f[i][j]){f[i][j].path.mg=J[0].ctx.path.mg;f[i][j].path.mi=J[0].ctx.path.mi}for(k=1;k<J.length;++k){f[i].splice(j+k,0,y(f[i][j]));if(f[i][j+k]){f[i][j+k].path.mg=J[k].ctx.path.mg;f[i][j+k].path.mi=J[k].ctx.path.mi}}}}}return}else{for(i=1;i<J.length;++i){for(j=0;j<N;++j){for(k=0;k<P;++k){O={'val':L[j].rows[k].val,'info':L[j].rows[k].info};L[j].rows.push(O)}}}for(j=0;j<J.length;++j){for(i=0;i<P;++i){O={'val':J[j].val};K.rows.push(O)}}L.splice(0,0,K);if(F){g*=J.length;B(J.length-1);for(i=0;i<g;++i){var R=Math.floor((i*J.length)/g);A(f[i],J[R].ctx)}}else{h*=J.length;for(i=0;i<f.length;++i){var S=[];A(f[i],J[0].ctx);for(j=1;j<J.length;++j){var T=z(i);A(T,J[0].ctx);S=S.concat(z(i))}f[i]=f[i].concat(S)}}}}function D(k,F,G){var H=r.values;var i=0;for(i=0;i<k;++i){var I={};I.col=d.values[F+i].col;I.rows=[];I.rows[0]={'val':d.values[F+i].rows[0].val,'info':d.values[F+i].rows[0].info};H.push(I)}for(i=1;i<d.values[F].rows.length;++i){if(t(i,i-1,F,k)){G[i]=g}else{++g;for(var j=0;j<k;j++){H[j].rows[g]={'val':d.values[F+j].rows[i].val,'info':d.values[F+j].rows[i].info}}G[i]=g}}++g}function E(){var k=0,F=d.values.length;var G=c,H=b;var M=false,I=true;var i;if(d.values[0].type==="MND"){++k;if(G>0){--G}else{--H;I=false}}if(d.values[F-1].type==="MND"){M=true;--F;if(H>0){--H;I=false}else{I=true;--G}}if(k<F){var J=[];if(H>0||G>0){J[0]=0;g=0;if(G>0){D(G,k,J)}else{g=1;for(i=1;i<d.values[k].rows.length;++i){J[i]=0}}var K=[];if(H>0){K=x(k+G,H)}else{h=1;for(i=0;i<d.values[k].rows.length;++i){K[i]=0}}f=new Array(g);for(i=0;i<g;++i){f[i]=[];for(var j=0;j<h;++j){f[i][j]=null}}for(i=0;i<d.values[k].rows.length;++i){f[J[i]][K[i]]=d.values[k+G+H-1].rows[i].ctx}}if(G<c||H<b){C(M,I,G,H)}}}o.process=function(){s();if(!d||!d.values||d.values.length===0){return}b=a&&a["numberOfDimensionsInColumn"]!==undefined?a["numberOfDimensionsInColumn"]:1;if(!b||b<0){b=0}if(b>d.values.length){b=d.values.length}c=d.values.length-b;if(c<0){c=0}if(d.values.length===1&&d.values[0].type==="MND"){q()}else{E()}};return o}});define('sap/viz/data/handler/MultiChartDataHandler',['sap/viz/base/utils/FunctionUtils','sap/viz/data/MultiAxesDataAdapter','sap/viz/data/handler/MeasureDataHandler','sap/viz/lang/langManager'],function Setup(F,M,c,l){function d(h){var s=h.slice(0);s.sort(function(a,b){return a.index-b.index});s.shift();return s}function e(b){if(b[0]===true){if(b[1]===true){return[1,2]}else{return[1]}}else if(b[1]===true){return[2]}else{return[1]}}function f(b){if(b[0]===true){if(b[1]===true){return[1]}else if(b[2]===true){if(b.length>3){return[1]}else{return[2]}}else if(b[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{return[1]}}else if(b[1]===true){if(b[2]===true){return[1,2]}else if(b[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{return[1]}}else if(b[2]===true){if(b[3]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_SUPPORTED'))}else{if(b.length>3){return[1]}else{return[2]}}}else{for(var i=0;i<b.length;i++){if(b[i]===true){F.error(l.getLogMessage('IDS_ERROR_NOT_DETERMINE_AXIS_INDEX'))}}return[1]}F.error(l.getLogMessage('IDS_ERROR_NOT_DETERMINE_AXIS_INDEX'))}function g(a,t){this._dataAdapter=a;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=d(this._aa);this._type=t;if(this._type===undefined){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else if(this._type==="measures"){this._measureValueAxisIndex=e(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}g.prototype.getSubDataAdapter=function(a){if(this._type===undefined){return this.getSubDataAdapterByContext(a)}else if(this._type==="measures"){return this.getSubDataAdapterByMeasures(a)}return null};g.prototype.getSubDataAdapterByContext=function(a){var b,s,i,m;if(a){if(a.path.mg!==undefined&&a.path.mi!==undefined){if(a.path.di!==undefined&&a.path.dii!==undefined){b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return b}else{b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b}}else{b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}for(i=0;i<this._mg.length;i++){m=this._mg[i];b.addMeasureValuesGroup({index:m.index,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return b}}return null};g.prototype.getSubDataAdapterByMeasures=function(a){var b=new M();for(var i=0;i<this._aa.length;i++){b.addAnalysisAxis(this._aa[i])}var m=this._mg[0];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});b.addMeasureValuesGroup({index:1,values:c.makeMeasureValues(null,{"values":[m.values[a.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b};return g});define('sap/viz/modules/tablecontainer',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout','sap/viz/modules/util/DimensionalInfoHandler','sap/viz/data/handler/MultiChartDataHandler','sap/viz/modules/manifests/Module','sap/viz/data/MultiAxesDataAdapter','sap/viz/modules/dispatch','sap/viz/modules/util/BoundUtil','sap/viz/util/ignite','sap/viz/util/fn/createContext','sap/viz/modules/util/dataUtil'],function Setup(T,O,F,l,D,M,a,b,d,c,e,f,g){var r=function(h,k){var w=0,n=0,o=0,p=0,q={},s=h.props(null),t={},u={},v=[],x=[],y=null,z={},A={},B={},C=null,E=3,G=2,H=d3.scale.ordinal(),I=d3.scale.ordinal(),J=new d('initialized','showTooltip','hideTooltip'),K=0,L=0,N,P;var Q='multiLayout';var R=0;var S={dataLoading:true,dataUpdating:true,resizing:true};var U=true,V=false;var W='plotArea';function X(j){var m={};var _=(m[W]={});var x1=(_.animation={});O.extend(x1,S);if(!j&&V){x1.dataLoading=S.dataUpdating}var y1=A.plot;for(var i=0,z1=y1.length;i<z1;i++){y1[i].properties(m)}}function Y(){for(var i in t){if(t.hasOwnProperty(i)){delete t[i]}}}function Z(){if(T.isEmptyObject(z)){F.error('Container configuration missing')}$();K=0,L=0;b1(z,'xAxis',u.columnData);b1(z,'yAxis',u.rowData);b1(z,'xAxis2',u.columnData);b1(z,'yAxis2',u.rowData);d1();f1("plot");f1("xAxis2");f1("yAxis");g1();h1();L=L+K}function $(){delete u.contexts;delete u.columnData;delete u.rowData;delete u.dataHandler;var m=D({'numberOfDimensionsInColumn':s.numberOfDimensionsInColumn},y.getAnalysisAxisDataByIdx(0));m.process();var _=m.getRowDimensionData();var x1=m.getColumnDimensionData();var y1=m.getContexts();E=y1.length;G=E>0?y1[0].length:G;var z1=new b();z1.addAnalysisAxis({key:z1.key,index:0,values:x1.values});var A1=new b();A1.addAnalysisAxis({key:_.key,index:0,values:_.values});var B1;var C1;if(A1.getAnalysisAxisDataByIdx){B1=A1.getAnalysisAxisDataByIdx(0)}if(z1.getAnalysisAxisDataByIdx){C1=z1.getAnalysisAxisDataByIdx(0)}var i;var j;var D1=0;var E1=y1.length;if(E1>0){D1=y1[0].length}var F1=function(H1,I1){var i;for(i=0;i<H1.length;i++){H1[i].rows[I1].contexts=[]}};var G1=function(H1,I1,k){var i;for(i=0;i<H1.length;i++){H1[i].rows[I1].contexts.push(k)}};for(i=0;i<E1;i++){F1(B1.values,i);for(j=0;j<D1;j++){G1(B1.values,i,y1[i][j])}}for(i=0;i<D1;i++){if(C1.values.length>0){F1(C1.values,i);for(j=0;j<E1;j++){G1(C1.values,i,y1[j][i])}}}u.contexts=y1;u.columnData=z1;u.rowData=A1;u.dataHandler=new M(y)}function a1(i,j){if(i==='xAxis'||i==='yAxis'||i==='xAxis2'||i==='yAxis2'){if(j.hideTitleFirst===undefined){if(q.general&&q.general.layout&&q.general.layout.hideAxisTitleFirst!==undefined&&q.general.layout.hideAxisTitleFirst!==null){j.hideTitleFirst=q.general.layout.hideAxisTitleFirst}else{j.hideTitleFirst=true}}}}function b1(z,i,j){if(!z.modules[i]){return}var m=z.modules[i],_=A[i]=e(m.id,k,'v-m-'+i);c1(i,j);var x1={},y1,z1;if(m.configure){y1=q[m.configure.propertyCategory]||{};z1=m.configure.properties||{};O.extend(true,x1,z1,y1);a1(i,x1);_.properties(x1)}if(_.dispatch&&_.dispatch()['initialized']){L++;_.dispatch().on('initialized.tablecontainer',u1)}B[i]=C.append('g').attr('class','v-m-'+i)}function c1(i,j){if(A[i]){A[i].data(j)}}function d1(){var j=z.modules.plot;if(!j){return}i1();j1();var m=u.contexts;var _=A.plot=[],i=0;for(var x1=0;x1<G;x1++){for(var y1=0;y1<E;y1++){var z1=m[y1][x1];if(z1){if(!N||!P){N=a.get(j.id);P=f(N,k,"v-m-plot")}var A1=_[i]=e(N,P);A1.config(j);if(A1.dispatch){K++;var B1=A1.dispatch();if(B1.initialized){B1.on('initialized.tablecontainer',u1)}if(B1.showTooltip){B1.on('showTooltip.tablecontainer',v1)}if(B1.hideTooltip){B1.on('hideTooltip.tablecontainer',w1)}}++i}}}}function e1(){var j=A.plot;if(j){var m=z.modules.plot;if(!m){return}var _=null,x1,y1;var z1=m.configure;if(z1){y1={};if(z1.propertyCategory){y1[z1.propertyCategory]=z1.properties}x1=q;_={};O.extend(true,_,y1,x1)}else{_=q}for(var i=0,A1=j.length;i<A1;i++){if(_&&j[i]){j[i].properties(_)}}}}function f1(m){if(m==='plot'){e1()}else{var i=A[m];if(i){var j=z.modules[m];if(!j){return}var _;var x1=j.configure;if(x1){_=O.extend(true,{},q[x1.propertyCategory])}else{_=q}a1(m,_);i.properties(_)}}}function g1(){var j=u.dataHandler;var m=u.contexts;var _=A.plot,i=0;for(var x1=0;x1<G;x1++){for(var y1=0;y1<E;y1++){var z1=m[y1][x1];if(z1){var A1=j.getSubDataAdapter(z1);if(_[i]){_[i].data(A1);if(_[i].setRawData){_[i].setRawData(y)}++i}}}}}function h1(){var j=z.modules.plot;if(!j){return}var _=A.plot;var x1=B.plot=[];var y1=u.contexts;if(B.plotRoot){B.plotRoot.remove()}var z1=B.plotRoot=C.append('g').attr('class','v-m-plot');var i=0;for(var A1=0;A1<G;A1++){for(var B1=0;B1<E;B1++){var C1=y1[B1][A1];if(C1){var D1=_[i];x1[i]=z1.append('g').attr('class','v-m-plot'+i);D1.parent(x1[i]);if(D1.modules){var E1=D1.modules();g().updateAxisFormatString(E1,'xAxis',q,D1);g().updateAxisFormatString(E1,'yAxis',q,D1);g().updateAxisFormatString(E1,'xAxis2',q,D1);g().updateAxisFormatString(E1,'yAxis2',q,D1);var F1;for(var m in E1){if(E1.hasOwnProperty(m)){F1='plot['+i+']'+'.'+m;v.push(F1);A['plot['+i+']'+'.'+m]=E1[m]}}if(j.modules.rotate){var G1=e('sap.viz.modules.controller.rotate',k);A['plot['+i+']'+'.'+'rotate']=G1;A['plot['+i+']'+'.'+'rotate']().module(D1)}}++i}}}}function i1(){for(var i=0,j=x.length;i<j;i++){delete A[x[i]]}x=[]}function j1(){for(var i=0,j=v.length;i<j;i++){delete A[v[i]]}v=[];if(P){P.styleManager.cleanChildren()}}function k1(){var i=true;if(q.general&&q.general.layout&&q.general.layout.hideAxisTitleFirst!==undefined&&q.general.layout.hideAxisTitleFirst!==null){i=q.general.layout.hideAxisTitleFirst}return i}function l1(){if(T.isEmptyObject(A)||!w||!n){return}var j={};if(A.xAxis){A.xAxis.drawable(true);j.south={size:A.xAxis.getPreferredSize()}}if(A.yAxis){A.yAxis.drawable(true);j.west={size:A.yAxis.getPreferredSize()}}if(A.xAxis2){A.xAxis2.drawable(true);j.north={size:A.xAxis2.getPreferredSize()}}if(A.yAxis2){A.yAxis2.drawable(true);j.east={size:A.yAxis2.getPreferredSize()}}if(A.plot){j.center={}}var m=l({type:'border',bias:'none',size:{width:w,height:n},prefs:j,hideAxisTitleFirst:k1()});o=m.center.bounds.width;p=m.center.bounds.height;H.rangeBands([0,o]);I.rangeBands([0,p]);if(m.north){var _=m.north.bounds.width,x1=0;if(m.west){_-=m.west.bounds.width;x1=m.north.bounds.x+m.west.bounds.width}if(m.east){_-=m.east.bounds.width}B.xAxis2.attr('transform','translate('+x1+','+m.north.bounds.y+')');A.xAxis2.width(_).height(m.north.bounds.height);A.xAxis2.gridlineLength(m.center.bounds.height)}else if(A.xAxis2){A.xAxis2.drawable(false)}if(m.east){B.yAxis2.attr('transform','translate('+m.east.bounds.x+','+m.east.bounds.y+')');A.yAxis2.width(m.east.bounds.width).height(m.east.bounds.height);A.yAxis2.gridlineLength(m.center.bounds.width)}else if(A.yAxis2){A.yAxis2.drawable(false)}if(m.south){var y1=m.south.bounds.width,z1=0;if(m.west){y1=m.south.bounds.width-m.west.bounds.width;z1=m.south.bounds.x+m.west.bounds.width}if(m.east){y1=m.south.bounds.width-m.east.bounds.width}B.xAxis.attr('transform','translate('+z1+','+m.south.bounds.y+')');A.xAxis.width(y1).height(m.south.bounds.height);A.xAxis.gridlineLength(m.center.bounds.height)}else if(A.xAxis){A.xAxis.drawable(false)}if(m.west){B.yAxis.attr('transform','translate('+m.west.bounds.x+','+m.west.bounds.y+')');A.yAxis.width(m.west.bounds.width).height(m.west.bounds.height);A.yAxis.gridlineLength(m.center.bounds.width)}else if(A.yAxis){A.yAxis.drawable(false)}if(m.center){B.plotRoot.attr('transform','translate('+m.center.bounds.x+','+m.center.bounds.y+')');var A1=l({type:'table',bias:'none',size:{width:m.center.bounds.width,height:m.center.bounds.height},columns:G,rows:E,cellpadding:s.cellPadding,paddingThreshold:s.paddingThreshold,hideAxisTitleFirst:k1()});var i=0;var B1=u.contexts;for(var C1=0;C1<G;C1++){for(var D1=0;D1<E;D1++){var E1=B1[D1][C1];if(E1){var F1=A.plot[i];var G1=A1[C1][D1];var H1=B.plot[i];F1.width(G1.bounds.width).height(G1.bounds.height);H1.attr('transform','translate('+G1.bounds.x+','+G1.bounds.y+')');++i}}}}}function m1(j){return function(m){if(!arguments.length){return t[j]}else{if(!t[j]){t[j]=m}else{var _=t[j];if(m.distinctValuesObj){for(var i in m.distinctValuesObj){if(m.distinctValuesObj.hasOwnProperty(i)){_.distinctValuesObj[i]=m.distinctValuesObj[i]}}}if(m.min<_.min){_.min=m.min}if(m.max>_.max){_.max=m.max}if(m.hasNoValue){_.hasNoValue=true}}}}}function n1(j){for(var i=0,m=j.length;i<m;i++){r1[j[i]+'DataRange']=m1(j[i])}}function o1(i){q=i;if(q[W]){O.extend(S,q[W].animation)}if(i[Q]){if(i[Q].mergeDataRange){s.mergeDataRange=i[Q].mergeDataRange;n1(s.mergeDataRange)}var j=s.numberOfDimensionsInColumn;O.extend(true,s,i[Q]);if(A.plot&&j!==s.numberOfDimensionsInColumn){$();Y();c1('xAxis',u.columnData);c1('yAxis',u.rowData);c1('xAxis2',u.columnData);c1('yAxis2',u.rowData);g1()}}}function p1(){var j=[];for(var i=0;i<G;i++){j.push(i)}var m=A.xAxis?A.xAxis:A.xAxis2;H.domain(j).rangeBands([0,o])}function q1(){var j=[];for(var i=0;i<E;i++){j.push(i)}var m=A.yAxis?A.yAxis:A.yAxis2;I.domain(j).rangeBands([0,p])}function r1(i){l1();i.each(function(y){if(!U&&V){X()}R=0;C=i;c.drawBound(i,w,n);if(B.plotRoot){c.drawBound(B.plotRoot,o,p)}if(T.isEmptyObject(A)){Z()}t1();if(!U&&V){X(true)}});U=false,V=false;return r1}r1.width=function(_){if(!arguments.length){return w}w=_;Y();l1();return r1};r1.height=function(_){if(!arguments.length){return n}n=_;Y();l1();return r1};r1.size=function(_){if(!arguments.length){return{'width':w,'height':n}}n=_.height;w=_.width;Y();l1();return r1};r1.data=function(_){if(!arguments.length){return y}V=true;var i=false;if(!g().hasSameSchema(y,_)){i=true}y=_;Y();if(!T.isEmptyObject(A)){$();if(i){L=L-K;c1('xAxis',u.columnData);c1('yAxis',u.rowData);c1('xAxis2',u.columnData);c1('yAxis2',u.rowData);K=0;d1();f1("plot");f1("xAxis2");f1("yAxis");g1();h1();L=L+K}else{c1('xAxis',u.columnData);c1('yAxis',u.rowData);c1('xAxis2',u.columnData);c1('yAxis2',u.rowData);g1()}}return r1};r1.properties=function(_){if(!arguments.length){return s}if(!T.isEmptyObject(_)){o1(_)}if(!T.isEmptyObject(A)){f1("plot");f1("xAxis2");f1("yAxis")}return r1};r1.config=function(_){if(!arguments.length){return z}z=_;return r1};r1.xCategoryScale=function(_){if(!arguments.length){p1();return H}H=_;return r1};r1.yCategoryScale=function(_){if(!arguments.length){q1();return I}I=_;return r1};r1.modules=function(_){if(!arguments.length){if(T.isEmptyObject(A)){Z()}return A}A=_;return r1};r1.parent=function(_){if(!arguments.length){return C}C=_;return r1};r1.dispatch=function(_){if(!arguments.length){return J}J=_;return r1};r1.infoForSizeLegend=function(){var m;for(var i=-1,j=A.plot.length;++i<j;){m=A.plot[i];if(m){break}}return{space:m?(w-o+m.infoForSizeLegend().space*G):0,number:G,plotHeight:m?m.height():0}};r1.plotRegion=function(){return{selection:B.plotRoot,width:o,height:p}};r1.getPropertyZone=function(){var i=[];var j=B['plotRoot'].select('.v-bound').node().getBoundingClientRect();var m=[[]];m[0].push([j.left,j.top]);m[0].push([j.right,j.top]);m[0].push([j.right,j.bottom]);m[0].push([j.left,j.bottom]);i.push({name:'mainPlot',bound:m});return i};r1.destroy=function(){if(H){H.domain([0,1]).range([0,1])}if(I){I.domain([0,1]).range([0,1])}H=null;I=null;A=null;y=null;if(k){k.destroy();k=null}};function s1(i){if(B[i]){C.select('.v-m-'+i).datum(A[i].data()).call(A[i])}}function t1(){s1('xAxis');s1('xAxis2');s1('yAxis');s1('yAxis2');if(B.plot){for(var i=0,j=B.plot.length;i<j;i++){if(B.plot[i]){B.plot[i].datum(A.plot[i].data()).call(A.plot[i])}}}}function u1(){if(++R===L){R=0;J.initialized()}}function v1(i){J.showTooltip(i)}function w1(i){J.hideTooltip(i)}return r1};return r});define('sap/viz/modules/manifests/TableContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/tablecontainer','sap/viz/data/feed/Constants'],function Setup(M,m,f,a){var b={'id':'multiplier','name':'Chart Multiplier','type':a.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':0};var c={'id':'sap.viz.modules.tablecontainer','type':m.Type.Container,'name':'table container','description':'Settings for the subcharts layout of multiple charts.','properties':{'mergeDataRange':{'name':'mergeDataRange','supportedValueType':'String','supportedValues':['ANY DATA RANGE NAME'],'defaultValue':null,'description':'Set the mergeDataRange. Specify the names of the data ranges that you want to merge. A corresponding function will be generated in this module to do the real merge. For example, if \'primary\' and \'secondary\' are specified here, two functions will be generated: \'primaryDataRange\' and \'secondaryDataRange\'. Note that the names of the functions are the same as the names of the data ranges, but with \'DataRange\' appended to the end. These generated functions support both getter and setter. You can pass any number of ranges {min:NUM, max:NUM} to the setter for the setter to merge. Then you can get the merged result from the getter.','isExported':false},'numberOfDimensionsInColumn':{'name':'numberOfDimensionsInColumn','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set the number of dimensions that are retrieved from the end of the dimension list in the multiplier, and are put in the column when making a layout of multiple charts.'},'cellPadding':{'name':'cellPadding','supportedValueType':'PositiveInt','defaultValue':15,'description':"Set the value for padding between the cells of sub plots. If the cellPadding value exceeds the containerSize * threshold, it defaults to '2'."},'paddingThreshold':{'name':'paddingThreshold','supportedValueType':'Number','defaultValue':0.2,'description':"Set the paddingThreshold. If the cellPadding value exceeds the containerSize * threshold, it defaults to '0'.",'isExported':false}},'events':{'showTooltip':m.Event.TooltipShow.desc,'hideTooltip':m.Event.TooltipHide.desc},'css':null,'feeds':[b],'fn':f};var d={viz:[],module:[c],feeds:[]};return d});define('sap/viz/manifests/BaseMultipleChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Background','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/chart/elements/manifests/Tooltip'],function Setup(M,B,R,X,T,A,a,I,b){var m={id:'riv/base/multiple',name:'IDS_BASEMULTIPLECHART',isBuiltIn:true,base:'riv/base','abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart']},propertiesOverride:{pan:{isExported:false}}}},main:{id:'sap.viz.modules.tablecontainer',configure:{propertyCategory:'multiLayout',properties:{layout:{position:'center',priority:10}}},modules:{xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the column axis of multiple charts',propertyCategory:'columnAxis',properties:{title:{visible:false},gridline:{visible:true},color:'#d8d8d8',type:'category',position:'top'},propertiesOverride:{label:{isExported:true},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the row axis of multiple charts',propertyCategory:'rowAxis',properties:{type:'category',position:'left',title:{visible:false},color:'#d8d8d8',gridline:{visible:true}},propertiesOverride:{label:{isExported:true},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:'sap.viz.modules.xycontainer'}}}}}}};var c={viz:[m].concat(B.viz),module:[].concat(B.module,R.module,X.module,T.module,A.module,a.module,I.module,b.module),feeds:[].concat(B.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds)};return c});define('sap/viz/manifests/BaseMultipleXYChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/manifests/BaseMultipleChart','sap/viz/chart/elements/manifests/Tooltip'],function Setup(M,B,R,X,T,A,a,b){var m={id:'riv/base/multiple/xy',name:'IDS_BASEMULTIPLEXYCHART',isBuiltIn:true,base:'riv/base/multiple','abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip'}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:false},secondaryValuesColorPalette:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}}}};var c={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,R.module,X.module,T.module,A.module,b.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,b.feeds)};return c});define('sap/viz/manifests/MultiAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,B,R,X,T,A,a,b,c,I){var m={id:'viz/multi_area',name:'IDS_MULTIAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple/xy',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction'}},main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{description:'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{title:{visible:false},gridline:{visible:false},type:'category',position:'bottom',isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'vertical',automaticInOutside:false,outsidePosition:'down'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'}]}};var d={viz:[m].concat(B.viz,b.viz,c.viz),module:[].concat(B.module,b.module,c.module,R.module,X.module,T.module,A.module,a.module,I.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds,I.feeds)};return d});define('sap/viz/impls/MultiAreaChart',['sap/viz/manifests/MultiAreaChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Bar','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/chart/elements/manifests/Tooltip'],function Setup(M,B,R,X,T,A,a,I,b,c,d){var m={id:'viz/multi_bar',name:'IDS_MULTIBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple/xy',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:'bar',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'horizontal',outsidePosition:'right'}}},xAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{title:{visible:false},type:'value',position:'bottom'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{description:'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:'sap.viz.modules.bar',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'}]}};var e={viz:[m].concat(B.viz,b.viz,c.viz),module:[].concat(B.module,b.module,c.module,R.module,X.module,T.module,A.module,a.module,I.module,d.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds,I.feeds)};return e});define('sap/viz/impls/MultiBarChart',['sap/viz/manifests/MultiBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/modules/manifests/Scatter',['sap/viz/modules/manifests/Module','sap/viz/modules/manifests/Bubble'],function Setup(M,B){var m={'id':'sap.viz.modules.scatter',base:'sap.viz.modules.bubble','name':'scatter','properties':{'markerSize':{'name':'markerSize','supportedValueType':'PositiveInt','defaultValue':"10",'description':"Set the marker size for data points. The available range is from '4' to '32'."},'minMarkerSize':null,'maxBubbleWidth':null,'minBubbleWidth':null,'maxBubbleHeight':null,'minBubbleHeight':null},'feeds':{configure:{bubbleWidth:null,bubbleHeight:null}}};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/MultiScatterChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Scatter','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart'],function Setup(M,B,R,X,T,A,S,a,b){var m={id:'viz/multi_scatter',name:'IDS_MULTISCATTERCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple/xy',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:'BubbleColorLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{configure:{properties:{chartType:'scatter',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:"main",propertyCategory:'interaction'}},main:{configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the x axis of a normal bubble or scatter plot',propertyCategory:'xAxis',properties:{title:{visible:false},type:'value',position:'bottom'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:false,orientation:'vertical',position:'outside',outsideVisible:true}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the y axis of a normal bubble or scatter plot',propertyCategory:'yAxis',properties:{title:{visible:false},type:'value',position:'left'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}},plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'valueAxis1DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main',source:'valueAxis1DataRange'},{targetModule:'root.main',target:'valueAxis2DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main',source:'valueAxis2DataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis1Scale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis1Title'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis2Scale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis2Title'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'}]}};var c={viz:[m].concat(B.viz,a.viz,b.viz),module:[].concat(B.module,a.module,b.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return c});define('sap/viz/manifests/MultiBubbleChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Scatter','sap/viz/manifests/MultiScatterChart'],function Setup(M,B,R,X,T,A,S,a){var m={id:'viz/multi_bubble',name:'IDS_MULTIBUBBLECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_scatter',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{layout:{order:1}},propertiesOverride:{isHierarchical:{isExported:false}}}},sizeLegend:{id:'sap.viz.modules.legend.common',configure:{description:'Settings for the size legend.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend',layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false}}}}}},tooltip:{configure:{properties:{chartType:'bubble',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2','bubbleWidth','bubbleHeight']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:true,position:'inside'}}},plot:{id:'sap.viz.modules.bubble',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{showNegativeValues:{isExported:true}}}}}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'valueAxis1DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main',source:'valueAxis1DataRange'},{targetModule:'root.main',target:'valueAxis2DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main',source:'valueAxis2DataRange'},{targetModule:'root.main',target:'bubbleWidthDataRange',sourceModule:'root.main.plot.plot',source:'bubbleWidthDataRange'},{targetModule:'root.main.plot.plot',target:'bubbleWidthDataRange',sourceModule:'root.main',source:'bubbleWidthDataRange'},{targetModule:'root.main',target:'bubbleHeightDataRange',sourceModule:'root.main.plot.plot',source:'bubbleHeightDataRange'},{targetModule:'root.main.plot.plot',target:'bubbleHeightDataRange',sourceModule:'root.main',source:'bubbleHeightDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis1Scale'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis2Scale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis1Title'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis2Title'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'},{targetModule:'root.legends.sizeLegend',target:'sizeLegendInfo',sourceModule:'root.main.plot.plot',source:'sizeLegend'}]}};var b={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return b});define('sap/viz/impls/MultiBubbleChart',['sap/viz/manifests/MultiBubbleChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiPieChart',['sap/viz/manifests/Viz','sap/viz/data/feed/Constants','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Pie','sap/viz/manifests/BaseMultipleChart','sap/viz/chart/elements/manifests/Tooltip'],function Setup(M,c,I,R,B,X,T,A,P,a,b){var m={id:'viz/multi_pie',name:'IDS_MULTIPIECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2]}}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:"main",propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart'],holdSelection:true}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip'}},main:{configure:{properties:{'cellPadding':5}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{valign:"center"}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'polarCoordinate',visible:false,formatString:[['0.00%'],[]],automaticInOutside:false,outsideVisible:true,type:'label and value'}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:c.Constraints.INF}},dependencies:{attributes:[{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main',type:'initialized.defaultSelection'}]}};var d={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,I.module,R.module,X.module,T.module,A.module,P.module,b.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,P.feeds)};return d});define('sap/viz/manifests/MultiDonutChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Pie','sap/viz/manifests/MultiPieChart'],function Setup(M,B,R,X,T,A,P,a){var m={id:'viz/multi_donut',name:'IDS_MULTIDONUTCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_pie',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{'isDonut':true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isDonut:true}}}}}}}}}}};var b={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,R.module,X.module,T.module,A.module,P.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,P.feeds)};return b});define('sap/viz/impls/MultiDonutChart',['sap/viz/manifests/MultiDonutChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiPieWithDepthChart',['sap/viz/manifests/Viz','sap/viz/data/feed/Constants','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/PieWithDepth','sap/viz/manifests/BaseMultipleChart'],function Setup(M,c,R,B,X,T,A,P,a){var m={id:'viz/multi_pie_with_depth',name:'IDS_MULTIPIEWITHDEPTHCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2]}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{selectability:{mode:'inclusive'},preserveSelectionWhenDragging:true}}},main:{configure:{properties:{'cellPadding':5,'mergeDataRange':['height']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.piewithdepth',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{valign:"center"}}}}}}}}}},feeds:{multiplier:{acceptMND:-1,max:2}},dependencies:{attributes:[{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'},{targetModule:'root.main',target:'heightDataRange',sourceModule:'root.main.plot.plot',source:'heightDataRange'},{targetModule:'root.main.plot.plot',target:'heightDataRange',sourceModule:'root.main',source:'heightDataRange'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'}]}};var b={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,R.module,X.module,T.module,A.module,P.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,P.feeds)};return b});define('sap/viz/manifests/MultiDonutWithDepthChart',['sap/viz/manifests/Viz','sap/viz/data/feed/Constants','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/PieWithDepth','sap/viz/manifests/MultiPieWithDepthChart'],function Setup(M,c,R,B,X,T,A,P,a){var m={id:'viz/multi_donut_with_depth',name:'IDS_MULTIDONUTWITHDEPTHCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_pie_with_depth',modules:{root:{modules:{main:{configure:{properties:{'cellPadding':5}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.piewithdepth',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{valign:"center",isDonut:true}}}}}}}}}}};var b={viz:[m].concat(B.viz,a.viz),module:[].concat(B.module,a.module,R.module,X.module,T.module,A.module,P.module),feeds:[].concat(B.feeds,a.feeds,R.feeds,X.feeds,T.feeds,A.feeds,P.feeds)};return b});define('sap/viz/impls/MultiDonutWithDepthChart',['sap/viz/manifests/MultiDonutWithDepthChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiDualBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Bar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiBarChart'],function Setup(M,B,R,X,T,A,a,b,c,d){var m={id:'viz/multi_dual_bar',name:'IDS_MULTIDUALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_bar',modules:{root:{modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis on the left or bottom side of an XY chart with two value axes'}},xAxis2:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'xAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'top'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis2',source:'range'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.plot.xAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'secondScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot.xAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.plot.xAxis',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}]}};var e={viz:[m].concat(B.viz,b.viz,c.viz,d.viz),module:[].concat(B.module,b.module,c.module,d.module,R.module,X.module,T.module,A.module,a.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,d.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds)};return e});define('sap/viz/impls/MultiDualBarChart',['sap/viz/manifests/MultiDualBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Line','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,B,X,T,A,L,a,b,I){var m={id:'viz/multi_line',name:'IDS_MULTILINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple/xy',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction'}},main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{isKeepFirstAndLastLabel:true,title:{visible:false},gridline:{visible:false},type:'category',position:'bottom'},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'vertical',outsidePosition:'up',positionPreference:true}}},plot:{id:'sap.viz.modules.line',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'vertical'}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'}]}};var c={viz:[m].concat(B.viz,a.viz,b.viz),module:[].concat(B.module,a.module,b.module,X.module,T.module,A.module,L.module,I.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,X.feeds,T.feeds,A.feeds,L.feeds,I.feeds)};return c});define('sap/viz/manifests/MultiHorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/HorizontalLine','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/MultiLineChart'],function Setup(M,B,X,T,A,H,a,b){var m={id:'viz/multi_horizontal_line',name:'IDS_MULTIHORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_line',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},xAxis:{id:'sap.viz.modules.axis',data:null,configure:{'description':'Settings for the value axis of an XY chart',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',properties:{isKeepFirstAndLastLabel:true,type:'category',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'horizontal',outsidePosition:'right',positionPreference:true}}},plot:{id:'sap.viz.modules.horizontalline',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'horizontal'}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'}]}};var c={viz:[m].concat(B.viz,a.viz,b.viz),module:[].concat(B.module,a.module,b.module,X.module,T.module,A.module,H.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,X.feeds,T.feeds,A.feeds,H.feeds)};return c});define('sap/viz/manifests/MultiDualHorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Line','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiHorizontalLineChart'],function Setup(M,B,X,T,A,L,a,b,c){var m={id:'viz/multi_dual_horizontal_line',name:'IDS_MULTIDUALHORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_horizontal_line',modules:{root:{modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{properties:{orientation:'horizontal'},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis on the left or bottom side of an XY chart with two value axes'}},xAxis2:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'xAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'top'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1,max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis2',source:'range'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.plot.xAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'secondaryScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot.xAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.plot.xAxis',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,X.module,T.module,A.module,L.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,X.feeds,T.feeds,A.feeds,L.feeds)};return d});define('sap/viz/impls/MultiDualHorizontalLineChart',['sap/viz/manifests/MultiDualHorizontalLineChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiDualLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Line','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiLineChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,B,R,X,T,A,L,a,b,c,I){var m={id:'viz/multi_dual_line',name:'IDS_MULTIDUALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_line',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction'}},main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{modules:{plot:{configure:{properties:{orientation:'vertical'},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{description:'Settings for the value axis on the left or bottom side of an XY chart with two value axes'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'right'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1,max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main.plot.yAxis2',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.yAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'secondaryScale'},{targetModule:'root.main.plot.yAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot.yAxis',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.plot.yAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,L.module,I.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,L.feeds,I.feeds)};return d});define('sap/viz/impls/MultiDualLineChart',['sap/viz/manifests/MultiDualLineChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiDualStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiDualBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_dual_stacked_bar',name:'IDS_MULTIDUALSTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_dual_bar',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/manifests/MultiDualPercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiDualStackedBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_100_dual_stacked_bar',name:'IDS_MULTIDUALPERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_dual_stacked_bar',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/impls/MultiDualPercentageStackedBarChart',['sap/viz/manifests/MultiDualPercentageStackedBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiBarChart'],function Setup(M,B,R,X,T,A,V,a,b,c){var m={id:'viz/multi_column',name:'IDS_MULTIVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_bar',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'verticalbar',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{holdSelection:true}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'vertical',outsidePosition:'up'}}},xAxis:{data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',properties:{type:'category',gridline:{visible:false},isKeepFirstAndLastLabel:true},propertiesOverride:{gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},yAxis:{data:null,configure:{'description':'Settings for the value axis of an XY chart',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,V.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,V.feeds)};return d});define('sap/viz/manifests/MultiDualVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiVerticalBarChart'],function Setup(M,B,R,X,T,A,V,a,b,c){var m={id:'viz/multi_dual_column',name:'IDS_MULTIDUALVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_column',modules:{root:{modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the left or bottom side of an XY chart with two value axes'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'right'},propertiesOverride:{title:{visible:{isExported:true}},label:{hideSubLevels:{isExported:false}}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main.plot.yAxis2',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.yAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'secondScale'},{targetModule:'root.main.plot.yAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot.yAxis',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.plot.yAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,V.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,V.feeds)};return d});define('sap/viz/manifests/MultiDualStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiDualVerticalBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_dual_stacked_column',name:'IDS_MULTIDUALSTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_dual_column',modules:{root:{modules:{main:{modules:{plot:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/manifests/MultiDualPercentageStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiDualStackedVerticalBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_100_dual_stacked_column',name:'IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_dual_stacked_column',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/impls/MultiDualPercentageStackedVerticalBarChart',['sap/viz/manifests/MultiDualPercentageStackedVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiDualStackedBarChart',['sap/viz/manifests/MultiDualStackedBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiDualStackedVerticalBarChart',['sap/viz/manifests/MultiDualStackedVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiDualVerticalBarChart',['sap/viz/manifests/MultiDualVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiHorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/MultiAreaChart'],function Setup(M,B,X,T,A,a,b,c){var m={id:'viz/multi_horizontal_area',name:'IDS_MULTIHORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_area',modules:{root:{modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},xAxis:{id:'sap.viz.modules.axis',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{gridline:{visible:true},type:'value',position:'bottom'},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:true},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:true},unitFormatType:{isExported:true},hideSubLevels:{isExported:false}},axisline:{isExported:true},scale:{fixedRange:{isExported:true},minValue:{isExported:true},maxValue:{isExported:true},isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the catetory axis of an XY chart',propertyCategory:'yAxis',properties:{gridline:{visible:false},type:'category',position:'left',isKeepFirstAndLastLabel:true},propertiesOverride:{title:{visible:{isExported:true}},gridline:{isExported:false},label:{visible:{isExported:true},numberFormat:{isExported:false},formatString:{isExported:false},unitFormatType:{isExported:false},hideSubLevels:{isExported:true}},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'horizontal',automaticInOutside:false,outsidePosition:'left'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'horizontal'}}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'}]}};var d={viz:[m].concat(B.viz,b.viz,c.viz),module:[].concat(B.module,b.module,c.module,X.module,T.module,A.module,a.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,X.feeds,T.feeds,A.feeds,a.feeds)};return d});define('sap/viz/impls/MultiHorizontalAreaChart',['sap/viz/manifests/MultiHorizontalAreaChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiHorizontalLineChart',['sap/viz/manifests/MultiHorizontalLineChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiLineChart',['sap/viz/manifests/MultiLineChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiPercentageAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/manifests/MultiAreaChart'],function Setup(M,B,R,X,T,A,a,b,c,I,d){var m={id:'viz/multi_100_area',name:'IDS_MULTIPERCENTAGEAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_area',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},tooltip:{configure:{properties:{chartType:'line',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:"percentage"}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}}}}}}}};var e={viz:[m].concat(B.viz,b.viz,c.viz,d.viz),module:[].concat(B.module,b.module,c.module,d.module,R.module,X.module,T.module,A.module,a.module,I.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,d.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds,I.feeds)};return e});define('sap/viz/impls/MultiPercentageAreaChart',['sap/viz/manifests/MultiPercentageAreaChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiPercentageHorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/Area','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/MultiHorizontalAreaChart'],function Setup(M,B,R,X,T,A,a,b,c){var m={id:'viz/multi_100_horizontal_area',name:'IDS_MULTIPERCENTAGEHORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_horizontal_area',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage'}}}}}}}}}}};var d={viz:[m].concat(B.viz,b.viz,c.viz),module:[].concat(B.module,b.module,c.module,R.module,X.module,T.module,A.module,a.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds)};return d});define('sap/viz/impls/MultiPercentageHorizontalAreaChart',['sap/viz/manifests/MultiPercentageHorizontalAreaChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_stacked_bar',name:'IDS_MULTISTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_bar',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/manifests/MultiPercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiStackedBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_100_stacked_bar',name:'IDS_MULTIPERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_stacked_bar',feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/impls/MultiPercentageStackedBarChart',['sap/viz/manifests/MultiPercentageStackedBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/manifests/MultiStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiVerticalBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_stacked_column',name:'IDS_MULTISTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_column',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null,regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}]}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/manifests/MultiPercentageStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/manifests/MultiStackedVerticalBarChart'],function Setup(M,B,R,X,T,A,S,a,b,c){var m={id:'viz/multi_100_stacked_column',name:'IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/multi_stacked_column',feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};var d={viz:[m].concat(B.viz,a.viz,b.viz,c.viz),module:[].concat(B.module,a.module,b.module,c.module,R.module,X.module,T.module,A.module,S.module),feeds:[].concat(B.feeds,a.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,S.feeds)};return d});define('sap/viz/impls/MultiPercentageStackedVerticalBarChart',['sap/viz/manifests/MultiPercentageStackedVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiPieChart',['sap/viz/manifests/MultiPieChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiPieWithDepthChart',['sap/viz/manifests/MultiPieWithDepthChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/modules/axis',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/dispatch','sap/viz/modules/axis/regularAxis'],function Setup(o,B,d,r){var a=function(m,c){a.superclass.constructor.apply(this,arguments);this._axis_regularAxisModule=r(m,c);a.prototype.initCustomFunList(a);a.prototype.initRegularAxis(this._axis_regularAxisModule,a)};a.prototype.initCustomFunList=function(){if(a.prototype._axis_customFunList){return}else{a.prototype._axis_customFunList=[];var p;for(p in this){if(this.hasOwnProperty(p)){if(typeof(this[p])==="function"){a.prototype._axis_customFunList.push(p)}}}}};a.prototype.initRegularAxis=function(r,s){var p;for(p in r){if(r.hasOwnProperty(p)){if(typeof(r[p])==="function"){if(a.prototype._axis_customFunList&&a.prototype._axis_customFunList.indexOf(p)<0){s.prototype[p]=r[p]}}}}};o.extend(a,B);a.prototype.render=function(s){return this._axis_regularAxisModule(s)};return a});define('sap/viz/modules/radar',['sap/viz/base/utils/oo','sap/viz/modules/Base','jquery','sap/viz/base/utils/TypeUtils','sap/viz/util/TextUtils','sap/viz/modules/dispatch','sap/viz/modules/axis','sap/viz/util/ColorSeriesGenerator','sap/viz/util/ShapeSeriesGenerator','sap/viz/util/Scaler','sap/viz/modules/manifests/Module','sap/viz/util/DrawUtil','sap/viz/lang/langManager','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants','sap/viz/modules/util/selectionUtil'],function Setup(o,B,$,T,c,e,f,C,S,g,h,D,l,t,O,k,m,p,s){function q(d){d.attr("stroke",F.params.stroke.invisible);A(d,'straight')}function u(d){d.attr("stroke-width",this._rdr_properties.line.width);A(d,'straight')}function v(d){d.attr("stroke",F.params.stroke.heavy).attr("stroke-width",F.params.weight.hover).attr("opacity",F.params.opacity.natural);A(d,'highlight')}function z(d){d.attr("stroke-width",F.params.weight.hover).attr("opacity",F.params.opacity.natural);A(d,'highlight')}function A(d,a){var b=d.attr('class');var i=b.indexOf(J);if(i>=0){switch(a){case'hover':d.attr('class',b.substring(0,i)+M+" "+I);break;case'highlight':d.attr('class',b.substring(0,i)+M+" "+H);break;case'straight':d.attr('class',b.substring(0,i)+M);break}}}function E(a,d,b){if(d.length===b){F.highlight2.call(this,U.dot+a,true)}else{F.highlight.call(this,d)}}var F={};F.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{hover:"2px",selected:"1px",natural:"0px"},opacity:{natural:1,low:0.4}};F.dim=function(){if(!arguments.length){this._rdr_radar.node.selectAll(U.dot+R.line.clazz).attr("opacity",F.params.opacity.low);this._rdr_radar.node.selectAll(U.dot+R.marker.clazz).attr("fill-opacity",F.params.opacity.low)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",F.params.opacity.low)}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).attr("opacity",F.params.opacity.low)}else{this._rdr_radar.node.select(arguments[0]).attr("opacity",F.params.opacity.low)}return F};F.bright=function(){if(!arguments.length){this._rdr_radar.node.selectAll(U.dot+R.line.clazz).attr("opacity",F.params.opacity.natural);this._rdr_radar.node.selectAll(U.dot+R.marker.clazz).attr("fill-opacity",F.params.opacity.natural)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",F.params.opacity.natural)}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).attr("opacity",F.params.opacity.natural)}else{this._rdr_radar.node.select(arguments[0]).attr("opacity",F.params.opacity.natural)}return F};F.straight=function(){var a=this;if(!arguments.length){this._rdr_radar.node.selectAll(U.dot+R.marker.clazz).each(function(){q.call(a,d3.select(this))})}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){q.call(this,d3.select(arguments[0][i]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){q.call(a,d3.select(this))})}else{q.call(this,this._rdr_radar.node.select(arguments[0]))}return F};F.straight2=function(){var a=this;if(!arguments.length){this._rdr_radar.node.selectAll(U.dot+R.marker.clazz).each(function(){u.call(a,d3.select(this))})}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){u.call(this,d3.select(arguments[0][i]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){u.call(a,d3.select(this))})}else{u.call(this,this._rdr_radar.node.select(arguments[0]))}return F};F.highlight=function(){if(!arguments.length){return}if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){v(d3.select(arguments[0][i]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){v(d3.select(this))})}else{v(this._rdr_radar.node.select(arguments[0]))}return F};F.highlight2=function(){if(!arguments.length){return}if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){z(d3.select(arguments[0][i]))}}else if(arguments[1]){this._rdr_radar.node.selectAll(arguments[0]).each(function(){z(d3.select(this))})}else{z(this._rdr_radar.node.select(arguments[0]))}return F};var G=function(a,b){return c.fastMeasure(a,b["font-size"]||b.fontSize,b["font-weight"]||b.fontWeight,b["font-family"]||b.fontFamily)};var H="v-datapoint-selected",I="v-datapoint-hover",J="v-datapoint",K=p.CSS.CLASS.MORPHABLELINE,L=p.CSS.CLASS.MORPHABLEDATAPOINT;var M=J+' '+L;var P="#cccccc";var Q="#808080";var R={spacing:{hgap:5,vgap:5},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"v-dataline",width:2},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:J,css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};var U={dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "};var V={dataline:{weight:[1,7]},marker:{size:[4,32]}};var W=7;var X=function(a,b){X.superclass.constructor.apply(this,arguments);this._rdr_width=0;this._rdr_height=0;this._rdr_data={};this._rdr_properties=a.props(null);this._rdr_parent=undefined;this._rdr_radar={clazz:"v-spiderweb",node:null,color:C.sap32(),shape:S.sapShapes(),radiusLength:0,radians:[],series:[],categories:[],title:{node:null,name:"v-polar-axis-title",width:0,height:0,customization:false},labels:{},locked:false};this._rdr_valueaxis={clazz:"v-valueaxis",anchor:{x:0,y:0},ref:h.get('sap.viz.modules.axis').execute(b),node:null,width:0,height:0,customization:false,scale:{customization:false,minValue:undefined,maxValue:undefined}};this._rdr_yscale=undefined;this._rdr_colorPalette=[];this._rdr_shapePalette=[];this._rdr_container=null;this._rdr_selections={};this._rdr_effectManager=b.effectManager;this._rdr_styleManager=b.styleManager;this._rdr_hasDefaultSelection=false;this._rdr_eDispatch=e("selectData","deselectData","showTooltip","hideTooltip","initialized",'startToInit')};o.extend(X,B);X.prototype.applyFormatConditions=function(a,b,d,j){var n=function(r,w){var i;for(i=0;i<r.length;i++){var x={drawingEffect:j._rdr_properties.drawingEffect,fillColor:w.color,direction:"vertical",graphType:d3.select(r[i]).data()[0].shape};var y=j._rdr_effectManager.register(x);r[i].setAttribute('fill',y)}};s.applyConditons(a,b,d,n)};X.prototype.render=function(w){k.drawBound(w,this._rdr_width,this._rdr_height);this._rdr_eDispatch.startToInit();var N=this;w.each(function(Y){N._rdr_parent=d3.select(this);N._rdr_valueaxis.ref.drawable(true);N._rdr_valueaxis.node=null;N._rdr_radar.node=null;N._rdr_radar.radiusLength=0;N._rdr_container=N._rdr_parent;N._rdr_parent.select(U.dot.concat(N._rdr_valueaxis.clazz)).remove();N._rdr_parent.select(U.dot.concat(N._rdr_radar.clazz)).remove();N._rdr_parent.select(U.dot+N._rdr_radar.title.name).remove();N._rdr_valueaxis.node=N._rdr_parent.append("g").attr("class",N._rdr_valueaxis.clazz);N._rdr_radar.node=N._rdr_parent.append("g").attr("class",N._rdr_radar.clazz+' v-datashapesgroup');N._rdr_radar.title.node=N._rdr_parent.append("text").attr("class",N._rdr_radar.title.name);R.valueaxis.title.css.def=N._rdr_styleManager.query(R.valueaxis.title.css.key);R.polaraxis.labels.css.def=N._rdr_styleManager.query(R.polaraxis.labels.css.key);R.polaraxis.title.css.def=N._rdr_styleManager.query(R.polaraxis.title.css.key);var Z,a1,b1,r,i,j,c1={},d1=N._rdr_radar.categories,e1=N._rdr_radar.series,f1=R.spacing.hgap,g1=R.spacing.vgap,h1=(N._rdr_radar.radians=[]);if(!N._rdr_radar.locked){N._rdrfn_rescale(N)}var ls=[];for(i=0;i<d1.length;i++){ls.push(G(d1[i].val,R.polaraxis.labels.css.def))}a1=d3.max(ls,function(_){return _.width});b1=d3.max(ls,function(_){return _.height});var j1={label:{visible:true,formatString:N._rdr_properties.valueAxis.label.formatString},title:{visible:N._rdr_properties.valueAxis.title.visible,text:N._rdr_properties.valueAxis.title.text},scale:{fixedRange:N._rdr_properties.valueAxis.scale.fixedRange,minValue:N._rdr_properties.valueAxis.scale.minValue,maxValue:N._rdr_properties.valueAxis.scale.maxValue},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}};N._rdr_yscale.domain([N._rdr_radar.min,N._rdr_radar.max]).range([200,0]);if(!N._rdr_radar.locked&&!N._rdr_radar.manualRange){g.perfect(N._rdr_yscale)}if(N._rdr_properties.valueAxis.gridline&&N._rdr_properties.valueAxis.gridline.color){j1.gridline.color=N._rdr_properties.valueAxis.gridline.color}N._rdr_valueaxis.ref.scale(N._rdr_yscale).properties(j1);var k1=N._rdr_valueaxis.ref.getPreferredSize();N._rdr_valueaxis.width=N._rdr_properties.valueAxis.visible?k1.width:0;N._rdr_valueaxis.height=N._rdr_properties.valueAxis.visible?k1.height:0;if(N._rdr_valueaxis.width>0.5*N._rdr_width){N._rdr_valueaxis.width=0}N._rdrfn_arrange({valueaxis:N._rdr_valueaxis.width,lblW:a1,lblH:b1,title:{width:G(N._rdr_properties.polarAxis.title.visible?N._rdr_properties.polarAxis.title.text:0,R.polaraxis.title.css.def).width,height:G(N._rdr_properties.polarAxis.title.visible?N._rdr_properties.polarAxis.title.text:0,R.polaraxis.title.css.def).height}});if(N._rdr_properties.polarAxis.title.visible&&N._rdr_radar.title.width&&N._rdr_radar.title.height){N._rdr_radar.title.node.text(N._rdr_properties.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle");N._rdr_styleManager.queryDefault(N._rdr_radar.title.name).toAttrs(N._rdr_radar.title.node)}N._rdr_yscale.range([N._rdr_radar.radiusLength,0]);if(!j1.scale.fixedRange){g.perfect(N._rdr_yscale)}N._rdr_valueaxis.ref.scale(N._rdr_yscale);if(N._rdr_properties.valueAxis.visible&&N._rdr_valueaxis.width){k1=N._rdr_valueaxis.ref.getPreferredSize();N._rdr_valueaxis.width=k1.width;N._rdrfn_arrange({valueaxis:N._rdr_valueaxis.width,lblW:a1,lblH:b1,title:{width:G(N._rdr_properties.polarAxis.title.visible?N._rdr_properties.polarAxis.title.text:0,R.polaraxis.title.css.def).width,height:G(N._rdr_properties.polarAxis.title.visible?N._rdr_properties.polarAxis.title.text:0,R.polaraxis.title.css.def).height}});if(N._rdr_valueaxis.width===0){N._rdr_valueaxis.ref.drawable(false)}N._rdr_yscale.range([N._rdr_radar.radiusLength,0]);if(!j1.scale.fixedRange){g.perfect(N._rdr_yscale);var l1=N._rdr_yscale.domain();N._rdr_radar.max=l1[1]>=l1[0]?l1[1]:l1[0];N._rdr_radar.min=l1[1]>=l1[0]?l1[0]:l1[1]}N._rdr_valueaxis.ref.scale(N._rdr_yscale);k1=N._rdr_valueaxis.ref.getPreferredSize();N._rdr_valueaxis.ref.width(k1.width);N._rdr_valueaxis.ref.height(k1.height);N._rdr_valueaxis.node.call(N._rdr_valueaxis.ref)}var m1=N._rdr_radar.node.append("g").attr("class","v-polaraxes-group").selectAll(R.polaraxis.clazz).data(d1);m1.enter().append("g").attr("transform",function(d,i){var a=i/d1.length*360-90;if(a>-180&&a<180){h1.push({axisIdx:i,radian:-1*a*Math.PI/180})}else{h1.push({axisIdx:i,radian:(360-a)*Math.PI/180})}return"rotate("+a+") translate("+N._rdr_radar.radiusLength+")"});m1.append("svg:line").attr("x2",-1*N._rdr_radar.radiusLength).attr("stroke",N._rdr_effectManager.register({drawingEffect:"normal",fillColor:R.polaraxis.color})).attr("stroke-width",R.polaraxis.weight).attr("fill","transparent");h1.sort(function(a,b){return a.radian-b.radian});var n1;if(N._rdr_radar.labels.width&&N._rdr_radar.labels.height){m1.append('rect').attr('class','v-labelarea v-axis-item v-radar-axis-item').attr('width',function(d){return G(d.val,R.polaraxis.labels.css.def).width}).attr('height',function(d){return G(d.val,R.polaraxis.labels.css.def).height}).attr('x',function(d){return-G(d.val,R.polaraxis.labels.css.def).width/2}).attr('y',function(d){var a=G(d.val,R.polaraxis.labels.css.def);return a.y+(a.height+a.y)/2}).attr("transform",function(d,i){n1=i/d1.length*360-90;if(n1%90===0){if(n1===-90||n1===270){return"rotate(90) translate(0,"+(-1*(G(d.val,R.polaraxis.labels.css.def).height/2+g1))+")"}else if(n1===0){return"translate("+(G(d.val,R.polaraxis.labels.css.def).width/2+f1)+")"}else if(n1===180){return"rotate(180) translate("+(-1*(G(d.val,R.polaraxis.labels.css.def).width/2+f1))+")"}else{return"rotate(-90) translate(0,"+(G(d.val,R.polaraxis.labels.css.def).height/2+g1)+")"}}if((n1>-90&&n1<0)||(n1>0&&n1<90)){return"rotate("+(-1*n1)+") translate("+(G(d.val,R.polaraxis.labels.css.def).width/2+f1)+",0)"}return"rotate("+(-1*n1)+") translate("+(-1*(G(d.val,R.polaraxis.labels.css.def).width/2+f1))+",0)"}).attr("opacity",function(d,i){return 0});m1.selectAll('rect').each(function(d){if(d.ctx instanceof Array){this.labelContexts=d.ctx}else{this.labelContexts=[d.ctx]}});m1.append("text").attr("class","v-polar-axis-label").text(function(d,i){return d.val}).attr("pointer-events","none").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(d,i){n1=i/d1.length*360-90;if(n1%90===0){if(n1===-90||n1===270){return"rotate(90) translate(0,"+(-1*(G(d.val,R.polaraxis.labels.css.def).height/2+g1))+")"}else if(n1===0){return"translate("+(G(d.val,R.polaraxis.labels.css.def).width/2+f1)+")"}else if(n1===180){return"rotate(180) translate("+(-1*(G(d.val,R.polaraxis.labels.css.def).width/2+f1))+")"}else{return"rotate(-90) translate(0,"+(G(d.val,R.polaraxis.labels.css.def).height/2+g1)+")"}}if((n1>-90&&n1<0)||(n1>0&&n1<90)){return"rotate("+(-1*n1)+") translate("+(G(d.val,R.polaraxis.labels.css.def).width/2+f1)+",0)"}return"rotate("+(-1*n1)+") translate("+(-1*(G(d.val,R.polaraxis.labels.css.def).width/2+f1))+",0)"}).attr("font-family",N._rdr_styleManager.queryDefault('v-polar-axis-label')["font-family"]).attr("font-size",N._rdr_styleManager.queryDefault('v-polar-axis-label')["font-size"]).attr("fill",N._rdr_effectManager.register({drawingEffect:"normal",fillColor:N._rdr_styleManager.queryDefault('v-polar-axis-label').fill}))}var o1;if(N._rdr_radar.min===0&&N._rdr_radar.max===0){o1=N._rdr_radar.node.append("g").attr("class","v-phantom-marker-group").selectAll(".v-phantom-marker-series").data(N.vacants).enter().append("g");o1.attr("class","v-phantom-marker-series").each(function(Y,a){d3.select(this).selectAll(".v-phantom-marker").data(Y).enter().append("path").attr("class",function(d,i){return(U.series+a+" "+U.data+d.order+" "+U.measureIndex+d.ctx.path.mi)}).attr("fill","none")});N._rdr_eDispatch.initialized();return}if(!N._rdr_radar.min&&!N._rdr_radar.max){N._rdr_eDispatch.initialized();return}N._rdr_yscale.domain([N._rdr_radar.max,N._rdr_radar.min]);if(!j1.scale.fixedRange){g.perfect(N._rdr_yscale)}else{if(!N._rdr_yscale.tickNum){N._rdr_yscale.tickNum=W}}Z=N._rdr_radar.categories.length;n1=N._rdrfn_angles([],Z,Z);var p1=d3.svg.line.radial().interpolate("linear").radius(N._rdr_yscale).angle(function(d,i){return n1(i)});var q1=N._rdr_yscale.ticks(N._rdr_yscale.tickNum),r1=[],s1=[];if(j1.scale.fixedRange){if(q1[q1.length-1]!==N._rdr_radar.max){q1.push(N._rdr_radar.max)}if(q1[0]!==N._rdr_radar.min){q1.unshift(N._rdr_radar.min)}}for(i=0;i<q1.length;i++){s1=[];for(j=0;j<d1.length;j++){s1.push(q1[i])}r1.push(s1)}if(N._rdr_properties.polarGrid.visible){N._rdr_radar.node.append("g").attr("class","v-polargrid-group").selectAll("."+R.polargrid.clazz).data(r1).enter().append("path").attr("class",R.polargrid.childClazz).attr("d",function(d){return p1(d)+"Z"}).attr("fill","none").attr("stroke",N._rdr_effectManager.register({drawingEffect:"normal",fillColor:R.polargrid.color})).attr("stroke-width",R.polargrid.weight)}N._rdr_radar.node.append("g").attr("class","v-dataline-group").selectAll("."+R.line.clazz).data(e1).enter().append("path").attr("class",function(d,i){return U.series.concat(i+" ").concat(R.line.clazz+" "+K)}).attr("d",function(d,i){if(!d.length){return}var a=[];n1=N._rdrfn_angles([],Z,Z);for(var n=0;n<d.length;n++){if(d[n].val>N._rdr_radar.max){a.push(N._rdr_radar.max)}else if(d[n].val<N._rdr_radar.min){a.push(N._rdr_radar.min)}else{a.push(d[n].val)}}if(a.length!==N._rdr_radar.categories.length){n1=N._rdrfn_angles(N.vacants[i],a.length,Z)}return p1(a)+"Z"}).attr("fill",function(d,i){if(!d.length){return}if(N._rdr_properties.surface.fill.visible){return N._rdr_effectManager.register({drawingEffect:"normal",fillColor:d[0].color})}}).attr("fill-opacity",function(d,i){if(N._rdr_properties.surface.fill.visible){return N._rdr_properties.surface.fill.transparency}return 0}).attr("stroke",function(d,i){if(!d.length){return}return N._rdr_effectManager.register({drawingEffect:"normal",fillColor:d[0].color})}).attr("stroke-width",N._rdr_properties.line.width>V.dataline.weight[1]||N._rdr_properties.line.width<V.dataline.weight[0]?R.line.width:N._rdr_properties.line.width);var t1=N._rdr_radar.node.append("g").attr("class","v-marker-container").selectAll("."+R.marker.clazz).data(e1).enter().append("g");t1.attr("class","v-marker-group").each(function(Y,a){var n=N.vacants[a],h1=[];$.each(N._rdr_radar.categories,function(i,d){h1.push(i/Z*2*Math.PI-0.5*Math.PI)});for(var i=n.length-1;i>=0;i--){h1.splice(n[i].order,1)}d3.select(this).append("g").attr("class","v-marker-series").selectAll("."+R.marker.clazz).data(Y).enter().append('g').attr('class','v-datashape').attr("transform",function(d,i){var x,y;if(d.val>N._rdr_radar.max){x=N._rdr_yscale(N._rdr_radar.max)*Math.cos(h1[i]),y=N._rdr_yscale(N._rdr_radar.max)*Math.sin(h1[i])}else if(d.val<N._rdr_radar.min){x=N._rdr_yscale(N._rdr_radar.min)*Math.cos(h1[i]),y=N._rdr_yscale(N._rdr_radar.min)*Math.sin(h1[i])}else{x=N._rdr_yscale(d.val)*Math.cos(h1[i]),y=N._rdr_yscale(d.val)*Math.sin(h1[i])}return"translate("+x+", "+y+") rotate(0)"}).append("path").attr("class",function(d,i){return(U.series+a+" "+U.data+d.order+" "+U.measureIndex+d.ctx.path.mi+" "+R.marker.clazz+" "+L)}).attr("d",function(d,i){return D.createMarkerData({type:d.shape,rx:R.marker.size/2,ry:R.marker.size/2,borderWidth:2})}).attr("fill",function(d){var b={drawingEffect:N._rdr_properties.drawingEffect,graphType:d.shape,fillColor:d.color,direction:'vertical'};return N._rdr_effectManager.register(b)})});o1=N._rdr_radar.node.append("g").attr("class","v-phantom-marker-group").selectAll(".v-phantom-marker-series").data(N.vacants).enter().append("g");o1.attr("class","v-phantom-marker-series").each(function(Y,a){d3.select(this).selectAll(".v-phantom-marker").data(Y).enter().append("path").attr("class",function(d,i){return(U.series+a+" "+U.data+d.order+" "+U.measureIndex+d.ctx.path.mi)}).attr("fill","none")});N.applyFormatConditions(N._rdr_properties.formatRules,t1,N._rdr_data,N);N._rdr_eDispatch.initialized()})};X.prototype.mouseover=function(a){if(this._rdrfn_isLabelArea(a)){a.setAttribute("opacity",1);a.setAttribute("class","v-labelarea v-axis-item v-radar-axis-item v-hovershadow");a.setAttribute("fill",P)}};X.prototype.mousedown=function(a){if(this._rdrfn_isLabelArea(a)){a.setAttribute("opacity",1);a.setAttribute("class","v-labelarea v-axis-item v-radar-axis-item v-hovershadow-mousedown");a.setAttribute("fill",Q)}};X.prototype.cleanLabelAreas=function(){if(this._rdr_parent){this._rdr_parent.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item v-radar-axis-item").attr("opacity",0)}};X.prototype.dataLabel=function(_){};X.prototype.data=function(_){if(!arguments.length){return this._rdr_data}this._rdr_data=_,this._rdr_radar.series=[],this._rdr_radar.categories=[],this._rdr_shapePalette=[],this._rdr_colorPalette=[],this.vacants=[];if(!this.caliberated){return this}var a=this._rdr_data.getAnalysisAxisDataByIdx(0).values,b=this._rdr_data.getMeasureValuesGroupDataByIdx(0).values,d=this._rdr_data.getAnalysisAxisDataByIdx(1),r=this._rdr_data.getAnalysisAxisDataByIdx(2),w=[],y,N,Y,Z=[],a1={aa2:{fed:d!==null&&d.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:r!==null&&r.values.length?true:false,axesFed:false,hasMND:false}},i,j,x;this._rdr_radar.mndized=a[0].type&&a[0].type.toLowerCase()==="mnd"?true:false;if(b[0]&&b[0].rows&&b[0].rows[0]&&b[0].rows[0][0]&&b[0].rows[0][0].info&&b[0].rows[0][0].info.defaultSelection){this._rdr_hasDefaultSelection=true}else{this._rdr_hasDefaultSelection=false}for(i=0;i<a.length;i++){Y=[];for(j=0;j<a[i].rows.length;j++){Y.push(a[i].rows[j])}Z.push(Y)}y=Z.length,N=Z[0].length;if(y===1){for(i=0;i<N;i++){this._rdr_radar.categories.push(Z[0][i].val===''||Z[0][i].val===null?{'val':l.get('IDS_ISNOVALUE'),'ctx':[]}:{'val':Z[0][i].val,'ctx':Z[0][i].ctx})}}else{var b1=[],c1=[];for(i=0;i<N;i++){for(j=0;j<y;j++){b1.push(Z[j][i].val);c1.push(Z[j][i].ctx)}this._rdr_radar.categories.push({'val':b1.join(U.slash),'ctx':c1});b1=[];c1=[]}}N=b[0].rows[0].length;if(this._rdr_radar.mndized){if(!a1.aa2.fed&&!a1.aa3.fed){this._rdr_colorPalette.push(this._rdr_radar.color(0));this._rdr_shapePalette.push(this._rdr_radar.shape(0))}if(a1.aa2.fed){for(i=0;i<d.values[0].rows.length;i++){this._rdr_colorPalette.push(this._rdr_radar.color(i))}if(!a1.aa3.fed){this._rdr_shapePalette.push(this._rdr_radar.shape(0))}}if(a1.aa3.fed){for(i=0;i<r.values[0].rows.length;i++){this._rdr_shapePalette.push(this._rdr_radar.shape(i))}if(!a1.aa2.fed){this._rdr_colorPalette.push(this._rdr_radar.color(0))}}for(i=0;i<b.length;i++){for(j=0;j<b[i].rows.length;j++){for(x=0;x<N;x++){b[i].rows[j][x].color=this._rdr_colorPalette[x]||this._rdr_radar.color(0);if(a1.aa2.fed){b[i].rows[j][x].shape=this._rdr_shapePalette[j]||this._rdr_radar.shape(0)}else{b[i].rows[j][x].shape=this._rdr_shapePalette[x]||this._rdr_radar.shape(0)}}}}var d1,e1=[],f1=[],g1=[];for(i=0;i<b[0].rows.length;i++){d1=[];for(j=0;j<b.length;j++){d1.push(b[j].rows[i])}e1.push(d1)}for(i=0;i<e1.length;i++){for(x=0;x<N;x++){for(j=0;j<e1[i].length;j++,g1=[]){f1.push(e1[i][j][x])}w.push(f1);f1=[]}}var h1=this;$.each(w,function(o1,f1){var p1=f1,g1=[];for(var i=0;i<p1.length;i++){p1[i].order=i;if(p1[i].val===null){g1.push(p1[i])}}for(i=p1.length-1;i>=0;i--){if(p1[i].val===null){p1.splice(i,1)}}h1.vacants.push(g1)});if(!this._rdr_radar.title.customization){this._rdr_properties.polarAxis.title.text=l.get('IDS_DEFAULTMND')}}else{if(a1.aa2.fed){for(i=0;i<d.values.length;i++){if(d.values[i].type&&d.values[i].type.toLowerCase()==="mnd"){a1.aa2.hasMND=true}}if(a1.aa2.hasMND){if(d.values.length>=2){a1.aa2.axesFed=true}else{a1.aa2.axesFed=false}}else{a1.aa2.axesFed=true}}if(a1.aa3.fed){for(i=0;i<r.values.length;i++){if(r.values[i].type&&r.values[i].type.toLowerCase()==="mnd"){a1.aa3.hasMND=true}}if(a1.aa3.hasMND){if(r.values.length>=2){a1.aa3.axesFed=true}else{a1.aa3.axesFed=false}}else{a1.aa3.axesFed=true}}var i1=0,j1=0,k1=a1.aa2.hasMND&&!a1.aa2.axesFed,l1=a1.aa3.hasMND&&!a1.aa3.axesFed;var m1=[];for(i=0;i<b.length;i++){if(k1){this._rdr_colorPalette.push(this._rdr_radar.color(i))}if(l1){this._rdr_shapePalette.push(this._rdr_radar.shape(i))}for(j=0;j<b[i].rows.length;j++,m1=[]){for(x=0;x<b[i].rows[j].length;x++){if(b[i].rows[j][x].val===null){m1.push(b[i].rows[j][x])}b[i].rows[j][x].order=x}w.push(b[i].rows[j].slice());this.vacants.push(m1);if(a1.aa2.fed){if(k1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=this._rdr_radar.color(i)}}else if(a1.aa2.hasMND&&a1.aa2.axesFed){i1++;this._rdr_colorPalette.push(this._rdr_radar.color(i1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=this._rdr_radar.color(i1)}}else{this._rdr_colorPalette.push(this._rdr_radar.color(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=this._rdr_radar.color(j)}}}else{this._rdr_colorPalette.push(this._rdr_radar.color(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=this._rdr_radar.color(0)}}if(a1.aa3.fed){if(l1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=this._rdr_radar.shape(i)}}else if(a1.aa3.hasMND&&a1.aa3.axesFed){j1++;this._rdr_shapePalette.push(this._rdr_radar.shape(j1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=this._rdr_radar.shape(j1)}}else{if(a1.aa2.fed){if(a1.aa2.hasMND){this._rdr_shapePalette.push(this._rdr_radar.shape(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=this._rdr_radar.shape(j)}}else{for(x=0;x<b[i].rows[j].length;x++){this._rdr_shapePalette.push(this._rdr_radar.shape(x));b[i].rows[j][x].shape=this._rdr_radar.shape(x)}}}}}else{this._rdr_shapePalette.push(this._rdr_radar.shape(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=this._rdr_radar.shape(0)}}}}for(i=0;i<w.length;i++){for(j=w[i].length-1;j>=0;j--){for(var n=0;n<this.vacants[i].length;n++){if(this.vacants[i][n].order===j){w[i].splice(j,1)}}}}if(!this._rdr_radar.title.customization){this._rdr_properties.polarAxis.title.text=this._rdrfn_combine_dimension_titles(a)}}if(!this._rdr_valueaxis.customization){var n1=[];for(i=0;i<b.length;i++){n1.push(b[i].col===''||b[i].col===null?l.get('IDS_ISNOVALUE'):b[i].col)}this._rdr_properties.valueAxis.title.text=n1.join(U.and)}this._rdr_radar.series=w;this._rdr_radar.feedings=a1;return this};X.prototype.primaryDataRange=function(_){if(!arguments.length){this._rdrfn_rescale(this);return{min:this._rdr_radar.min,max:this._rdr_radar.max}}this._rdr_radar.min=_.min;this._rdr_radar.max=_.max;this._rdr_radar.locked=true;return this};X.prototype.colorPalette=function(_){if(!arguments.length){return this._rdr_colorPalette}this._rdr_colorPalette=_;return this};X.prototype.shapes=function(_){if(!arguments.length){return this._rdr_shapePalette}this._rdr_shapePalette=_;return this};X.prototype.dispatch=function(_){if(!arguments.length){return this._rdr_eDispatch}this._rdr_eDispatch=_;return this};X.prototype.properties=function(_){if(!arguments.length){return this._rdr_properties}var a=false,b=false;if(_.valueAxis&&_.valueAxis.scale&&_.valueAxis.scale.fixedRange){a=isNaN(Number(_.valueAxis.scale.minValue));b=isNaN(Number(_.valueAxis.scale.maxValue))}this._rdr_properties.polarAxis.title.text='Categories';this._rdr_properties.valueAxis.title.text='Value';O.extend(true,this._rdr_properties,_);if(a){this._rdr_properties.valueAxis.scale.minValue=NaN}if(b){this._rdr_properties.valueAxis.scale.maxValue=NaN}this._rdr_yscale=d3.scale.linear();if(this._rdr_properties.polarAxis.title.text!=='Categories'){this._rdr_radar.title.customization=true}else{this._rdr_radar.title.customization=false}if(this._rdr_properties.valueAxis.title.text!=='Value'){this._rdr_valueaxis.customization=true}else{this._rdr_valueaxis.customization=false}if(this._rdr_properties.colorPalette.length){this._rdr_radar.color.range(this._rdr_properties.colorPalette)}if(this._rdr_properties.shapePalette.length){this._rdr_radar.shape.range(this._rdr_properties.shapePalette)}R.marker.size=this._rdr_properties.marker.size;if(R.marker.size>V.marker.size[1]||R.marker.size<V.marker.size[0]){R.marker.size=6}R.polargrid.color=this._rdr_properties.polarGrid.color;this.caliberated=true;if(T.isExist(this._rdr_properties.valueAxis)&&T.isExist(this._rdr_properties.valueAxis.label)&&T.isExist(this._rdr_properties.valueAxis.label.formatString)&&T.isArray(this._rdr_properties.valueAxis.label.formatString)){var d=this._rdr_data.getMeasureValuesGroupDataByIdx(0);if(d.values&&T.isArray(d.values)&&T.isArray(d.values[0].rows)){var i=this._rdr_properties.valueAxis.label.formatString[d.values[0].rows[0][0].ctx.path.mg];var j=d.values[0].rows[0][0].ctx.path.mi>=i.length?i.length-1:d.values[0].rows[0][0].ctx.path.mi;this._rdr_properties.valueAxis.label.formatString=i[j]}}this.data(this._rdr_data);return this};X.prototype.afterUIComponentAppear=function(){this._rdr_eDispatch.initialized()};X.prototype.width=function(_){if(!arguments.length){return this._rdr_width}this._rdr_width=_;return this};X.prototype.height=function(_){if(!arguments.length){return this._rdr_height}this._rdr_height=_;return this};X.prototype.size=function(_){if(!arguments.length){return{width:this._rdr_width,height:this._rdr_height}}this._rdr_width=_.width;this._rdr_height=_.height;return this};X.prototype.parent=function(_){if(!arguments.length){return this._rdr_container}this._rdr_container=_;return this};X.prototype.clear=function(){if(!arguments[0]){F.straight.call(this).bright.call(this);this._rdr_selections={};if(this._rdr_hasDefaultSelection){var d=[];d.push(this._rdr_radar.node.selectAll(U.dot+R.line.clazz));d.push(this._rdr_radar.node.selectAll(U.dot+R.marker.clazz));m.clearSelectionInfo(this._rdr_container,false,d)}}else{F.dim.call(this)}};X.prototype.highlight=function(a,b){if(!this._rdr_radar.min&&!this._rdr_radar.max){return}var d=/[sS][0-9]+/,r;if(!T.isArray(a)){a=[a]}if(!b){for(var i=0,w=false;i<a.length;i++,w=false){r=a[i].className.baseVal.match(d)[0];if(this._rdr_selections[r]){for(var j=0;j<this._rdr_selections[r].length;j++){if(this._rdr_selections[r][j]===a[i]){w=true}}if(!w){this._rdr_selections[r].push(a[i])}}else{this._rdr_selections[r]=[];this._rdr_selections[r].push(a[i])}}var x,y;for(var n in this._rdr_selections){if(this._rdr_selections.hasOwnProperty(n)){y=n.substr(1);x=this._rdr_radar.series[y].length;E.call(this,n,this._rdr_selections[n],x)}}}else{A(d3.selectAll(a),'hover')}D.nodesHighlight(a,{factor:0.7,constant:0},this._rdr_effectManager,b);if(this._rdr_hasDefaultSelection){m.clearSelectionInfo(this._rdr_container,true,a)}};X.prototype.unhighlight=function(a,b,n){if(!T.isArray(a)){a=[a]}var d=this;$.each(a,function(r,w){var x=w.className.baseVal.match(/[sS][0-9]+/)[0];if(!b&&!n){for(var y in d._rdr_selections){if(d._rdr_selections.hasOwnProperty(y)){for(var i=0;i<d._rdr_selections[y].length;i++){for(var j=0;j<a.length;j++){if(d._rdr_selections[y][i]===a[j]){d._rdr_selections[y].splice(i,1);break}}}}}F.straight2.call(d,U.dot+x).dim.call(d,U.dot+x)}else{if(!b){A(d3.select(this),'straight')}}D.nodesUnhighlight(a,b,n)});if(this._rdr_hasDefaultSelection){m.clearSelectionInfo(this._rdr_container,false,a)}};X.prototype.destroy=function(){this._rdr_data=null;if(this._rdr_parent){this._rdr_parent.selectAll('.'+J).remove();this._rdr_parent=null}if(this._rdr_yscale){this._rdr_yscale.domain([0,1]).range([0,1])}this._rdr_yscale=undefined;this._rdr_container=null;this._rdr_selections={};if(this._rdr_effectManager){this._rdr_effectManager.destroy()}if(this._rdr_styleManager){this._rdr_styleManager.destroy()}};X.prototype._rdrfn_rescale=function(a){var b=a._rdr_radar.series;var n,d,i;var j=d3.max(d3.merge(d3.merge(b)),function(_){return _.val}),r=d3.min(d3.merge(d3.merge(b)),function(_){return _.val}),w=d3.scale.linear();w.domain([r,j]).range([200,0]);g.perfect(w);n=w.domain();j=n[1]>=n[0]?n[1]:n[0];r=n[1]>=n[0]?n[0]:n[1];if(a._rdr_properties.valueAxis.scale.fixedRange===true){d=Number(a._rdr_properties.valueAxis.scale.maxValue);i=Number(a._rdr_properties.valueAxis.scale.minValue);if(isNaN(d)){d=j}if(isNaN(i)){i=r}if(d<=i){d=j;i=r}a._rdr_radar.manualRange=true}else{a._rdr_radar.manualRange=false;d=j;i=r}a._rdr_radar.max=d;a._rdr_radar.min=i;if(a._rdr_radar.min!==undefined&&a._rdr_radar.max!==undefined&&a._rdr_radar.min===a._rdr_radar.max){if(a._rdr_radar.min===0){a._rdr_radar.max=1}if(a._rdr_radar.min<0){a._rdr_radar.max=0}if(a._rdr_radar.min>0){a._rdr_radar.min=0}}if(!a._rdr_radar.min||a._rdr_radar.min==="NaN"){a._rdr_radar.min=0}if(!a._rdr_radar.max||a._rdr_radar.max==="NaN"){a._rdr_radar.max=1}};X.prototype._rdrfn_arrange=function(){var a=arguments[0],b=a.valueaxis,d=a.lblW,i=a.lblH,j=a.title,n={},w,r,x,y,N=R.spacing.hgap,Y=R.spacing.vgap,Z=-1,_=[];var a1=this;(function layout(){Z++;if(i-1/3*a1._rdr_height>0){i=0}if(j.height-1/3*this._rdr_height>0){j.height=0}if(j.width-2/3*this._rdr_width>0){j.width=0}if(a1._rdr_width-a1._rdr_height>=0){r=(a1._rdr_height-2*(i+2*Y)-(j.height!==0?j.height+2*Y:0))/2;w=2*r+2*(d+2*N)+b;if(w>a1._rdr_width){x=w-a1._rdr_width;r=(a1._rdr_height-x-2*(i+2*Y)-(j.height!==0?j.height+2*Y:0))/2}}else{r=(a1._rdr_width-2*(d+2*N)-b)/2}_[Z]=r;if(typeof _[Z-2]!=='undefined'&&_[Z-2]<=0){return 0}if(d>r||r<=0){d=0,i=0;j.width=0,j.height=0;r=layout();if(b>r){b=0;r=layout();if(a1._rdr_width>=a1._rdr_height){if(r<a1._rdr_height/2){r=a1._rdr_height/2,Y=0}}else{if(r<a1._rdr_width/2){r=a1._rdr_width/2,N=0}}}}return r})();y={width:b+2*r+4*N+2*d,height:2*(i+r)+4*Y+(j.height!==0?j.height+2*Y:0)};this._rdr_radar.radiusLength=r;this._rdr_valueaxis.width=b;this._rdr_valueaxis.anchor.x=0;this._rdr_valueaxis.anchor.y=i+2*Y;this._rdr_radar.title.width=j.width;this._rdr_radar.title.height=j.height;n.x=b+d+r+N*2;n.y=i+r+Y*2;j.x=n.x;j.y=n.y+r+i+2*Y+j.height/2;var b1=0,c1=0;if(b){this._rdr_valueaxis.ref.gridlineLength(n.x-b);if(this._rdr_width>this._rdr_height){b1=this._rdr_width/2-y.width/2;this._rdr_valueaxis.anchor.x+=b1;n.x+=b1;j.x+=b1}}else{if(this._rdr_width>this._rdr_height){b1=this._rdr_width/2-n.x;n.x+=b1;j.x+=b1}}this._rdr_radar.title.node.attr("x",j.x);this._rdr_radar.title.node.attr("y",j.y);this._rdr_valueaxis.node.attr("transform","translate("+this._rdr_valueaxis.anchor.x+","+this._rdr_valueaxis.anchor.y+")");this._rdr_radar.node.attr("transform","translate("+n.x+","+n.y+")");this._rdr_radar.pole=n;this._rdr_radar.labels.width=d;this._rdr_radar.labels.height=i};X.prototype._rdrfn_angles=function(n,N,a){var d=[],b=[],i;if(!n.length){return d3.scale.linear().domain([0,a]).range([0,2*Math.PI])}for(i=0;i<a;i++){d.push(i);b.push(i/a*2*Math.PI)}for(i=n.length-1;i>=0;i--){b.splice(n[i].order,1)}return d3.scale.ordinal().domain(d).range(b)};X.prototype._rdrfn_combine_dimension_titles=function(a){var b='';for(var i=0;i<a.length;i++){b=b.concat(a[i].col.val===null?l.get('IDS_ISNOVALUE'):a[i].col.val+U.slash)}return b.lastIndexOf(U.slash)>0?b.substr(0,b.lastIndexOf(U.slash)):b};X.prototype._rdrfn_isLabelArea=function(a){var b=a.getAttribute('class'),i=false;if(b&&b.indexOf('v-labelarea')>=0){i=true}return i};return X});define('sap/viz/feeds/Radar',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var a={id:"regionColor",name:"IDS_REGIONCOLOR",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},s={id:"regionShape",name:"IDS_REGIONSHAPE",type:c.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},b={id:"radarAxes",name:"IDS_RADARAXES",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},v={id:"radarAxesValues",name:"IDS_RADARAXESVALUE",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"radar",feeds:[a,s,b,v]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Radar',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/radar','sap/viz/feeds/Radar'],function Setup(M,C,f,R){var m={id:"sap.viz.modules.radar",type:C.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:'drawingEffect',supportedValueType:'String',supportedValues:['normal','glossy'],defaultValue:'normal',description:'Set the drawing effect of the radar chart.',isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the polar gridlines."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set the color of the polar gridlines."}},description:"Settings for the polar gridlines."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set the visibility of the value axis lines."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the value axis title."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set the text of the value axis title."},},description:"Settings for the value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:'formatString',supportedValueType:'String | Two-Dimensions-Array',defaultValue:null,description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The letter "u" is used at the end of a format string to format values in SI units. If the letter "u" is added to a value between 1e12 and 1e-3 before SI units are applied, the value is formatted in exponential style. The remaining syntax matches Excel format strings. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}},description:"Settings for the axis labels."},scale:{name:'scale',description:'Settings for the scale of the value axis.',supportedValueType:'Object',supportedValues:{fixedRange:{name:'fixedRange',supportedValueType:'Boolean',defaultValue:false,description:'Set whether the fixed axis range is enabled according to the minValue and maxValue.',},minValue:{name:'minValue',supportedValueType:'Number',defaultValue:0,description:'Set the minValue of the yAxis.',},maxValue:{name:'maxValue',supportedValueType:'Number',defaultValue:0,description:'Set the maxValue of the yAxis.',}}},},description:"Settings for value axis at the side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for the polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set the visibility of the category axis."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set the text for the category axis."}}}},description:"Settings for the polar axes."},colorPalette:{name:"colorPalette",defaultValue:C.COLOR.SAPColorSingleAxis,description:"Set marker color customizations.",'example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],supportedValues:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],description:'Set marker shape customizations.'},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:'width',supportedValueType:'PositiveInt',defaultValue:2,description:"Set the line weight. Possible values range from '1' to '7'."}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:'fill',supportedValueType:'Object',supportedValues:{visible:{name:'visible',supportedValueType:'Boolean',defaultValue:true,description:'Set whether the fill effect for the polar area is enabled.'},transparency:{name:'transparency',supportedValueType:'Double',defaultValue:0.3,description:'Set the alpha value for the polar area fill color.'},}}},description:"Settings for the chart's surface."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set the size of the marker. Possible values range between '4' and '32'."}},description:"Settings for the marker."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set whether the tooltip is enabled."}},'isExported':false,description:"Settings for the tooltip."},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Rules to format data points, sample:\
[{condition: [{Key1:"Value1", Key2:"Value2"}], color:"#00ff00"}, {condition: [{Key3:"Value3"}], color:"#00ffff"}].\
Each rule has two properties: "condition" and "color". The relation among the condition object in "condition" array is "OR",\
which means the data point that met any condition in the array will apply the "color".\
If multiple rules could apply on the same data point, the last rule would take effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"}},events:{'initialized':C.Event.Initialized.desc,selectData:C.Event.SelectData.desc,deselectData:C.Event.DeSelectData.desc,showTooltip:C.Event.TooltipShow.desc,hideTooltip:C.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title.v-title":{description:"Font style for value axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},'.viz-axis-label.v-label':{'description':'Define style for value axis label.','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}},".viz-polar-axis-label.v-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","fill":"#333333","font-size":"11px","font-weight":"bold"}},".viz-polar-axis-title.v-polar-axis-title":{description:"Font styles for polar axis title.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","fill":"#333333","font-size":"14px","font-weight":"bold"}}},configure:null,fn:f};var a={viz:[],module:[m],feeds:[].concat(R.feeds)};return a});define('sap/viz/manifests/MultiRadarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/TableContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Radar','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/manifests/BaseMultipleChart','sap/viz/manifests/BaseMultipleXYChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Background','sap/viz/chart/elements/behaviors/InteractionHelper'],function Setup(M,B,R,X,T,A,a,I,b,c,d,e,h){var m={id:'viz/multi_radar',name:'IDS_MULTIRADARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/multiple/xy',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[3]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},'interaction':{id:'sap.viz.modules.controller.interaction',configure:{clientID:"main",propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}},main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'vertical',position:'outside',automaticInOutside:false,outsidePosition:'up',positionPreference:true}}},plot:{id:'sap.viz.modules.radar',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:'background',properties:{visible:false}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:1},regionShape:{max:0},regionColor:{max:1}},dependencies:{attributes:[{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'}]}};var f={viz:[m].concat(B.viz,b.viz,c.viz),module:[].concat(B.module,b.module,c.module,R.module,X.module,T.module,A.module,a.module,I.module,d.module,e.module),feeds:[].concat(B.feeds,b.feeds,c.feeds,R.feeds,X.feeds,T.feeds,A.feeds,a.feeds,I.feeds,d.feeds,e.feeds)};return f});define('sap/viz/impls/MultiRadarChart',['sap/viz/manifests/MultiRadarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiScatterChart',['sap/viz/manifests/MultiScatterChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiStackedBarChart',['sap/viz/manifests/MultiStackedBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiStackedVerticalBarChart',['sap/viz/manifests/MultiStackedVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/impls/MultiVerticalBarChart',['sap/viz/manifests/MultiVerticalBarChart'],function Setup(M){var m={viz:[].concat(M.viz),module:[].concat(M.module),feeds:[].concat(M.feeds)};return m});define('sap/viz/modules/network/graph',[],function(){function G(){this.nodes=[];this.links=[];this.nodesMap={};this.linksMap=[]}G.prototype.clear=function(){this.nodes=[];this.links=[];this.nodesMap={}};G.prototype.addNode=function(n){var k=n.key;var i;if(!this.isNoValue(k)&&!this.hasNode(k)){n.val=n.key;this.nodes.push(n);i=(this.nodesMap[k]=this.nodes.length-1);this.linksMap[i]=[]}return this};G.prototype.addLink=function(k,a){var n=this.nodesMap;var i=n[k],b=n[a];if(!this.isNoValue(k)&&!this.isNoValue(a)&&k!==a&&!this.hasLink(i,b)){this.links.push({source:i,target:b});this.setLinksMap(i,b)}return this};G.prototype.getRelatedNodes=function(i){return this.linksMap[i]};G.prototype.hasNode=function(k){return this.nodesMap[k]!==undefined};G.prototype.hasLink=function(i,a){return this.linksMap[i].indexOf(a)>-1};G.prototype.setLinksMap=function(i,a){this.linksMap[i].push(a);this.linksMap[a].push(i)};G.prototype.isNoValue=function(v){return v===null||v===undefined};return G});define('sap/viz/modules/network/basicLayout',["sap/viz/util/NumberUtils","sap/viz/base/utils/TypeUtils"],function(N,T){var d=function(){this._width=0;this._height=0;this._radius=0;this._graph=null;this._maxCount=100;this._alpha=0.1;this._linkDistance=20;this._linkStrength=1;this._charge=-30;this._distances=null;this._strengths=null;this._charges=null;this._gravity=0.1;this._friction=0.9;this._theta=0.8;this._tickfn=null};d.prototype.width=function(_){if(!arguments.length){return this._width}this._width=_;return this};d.prototype.height=function(_){if(!arguments.length){return this._height}this._height=_;return this};d.prototype.radius=function(_){if(!arguments.length){return this._radius}this._radius=_;return this};d.prototype.graph=function(_){if(!arguments.length){return this._graph}this._graph=_;return this};d.prototype.maxCount=function(_){if(!arguments.length){return this._maxCount}this._maxCount=_;return this};d.prototype.tickfn=function(_){if(!arguments.length){return this._tickfn}this._tickfn=_;return this};d.prototype.alpha=function(_){if(!arguments.length){return this._alpha}var a=this._alpha;this._alpha=_;if(!a){d3.timer(this._tick())}return this};d.prototype.calculate=function(){this._setCoefficient();this._prepare();this._d3ForceDirectedPlacement()};d.prototype.resume=function(){this.alpha(0.1)};d.prototype.stop=function(){this.alpha(0)};d.prototype.destroy=function(){this._graph.clear();this._graph=null;this._tickfn=null;this._distances=null;this._strengths=null;this._charges=null};d.prototype._tick=function(){var a=this;return function(){var b=a._alpha;if((b*=0.99)<0.005||!a._graph){a._alpha=0;return true}a._alpha=b;var c=a._graph.nodes,e=a._graph.links,f=a._charge,g=a._distances,j=a._strengths,p=a._charges,u=a._gravity,v=a._friction,n=c.length,m=e.length,w=a._width,h=a._height,r=a._radius,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=e[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;l=(x*x+y*y);if(l){l=b*j[i]*((l=Math.sqrt(l))-g[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k}}k=b*u;if(k){x=w/2;y=h/2;i=-1;if(k){while(++i<n){o=c[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k}}}if(f){a._forceAccumulate(q=d3.geom.quadtree(c),b,p);i=-1;while(++i<n){if(!(o=c[i]).fixed){q.visit(a._repulse(o))}}}i=-1;while(++i<n){o=c[i];if(o.fixed){o.x=o.px;o.y=o.py}else{o.x-=(o.px-(o.px=o.x))*v;o.y-=(o.py-(o.py=o.y))*v}if(o.onDrag){o.x=o.eventX;o.y=o.eventY}o.x=Math.max(r,Math.min(w-r,o.x));o.y=Math.max(r,Math.min(h-r,o.y))}if(T.isFunction(a._tickfn)){a._tickfn()}}};d.prototype._setNodes=function(){var n=this._graph.nodes;for(var i=0,l=n.length;i<l;++i){n[i].x=this._xs[i];n[i].y=this._ys[i]}};d.prototype._jsHash=function(s){var h=1315423911;for(var i=0;i<s.length;i++){h^=((h<<5)+s.charCodeAt(i)+(h>>2))}return h};d.prototype._rsHash=function(s){var b=378551;var a=63689;var h=0;for(var i=0;i<s.length;i++){h=h*a+s.charCodeAt(i);a*=b;h=h%0xFFFFFFFF}return h&0x7FFFFFFF};d.prototype._randomStr=function(s,h){var v=0;switch(h){case'x':v=this._jsHash(s);break;case'y':v=this._rsHash(s);break}var c=107;return Math.abs((v%c)/c)};d.prototype._setCoefficient=function(){var w=this._width,h=this._height,l=this._graph.nodes.length;var a=Math.sqrt(w*h/l);this._linkDistance=a;var c=-30*Math.min(w,h)/l;this._charge=c};d.prototype._prepare=function(){var a=this._graph.nodes,l=this._graph.links,b=this._linkDistance,c=this._linkStrength,e=this._charge,i,n=a.length,m=l.length,w=this._width,h=this._height,o;for(i=0;i<n;++i){(o=a[i]).index=i;o.weight=0}for(i=0;i<m;++i){o=l[i];if(typeof o.source==="number"){o.source=a[o.source]}if(typeof o.target==="number"){o.target=a[o.target]}++o.source.weight;++o.target.weight}for(i=0;i<n;++i){o=a[i];if(isNaN(o.x)){o.x=this._randomStr(o.key,"x")*w}if(isNaN(o.y)){o.y=this._randomStr(o.key,"y")*h}if(isNaN(o.px)){o.px=o.x}if(isNaN(o.py)){o.py=o.y}}this._distances=[];var f=this._distances;for(i=0;i<m;++i){f[i]=b}this._strengths=[];var s=this._strengths;for(i=0;i<m;++i){s[i]=c}this._charges=[];var g=this._charges;for(i=0;i<n;++i){g[i]=e}this._alpha=0.1};d.prototype._d3ForceDirectedPlacement=function(){var a=this._alpha;var c=-1,b=this._maxCount;while((a*=0.99)>0.005&&++c<b){var e=this._graph.nodes,f=this._graph.links,g=this._charge,j=this._distances,p=this._strengths,u=this._charges,v=this._gravity,z=this._friction,n=e.length,m=f.length,w=this._width,h=this._height,r=this._radius,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=f[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;l=(x*x+y*y);if(l){l=a*p[i]*((l=Math.sqrt(l))-j[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k}}k=a*v;if(k){x=w/2;y=h/2;i=-1;if(k){while(++i<n){o=e[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k}}}if(g){this._forceAccumulate(q=d3.geom.quadtree(e),a,u);i=-1;while(++i<n){if(!(o=e[i]).fixed){q.visit(this._repulse(o))}}}i=-1;while(++i<n){o=e[i];if(o.fixed){o.x=o.px;o.y=o.py}else{o.x-=(o.px-(o.px=o.x))*z;o.y-=(o.py-(o.py=o.y))*z}o.x=Math.max(r,Math.min(w-r,o.x));o.y=Math.max(r,Math.min(h-r,o.y))}}this._alpha=0};d.prototype._repulse=function(n){var t=this._theta;return function(q,x,_,a){if(q.point!==n){var b=q.cx-n.x,c=q.cy-n.y,e=1/Math.sqrt(b*b+c*c),k;if((a-x)*e<t){k=q.charge*e*e;n.px-=b*k;n.py-=c*k;return true}if(q.point&&isFinite(e)){k=q.pointCharge*e*e;n.px-=b*k;n.py-=c*k}}return!q.charge}};d.prototype._forceAccumulate=function(q,a,b){var e=0,f=0;q.charge=0;if(!q.leaf){var g=q.nodes,n=g.length,i=-1,c;while(++i<n){c=g[i];if(c===null||c===undefined){continue}this._forceAccumulate(c,a,b);q.charge+=c.charge;e+=c.charge*c.cx;f+=c.charge*c.cy}}if(q.point){if(!q.leaf){q.point.x+=this._randomStr(q.point.key,"y")-0.5;q.point.y+=this._randomStr(q.point.key,"x")-0.5}var k=a*b[q.point.index];q.charge+=q.pointCharge=k;e+=k*q.point.x;f+=k*q.point.y}q.cx=e/q.charge;q.cy=f/q.charge};return d});define('sap/viz/modules/network',["sap/viz/modules/Constants","sap/viz/base/utils/oo","sap/viz/modules/Base","sap/viz/modules/util/BoundUtil","sap/viz/base/utils/Objects","sap/viz/modules/dispatch","sap/viz/modules/network/graph","sap/viz/modules/network/basicLayout","sap/viz/util/ColorSeriesGenerator","sap/viz/base/utils/ObjectUtils","sap/viz/modules/util/ClippathUtil"],function(C,o,B,a,O,b,G,l,c,e,f){var g="v-network-node";var h="v-network-line";var k=C.CSS.CLASS.DATAPOINT;var m=C.CSS.CLASS.DATAPOINTDEFAULT;var n=C.CSS.CLASS.DATAPOINTSELECTED;var D={NORMAL:"basic",ENHANCED:"enhanced"};var N={MARKER_COLOR_DEFAULT:"#FFFFFF",MARKER_COLOR_SELECTED:c.sap32().range()[0],MARKER_COLOR_UNSELECTED:"#FFFFFF",MARKER_OUTLINE_COLOR_DEFAULT:"#000000",MARKER_OUTLINE_COLOR_SELECTED:"#000000",MARKER_OUTLINE_COLOR_UNSELECTED:"#D8D8D8",MARKER_OUTLINE_WIDTH_DEFAULT:1,MARKER_OUTLINE_WIDTH_SELECTED:2,MARKER_OUTLINE_WIDTH_UNSELECTED:1,MARKER_RADIUS:5,LABEL_COLOR_DEFAULT:"#000000",LABEL_COLOR_SELECTED:"#000000",LABEL_COLOR_UNSELECTED:"#D8D8D8",LABEL_FONT:"12px 'Open Sans', Arial, Helvetica, sans-serif",LABEL_OFFSET_X_DEFAULT:12,LABEL_OFFSET_X_SELECTED:13,LABEL_OFFSET_X_UNSELECTED:12,LABEL_OFFSET_Y:6,LINE_COLOR_DEFAULT:"#D8D8D8",LINE_COLOR_SELECTED:"#000000",LINE_COLOR_UNSELECTED:"#D8D8D8",LINE_WIDTH:"1px",OPACITY_DEFAULT:1,OPACITY_UNSELECTED:0.4};var p={MARKER_COLOR_DEFAULT:"#D12318",MARKER_COLOR_SELECTED:"#D12318",MARKER_COLOR_UNSELECTED:"#EC9A99",MARKER_OUTLINE_COLOR_DEFAULT:"#FFFFFF",MARKER_OUTLINE_COLOR_SELECTED:"#000000",MARKER_OUTLINE_COLOR_UNSELECTED:"#FFFFFF",MARKER_OUTLINE_WIDTH_DEFAULT:2,MARKER_OUTLINE_WIDTH_SELECTED:2,MARKER_OUTLINE_WIDTH_UNSELECTED:2,MARKER_RADIUS:4,LABEL_COLOR_DEFAULT:"#000000",LABEL_COLOR_SELECTED:"#000000",LABEL_COLOR_UNSELECTED:"#999999",LABEL_FONT:"12px 'Open Sans', Arial, Helvetica, sans-serif",LABEL_OFFSET_X_DEFAULT:12,LABEL_OFFSET_X_SELECTED:12,LABEL_OFFSET_X_UNSELECTED:12,LABEL_OFFSET_Y:6,LINE_COLOR_DEFAULT:"#999999",LINE_COLOR_SELECTED:"#000000",LINE_COLOR_UNSELECTED:"#999999",LINE_WIDTH:"1px",OPACITY_DEFAULT:1,OPACITY_UNSELECTED:0.4};var q=function(d,i){q.superclass.constructor.apply(this,arguments);this._ID=e.guid()+"-potShadow";this._ntk_width=0;this._ntk_height=0;this._ntk_properties=d.props(null);this._ntkfn_parseProperties();this._ntk_data=null;this._ntk_dispatch=new b("initialized");this._ntk_effectManager=i.effectManager;this._ntk_graph=new G();this._ntk_layout=new l();this._ntk_parent=null;this._ntk_nodesWrapper=null;this._ntk_linesWrapper=null;this._ntk_defs=null;this._ntk_isFirstCreation=true;this._ntk_isSizeChanged=false;this._ntk_isDatasetChanged=false;this._ntk_isDataSchemaChanged=false;this._ntk_isPropertiesChanged=false};o.extend(q,B);q.prototype.render=function(s){var w=this._ntk_width,d=this._ntk_height;a.drawBound(s,w,d);var i=f.drawClippath(s,w,d);s.attr('clip-path',"url(#"+i+")");this._ntk_parent=s;this._ntkfn_renderChart();this._ntk_isFirstCreation=false;this._ntk_isSizeChanged=false;this._ntk_isDatasetChanged=false;this._ntk_isDataSchemaChanged=false;this._ntk_isPropertiesChanged=false;return this};q.prototype.properties=function(_){if(!arguments.length){return this._ntk_properties}this._ntk_isPropertiesChanged=true;O.extend(true,this._ntk_properties,_);this._ntkfn_parseProperties();return this};q.prototype.parent=function(_){if(!arguments.length){return this._ntk_parent}this._ntk_parent=_;return this};q.prototype.width=function(_){if(!arguments.length){return this._ntk_width}this._ntk_isSizeChanged=(this._ntk_width===_)&&!this._ntk_isSizeChanged?false:true;this._ntk_width=_;return this};q.prototype.height=function(_){if(!arguments.length){return this._ntk_height}this._ntk_isSizeChanged=(this._ntk_height===_)&&!this._ntk_isSizeChanged?false:true;this._ntk_height=_;return this};q.prototype.data=function(_){if(!arguments.length){return this._ntk_data}this._ntk_isDatasetChanged=true;this._ntk_data=_;this._ntkfn_parseData();return this};q.prototype.dispatch=function(_){if(!arguments.length){return this._ntk_dispatch}this._ntk_dispatch=_;return this};q.prototype.highlight=function(d,r){if(!r){this.clear(true);if(d instanceof Array){for(var j=0;j<d.length;j++){var s=this._ntk_styleDef;var t=d3.select(d[j]);t.select("circle").attr("fill",s.MARKER_COLOR_SELECTED).attr("stroke",s.MARKER_OUTLINE_COLOR_SELECTED).attr("stroke-width",s.MARKER_OUTLINE_WIDTH_SELECTED);t.select("text").attr("dx",s.LABEL_OFFSET_X_SELECTED).style("fill",s.LABEL_COLOR_SELECTED);t.classed(m,false);t.classed(n,true);var u=t.attr("class");var v=this._ntkfn_getIndexFromClass(u);this._ntk_parent.selectAll("."+h+".NODE_"+v).attr("stroke",s.LINE_COLOR_SELECTED);var w=this._ntk_graph.getRelatedNodes(v);for(var i=0,x=w.length;i<x;++i){var y=this._ntk_parent.selectAll("."+g+".NODE_"+w[i]);y.select("circle").attr("fill",s.MARKER_COLOR_DEFAULT).attr("stroke",s.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",s.MARKER_OUTLINE_WIDTH_DEFAULT);y.select("text").attr("dx",s.LABEL_OFFSET_X_DEFAULT).style("fill",s.LABEL_COLOR_DEFAULT)}}}}};q.prototype.unhighlight=function(d,s,i){if(i){this.clear()}};q.prototype.clear=function(d){var i=this._ntk_styleDef;if(d){this._ntk_linesWrapper.attr("stroke",i.LINE_COLOR_UNSELECTED);this._ntk_nodesWrapper.select("circle").attr("fill",i.MARKER_COLOR_UNSELECTED).attr("stroke",i.MARKER_OUTLINE_COLOR_UNSELECTED).attr("stroke-width",i.MARKER_OUTLINE_WIDTH_UNSELECTED);this._ntk_nodesWrapper.select("text").attr("dx",i.LABEL_OFFSET_X_UNSELECTED).style("fill",i.LABEL_COLOR_UNSELECTED)}else{this._ntk_linesWrapper.attr("stroke",i.LINE_COLOR_DEFAULT);this._ntk_nodesWrapper.select("circle").attr("fill",i.MARKER_COLOR_DEFAULT).attr("stroke",i.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",i.MARKER_OUTLINE_WIDTH_DEFAULT);this._ntk_nodesWrapper.select("text").attr("dx",i.LABEL_OFFSET_X_DEFAULT).style("fill",i.LABEL_COLOR_DEFAULT)}};q.prototype.destroy=function(){if(this._ntk_parent){this._ntk_parent.selectAll('.'+k).remove()}this._ntk_parent=null;this._ntk_nodesWrapper=null;this._ntk_linesWrapper=null;this._ntk_graph.clear();this._ntk_graph=null;this._ntk_layout.destroy();this._ntk_layout=null;this._ntk_defs=null;if(this._ntk_effectManager&&this._ntk_effectManager.destroy){this._ntk_effectManager.destroy()}};q.prototype._ntkfn_renderChart=function(){var i=this._ntk_parent;var t=this;if(this._ntk_isFirstCreation||this._ntk_isDatasetChanged||this._ntk_isPropertiesChanged){i.selectAll('.'+g).remove();i.selectAll('.'+h).remove();if(this._ntk_isEnhancedStyle&&!this._ntk_defs){this._ntkfn_createGraphicFilter()}else if(!this._ntk_isEnhancedStyle&&this._ntk_defs){i.select("defs").remove();this._ntk_defs=null}if(this._ntk_isFirstCreation||this._ntk_isDatasetChanged){this._ntkfn_layout(50)}}else if(this._ntk_isSizeChanged){this._ntk_layout.stop();this._ntkfn_layout(10)}var j=this._ntk_styleDef;var s=(this._ntk_linesWrapper=i.selectAll('.'+h).data(this._ntk_graph.links));s.enter().append("line");s.exit().remove();s.each(function(d){var r=t._ntkfn_calculateLinePosition(d.source.x,d.source.y,d.target.x,d.target.y);if(t._ntk_isFirstCreation||t._ntk_isDatasetChanged||t._ntk_isPropertiesChanged){d3.select(this).attr("x1",r.x1).attr("y1",r.y1).attr("x2",r.x2).attr("y2",r.y2).attr("opacity",j.OPACITY_DEFAULT).attr("class",h+" NODE_"+d.source.index+" NODE_"+d.target.index).attr("stroke",t._ntkfn_getEffectColor(j.LINE_COLOR_DEFAULT)).attr("stroke-width",j.LINE_WIDTH_DEFAULT)}else if(t._ntk_isSizeChanged){d3.select(this).transition().duration(500).attr("x1",r.x1).attr("y1",r.y1).attr("x2",r.x2).attr("y2",r.y2)}});var u=(this._ntk_nodesWrapper=i.selectAll('.'+g).data(this._ntk_graph.nodes));u.enter().append("g");u.exit().remove();if(this._ntk_isRelayoutWhenDragging){this._ntk_layout.tickfn(function(){s.each(function(d){var r=t._ntkfn_calculateLinePosition(d.source.x,d.source.y,d.target.x,d.target.y);d3.select(this).attr("x1",r.x1).attr("y1",r.y1).attr("x2",r.x2).attr("y2",r.y2)});u.attr("transform",function(d){return"translate("+d.x+", "+d.y+")"})})}else{this._ntk_layout.tickfn(null)}u.each(function(d){var v=d3.select(this);var w,x;if(t._ntk_isRelayoutWhenDragging){w=function(d){d.x=d3.event.x;d.y=d3.event.y;d.eventX=d3.event.x;d.eventY=d3.event.y;d.onDrag=true;t._ntk_layout.resume()};x=function(d){d.onDrag=false}}else{w=function(d){var r=j.MARKER_RADIUS;d.x=Math.max(r,Math.min(t._ntk_width-r,d3.event.x));d.y=Math.max(r,Math.min(t._ntk_height-r,d3.event.y));s.each(function(d){var A=t._ntkfn_calculateLinePosition(d.source.x,d.source.y,d.target.x,d.target.y);d3.select(this).attr("x1",A.x1).attr("y1",A.y1).attr("x2",A.x2).attr("y2",A.y2)});v.attr("transform","translate("+d.x+", "+d.y+")")};x=function(d){d.x=d.originX;d.y=d.originY;s.each(function(d){var r=t._ntkfn_calculateLinePosition(d.source.x,d.source.y,d.target.x,d.target.y);d3.select(this).transition().duration(500).ease("elastic").attr("x1",r.x1).attr("y1",r.y1).attr("x2",r.x2).attr("y2",r.y2)});v.transition().duration(500).ease("elastic").attr("transform","translate("+d.x+", "+d.y+")")}}var y=d3.behavior.drag().origin(d3.functor(d)).on("drag",w).on("dragend",x);d.originX=d.x;d.originY=d.y;if(t._ntk_isFirstCreation||t._ntk_isDatasetChanged||t._ntk_isPropertiesChanged){v.attr("transform","translate("+d.x+", "+d.y+")").attr("class",g+" NODE_"+d.index+" "+k+" "+m);if(t._ntk_isDraggable){v.call(y)}var z=v.append("circle").attr("cx",0).attr("cy",0).attr("r",j.MARKER_RADIUS).attr("fill",t._ntkfn_getEffectColor(j.MARKER_COLOR_DEFAULT)).attr("stroke",j.MARKER_OUTLINE_COLOR_DEFAULT).attr("stroke-width",j.MARKER_OUTLINE_WIDTH_DEFAULT);if(t._ntk_isEnhancedStyle){z.attr("filter","url(#"+t._ID+")")}if(t._ntk_isLabelVisible){v.append("text").text(d.key).style("pointer-events","none").style("font",j.LABEL_FONT).attr("dy",j.LABEL_OFFSET_Y).attr("dx",j.LABEL_OFFSET_X_DEFAULT).style("fill",t._ntkfn_getEffectColor(j.LABEL_COLOR_DEFAULT))}}else if(t._ntk_isSizeChanged){v.transition().duration(500).attr("transform","translate("+d.x+", "+d.y+")")}});this._ntk_dispatch.initialized()};q.prototype._ntkfn_parseData=function(){var d=this._ntk_graph;var j=this._ntk_data.getAnalysisAxisDataByIdx(0);if(j){d.clear();var r=j.values[0];var s=j.values[1];var t=r.rows.length;for(var i=0;i<t;++i){var u=r.rows[i].val,v=s.rows[i].val;var w=O.extend(true,{},r.rows[i].ctx);d.addNode({key:u,ctx:w});w=O.extend(true,{},s.rows[i].ctx);d.addNode({key:v,ctx:w});d.addLink(u,v)}}};q.prototype._ntkfn_parseProperties=function(){this._ntk_isLabelVisible=this._ntk_properties.label.visible;this._ntk_isEnhancedStyle=this._ntk_properties.style===D.ENHANCED;if(!this._ntk_isEnhancedStyle){this._ntk_properties.style=D.NORMAL}this._ntk_styleDef=this._ntk_isEnhancedStyle?p:N;this._ntk_isRelayoutWhenDragging=this._ntk_properties.relayoutWhenDragging;this._ntk_isDraggable=this._ntk_properties.draggable};q.prototype._ntkfn_layout=function(d){this._ntk_layout.graph(this._ntk_graph).width(this._ntk_width).height(this._ntk_height).radius(this._ntk_styleDef.MARKER_RADIUS).maxCount(d).calculate()};q.prototype._ntkfn_getIndexFromClass=function(s){var d=s.split(" ");for(var i=0,j=d.length;i<j;++i){if(d[i].indexOf("NODE")>-1){return parseInt(d[i].split("_")[1],10)}}};q.prototype._ntkfn_calculateLinePosition=function(x,y,i,j){var s=x-i,t=y-j;var d=Math.sqrt(s*s+t*t);var r=this._ntk_styleDef.MARKER_RADIUS;if(d>2*r){x-=r/d*s;y-=r/d*t;i+=r/d*s;j+=r/d*t}else{x=0;i=0;y=0;j=0}return{x1:x,y1:y,x2:i,y2:j}};q.prototype._ntkfn_createGraphicFilter=function(){var d=(this._ntk_defs=this._ntk_parent.append("defs"));var i=d.append("filter").attr("id",this._ID).attr("filterUnits","objectBoundingBox").attr("x","-6").attr("y","-6").attr("width","12").attr("height","12");i.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","2").attr("result","offsetBlur");var j=i.append("feMerge");j.append("feMergeNode").attr("in","offsetBlur");j.append("feMergeNode").attr("in","SourceGraphic")};q.prototype._ntkfn_getEffectColor=function(d){if(!this._ntk_effectManager){return d}var i={fillColor:d};return this._ntk_effectManager.register(i)};return q});define('sap/viz/feeds/Network',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var l={'id':'link','name':'IDS_NETLINK','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'minStackedDims':2,'maxStackedDims':2};var f={id:"network",feeds:[l]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Network',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/network','sap/viz/feeds/Network'],function Setup(M,C,f,N){var m={'id':'sap.viz.modules.network','type':C.Type.Chart,'name':'network','properties':{'label':{'name':'label','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the labels.'},},'description':'Setting for labels in the network chart.'},'style':{'name':'style','supportedValueType':'String','supportedValues':['basic','enhanced'],'defaultValue':'enhanced','description':'~','isExported':false},'relayoutWhenDragging':{'name':'relayoutWhenDragging','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether labels are shown.'},'draggable':{'name':'draggable','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether labels are draggable.','isExported':false}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc},'feeds':{id:"network"},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(N.feeds)};return a});define('sap/viz/manifests/NetworkChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Network','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,R,N,I){var c={id:'viz/network',name:'IDS_NETWORKCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general",propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0}}}},layout:{id:'sap.viz.modules.layout.dock'},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart'],selectability:{mode:"single",plotLassoSelection:false}},propertiesOverride:{selectability:{isExported:false}}}},main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{layout:{position:'center',priority:10}}},modules:{plot:{id:'sap.viz.modules.network',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"}]}};var m={viz:[c],module:[].concat(R.module,N.module,I.module),feeds:[].concat(R.feeds,N.feeds)};return m});define('sap/viz/impls/NetworkChart',['sap/viz/manifests/NetworkChart'],function Setup(N){var m={viz:[].concat(N.viz),module:[].concat(N.module),feeds:[].concat(N.feeds)};return m});define('sap/viz/manifests/xy/PercentageAreaChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/AreaChart'],function Setup(M,R,A){var c={id:'viz/100_area',name:'IDS_PERCENTAGEAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/area',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{'modules':{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'line',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(A.viz),module:[].concat(A.module,R.module),feeds:[].concat(A.feeds,R.feeds)};return m});define('sap/viz/impls/PercentageAreaChart',['sap/viz/manifests/xy/PercentageAreaChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/xy/PercentageHorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/HorizontalAreaChart'],function Setup(M,R,H){var c={id:'viz/100_horizontal_area',name:'IDS_PERCENTAGEHORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/horizontal_area',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{'modules':{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'horizontalline',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(H.viz),module:[].concat(H.module,R.module),feeds:[].concat(H.feeds,R.feeds)};return m});define('sap/viz/impls/PercentageHorizontalAreaChart',['sap/viz/manifests/xy/PercentageHorizontalAreaChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/xy/PercentageHorizontalMekkoChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/HorizontalMekkoChart'],function Setup(M,R,H){var c={id:'viz/100_horizontal_mekko',name:'IDS_PERCENTAGEHORIZONTALMEKKOCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/horizontal_mekko',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{mode:'percentage'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}}}}}};var m={viz:[c].concat(H.viz),module:[].concat(H.module,R.module),feeds:[].concat(H.feeds,R.feeds)};return m});define('sap/viz/impls/PercentageHorizontalMekkoChart',['sap/viz/manifests/xy/PercentageHorizontalMekkoChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/xy/PercentageMekkoChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/xy/MekkoChart'],function Setup(M,R,a){var c={id:'viz/100_mekko',name:'IDS_PERCENTAGEMEKKOCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/mekko',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{mode:'percentage'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}}}}}}}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module),feeds:[].concat(a.feeds,R.feeds)};return m});define('sap/viz/impls/PercentageMekkoChart',['sap/viz/manifests/xy/PercentageMekkoChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/xy/PercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedBar','sap/viz/manifests/xy/StackedBarChart'],function Setup(M,R,S,a){var c={id:'viz/100_stacked_bar',name:'IDS_PERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/stacked_bar',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{type:'value',isPercentMode:true,showZero:true}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_stacked_bar',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,S.module),feeds:[].concat(a.feeds,R.feeds,S.feeds)};return m});define('sap/viz/impls/PercentageStackedBarChart',['sap/viz/manifests/xy/PercentageStackedBarChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/xy/PercentageStackedVerticalBarChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/xy/StackedVerticalBar','sap/viz/manifests/xy/StackedVerticalBarChart'],function Setup(M,S,a){var c={id:'viz/100_stacked_column',name:'IDS_PERCENTAGESTACKEDVERTICALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/stacked_column',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage'}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{isPercentMode:true},propertiesOverride:{scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{type:'value',isPercentMode:true,showZero:true}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_stacked_column',orientation:'bottom',formatString:[["0.00%"],["0.00%"]]}}}}}}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,S.module),feeds:[].concat(a.feeds,S.feeds)};return m});define('sap/viz/impls/PercentageStackedVerticalBarChart',['sap/viz/manifests/xy/PercentageStackedVerticalBarChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/impls/PieChart',['sap/viz/manifests/pie/PieChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/impls/PieWithDepthChart',['sap/viz/manifests/pie/PieWithDepthChart'],function Setup(P){var m={viz:[].concat(P.viz),module:[].concat(P.module),feeds:[].concat(P.feeds)};return m});define('sap/viz/manifests/RadarChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseSingleChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Radar','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Background'],function Setup(M,B,R,a,T,b){var c={id:'viz/radar',name:'IDS_RADARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:"riv/base/single",modules:{root:{configure:{propertyCategory:'general',propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{id:"sap.viz.modules.legend.common",data:{aa:[2,3]}}}},tooltip:{id:"sap.viz.chart.elements.Tooltip",configure:{propertyCategory:'tooltip',properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}},main:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.radar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'outside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up',positionPreference:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legends.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:"root.interaction",listener:"initialize",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,a.module,T.module,b.module),feeds:[].concat(B.feeds,R.feeds,a.feeds,T.feeds,b.feeds)};return m});define('sap/viz/impls/RadarChart',['sap/viz/manifests/RadarChart'],function Setup(R){var m={viz:[].concat(R.viz),module:[].concat(R.module),feeds:[].concat(R.feeds)};return m});define('sap/viz/manifests/scatter/ScatterChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/scatter/BaseBubbleChart','sap/viz/modules/manifests/Scatter','sap/viz/modules/manifests/DataTransform'],function Setup(M,R,B,S,D){var c={id:'viz/scatter',name:'IDS_SCATTERCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:"viz/scatter/single/base",modules:{dataTransform:{id:'sap.viz.modules.datatransform',configure:{propertyCategory:'dataTransform',properties:{dataSampling:{enable:false,sizeFactor:0.5},autoBinning:{enable:null}},propertiesOverride:{autoBinning:{isExported:false}}}},root:{modules:{tooltip:{configure:{properties:{chartType:'scatter'}}},main:{modules:{plot:{id:'sap.viz.modules.scatter',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{isBubbleChart:true,automaticInOutside:false}}}}}}}},dataScale:{primaryValues:{maxValue:["plotArea.maxPriValue"],minValue:["plotArea.minPriValue"]},secondaryValues:{maxValue:["plotArea.maxSecValue"],minValue:["plotArea.minSecValue"]}},valueAxis:['xAxis','yAxis']};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,S.module,D.module),feeds:[].concat(B.feeds,R.feeds,S.feeds,D.feeds)};return m});define('sap/viz/impls/ScatterChart',['sap/viz/manifests/scatter/ScatterChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/modules/scattermatrixcontainer',['jquery','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout','sap/viz/data/handler/MultiChartDataHandler','sap/viz/modules/manifests/Module','sap/viz/util/TextUtils','sap/viz/modules/dispatch','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil','sap/viz/util/ignite','sap/viz/util/fn/createContext','sap/viz/modules/util/dataUtil','sap/viz/base/UADetector'],function Setup($,T,O,F,l,M,a,b,d,c,e,f,g,h,U){return function(j,k){var C='v-subtitle';var w=0,n=0,s=0,o=0,p={},q={},r={},t={},u={},v=null,x=null,y=[];var z=true;var A=false;var B=new d('initialized','showTooltip','hideTooltip'),D=0;var E={};var G;var H=j.props(null);var I=0;var J,K;var L=function(_){if(_===null||_===undefined){return c.get('IDS_ISNOVALUE')}else{return _}};var N={dataLoading:true,dataUpdating:true,resizing:true};var P=true,Q=false;var R='plotArea';function S(m){var _={};var j1=(_[R]={});var k1=(j1.animation={});O.extend(k1,N);if(!m&&Q){k1.dataLoading=N.dataUpdating}var l1=t.plot;for(var i=0,m1=l1.length;i<m1;i++){l1[i].properties(_)}}function V(){var i=k.styleManager.query(C);if(i){if(i['fill']){E.fill=i['fill']}if(i['font-family']){E.family=i['font-family']}if(i['font-size']){E.size=i['font-size']}if(i['font-weight']){E.weight=i['font-weight']}}G=k.styleManager.queryDefault(C)};function W(){var m=r.modules.plot;if(!m)return;delete t.plot;t.plot=[];if(K){K.styleManager.cleanChildren()}var _=q.getMeasureValuesGroupDataByIdx()[0].values.length;for(var j1=0;j1<_;j1++){for(var k1=0;k1<_;k1++){var i=k1*_+j1;if(!J||!K){J=a.get(m.id);K=g(J,k,"v-m-plot")}var l1=t.plot[i]=f(J,K);l1.config(m);D++;if(l1.dispatch){var m1=l1.dispatch();if(m1.initialized)m1.on('initialized.scattermatrixcontainer',g1);if(m1.showTooltip)m1.on('showTooltip.scattermatrixcontainer',h1);if(m1.hideTooltip)m1.on('hideTooltip.scattermatrixcontainer',i1)}}}}function X(){if(T.isExist(p.multiLayout)&&T.isExist(p.multiLayout.plotTitle)&&T.isExist(p.multiLayout.plotTitle.visible)){z=p.multiLayout.plotTitle.visible;H.plotTitle.visible=p.multiLayout.plotTitle.visible}var m=t.plot;if(m){var _=r.modules.plot;if(!_)return;var j1;if(_.configure){if(_.configure.propertyCategory){j1=O.extend(true,{},p[_.configure.propertyCategory])}}else{j1=p}for(var i=0,k1=m.length;i<k1;i++){if(j1){m[i].properties(j1)}}}V()}function Y(){if(y){for(var i=0;i<y.length;++i){var m=y[i].shape;if(m){m.remove()}}}y=[];x=new M(q,"measures");var _=q.getMeasureValuesGroupDataByIdx()[0].values.length;for(var j1=0;j1<_;j1++){for(var k1=0;k1<_;k1++){var l1=x.getSubDataAdapterByMeasures({row:k1,col:j1});var m1=t.plot[k1*_+j1];m1.data(l1);var n1=y[k1*_+j1];if(!n1)n1=y[k1*_+j1]={};n1.empty=(j1==k1);n1.label=(j1==k1?L(l1.getMeasureValuesGroupDataByIdx(0).values[0].col):L(l1.getMeasureValuesGroupDataByIdx(0).values[0].col)+' - '+L(l1.getMeasureValuesGroupDataByIdx(1).values[0].col))}}}function Z(){delete u.plot;v.select('.v-m-plot').remove();if(t.plot&&!u.plot){var _=u.plot=[];var j1=u.plotRoot=v.append('g').attr('class','v-m-plot');for(var i=0,k1=t.plot.length;i<k1;i++){_[i]=j1.append('g').attr('class','v-m-plot'+i);var l1=t.plot[i];var m1=l1.parent(_[i]).modules();l1.retry();var n1=null,o1={label:{}},p1={label:{}};var q1=null;if(p.hasOwnProperty('xAxis')&&m1.hasOwnProperty('xAxis')){q1=l1.data();var r1=q1.getMeasureValuesGroupDataByIdx()[0].values;if(T.isArray(r1)){if(T.isExist(r1[0].rows[0][0].ctx.path)&&T.isExist(p['xAxis'].label)&&T.isExist(p['xAxis'].label.formatString)){if(T.isArray(p['xAxis'].label.formatString)){n1=p['xAxis'].label.formatString[0][r1[0].rows[0][0].ctx.path.mi]}else if(T.isString(p['xAxis'].label.formatString)){n1=p['xAxis'].label.formatString}if(n1){o1.label.formatString=n1;m1['xAxis'].properties(o1)}}}}if(p.hasOwnProperty('yAxis')&&m1.hasOwnProperty('yAxis')){if(!q1){q1=l1.data()}var s1=q1.getMeasureValuesGroupDataByIdx()[1].values;if(T.isArray(s1)){if(T.isExist(s1[0].rows[0][0].ctx.path)&&T.isExist(p['yAxis'].label)&&T.isExist(p['yAxis'].label.formatString)){if(T.isArray(p['yAxis'].label.formatString)){n1=p['yAxis'].label.formatString[0][s1[0].rows[0][0].ctx.path.mi]}else if(T.isString(p['yAxis'].label.formatString)){n1=p['yAxis'].label.formatString}if(n1){p1.label.formatString=n1;m1['yAxis'].properties(p1)}}}}for(var m in m1)if(m1.hasOwnProperty(m))t['plot['+i+']'+'.'+m]=m1[m]}}}function a1(){if(T.isEmptyObject(r))F.error('Container configuration missing');D=0;W();X();Y();Z()};function b1(){if(T.isEmptyObject(t)||!w||!n)return;V();var m=q.getMeasureValuesGroupDataByIdx()[0].values.length;s=w/m;o=n/m;var i=f1();var _=i.height;if(!z||i.width>s||i.height>o/3){_=0;A=true}for(var j1=0;j1<m;j1++){for(var k1=0;k1<m;k1++){var l1=t.plot[k1*m+j1];var m1=u.plot[k1*m+j1];l1.width(s).height(o-_);m1.attr('transform','translate('+(s*j1)+','+(o*k1)+')')}}};function c1(i){i.each(function(q){if(!P&&Q){S()}I=0;v=i;e.drawBound(i,w,n);if(T.isEmptyObject(t)){a1()}b1();d1();if(!P&&Q){S(true)}});P=false,Q=false;return c1}c1.width=function(_){if(!arguments.length)return w;if(w!==_){w=_;b1()}return c1};c1.height=function(_){if(!arguments.length)return n;if(n!==_){n=_;b1()}return c1};c1.size=function(_){if(!arguments.length)return{'width':w,'height':n};if(n!==_.height||w!==_.width){n=_.height;w=_.width;b1()}return c1};c1.data=function(_){if(!arguments.length)return q;Q=true;var i=false;if(!h().hasSameSchema(q,_)){i=true}q=_;if(!T.isEmptyObject(t)){if(i){D=0;W();X();Y();Z()}else{Y()}}return c1};c1.properties=function(_){if(!arguments.length)return H;p=$.extend(true,{},p,_);O.extend(true,H,p["multiLayout"]);if(p[R]){O.extend(N,p[R].animation)}if(!T.isEmptyObject(t)){X();Y();Z()}return c1};c1.config=function(_){if(!arguments.length)return r;r=_;return c1};c1.modules=function(_){if(!arguments.length){if(T.isEmptyObject(t)){a1()}return t}t=_;return c1};c1.parent=function(_){if(!arguments.length)return v;v=_;return c1};c1.getPropertyZone=function(_){var i=v.selectAll(".v-subtitle");var m=[];var j1=[];i.each(function(){var k1=[];var l1=this.getBoundingClientRect();k1.push([l1.left,l1.top]);k1.push([l1.right,l1.top]);k1.push([l1.right,l1.bottom]);k1.push([l1.left,l1.bottom]);j1.push(k1)});if(j1.length>0){m.push({'name':'subtitle','bound':j1})}return m};c1.dispatch=function(_){if(!arguments.length){return B}B=_;return c1};function d1(){if(u.plot){for(var i=0,m=u.plot.length;i<m;i++){if(y[i].empty){e1(u.plot[i],y[i],o/2);g1()}else{t.plot[i].width(s);u.plot[i].datum(t.plot[i].data()).call(t.plot[i]);e1(u.plot[i],y[i],o)}}}A=false};function e1(i,m,_){if(m.shape){m.shape.remove()}if(A){return}var j1=b.fastMeasure(m.label,E.size,E.weight,E.family);m.shape=i.append('text').attr('class',C+' '+'viz-matrix-sub-title').attr('text-anchor','middle').attr('x',s/2).attr('y',U.isIE()?_:_-j1.height/2).attr('dominant-baseline','middle').style('cursor','default');G.toAttrs(m.shape);b.ellipsis(m.label,m.shape.node(),s-5,"font:"+E.weight+' '+E.size+' '+E.family)};function f1(){var m=0,_=0;for(var i=0,j1=y.length;i<j1;i++){var k1=b.fastMeasure(y[i].label,E.size,E.weight,E.family);_=k1.height>_?k1.height:_;m=k1.width>m?k1.width:m}return{width:m,height:_}}function g1(){if(++I==D){I=0;B.initialized()}}function h1(i){B.showTooltip(i)};function i1(i){B.hideTooltip(i)};return c1}});define('sap/viz/feeds/ScatterMatrix',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"scattermatrix",feeds:[{'id':'regionColor','name':'IDS_REGIONCOLOR','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'IDS_REGIONSHAPE','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':2,'max':c.Constraints.INF,'mgIndex':1}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/ScatterMatrixContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/scattermatrixcontainer','sap/viz/feeds/ScatterMatrix'],function Setup(M,C,f,S){var m={'id':'sap.viz.modules.scattermatrixcontainer','type':C.Type.Container,'name':'Scatter Matrix Container','description':'Settings for the layout of subcharts for scatter matrix charts.','properties':{'plotTitle':{'name':'plotTitle','description':'Settings for the plot title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the sub plot title.'}}}},'css':{'.viz-matrix-sub-title.v-subtitle':{'description':'Define style for the sub plot title.','value':{'fill':'#000000','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'bold'}}},'feeds':{id:'scattermatrix'},'events':{'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'fn':f};var a={viz:[],module:[m],feeds:[].concat(S.feeds)};return a});define('sap/viz/modules/manifests/ScatterInMatrix',['sap/viz/modules/manifests/Module','sap/viz/modules/manifests/Scatter'],function Setup(M,S){var m={'id':'sap.viz.modules.scatterInMatrix',base:'sap.viz.modules.scatter','name':'scatterInMatrix','feeds':null};var a={viz:[],module:[m].concat(S.module),feeds:[].concat(S.feeds)};return a});define('sap/viz/manifests/ScatterMatrixChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/ScatterMatrixContainer','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/XYContainer','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/ScatterInMatrix'],function Setup(M,R,T,S,L,X,a,A,b){var s={id:'viz/scatter_matrix',name:'IDS_SCATTERMATRIXCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'scattermatrix',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction'}},main:{id:'sap.viz.modules.scattermatrixcontainer',configure:{propertyCategory:'multiLayout',properties:{layout:{position:'center',priority:10}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{description:'Settings for the x axis of a normal bubble or scatter plot',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{description:'Settings for the y axis of a normal bubble or scatter plot',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:false}},propertiesOverride:{label:{hideSubLevels:{isExported:false}}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,position:'outside',automaticInOutside:false}}},plot:{id:'sap.viz.modules.scatterInMatrix',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main.plot.xAxis',source:'range'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main.plot.yAxis',source:'range'},{targetModule:'root.main.plot.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis2Scale'},{targetModule:'root.main.plot.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis1Scale'},{targetModule:'root.main.plot.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis1Title'},{targetModule:'root.main.plot.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis2Title'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main',type:'initialized.interaction'},{targetModule:'root.main.plot.dataLabel',listener:'showLabel',sourceModule:'root.main.plot.plot',type:'initialized.datalabel'},{targetModule:'root.main.plot.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main',type:'initialized.defaultSelection'}]}};var m={viz:[s],module:[].concat(R.module,T.module,S.module,L.module,X.module,a.module,A.module,b.module),feeds:[].concat(R.feeds,T.feeds,S.feeds,L.feeds,X.feeds,a.feeds,A.feeds,b.feeds)};return m});define('sap/viz/impls/ScatterMatrixChart',['sap/viz/manifests/ScatterMatrixChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/manifests/SimpleChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/layout/Dock','sap/viz/modules/manifests/layout/Stack'],function Setup(M,R,T,D,a,S){var c={id:'riv/simple',name:'IDS_SIMPLECHART',isBuiltIn:true,'abstract':true,modules:{root:{id:'sap.viz.modules.rootContainer',configure:{propertyCategory:'general'},modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title',properties:{layout:{position:'top',priority:0}}}},main:{id:'sap.viz.modules.xycontainer',configure:{propertyCategory:'xyContainer',properties:{layout:{position:'center',priority:10}}}},layout:{id:'sap.viz.modules.layout.dock'}}}},dependencies:{}};var m={viz:[c],module:[].concat(R.module,T.module,D.module,a.module,S.module),feeds:[].concat(R.feeds,T.feeds,D.feeds,a.feeds,S.feeds)};return m});define('sap/viz/impls/SimpleChart',['sap/viz/manifests/SimpleChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/impls/StackedBarChart',['sap/viz/manifests/xy/StackedBarChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/impls/StackedVerticalBarChart',['sap/viz/manifests/xy/StackedVerticalBarChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/impls/StackedWaterfallChart',['sap/viz/manifests/xy/StackedWaterfallChart'],function Setup(S){var m={viz:[].concat(S.viz),module:[].concat(S.module),feeds:[].concat(S.feeds)};return m});define('sap/viz/modules/tagcloud/rowLayout',['sap/viz/util/TextUtils','sap/viz/util/NumberUtils'],function Setup(T,N){var r=function(){var w=300,h=300,c=[],f='';var t='Mixed';var a=function(){};a.numOfTruncation=function(_){return a};a.textDirection=function(_){if(!arguments.length){return t}t=_;return a};a.width=function(_){if(!arguments.length){return w}w=_;return a};a.height=function(_){if(!arguments.length){return h}h=_;return a};a.data=function(_){if(!arguments.length){return c}c=_;return a};a.font=function(_){if(!arguments.length){return f}f=_;return a};a.layout=function(){b();return a};var b=function(){var g=c;var d,j,i,l;var s=0;var m=0,k=0,n=0;for(i=0,l=g.length;i<l;i++){d=g[i];d.word.val=d.originalWord;d.x=undefined;d.y=undefined;var o=T.fastMeasure('MMM...',d.fontSize+'px','normal',f).width;if(k<=h){j=T.fastMeasure(g[i].word.val+'i',g[i].fontSize+'px','normal',f);d.width=j.width;d.height=j.height}else{d.width=0;d.height=0;continue}if((o>w)||(d.height>h)||(N.isNoValue(g[i].fontSize))){continue}if(s+d.width>w){s=0;e(n,i,k+m);n=i;k=k+m;m=g[i].height}if(d.height>m){m=d.height}d.x=s;d.y=k;s=s+d.width;if(d.width>w){d.word.val=T.ellipsis(d.originalWord,null,w,'font-weight:'+'normal'+';font-family:'+f+';font-size:'+d.fontSize+'px')}d.rotate=undefined}e(n,i,k+m)};var e=function(s,d,n){var A;for(var j=s;j<d;j++){A=c[j];if(A.y!==undefined){A.y=n}}};return a};return r});define('sap/viz/modules/tagcloud/columnLayout',['sap/viz/util/TextUtils','sap/viz/util/NumberUtils'],function Setup(T,N){var c=function(){var w=300,h=300,a=[],f='';var t='Mixed';var b=function(){};b.numOfTruncation=function(_){return b};b.textDirection=function(_){if(!arguments.length){return t}t=_;return b};b.width=function(_){if(!arguments.length){return w}w=_;return b};b.height=function(_){if(!arguments.length){return h}h=_;return b};b.data=function(_){if(!arguments.length){return a}a=_;return b};b.font=function(_){if(!arguments.length){return f}f=_;return b};b.layout=function(){e();return b};var e=function(){var g=a;var d,j;var s=0,k=0;for(var i=0,l=g.length;i<l;i++){d=g[i];d.word.val=d.originalWord;d.x=undefined;d.y=undefined;var m=T.fastMeasure('MMM...',d.fontSize+'px','normal',f).width;if(k<=h){j=T.fastMeasure(g[i].word.val+'i',g[i].fontSize+'px','normal',f);d.width=j.width;d.height=j.height}else{d.width=0;d.height=0;continue}if((m>w)||(d.height>h)||N.isNoValue(g[i].fontSize)){continue}k=k+d.height;d.x=s;d.y=k;if(d.width>w){d.word.val=T.ellipsis(d.originalWord,null,w,'font-weight:'+'normal'+';font-family:'+f+';font-size:'+d.fontSize+'px')}d.rotate=undefined}};return b};return c});define('sap/viz/modules/tagcloud/wordleLayout',['sap/viz/util/TextUtils','sap/viz/util/NumberUtils'],function Setup(T,N){var e=function(){var f=300,g=300,k=[],l='';var m='Mixed';var n,s,o,p;var q=10;var r=false;var u=false;var v=null,z=null,A=null,B=null;var C=null,D=null,E=false;var F=null;var G=function(){};G.numOfTruncation=function(_){if(!arguments.length){return q}q=_;return G};G.textDirection=function(_){if(!arguments.length){return m}m=_;return G};G.width=function(_){if(!arguments.length){return f}f=_;return G};G.height=function(_){if(!arguments.length){return g}g=_;return G};G.data=function(_){if(!arguments.length){return k}_.sort(function(a,b){if(a.wordSize&&b.wordSize){if(b.wordSize.val===a.wordSize.val){return a.order-b.order}return b.wordSize.val-a.wordSize.val}});k=_;return G};G.font=function(_){if(!arguments.length){return l}l=_;return G};G.layout=function(){var a=false,b=0;n=[];s=[];o=[];p=[];while(!a){a=H(++b)}return G};var H=function(a){var t=k,b,h,d,j,w;for(var i=0,x=t.length;i<x;i++){if(i>=q){r=true}u=false;v=null;z=null;A=null;B=null;C=null;D=null;E=false;d=t[i];d.word.val=d.originalWord;if(N.isNoValue(d.fontSize)){continue}b=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',l);d.width=b.width;d.height=b.height;d.x=undefined;d.y=undefined;d.rect=new L(d.width,d.height);F=T.fastMeasure('MMM...',d.fontSize+'px','normal',l).width;if(!j){var y;switch(m){case'Mixed':if(d.rect.w<=f&&d.rect.h<=g){y=false}else{if(d.rect.h<=f&&d.rect.w<=g){y=true}else{if(d.rect.w>f&&f>=F&&d.rect.h<=g){y=false;u=true}else{if(d.rect.w>g&&g>=F&&d.rect.h<=f){y=true;u=true}}}}break;case'Vertical':if(d.rect.h<=f&&d.rect.w<=g){y=true}else{if(d.rect.w>g&&g>=F&&d.rect.h<=f){y=true;u=true}}break;case'Horizontal':if(d.rect.w<=f&&d.rect.h<=g){y=false}else{if(d.rect.w>f&&f>=F&&d.rect.h<=g){y=false;u=true}}break}if(y!==undefined){j=d;if(!u){if(y){d.rect.rotate()}}else{if(y){d.rect.rotate();d.rect.h=g}else{d.rect.w=f}}d.rect.position(f/2,g/2);w=true}}else{if(w===false&&h){if(b.width>=h.width&&b.height>=h.height){continue}}var M=[];M.push(j);while(M.length!==0){var O=M.shift();if(O.child){O.child.forEach(function(c){if(c){M.push(c)}})}w=I(d,O,j);if(w){break}}if(!w){if(u){if(!E){if(D===0||D===2){d.rect.w=2*((f-v>v)?v:(f-v));d.rect.h=B;d.rect.position(v,z)}else if(D===1){d.rect.w=f-(v-A/2);d.rect.h=B;d.rect.position(v-A/2+(f-(v-A/2))/2,z)}else if(D===3){d.rect.w=v+A/2;d.rect.h=B;d.rect.position((v+A/2)/2,z)}K(d.rect,j);C.child[D]=d;d.grandParent=((D>=2)?(D-2):(D+2));d.rect.rotated=false;w=true}else{if(D===1||D===3){d.rect.w=A;d.rect.h=2*((g-z>z)?z:(g-z));d.rect.position(v,z)}else if(D===2){d.rect.w=A;d.rect.h=g-(z-B/2);d.rect.position(v,z-B/2+(g-(z-B/2))/2)}else if(D===0){d.rect.w=A;d.rect.h=z+B/2;d.rect.position(v,(z+B/2)/2)}K(d.rect,j);C.child[D]=d;d.grandParent=((D>=2)?(D-2):(D+2));d.rect.rotated=true;w=true}}}else{u=false;v=null;z=null;A=null;B=null;C=null;D=null;E=false}}h=b;if(w){d.x=d.rect.x;d.y=d.rect.y;var P=-b.y-(b.height/2),Q=d.rect.rotated;if(!u){if(Q){d.x-=P;d.rotate=90}else{d.y+=P;d.rotate=0}}else{if(Q){d.x-=P;d.rotate=90;d.word.val=T.ellipsis(d.originalWord,null,d.rect.h,'font-weight:'+'normal'+';font-family:'+l+';font-size:'+d.fontSize+'px')}else{d.y+=P;d.rotate=0;d.word.val=T.ellipsis(d.originalWord,null,d.rect.w,'font-weight:'+'normal'+';font-family:'+l+';font-size:'+d.fontSize+'px')}}}}t.forEach(function(d){delete d.child;delete d.rect;delete d.grandParent});return true};function I(t,a,b){var L=t.rect;var c=a.child;var d=a.grandParent;if(!c){c=[];a.child=c}var x,y;var i,j;var h,w;switch(m){case'Mixed':for(j=0;j<2;j++){if(j===1){L.rotate()}for(i=0;i<4;i++){if(c[i]){continue}if(d===i){continue}if(j===0){L.w=t.width;L.h=t.height}else{L.w=t.height;L.h=t.width}switch(i){case 0:x=a.rect.x;y=a.rect.y0-L.h/2;break;case 1:y=a.rect.y;x=a.rect.x1+L.w/2;break;case 2:x=a.rect.x;y=a.rect.y1+L.h/2;break;case 3:y=a.rect.y;x=a.rect.x0-L.w/2;break}if(!u&&!r){v=x;z=y;A=L.w;B=L.h;C=a;D=i;if(j===1){E=true}else{E=false}}L.position(x,y);if(L.x0>=0&&L.y0>=0&&L.x1<=f&&L.y1<=g){if(J(L,b)){K(L,b);c[i]=t;t.grandParent=((i>=2)?(i-2):(i+2));return true}}else{if(!u&&!r){if(!E){if(z-B/2>=0&&z+B/2<=g){if(D===0||D===2){h=2*((f-v>v)?v:(f-v));if(h>=F){L.w=h;L.h=B;L.position(v,z);if(J(L,b)){u=true}else{u=false}}}else if(D===1){if((f-(v-A/2))>=F){L.w=f-(v-A/2);L.h=B;L.position(v-A/2+(f-(v-A/2))/2,z);if(J(L,b)){u=true}else{u=false}}}else if(D===3){if(v+A/2>=F){L.w=v+A/2;L.h=B;L.position((v+A/2)/2,z);if(J(L,b)){u=true}else{u=false}}}}}else{if(v-A/2>=0&&v+A/2<=f){if(D===1||D===3){w=2*((g-z>z)?z:(g-z));if(w>=F){L.w=A;L.h=w;L.position(v,z);if(J(L,b)){u=true}else{u=false}}}else if(D===2){if((g-(z-B/2))>=F){L.w=A;L.h=g-(z-B/2);L.position(v,z-B/2+(g-(z-B/2))/2);if(J(L,b)){u=true}else{u=false}}}else if(D===0){if(z+B/2>=F){L.w=A;L.h=z+B/2;L.position(v,(z+B/2)/2);if(J(L,b)){u=true}else{u=false}}}}}}}}}break;case'Vertical':L.rotate();for(i=0;i<4;i++){if(c[i]){continue}if(d===i){continue}L.w=t.height;L.h=t.width;switch(i){case 0:x=a.rect.x;y=a.rect.y0-L.h/2;break;case 1:y=a.rect.y;x=a.rect.x1+L.w/2;break;case 2:x=a.rect.x;y=a.rect.y1+L.h/2;break;case 3:y=a.rect.y;x=a.rect.x0-L.w/2;break}if(!u&&!r){v=x;z=y;A=L.w;B=L.h;C=a;D=i;E=true}L.position(x,y);if(L.x0>=0&&L.y0>=0&&L.x1<=f&&L.y1<=g){if(J(L,b)){K(L,b);c[i]=t;t.grandParent=((i>=2)?(i-2):(i+2));return true}}else{if(!u&&!r){if(v-A/2>=0&&v+A/2<=f){if(D===1||D===3){w=2*((g-z>z)?z:(g-z));if(w>=F){L.w=A;L.h=w;L.position(v,z);if(J(L,b)){u=true}else{u=false}}}else if(D===2){if((g-(z-B/2))>=F){L.w=A;L.h=g-(z-B/2);L.position(v,z-B/2+(g-(z-B/2))/2);if(J(L,b)){u=true}else{u=false}}}else if(D===0){if(z+B/2>=F){L.w=A;L.h=z+B/2;L.position(v,(z+B/2)/2);if(J(L,b)){u=true}else{u=false}}}}}}}break;case'Horizontal':for(i=0;i<4;i++){if(c[i]){continue}if(d===i){continue}L.w=t.width;L.h=t.height;switch(i){case 0:x=a.rect.x;y=a.rect.y0-L.h/2;break;case 1:y=a.rect.y;x=a.rect.x1+L.w/2;break;case 2:x=a.rect.x;y=a.rect.y1+L.h/2;break;case 3:y=a.rect.y;x=a.rect.x0-L.w/2;break}if(!u&&!r){v=x;z=y;A=L.w;B=L.h;C=a;D=i;E=false}L.position(x,y);if(L.x0>=0&&L.y0>=0&&L.x1<=f&&L.y1<=g){if(J(L,b)){K(L,b);c[i]=t;t.grandParent=((i>=2)?(i-2):(i+2));return true}}else{if(!u&&!r){if(z-B/2>=0&&z+B/2<=g){if(D===0||D===2){h=2*((f-v>v)?v:(f-v));if(h>=F){L.w=h;L.h=B;L.position(v,z);if(J(L,b)){u=true}else{u=false}}}else if(D===1){if((f-(v-A/2))>=F){L.w=f-(v-A/2);L.h=B;L.position(v-A/2+(f-(v-A/2))/2,z);if(J(L,b)){u=true}else{u=false}}}else if(D===3){if(v+A/2>=F){L.w=v+A/2;L.h=B;L.position((v+A/2)/2,z);if(J(L,b)){u=true}else{u=false}}}}}}}break}if(m==='Mixed'||m==='Vertical'){L.rotate()}return false}function J(L,a){var b=L.northEast(a.rect);var c=L.southEast(a.rect);var d=L.southWest(a.rect);var h=L.northWest(a.rect);if(n.length===0){n.push(a.rect)}if(s.length===0){s.push(a.rect)}if(o.length===0){o.push(a.rect)}if(p.length===0){p.push(a.rect)}var i;if(b){for(i=0;i<n.length;i++){if(!L.notInterects(n[i])){return false}}}if(c){for(i=0;i<s.length;i++){if(!L.notInterects(s[i])){return false}}}if(d){for(i=0;i<o.length;i++){if(!L.notInterects(o[i])){return false}}}if(h){for(i=0;i<p.length;i++){if(!L.notInterects(p[i])){return false}}}return true}function K(L,a){var i=L.northEast(a.rect);var b=L.southEast(a.rect);var c=L.southWest(a.rect);var d=L.northWest(a.rect);if(i){n.push(L)}if(b){s.push(L)}if(c){o.push(L)}if(d){p.push(L)}}function L(w,h){this.w=w;this.h=h;this.rotated=false}L.prototype={position:function(x,y){this.x=x;this.y=y;var _=this.w/2,a=this.h/2;this.x0=x-_;this.x1=x+_;this.y0=y-a;this.y1=y+a},notInterects:function(L){return this.x1<=L.x0||this.x0>=L.x1||this.y1<=L.y0||this.y0>=L.y1},northEast:function(L){return this.x1>=L.x0&&this.y0<=L.y0},southEast:function(L){return this.y1>=L.y0&&this.x1>=L.x1},southWest:function(L){return this.y1>=L.y1&&this.x0<=L.x1},northWest:function(L){return this.y0<=L.y1&&this.x0<=L.x0},rotate:function(){this.rotated=!this.rotated;var t=this.h;this.h=this.w;this.w=t}};return G};return e});define('sap/viz/modules/tagcloud',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/util/ColorSeriesGenerator','sap/viz/lang/langManager','sap/viz/modules/tagcloud/rowLayout','sap/viz/modules/tagcloud/columnLayout','sap/viz/modules/tagcloud/wordleLayout','sap/viz/util/MeasureBasedColoring','sap/viz/util/NumberUtils','sap/viz/base/utils/ObjectUtils','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/Constants'],function Setup(o,B,T,c,C,l,R,e,W,M,N,O,t,f,g,h,k){var m="v-datapoint",n=k.CSS.CLASS.MORPHABLEDATAPOINT;var p=m+' '+n;var q='v-hovershadow';var r={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'color':'#555555','hoverTextColor':'#FFFFFF','selectedTextColor':'#FFFFFF'};var D=l.get('IDS_ISNOVALUE');var s=480;var u=function(a,b){u.superclass.constructor.apply(this,arguments);this._tag_minFontSize=-1;this._tag_maxFontSize=-1;this._tag_width=400;this._tag_height=200;this._tag_wrap=null;this._tag_wrapRect=null;this._tag_chartData={};this._tag_tagArr=[];this._tag_maxfont=s/10;this._tag_minfont=s/40;this._tag_fontColorScale=undefined;this._tag_selectionList=[];this._tag_effectManager=b.effectManager;this._tag_randomSuffix=O.guid();this._tag_minFontFamily=Number.MAX_VALUE;this._tag_maxFontFamily=Number.MIN_VALUE;this._tag_hasNullValue=false;this._tag_tooltipVisible=true;this._tag_style={};this._tag_opacity=1;this._tag_options=a.props(null);this._tag_textDirection=this._tag_options.layout.textDirection;this._tag_layoutMode=this._tag_options.layout.mode;this._tag_numOfTruncation=this._tag_options.numOfTruncation;this._tag_eDispatch=new c('initialized','showTooltip','hideTooltip');this._tag_isDataSchemaChanged=false;this._tag_isDataLoading=true;this._tag_isSizeChanged=false;this._tag_isDatasetChanged=false;this._tag_hasDefaultSelection=false;this._tagfn_getCSSStyle(b)};o.extend(u,B);u.prototype.render=function(a){var b=this;a.each(function(){g.drawBound(a,b._tag_width,b._tag_height);b._tagfn_calculateTagPosition();var v=b._tagfn_filterData();b._tag_wrap=d3.select(this);b._tag_wrapRect=b._tag_wrap.node().getBoundingClientRect();if((b._tag_isDatasetChanged&&!b._tag_wrap.selectAll('g.v-datashape').empty())||b._tag_isSizeChanged){b._tag_wrap.selectAll('g.v-datashape').remove()}else if(!b._tag_wrap.selectAll('g.v-datashape').empty()){b._tag_wrap.selectAll('g.v-datashape').select('rect').remove()}b._tag_wrap.attr('style','cursor:default');var w=b._tag_wrap.selectAll('g.v-datashape').data(v,function(d,i){return(d.word?d.word.val:"")+" "+(d.wordFontFamily?d.wordFontFamily.val:"")+" "+(d.wordSize?d.wordSize.val:"")});w.selectAll('text').data(function(d,i){return d}).text(function(d,i){return d.word.val});var x=w.enter().append('g').attr('class','v-datashape').append('text').text(function(d,i){return d.word.val}).attr('id',function(d,i){return'TAG_ID_'+i+b._tag_randomSuffix}).attr('class',p).attr('visibility',function(d,i){var j='visible';if(N.isNoValue(d.fontSize)||d.x===undefined||d.y===undefined){j='hidden'}return j}).attr('font-size',function(d,i){return d.fontSize}).attr('font-family',r.fontfamily);w.exit().attr('transform','translate(-1000, -1000)');w.selectAll('.v-datapoint').attr("fill",function(d,i){var y;if(b._tag_fontColorScale&&d.wordFontFamily!==null&&d.wordFontFamily.val!==null){var j,z,A=b._tag_fontColorScale.domain();var E=b._tag_fontColorScale.domainInfo;for(j=0,z=A.length-1;j<z;j++){if(d.wordFontFamily.val!==null){if((d.wordFontFamily.val>A[j][0])&&(d.wordFontFamily.val<A[j][1])){break}else if(!E[j].isLeftOpen&&d.wordFontFamily.val===A[j][0]){break}else if(!E[j].isRightOpen&&d.wordFontFamily.val===A[j][1]){break}}}y=b._tag_fontColorScale(A[j])}else{y=r.color}var F={fillColor:y,drawingEffect:"normal"};var G=b._tag_effectManager.register(F);d.originalColor=G;return G}).attr('text-anchor',function(){if(b._tag_layoutMode==='Wordle'){return'middle'}else{return'start'}});w.selectAll('text').attr('fill-opacity',b._tag_opacity);if(b._tagfn_enableAnimation()){w.transition().attr('transform',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined&&d.y<b._tag_height&&d.x<b._tag_width){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}return j}).duration(800).delay(100).each('end',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined&&d.y<b._tag_height&&d.x<b._tag_width){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}this.setAttribute('transform',j);if(i===v.length-1&&b._tag_eDispatch){b._tag_eDispatch.initialized()}})}else{w.attr('transform',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}return j});setTimeout(b._tag_eDispatch.initialized,0)}b._tag_isDataSchemaChanged=false,b._tag_isDataLoading=false,b._tag_isSizeChanged=false,b._tag_isDatasetChanged=false})};u.prototype._tag_changeExtremeFont=function(){var a=(this._tag_width<this._tag_height?this._tag_width:this._tag_height);if(a<s){this._tag_maxfont=a/10;this._tag_minfont=a/40}else{this._tag_maxfont=s/10;this._tag_minfont=s/40}};u.prototype.width=function(_){if(!arguments.length){return this._tag_width}if(!this._tag_isSizeChanged&&(_===this._tag_width)){this._tag_isSizeChanged=false}else{this._tag_isSizeChanged=true;this._tag_width=_;this._tag_changeExtremeFont()}this._tagfn_calculateFontSize(this._tag_minFontSize,this._tag_maxFontSize);return this};u.prototype.height=function(_){if(!arguments.length){return this._tag_height}if(!this._tag_isSizeChanged&&(_===this._tag_height)){this._tag_isSizeChanged=false}else{this._tag_isSizeChanged=true;this._tag_height=_;this._tag_changeExtremeFont()}this._tagfn_calculateFontSize(this._tag_minFontSize,this._tag_maxFontSize);return this};u.prototype.data=function(_){if(!arguments.length){return this._tag_chartData}var d={};d.words=_.getAnalysisAxisDataByIdx(0).values[0];var w=_.getMeasureValuesGroupDataByIdx(0);if(w&&_.getMeasureValuesGroupDataByIdx(0).values.length>0){d.wordsSize=_.getMeasureValuesGroupDataByIdx(0).values[0]}else{d.wordsSize=undefined}if(w.values[0]&&w.values[0].rows[0][0].info&&w.values[0].rows[0][0].info.defaultSelection){this._tag_hasDefaultSelection=true}else{this._tag_hasDefaultSelection=false}var a=_.getMeasureValuesGroupDataByIdx(1);if(a&&a.values.length>0){d.wordsFontFamily=_.getMeasureValuesGroupDataByIdx(1).values[0]}else{d.wordsFontFamily=undefined;this._tag_fontColorScale=undefined}this._tagfn_parseData(d);this._tag_isDatasetChanged=true;this._tag_isDataSchemaChanged=this._tagfn_isDatasetChanged(d);this._tag_chartData=d;return this};u.prototype.properties=function(a){if(!arguments.length){return this._tag_options}f.extend(true,this._tag_options,a);this._tagfn_parseOption();return this};u.prototype.dispatch=function(_){if(!arguments.length){return this._tag_eDispatch}this._tag_eDispatch=_;return this};u.prototype.mbcLegendInfo=function(){var a=this._tag_chartData.wordsFontFamily?this._tag_chartData.wordsFontFamily.col:'';return{'colorScale':this._tag_fontColorScale,'title':a}};u.prototype.parent=function(){return this._tag_wrap};u.prototype.highlight=function(a,b){if(!T.isArray(a)){a=[a]}for(var i=0,d=a.length;i<d;i++){a[i].setAttribute('fill-opacity',1);if(b){a[i].setAttribute('fill',r.hoverTextColor)}else{a[i].setAttribute('fill',r.selectedTextColor)}if(a[i].parentNode){var j=a[i].parentNode;var v=a[i].getBBox();if(d3.select(j).select('rect')[0][0]===null){d3.select(j).insert('rect','text').attr("class",q).attr('width',v.width).attr('height',v.height).attr('x',v.x).attr('y',v.y).style('visibility','visible').attr('fill',this._tag_style.hoverline.fill)}else{d3.select(j).select('rect').style('visibility','visible')}}}if(this._tag_hasDefaultSelection){h.clearSelectionInfo(this._tag_wrap,true,a)}};u.prototype.unhighlight=function(a,b,d){if(!T.isArray(a)){a=[a]}if(!b&&!d){for(var i=0;i<a.length;i++){a[i].setAttribute('fill',d3.select(a[i]).data()[0]['originalColor']);a[i].setAttribute('fill-opacity',0.4);d3.select(a[i].parentNode).select('rect').style('visibility','hidden')}}else{if(!b){for(var j=0;j<a.length;j++){a[j].setAttribute('fill',d3.select(a[j]).data()[0]['originalColor']);if(d){a[j].setAttribute('fill-opacity',1);d3.select(a[j].parentNode).select('rect').style('visibility','hidden')}else{a[j].setAttribute('fill-opacity',0.4)}}}}if(this._tag_hasDefaultSelection){h.clearSelectionInfo(this._tag_wrap,false,a)}};u.prototype.clear=function(a){if(a===null||a===false||a===undefined){var w=this._tag_wrap.selectAll('.v-datapoint');w.attr('fill-opacity',1);this._tag_opacity=1;if(this._tag_hasDefaultSelection){h.clearSelectionInfo(this._tag_wrap,false,w)}}else{this._tag_wrap.selectAll('.v-datapoint').attr('fill-opacity',0.4)}};u.prototype.getDatapointsByRange=function(a){var d=this._tag_wrap.selectAll('.v-datapoint')[0],b=[],j=a.ctx.ranges,v;for(var i=0,w=d.length;i<w;i++){v=d[i].__data__.wordFontFamily.val;if(a.val==="N/A"){if(N.isNoValue(v)){b.push(d[i])}}else{if(v<j.endValue&&v>j.startValue){b.push(d[i])}else{if(!j.isLeftOpen&&v===j.startValue){b.push(d[i])}else if(!j.isRightOpen&&v===j.endValue){b.push(d[i])}}}}return b};u.prototype._tagfn_enableAnimation=function(){var a=false;if(this._tag_isDataLoading){a=this._tag_options.animation.dataLoading}else if(this._tag_isDatasetChanged){a=this._tag_options.animation.dataUpdating}else if(this._tag_isSizeChanged){a=this._tag_options.animation.resizing}return a};u.prototype._tagfn_isDatasetChanged=function(a){var b=this._tag_chartData,d=false;if(b.words&&a.words){if(b.words.rows.length!==a.words.rows.length){d=true}else if((b.wordsFontFamily&&!a.wordsFontFamily)||(!b.wordsFontFamily&&a.wordsFontFamily)){d=true}else{var j=b.words.rows,v=a.words.rows;for(var i=0,L=j.length;i<L;i++){if(j[i].val!==v[i].val){d=true;break}}}}return d};u.prototype._tagfn_parseOption=function(){if(this._tag_options.layout instanceof Object){this._tag_layoutMode=this._tag_options.layout.mode}else{this._tag_layoutMode=this._tag_options.layout}if(this._tag_layoutMode!=='Row'&&this._tag_layoutMode!=='Column'&&this._tag_layoutMode!=='Wordle'){this._tag_layoutMode='Wordle'}this._tag_textDirection=this._tag_options.layout.textDirection;if(this._tag_textDirection!=='Mixed'&&this._tag_textDirection!=='Vertical'&&this._tag_textDirection!=='Horizontal'){this._tag_textDirection='Mixed'}this._tag_tooltipVisible=this._tag_options.tooltip.enabled;if(this._tag_fontColorScale){this._tagfn_calculateFontFamily(this._tag_minFontFamily,this._tag_maxFontFamily,this._tag_hasNullValue)}this._tag_numOfTruncation=this._tag_options.numOfTruncation;if(!this._tagfn_isUnsignedInteger(this._tag_numOfTruncation)){this._tag_numOfTruncation=10}};u.prototype._tagfn_isUnsignedInteger=function(_){var a=/^\d+$/;return a.test(_)};u.prototype._tagfn_filterData=function(){var a=[],b;for(var i=0,d=this._tag_tagArr.length;i<d;i++){b=this._tag_tagArr[i];if(!(N.isNoValue(b.fontSize)||b.x===undefined||b.y===undefined||b.y>this._tag_height||b.x>this._tag_width)){a.push(b)}}return a};u.prototype._tagfn_parseData=function(d){this._tag_tagArr=[];var a,b,j,v;this._tag_minFontFamily=undefined,this._tag_maxFontFamily=undefined,this._tag_hasNullValue=false;for(var i=0,w=d.words.rows.length;i<w;i++){if(d.words&&d.words.rows[i].val&&d.wordsSize&&d.wordsSize.rows[0][i]&&!N.isNoValue(d.wordsSize.rows[0][i].val)){v={};v.word=d.words.rows[i];v.wordSize=(d.wordsSize?d.wordsSize.rows[0][i]:undefined);v.wordFontFamily=(d.wordsFontFamily?d.wordsFontFamily.rows[0][i]:undefined);v.originalWord=v.word.val;v.order=i;v.val=[];v.ctx=[];v.info=[];if(v.wordSize){v.val.push(d.wordsSize.rows[0][i].val);v.ctx.push(d.wordsSize.rows[0][i].ctx);v.info.push(d.wordsSize.rows[0][i].info);if(v.wordSize.val!==null){if(a===undefined||v.wordSize.val<a){a=v.wordSize.val}if(b===undefined||v.wordSize.val>b){b=v.wordSize.val}}}if(v.wordFontFamily){v.val.push(v.wordFontFamily.val);v.ctx.push(v.wordFontFamily.ctx);v.info.push(v.wordFontFamily.info);j=v.wordFontFamily.val;if(j===null){this._tag_hasNullValue=true}else{if(this._tag_minFontFamily===undefined||j<this._tag_minFontFamily){this._tag_minFontFamily=v.wordFontFamily.val}if(this._tag_maxFontFamily===undefined||j>this._tag_maxFontFamily){this._tag_maxFontFamily=v.wordFontFamily.val}}}this._tag_tagArr.push(v)}}this._tag_minFontSize=a;this._tag_maxFontSize=b;if(d.wordsFontFamily){this._tagfn_calculateFontFamily(this._tag_minFontFamily,this._tag_maxFontFamily,this._tag_hasNullValue)}else{this._tag_fontColorScale=undefined}};u.prototype._tagfn_calculateFontSize=function(d,j){var v=this._tag_tagArr.length;var a,b,w;if(d===0){d=1;j+=1}if(v>1){b=(this._tag_maxfont-(this._tag_minfont*(j/d)))/(1-(j/d));a=(this._tag_minfont-b)/d}else{b=0;a=this._tag_maxfont/(d<0?-d:d)}for(var i=0,x=this._tag_tagArr.length;i<x;i++){if(this._tag_tagArr[i].wordSize&&d!==j){w=Math.round(a*this._tag_tagArr[i].wordSize.val+b)}else{w=this._tag_maxfont}this._tag_tagArr[i].fontSize=(this._tag_tagArr[i].wordSize.val===null)?null:w}};u.prototype._tagfn_calculateFontFamily=function(a,b,d){var i={numberOfTicks:5,startColor:this._tag_options.startColor,endColor:this._tag_options.endColor,nullColor:r.color,legendValues:this._tag_options.legendValues};if(this._tag_options.colorPalette){i.colorPalette=this._tag_options.colorPalette}this._tag_fontColorScale=M.getColorScale(a,b,d,i);M.fillContexts2DomainInfo4MBC(this._tag_fontColorScale,this._tag_tagArr,function(j){return j.wordFontFamily.val},function(j){return j.wordFontFamily.ctx.path})};u.prototype._tagfn_calculateTagPosition=function(){var a;if(this._tag_layoutMode==='Column'){a=e()}else if(this._tag_layoutMode==='Row'){a=R()}else if(this._tag_layoutMode==='Wordle'){a=W()}if(a!==undefined){var b=(new Date()).valueOf();a.width(this._tag_width).height(this._tag_height).data(this._tag_tagArr).font(r.fontfamily).textDirection(this._tag_textDirection).numOfTruncation(this._tag_numOfTruncation).layout();var d=(new Date()).valueOf()}};u.prototype._tagfn_handleNullValue=function(v){return(v===null||v===undefined)?D:v};u.prototype._tagfn_getCSSStyle=function(a){this._tag_style.hoverline=a.styleManager.queryDefault(q)};u.prototype.destroy=function(){var i=0;if(this._tag_chartData){if(this._tag_chartData.wordsSize){if(this._tag_chartData.wordsSize.rows){for(i=0;i<this._tag_chartData.wordsSize.rows.length;i++){this._tag_chartData.wordsSize.rows[i]=null}this._tag_chartData.wordsSize.rows=null}this._tag_chartData.wordsSize=null}this._tag_chartData.words=null;this._tag_chartData=null}if(this._tag_tagArr){for(i=0;i<this._tag_tagArr.length;i++){this._tag_tagArr[i].val=null;this._tag_tagArr[i].ctx=null;this._tag_tagArr[i].info=null;this._tag_tagArr[i]=null}this._tag_tagArr=null}if(this._tag_wrap){this._tag_wrap.selectAll('.'+m).remove();this._tag_wrap=null}this._tag_wrapRect=null;this._tag_fontColorScale=null;this._tag_selectionList=null;this._tag_effectManager=null;this._tag_randomSuffix=null;this._tag_style=null;this._tag_options=null;this._tag_eDispatch=null;this._tag_layoutMode=null;this._tag_textDirection=null};return u});define('sap/viz/feeds/TagCloud',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"tagCloud",feeds:[{'id':'tagName','name':'IDS_TAGNAME','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'maxStackedDims':1},{'id':'tagWeight','name':'IDS_TAGWEIGHT','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'tagFamily','name':'IDS_TAGFAMILY','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/TagCloud',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/tagcloud','sap/viz/feeds/TagCloud'],function Setup(M,C,f,T){var m={'id':'sap.viz.modules.tagcloud','type':C.Type.Chart,'name':'tagcloud','properties':{'layout':{'name':'layout','supportedValueType':'Object','supportedValues':{'mode':{'name':'mode','supportedValueType':'String','supportedValues':['Row','Column','Wordle'],'defaultValue':'Wordle','description':'Set the layout mode of the tag cloud'},'textDirection':{'name':'textDirection','supportedValueType':'String','supportedValues':['Mixed','Vertical','Horizontal'],'defaultValue':'Mixed','description':'Set the direction of text in the tag cloud. This property only takes effect if layout mode is set to \'Wordle\'.'}},'description':'Settings for layout of the tag cloud'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set the starting color of the tag cloud'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set the end color of the tag cloud'},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':undefined,'description':'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},'legendValues':{'name':'legendValues','supportedValueType':'IntArray','defaultValue':undefined,'description':'Set the MBC legend values. For example, [10,11,12,13,14,15]. '+'The values in the legendValues array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, '+'the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than the MBC legend segment number, '+'only the first "segment number + 1" values are used.'},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for the tooltip'},'numOfTruncation':{'name':'numOfTruncation','supportedValueType':'PositiveInt','defaultValue':10,'isExported':false,'description':'Set the number of words which can be truncated'}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"tagCloud"},'css':{'.v-hovershadow':{'description':'Define the style for hover shadow color','value':{'fill':'#999999',}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(T.feeds)};return a});define('sap/viz/manifests/TagCloudChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseSingleChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/TagCloud','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,C,R,B,T,a,I){var c={id:'viz/tagcloud',name:'IDS_TAGCLOUDCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/single',modules:{root:{configure:{properties:{layout:{adjustPolicy:C.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{layout:{id:'sap.viz.modules.layout.stack'},legend:{feeds:[],configure:{'description':'Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ',properties:{type:'MeasureBasedColoringLegend',layout:{position:'right',priotity:1}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'tagcloud',orientation:'bottom'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:"main",propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}},main:{modules:{dataLabel:null,plot:{id:'sap.viz.modules.tagcloud',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.legends.legend',target:'mbcLegendInfo',sourceModule:'root.main.plot',source:'mbcLegendInfo'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.tooltip',listener:'showTooltip',sourceModule:'root.main.plot',type:'showTooltip'},{targetModule:'root.tooltip',listener:'hideTooltip',sourceModule:'root.main.plot',type:'hideTooltip'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,T.module,a.module,I.module),feeds:[].concat(B.feeds,R.feeds,T.feeds,a.feeds)};return m});define('sap/viz/impls/TagCloudChart',['sap/viz/manifests/TagCloudChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/tree/treeData',[],function Setup(){var t={collapseOrExtend:function(a,f,b){var i=false;if(a.children&&a.children.length>0&&!b){a.collapsedChildren=a.children;a.children=[];i=true}else if(a.collapsedChildren&&a.collapsedChildren.length>0&&!f){a.children=a.collapsedChildren;a.collapsedChildren=[];i=true}return i},initTreeData:function(a,s){var c=function(n){var i;if(n.children&&n.children.length>0){for(i=0;i<n.children.length;i++){c(n.children[i])}}else if(n.collapsedChildren&&n.collapsedChildren.length>0){for(i=0;i<n.collapsedChildren.length;i++){c(n.collapsedChildren[i])}}t.collapseOrExtend(n,true,undefined)};var e=function(n){if(n.depth<(s-1)){if(n.collapsedChildren&&n.collapsedChildren.length>0){var i;for(i=0;i<n.collapsedChildren.length;i++){e(n.collapsedChildren[i])}}t.collapseOrExtend(n,undefined,true)}};c(a);e(a)},treeBuilder:function(d){var b=function(g){var r=[];var v=g[0].values;var i;for(i=0;i<v[0].rows.length;i++){var k={};k.source=v[0].rows[i].val;k.target=v[1].rows[i].val;if(k.source&&k.target){r.push(k)}}return r};var a=function(j,h,n){n={};var k=[];var i;for(i=0;i<h.length;i++){k.push(h[i].source)}for(i=0;i<h.length;i++){var l=k.indexOf(h[i].target);if(l>=0){k.splice(l,1)}}if(k.length>0){j.name=k[0];j.children=[];n[j.name]=j}return n};var f=function(n,s){var r=null;if(n[s]){r=n[s]}return r};var c=function(j,h){if(h.length===0){return}var i;var k=false;for(i=0;i<h.length;i++){var l=f(n,h[i].source);if(l){var m={};m.name=h[i].target;m.children=[];l.children.push(m);n[m.name]=m;k=true;h.splice(i,1);break}}if(k){c(j,h)}};var e=function(j,p,k,l){if(j.name){j.depth=l;j.id=p+"-"+k;if(j.children&&j.children.length>0){var i;for(i=0;i<j.children.length;i++){e(j.children[i],j.id,i,l+1)}}}};var n={};var g=d.getAnalysisAxisDataByIdx();var h=b(g);var j={};n=a(j,h,n);c(j,h,n);e(j,0,0,0);return j}};return t});define('sap/viz/modules/tree/treeLayout',[],function Setup(){var t={reLayout:function(c,e,f,p){var g=function(_,o,q,k){var s=function(a,b){return a.parent===b.parent?1:2};var v=function(a,b){function d(a,x){var E=a.children;var n;if(E&&(n=E.length)){var F,G=null,i=-1;while(++i<n){F=E[i];d(F,G);G=F}}b(a,x)}d(a,null)};var w=function(n){var a=n.children;return a&&a.length?a[0]:n._tree.thread};var y=function(a,n,b){a=a._tree;n=n._tree;var d=b/(n.number-a.number);a.change+=d;n.change-=d;n.shift+=b;n.prelim+=b;n.mod+=b};var z=function(a){var b=a.children,n;return b&&(n=b.length)?b[n-1]:a._tree.thread};var A=function(a,b){var d=a.children;var n;if(d&&(n=d.length)){var x,i=-1;while(++i<n){if(b(x=A(d[i],b),a)>0){a=x}}}return a};var B=function(n){var a=0,b=0,d=n.children,i=d.length,x;while(--i>=0){x=d[i]._tree;x.prelim+=a;x.mod+=a;a+=x.shift+(b+=x.change)}};var C=function(){var E=[1,1];var t=function(d,i){var F=d;function G(a,b){var x=a.children,U=a._tree;var n;if(x&&(n=x.length)){var V=x[0],W,X=V,Y,i=-1;while(++i<n){Y=x[i];G(Y,W);X=I(Y,W,X);W=Y}B(a);var Z=0.5*(V._tree.prelim+Y._tree.prelim);if(b){U.prelim=b._tree.prelim+s(a,b);U.mod=U.prelim-Z}else{U.prelim=Z}}else{if(b){U.prelim=b._tree.prelim+s(a,b)}}}function H(a,x){a.x=a._tree.prelim+x;var b=a.children;var n;if(b&&(n=b.length)){var i=-1;x+=a._tree.mod;while(++i<n){H(b[i],x)}}}function I(n,a,b){if(a){var x=n,U=n,V=a,W=n.parent.children[0],X=x._tree.mod,Y=U._tree.mod,Z=V._tree.mod,$=W._tree.mod,a1;V=z(V);x=w(x);while(V&&x){W=w(W);U=z(U);U._tree.ancestor=n;a1=V._tree.prelim+Z-x._tree.prelim-X+s(V,x);if(a1>0){var b1;if(V._tree.ancestor.parent===n.parent){b1=V._tree.ancestor}else{b1=b}y(b1,n,a1);X+=a1;Y+=a1}Z+=V._tree.mod;X+=x._tree.mod;$+=W._tree.mod;Y+=U._tree.mod;V=z(V);x=w(x)}if(V&&!z(U)){U._tree.thread=V;U._tree.mod+=Z-Y}if(x&&!w(W)){W._tree.thread=x;W._tree.mod+=X-$;b=n}}return b}var J=function(n,a){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}};v(F,J);G(F);H(F,-F._tree.prelim);var K=function(a,b){return a.x-b.x};var L=function(a,b){return b.x-a.x};var M=function(a,b){return a.depth-b.depth};var N=A(F,L),O=A(F,K),P=A(F,M),Q=N.x-s(N,O)/2,R=O.x+s(O,N)/2,S=P.depth||1;var T=function(n){if(p.orientation==="top"){n.x=(n.x-Q)/(R-Q)*E[0];n.y=n.depth/S*E[1]}else if(p.orientation==="left"){var a=P.depth+1;n.y=(n.x-Q)/(R-Q)*E[1];n.x=n.depth/a*E[0];n.y+=k;n.x+=k;n.levelDistance=1/a*E[0]}delete n._tree};v(F,T);return F};t.size=function(x){if(!arguments.length){return E}E=x;return t};return t};var D=C().size([o,q]);var j=D(_);return j};var h=function(c,a,d){if(a){c.parent=a}if(m<c.depth){m=c.depth}if(c.children&&c.children.length>0){var i;for(i=0;i<c.children.length;i++){h(c.children[i],c,d+1)}}};var u=function(c,m){c.maxVisibleDepth=m;if(c.children&&c.children.length>0){var i;for(i=0;i<c.children.length;i++){u(c.children[i],m)}}};var m=0;h(c,null,0);u(c,m);var j;var k=p.pointRadius+p.pointBorderWidth;var r=e;var l=f-2*k;j=g(c,r,l,k);return j}};return t});define('sap/viz/modules/tree/treeRender',['sap/viz/util/TextUtils'],function Setup(T){var t={reRender:function(s,a,p,b,e){var c=b.idTreeDOMMap;var f=this;var h=false;var g=30;function j(d){if(!e){return d}var i={fillColor:d};return e.register(i)}var k=function(_,d,i,y){return T.superFastMeasure(_,d,i,y)};var l=function(d){var i;i=d.levelDistance-2*p.pointRadius-2*p.labelOffset;return i};var u=function(a,c){var d=function(y,z){if(!z){var A;if(h){A=0}else{var B=p.labelRealStyle["font-size"]+"px";var C=p.labelRealStyle["font-weight"];var D=p.labelRealStyle["font-family"];A=k(y.name,B,C,D).width}if(!h){var E=l(y);if(E<g&&A>E){h=true}else{var F=q(y.name,E);if(y.name.length>0&&F.length===0){h=true}}}}if(z){y.drawState="delete"}else{if(c[y.id]){if((y.parent&&y.parent.collapsedChildren&&y.parent.collapsedChildren.length>0)){y.drawState="delete"}else{y.drawState="update"}}else{y.drawState="new"}}var i;if(y.collapsedChildren&&y.collapsedChildren.length>0){for(i=0;i<y.collapsedChildren.length;i++){d(y.collapsedChildren[i],true)}}if(y.children&&y.children.length>0){for(i=0;i<y.children.length;i++){d(y.children[i],z)}}};d(a)};var r=function(d,y,z,c){var i;var s=d;if(y.children&&y.children.length>0){for(i=0;i<y.children.length;i++){r(s,y.children[i],z+1,c)}}if(y.collapsedChildren&&y.collapsedChildren.length>0){for(i=0;i<y.collapsedChildren.length;i++){r(s,y.collapsedChildren[i],z+1,c)}}w(y,s,c)};var m=function(){var d=b.context;var i=this.__data__;b.collapseOrExtend.call(d,i,a)};var n=function(d){var N=d;if(d.parent){if(d.parent.drawState==="update"){N=d.parent}else{N=n(d.parent)}}return N};var o=function(d,i){var y=p.pointRadius*2/7;var z=p.pointRadius*4/7;var A=d.select(".v-line1");var B=d.select(".v-line2");if((i.children&&i.children.length>0)||(i.collapsedChildren&&i.collapsedChildren.length>0)){if(A.empty()){A=d.append("line").attr("class","v-line1")}A.attr("stroke",j(p.pointBorderColor)).attr("stroke-width",y).attr("x1",-z).attr("x2",z).attr("y1",0).attr("y2",0);if(i.collapsedChildren&&i.collapsedChildren.length>0){if(B.empty()){B=d.append("line").attr("class","v-line2")}B.attr("stroke",j(p.pointBorderColor)).attr("stroke-width",y).attr("display",null).attr("x1",0).attr("x2",0).attr("y1",-z).attr("y2",z)}else{B.attr("display","none")}}};var q=function(d,i){var y='font-weight:'+p.labelRealStyle["font-weight"]+'; font-family: '+p.labelRealStyle["font-family"]+'; font-size: '+p.labelRealStyle["font-size"]+"px"+';';return T.ellipsis(d,undefined,i,y)};var v=function(d){var i=null;if(!h){var y=l(d);i=q(d.name,y)}return i};var w=function(i,s,c){var y;var z;var A;var B;var C;var D;var E;var F=500;if(i.drawState==="delete"){if(c[i.id]){var G=function(){c[i.id].attr("transform",null);var d=c[i.id].node();if(d){d.parentNode.removeChild(d)}delete c[i.id]};y=c[i.id];D=n(i);y.transition().duration(F).attr("transform","translate("+D.x+", "+D.y+") scale(0)").each("end",G)}}else{var H=false;if(i.drawState==="new"){H=true}if(H){y=s.append("g").attr("class","v-nodeLevel"+i.depth)}else{y=c[i.id]}y.data([i]);if(i.parent){if(p.lineShape==="line"){if(H){E=y.append("line").attr("class","v-link")}else{E=y.select(".v-link");E=E.transition().duration(F)}E.attr("stroke",j(p.lineColor)).attr("stroke-width",1).attr("x1",i.x).attr("y1",i.y).attr("x2",i.parent.x).attr("y2",i.parent.y)}else if(p.lineShape==="curve"){var I=d3.svg.diagonal();var S;if(p.orientation==="left"){I.projection(function(d){return[d.y,d.x]});S=I({source:{x:i.parent.y,y:i.parent.x},target:{x:i.y,y:i.x}})}else if(p.orientation==="top"){S=I({source:{x:i.parent.x,y:i.parent.y},target:{x:i.x,y:i.y}})}if(H){E=y.append("path").attr("class","v-link")}else{E=y.select(".v-link");E=E.transition().duration(F)}E.attr("fill","none").attr("stroke",j(p.lineColor)).attr("stroke-width",1).attr("d",S)}}if(H){z=y.append("g").attr("class","v-point");if(p.clickAble){z.on("click",m)}if((i.children&&i.children.length>0)||(i.collapsedChildren&&i.collapsedChildren.length>0)){if(p.clickAble){z.attr("cursor","pointer")}}z.append("circle").attr("class","v-pointItem").attr("fill",j(p.pointColor)).attr("stroke-width",p.pointBorderWidth).attr("stroke",j(p.pointBorderColor)).attr("r",p.pointRadius);o(z,i)}else{z=y.select(".v-point");z.select(".v-pointItem").attr("fill",j(p.pointColor)).attr("stroke-width",p.pointBorderWidth).attr("stroke",j(p.pointBorderColor)).attr("r",p.pointRadius);o(z,i);z=z.transition().duration(F)}z.attr("transform","translate("+i.x+", "+i.y+")");if(p.label.visible){var J=v(i);if(J!==null){B=i.x+p.pointRadius+p.pointBorderWidth+p.labelOffset;C=i.y+p.labelRealStyle["font-size"]/2.6;if(H){A=y.append("text").attr("class","v-text")}else{A=y.select(".v-text");if(A.empty()){A=y.append("text").attr("class","v-text");A.text(J).attr("fill",p.labelDefaultStyle.fill).attr("font-weight",p.labelDefaultStyle["font-weight"]).attr("font-size",p.labelDefaultStyle["font-size"]+"px").attr("font-family",p.labelDefaultStyle["font-family"]).attr("x",B).attr("y",C).attr("opacity",0)}A=A.transition().duration(F)}A.text(J).attr("fill",p.labelDefaultStyle.fill).attr("font-weight",p.labelDefaultStyle["font-weight"]).attr("font-size",p.labelDefaultStyle["font-size"]+"px").attr("font-family",p.labelDefaultStyle["font-family"]).attr("x",B).attr("y",C).attr('pointer-events','none').attr("opacity",1)}else{var K=function(){if(this){d3.select(this).remove()}};if(!H){A=y.select(".v-text").attr("opacity",1);A=A.transition().duration(F);A.attr("opacity",0).each("end",K)}}}if(H){var L=function(){y.attr("transform",null)};D=n(i);if(c[D.id]){var M=c[D.id].select(".v-point").attr("transform");y.attr("transform",M+" scale(0)");y.transition().duration(F).attr("transform","translate(0,0) scale(1)").each("end",L)}}if(!H){var N=y.node();N.parentNode.appendChild(N)}if(H){c[i.id]=y}}};var x;if(Object.keys(c).length<=0){x=s.append("g").attr("class","v-tree")}else{x=s.select(".v-tree")}u(a,c);r(x,a,0,c)},removeTreeDOM:function(a){if(a._rdr_treeAllData){var r=a._rdr_treeAllData.id;if(a._rdr_UICallbackFuns.idTreeDOMMap[r]){var b=a._rdr_UICallbackFuns.idTreeDOMMap[r].node();var c=b.parentNode;c.parentNode.removeChild(c)}}a._rdr_UICallbackFuns.idTreeDOMMap=[]}};return t});define('sap/viz/modules/tree',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/dispatch','sap/viz/base/utils/Objects','sap/viz/modules/tree/treeData','sap/viz/modules/tree/treeLayout','sap/viz/modules/tree/treeRender',"sap/viz/modules/util/BoundUtil"],function Setup(o,B,d,O,t,a,b,c){var T=function(m,e){T.superclass.constructor.apply(this,arguments);var f={label:"v-text"};this._rdr_selection=null;this._rdr_data=null;this._rdr_propsOutput=null;this._rdr_width=0;this._rdr_height=0;this._rdr_dispatch=new d('initialized','startToInit');this._rdr_defaultProps=m.props(null);this._rdr_effectManager=e.effectManager;this._rdr_propsInternal={"orientation":"left","lineShape":"curve","showLevels":3,"lineColor":'#bfbfbf',"pointColor":'#297cbe',"pointRadius":7,"pointBorderWidth":1,"pointBorderColor":"#ffffff","labelDefaultStyle":{"fill":"#333333","font-size":12,"font-weight":"normal","font-family":"Arial, Helvetica, sans-serif, 'Open Sans'"},"labelRealStyle":{},"labelOffset":6};O.extend(true,this._rdr_propsInternal,this._rdr_defaultProps);this._rdr_propsInternal.labelRealStyle=O.extend(true,this._rdr_propsInternal.labelRealStyle,this._rdr_propsInternal.labelDefaultStyle);this._rdr_propsInternal.labelDefaultStyle=O.extend(true,this._rdr_propsInternal.labelDefaultStyle,e.styleManager.queryDefault(f.label));this._rdr_propsInternal.labelRealStyle=O.extend(true,this._rdr_propsInternal.labelRealStyle,e.styleManager.query(f.label));this._rdr_UICallbackFuns={};this._rdr_UICallbackFuns.context=this;this._rdr_UICallbackFuns.idTreeDOMMap=[];this._rdr_UICallbackFuns.collapseOrExtend=T.prototype.collapseOrExtend;this._rdr_treeAllData=null};o.extend(T,B);T.prototype.collapseOrExtend=function(e,f){var i=t.collapseOrExtend(e);if(i){var g;g=a.reLayout(f,this._rdr_width,this._rdr_height,this._rdr_propsInternal);b.reRender(this._rdr_selection,g,this._rdr_propsInternal,this._rdr_UICallbackFuns,this._rdr_effectManager)}};T.prototype.render=function(s){var w=this._rdr_width,h=this._rdr_height;c.drawBound(s,w,h);this._rdr_selection=s;this._rdr_dispatch.startToInit();var i=this._rdr_UICallbackFuns.idTreeDOMMap;if(Object.keys(i).length<=0){if(!this._rdr_treeAllData){this._rdr_treeAllData=t.treeBuilder(this._rdr_data)}t.initTreeData(this._rdr_treeAllData,this._rdr_propsInternal.showLevels)}var e;e=a.reLayout(this._rdr_treeAllData,this._rdr_width,this._rdr_height,this._rdr_propsInternal);if(e.children){b.reRender(this._rdr_selection,e,this._rdr_propsInternal,this._rdr_UICallbackFuns,this._rdr_effectManager)}this._rdr_dispatch.initialized();return this};T.prototype.parent=function(){return this._rdr_selection};T.prototype.data=function(_){if(!arguments.length){return this._rdr_data}this._rdr_data=_;this._rdr_treeAllData=null;b.removeTreeDOM(this);return this};T.prototype.properties=function(_){if(!arguments.length){return this._rdr_propsOutput}this._rdr_propsOutput=_;var r=parseFloat(this._rdr_propsOutput.pointRadius);this._rdr_propsOutput.pointRadius=r;if(!r||r<=0){this._rdr_propsOutput.pointRadius=this._rdr_defaultProps.pointRadius}var l=Math.round(parseFloat(this._rdr_propsOutput.showLevels));this._rdr_propsOutput.showLevels=l;if(!l||l<1){this._rdr_propsOutput.showLevels=this._rdr_defaultProps.showLevels}O.extend(true,this._rdr_propsInternal,this._rdr_propsOutput);b.removeTreeDOM(this);return this};T.prototype.width=function(_){if(!arguments.length){return this._rdr_width}this._rdr_width=_;return this};T.prototype.height=function(_){if(!arguments.length){return this._rdr_height}this._rdr_height=_;return this};T.prototype.dispatch=function(_){if(!arguments.length){return this._rdr_dispatch}this._rdr_dispatch=_;return this};T.prototype.destroy=function(){this._rdr_selection.selectAll(".v-point").on("click",null);this._rdr_selection.selectAll('.v-datapoint').remove();this._rdr_UICallbackFuns.idTreeDOMMap=[]};return T});define('sap/viz/feeds/Tree',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var t={'id':'treeNode','name':'IDS_TREENODE','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'minStackedDims':2,'maxStackedDims':2,'description':'The first dimension is for parent node and the second dimension is for child node. If there is undefined or null, it will ignore this pair of values.'};var f={id:"tree",feeds:[t]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Tree',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/tree','sap/viz/feeds/Tree'],function Setup(M,C,f,T){var m={'id':'sap.viz.modules.tree','type':C.Type.Chart,'name':'tree','properties':{'lineShape':{'name':'lineShape','supportedValueType':'String','supportedValues':['line','curve'],'defaultValue':'curve','description':'Set line type.','isExported':true,},'pointRadius':{'name':'pointRadius','supportedValueType':'Number','defaultValue':7,'description':'Set point radius.','isExported':false,},'clickAble':{'name':'clickAble','supportedValueType':'Boolean','defaultValue':true,'description':'Set clickAble.','isExported':false,},'showLevels':{'name':'showLevels','supportedValueType':'Number','defaultValue':3,'description':'Set initial levels.','isExported':true,},'label':{'name':'label','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of label'},},'description':'tree chart label','isExported':false},},'events':{'initialized':C.Event.Initialized.desc},'feeds':{id:"tree"},'css':{'.v-text':{'description':'Define style for the label text.','value':{'fill':'#333333'}},'.v-link':{'description':'Define style for the link line.','value':{'stroke':'#bfbfbf'}},'.v-pointItem':{'description':'Define style for the point item.','value':{'fill':'#297cbe'}}},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(T.feeds)};return a});define('sap/viz/manifests/TreeChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/SimpleChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/Tree'],function Setup(M,C,R,S,T,a){var c={id:'viz/tree',name:'IDS_TREECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/simple',modules:{root:{configure:{properties:{layout:{adjustPolicy:C.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{main:{modules:{plot:{id:'sap.viz.modules.tree',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[],events:[]}};var m={viz:[c].concat(S.viz),module:[].concat(S.module,R.module,T.module,a.module),feeds:[].concat(S.feeds,R.feeds,T.feeds,a.feeds)};return m});define('sap/viz/impls/TreeChart',['sap/viz/manifests/TreeChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/treemap',['sap/viz/modules/Constants','sap/viz/modules/dispatch','sap/viz/util/ColorSeriesGenerator','sap/viz/modules/util/tooltipDataHandler','sap/viz/util/NumberUtils','sap/viz/base/utils/TypeUtils','sap/viz/util/TextUtils','sap/viz/util/MeasureBasedColoring','sap/viz/lang/langManager','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(C,a,b,t,N,T,c,M,l,O,e,f,g,D,s){var h=C.CSS.CLASS.DATAPOINTSELECTED,n=C.CSS.CLASS.DATAPOINTHOVER;var o=function(p,q){var r=O.guid();var u=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=u(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};var v="#cccccc";var w="#808080";var x=[];var y,z;var A={"emptycolor":"#e0e0e0",'animation':{dataLoading:true,dataUpdating:true,resizing:true},'colornumber':5,'discretecolor':false,'colorPalette':[],tooltip:{enabled:true}};A=u(A,p.props(null));var B=p.props(null);var E="'Open Sans', Arial, Helvetica, sans-serif";var F;var G;var H=true;var I="dataLoading";var J="v-treemap";var K="v-treemapitem";var L;var P=d3.scale.ordinal();var Q=d3.scale.ordinal();var R=new a('selectData','deselectData','initialized','showTooltip','hideTooltip','startToInit');var S="#ffffff";var U;var V;var W;var X;var Y=null;var Z=null;var $=null;var a1=q.effectManager;var b1=6;var c1=null;var d1=false;var e1=l.get('IDS_ISNOVALUE');var f1={};f1.fontSize="12px";f1.fontWeight="normal";f1.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";f1.fill="#ffffff";var g1=function(_,d){return c.fastMeasure(_,d['font-size'],d['font-weight'],d['font-family'])};var h1=function(d){if(d===null||d===undefined){d=l.get('IDS_ISNOVALUE')}return d};var i1=function(d){var j={body:[],footer:[]};var k=X[d];var m={'name':h1(k.weight.col),val:[{value:N.isNoValue(k.weight.row.val)?e1:k.weight.row.val}]};j.body.push(m);if(W){var _={'name':h1(k.color.col),val:[{value:N.isNoValue(k.color.row.val)?e1:k.color.row.val}]};j.body.push(_)}if(T.isExist(U)){for(var w1=U.values,x1=w1.length,i=x1-1;i>=0;i--){var y1={};y1.label=w1[i].col;y1.value=w1[i].rows[d%w1[i].rows.length];j.footer.push(y1)}}return j};var j1=function(i){if(!N.isNoValue(i.datum().val)){G.attr("visibility","visible");var d=i.datum().left+L;var j=i.datum().left+i.datum().width-L;var k=i.datum().top+L;var m=i.datum().top+i.datum().height-L;G.select(".HLLeft").attr("x1",d).attr("y1",k).attr("x2",d).attr("y2",m);G.select(".HLRight").attr("x1",j).attr("y1",k).attr("x2",j).attr("y2",m);G.select(".HLTop").attr("x1",d).attr("y1",k).attr("x2",j).attr("y2",k);G.select(".HLBottom").attr("x1",d).attr("y1",m).attr("x2",j).attr("y2",m)}};var k1=function(i){G.attr("visibility","hidden")};var l1=function(d,i){if((d&&d.level===0&&d.index===0)||(X&&X.length===0)||(d===undefined&&i===undefined)){setTimeout(R.initialized,0)}};var m1=function(j,k,m,_){if(k.length<=0){return}var w1=(k[0].children.length===0);if(m){j=j.append("g").attr("class",J+"level"+k[0].level)}else{j=j.select("."+J+"level"+k[0].level)}var x1=[];for(var i=0;i<k.length;i++){if(k[i].level===_){x1.push(k[i])}}var y1=j.attr("class");var z1=j.selectAll("."+y1+" > ."+K);z1=z1.data(x1,function(d){return d.index});var A1=z1.enter();var B1=z1.exit();var C1;var D1=function(d){var U1={};U1['font-size']=f1.fontSize;U1['font-weight']=f1.fontWeight;U1['font-family']=f1.fontFamily;var V1=g1(d.label,U1).height;var D1=0;if(V1>d.height){D1=-1}else{D1=d.width-6}return D1};var E1=function(d){return(w1)?(d.width/2):(d.left+d.width/2)};var F1=function(d){var U1={};U1['font-size']=f1.fontSize;U1['font-weight']=f1.fontWeight;U1['font-family']=f1.fontFamily;var V1;if(d.labelHeight!==undefined){V1=d.labelHeight}else{V1=g1(d.label,U1).height}if(d.children.length===0){return(w1)?(d.height/2+V1/2-V1/10):(d.top+d.height/2+V1/2-V1/10)}else{return d.top+V1-V1/10}};var G1=function(d){var U1="font-size:"+f1.fontSize;U1+="font-weight:"+f1.fontWeight;U1+="font-family:"+f1.fontFamily;var V1="";if(d.showLabel){if(!d.label){d.label=""}V1=c.ellipsis(d.label,this,D1(d),U1);if(!w1&&(V1!==d.label)){var W1=d3.select(this.parentNode).select(".v-labelarea");if(W1.select("title").empty()){W1.append("title").text(d.label)}}}return V1};var H1=function(d){return"middle"};var I1=function(d){var U1;if(d.children.length===0){U1="white"}else{if(d.level===(d.levelNum-1)){U1="white"}else if((d.levelNum-d.level)===6){U1="white"}else if((d.levelNum-d.level)===5){U1="white"}else if((d.levelNum-d.level)===4){U1="white"}else if((d.levelNum-d.level)===3){U1="#595959"}else{U1="#464646"}}return U1};var J1=function(M1){var U1=M1.attr("x",function(d){return(d.left+L)}).attr("class","v-labelarea v-axis-item").attr("y",function(d){return(d.top+L)}).attr("width",function(d){return d.width-2*L>0?d.width-2*L:0}).attr("height",function(d){return d.showLabel?d.labelHeight:0}).attr("opacity",0).attr("shape-rendering","crispEdges");U1.each(function(d){this.labelContexts=d.ctx});return U1};var K1=function(Q1){var U1=Q1.attr("x",function(d){return(w1)?(0):(d.left+L)}).attr("class",function(d){return(w1)?("v-item v-datapoint v-morphable-datapoint"):("v-item")}).attr("y",function(d){return(w1)?(0):(d.top+L)}).attr("width",function(d){return d.width-2*L>0?d.width-2*L:0}).attr("height",function(d){return d.height-2*L>0?d.height-2*L:0}).attr("fill",function(d){var V1={drawingEffect:'normal',fillColor:d.color};return a1.register(V1)}).attr("shape-rendering","crispEdges").attr('stroke','none').attr('fill-opacity',1);return U1};var L1=function(N1){var d=null;if(w1){d=N1.attr("x",E1).attr("y",F1).attr('class','v-treemapdatalabel').attr("text-anchor",H1).attr("fill",I1).attr("font-size",f1.fontSize).attr("font-family",f1.fontFamily).attr('pointer-events','none')}else{d=N1.attr("x",E1).attr("y",F1).attr("text-anchor",H1).attr("fill",I1).attr("font-size",f1.fontSize).attr("font-family",f1.fontFamily).attr('pointer-events','none')}d.text(G1);return d};var M1,N1;if(m){var O1=K;if(w1){O1+=' v-datashape'}C1=A1.append("g").attr('class',O1);if(w1){C1.attr('transform',function(d){return'translate('+(d.left+L)+','+(d.top+L)+')'})}var P1=C1.append("rect");K1(P1);if(w1){P1.attr('id',function(d,i){return("HM"+d.index+r)})}else{M1=C1.append("rect");J1(M1)}N1=C1.append("text");L1(N1)}else{C1=z1;var Q1=z1.select(".v-item");M1=z1.select(".v-labelarea");N1=z1.select("text");var R1=0;if(I==="resizing"&&A.animation.resizing){R1=500}if(R1>0){Q1=Q1.transition();N1=N1.transition()}if(w1){if(R1>0){C1=C1.transition();C1=C1.attr('transform',function(d){var U1='translate('+(d.left+L)+','+(d.top+L)+')';return U1});C1=C1.delay(0).duration(R1)}else{C1.attr('transform',function(d){var U1='translate('+(d.left+L)+','+(d.top+L)+')';return U1})}}Q1=K1(Q1);if(!w1){J1(M1)}N1=L1(N1);if(R1>0){Q1.delay(0).duration(R1).each('end',l1);N1.delay(0).duration(R1)}else{l1()}}var S1=function(U1,d,i){var V1=d3.select(U1);var da=V1.datum().children;m1(V1,V1.datum().children,m,_+1)};C1.each(function(d,i){S1(this,d,i)});C1=j.selectAll("."+K);if(m){var T1=0;if(I==="dataLoading"&&A.animation.dataLoading){T1=1000}else if(I==="dataUpdating"&&A.animation.dataUpdating){T1=500}if(T1>0){C1.attr('fill-opacity',0);C1.transition().delay(0).duration(T1).attr('fill-opacity',1).each('end',l1)}else{C1.attr('fill-opacity',1).each(l1)}}else{C1.attr('fill-opacity',1);l1()}return C1};var n1=function(d,i){I="resizing";if(H){if(d.selectAll("*").empty()){I="dataLoading"}else{I="dataUpdating"}d.selectAll("*").remove()}f.drawBound(d,y,z);var j=d;var k=d.selectAll('g.v-datashapesgroup');if(!T.isExist(k[0][0])){k=d.append('g').attr('class','v-datashapesgroup')}m1(k,i,H,0);if(H){G=d.append('g').attr('class','v-element').attr("visibility","hidden");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");G.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(G){G.attr("visibility","hidden")}}H=false};var o1=function(){var m,d;var j;var k=[];var i;if(W){var _=W.values[0].rows[0];for(i=0;i<_.length;i++){k.push(_[i])}m=-Number.MAX_VALUE;d=Number.MAX_VALUE;for(var w1=0;w1<k.length;w1++){if(!N.isNoValue(k[w1].val)){if(m<k[w1].val){m=k[w1].val}if(d>k[w1].val){d=k[w1].val}}}j=false;for(i=0;i<k.length;i++){if(N.isNoValue(k[i].val)){j=true}}}var x1=A.colornumber;var y1={numberOfTicks:x1,startColor:A.startColor,endColor:A.endColor,nullColor:A.emptycolor,legendValues:A.legendValues};if(A.colorPalette){y1.colorPalette=A.colorPalette}var z1=M.getColorScale(d,m,j,y1);M.fillContexts2DomainInfo4MBC(z1,k);return z1};var p1=function(d){var i;for(i=0;i<d.length;i++){var j=[];j.push(d[i].val);j.push(d[i].colorVal);d[i].val=j;if(d[i].children.length>0){p1(d[i].children)}}};var q1=function(d){var j=function(d,x1,z1){var A1=0;var i;for(i=0;i<d.length;i++){A1+=d[i].val}var B1=function(P1,Q1){var R1=0;if(Q1.val!==P1.val){R1=P1.val-Q1.val}return R1};var C1;for(var D1=0;D1<d.length-1;D1++){for(i=d.length-1;i>D1;i--){if(B1(d[i],d[i-1])>0){C1=d[i-1];d[i-1]=d[i];d[i]=C1}}}var E1={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0};var F1={left:0,top:0,width:0,height:0,weight:0,vertical:false};for(i=0;i<d.length;i++){w1(d,i,A1,E1,F1,x1)}var G1;for(G1=0;G1<d.length;G1++){if(!d[G1].left){d[G1].left=0}if(!d[G1].top){d[G1].top=0}if(!d[G1].width||d[G1].width<0){d[G1].width=0}if(!d[G1].height||d[G1].height<0){d[G1].height=0}var H1,I1="",J1;if(d[G1].label){H1=d[G1].label.toString();if(H1.length>0){J1=H1[0];I1=J1.concat("...")}}var K1={};K1['font-size']=f1.fontSize;K1['font-weight']=f1.fontWeight;K1['font-family']=f1.fontFamily;d[G1].labelHeight=g1(I1,K1).height;d[G1].labelWidth=g1(I1,K1).width;d[G1].needMoreHeightToShowLabel=false;if((d[G1].labelHeight<d[G1].height)&&(d[G1].labelWidth<d[G1].width)){d[G1].showLabel=true}else{d[G1].showLabel=false;if(d[G1].labelHeight>=d[G1].height&&d[G1].val>0){d[G1].needMoreHeightToShowLabel=true}}}var y1=true;for(G1=0;G1<d.length;G1++){if(d[G1].level===(d[G1].levelNum-1)){if(!d[G1].needMoreHeightToShowLabel){y1=false;break}}else{y1=false}}var L1=function(i){if(d[i].level!==(d[i].levelNum-1)){d[i].showLabel=false}O1.top=d[i].top+L*2;O1.left=d[i].left+L*2;O1.width=d[i].width-L*2-L;O1.height=d[i].height-L*2-L};if(!y1){for(i=0;i<d.length;i++){if(d[i].children.length>0){var M1=true;if(!z1){M1=false}var N1=d[i].labelHeight;var O1={};O1.top=d[i].top+L*2+N1;O1.left=d[i].left+L*2;O1.width=d[i].width-L*2-L;O1.height=d[i].height-L*2-L-N1;if(!M1){L1(i)}y1=j(d[i].children,O1,M1);if((y1||!d[i].showLabel)&&M1){L1(i);y1=j(d[i].children,O1,false)}}}}return y1};var k=function(i){var z1;if(i.height>i.width){z1=i.height/i.width}else{z1=i.width/i.height}z1=Math.floor(z1*1000);return z1};var m=function(d,z1,A1,B1,C1){var D1=0;var E1={};if(A1){if(C1.vertical){E1.width=C1.width*(z1/(B1.weight+z1));E1.height=C1.height*((B1.weight+z1)/C1.weight)}else{E1.height=C1.height*(z1/(B1.weight+z1));E1.width=C1.width*((B1.weight+z1)/C1.weight)}D1=k(E1);for(var i=0;i<B1.items.length;i++){var F1=B1.items[i];var G1={};if(C1.vertical){G1.width=B1.width*(d[F1].val/(B1.weight+z1));G1.height=C1.height*((B1.weight+z1)/C1.weight)}else{G1.height=B1.height*(d[F1].val/(B1.weight+z1));G1.width=C1.width*((B1.weight+z1)/C1.weight)}var H1=k(G1);if(D1<H1){D1=H1}}}else{D1=B1.worstRadio}return D1};var _=function(i,z1){var A1={};A1.weight=z1.weight-i.weight;if(z1.width===i.width){A1.left=z1.left;A1.top=i.top+i.height;A1.width=z1.width;A1.height=z1.height-i.height}else{A1.left=i.left+i.width;A1.top=z1.top;A1.width=z1.width-i.width;A1.height=z1.height}return A1};var w1=function(d,z1,A1,B1,C1,x1){if(z1===0){d[z1].left=x1.left;d[z1].top=x1.top;if(x1.width>x1.height){d[z1].height=x1.height;d[z1].width=x1.width*(d[z1].val/A1);C1.vertical=false}else{d[z1].width=x1.width;d[z1].height=x1.height*(d[z1].val/A1);C1.vertical=true}B1.left=x1.left;B1.top=x1.top;B1.width=d[z1].width;B1.height=d[z1].height;B1.weight=d[z1].val;B1.items.push(z1);B1.worstRadio=k(B1);C1.left=x1.left;C1.top=x1.top;C1.width=x1.width;C1.height=x1.height;C1.weight=A1}else if(z1===(d.length-1)){var D1=_(B1,C1);d[z1].left=D1.left;d[z1].top=D1.top;d[z1].width=D1.width;d[z1].height=D1.height}else{var E1=(m(d,d[z1].val,true,B1,C1));var F1=(m(d,d[z1].val,false,B1,C1));if(E1<F1){B1.worstRadio=E1;B1.items.push(z1);B1.weight+=d[z1].val;if(C1.vertical){B1.height=C1.height*(B1.weight/C1.weight)}else{B1.width=C1.width*(B1.weight/C1.weight)}for(var i=0;i<B1.items.length;i++){var G1=B1.items[i];if(C1.vertical){d[G1].width=B1.width*(d[G1].val/B1.weight);d[G1].height=C1.height*(B1.weight/C1.weight);d[G1].top=B1.top;if(i===0){d[G1].left=B1.left}else{d[G1].left=d[G1-1].left+d[G1-1].width}}else{d[G1].height=B1.height*(d[G1].val/B1.weight);d[G1].width=C1.width*(B1.weight/C1.weight);d[G1].left=B1.left;if(i===0){d[G1].top=B1.top}else{d[G1].top=d[G1-1].top+d[G1-1].height}}}}else{var H1=_(B1,C1);C1.left=H1.left;C1.top=H1.top;C1.width=H1.width;C1.height=H1.height;C1.weight=H1.weight;if(C1.width>C1.height){C1.vertical=false}else{C1.vertical=true}B1.left=C1.left;B1.top=C1.top;B1.weight=d[z1].val;if(C1.vertical){B1.width=C1.width;B1.height=C1.height*(d[z1].val/C1.weight)}else{B1.height=C1.height;B1.width=C1.width*(d[z1].val/C1.weight)}B1.worstRadio=k(B1);B1.items=[];B1.items.push(z1);d[z1].width=B1.width;d[z1].height=B1.height;d[z1].top=B1.top;d[z1].left=B1.left}}};var x1={};x1.top=0;x1.left=0;x1.width=y;x1.height=z;var y1=j(d,x1,true);if(y1){j(d,x1,false)}};var r1=function(d){var i=false;if(d){var j=d.getAttribute('class');if(j&&j.indexOf('v-labelarea')>=0){i=true}}return i};var s1=function(X,d,j,_,w1){if(d>=j){return[]}var x1=[];var y1;var z1=_;var A1=z1+1;for(var i=_;i<w1;i++){var B1={};var C1=X[i].dimensions[d].row.val;if(C1!==y1||d===j-1){var D1=t1(i,d,j,B1);B1.label=X[i].dimensions[d].row.val;B1.level=d;B1.levelNum=j;B1.isTreeMap=true;if(d===j-1){var E1=[];var F1=[];E1.push(X[i].weight.row.ctx);F1.push(X[i].weight.row.info);if(X[i].color){E1.push(X[i].color.row.ctx);F1.push(X[i].color.row.info)}B1.ctx=E1;B1.info=F1}else{B1.ctx=[]}B1.index=i;var G1=null;if(X[i].color){G1=X[i].color.row.val}var H1=0;if(X[i].weight.row.val>=0){H1=X[i].weight.row.val}B1.val=(H1);B1.colorVal=(G1);if(x1.length>0){x1[x1.length-1].children=s1(X,(d+1),j,z1,A1);z1=i;A1=z1+1}x1.push(B1)}else{if(X[i].weight.row.val>=0){x1[x1.length-1].val+=X[i].weight.row.val}A1++}y1=C1;if(i===w1-1){if(x1.length>0){x1[x1.length-1].children=s1(X,(d+1),j,z1,A1)}}}var k;var m;for(k=0;k<x1.length;k++){for(m=0;m<x1[k].children.length;m++){x1[k].ctx=x1[k].ctx.concat(x1[k].children[m].ctx)}}return x1};var t1=function(i,d,k,m){if(d!==(k-1)){var _=(k-1-d);if(_===1){m.color="#f9f9f9"}else if(_===2){m.color="#e3e3e3"}else if(_===3){m.color="#bfbfbf"}else if(_===4){m.color="#989898"}else if(_===5){m.color="#717171"}m.colorValue=Number.MAX_VALUE}else{if(X[i].color){m.colorValue=X[i].color.row.val;if(c1){var w1=c1.domain();var x1=c1.domainInfo;if(N.isNoValue(m.colorValue)){m.color=A.emptycolor}else{var y1;for(var j=0;j<w1.length;j++){var z1=w1[j];var A1=x1[j];var B1=false;if((j===w1.length-1)||(w1[j+1].length===0)){y1=z1;break}if((m.colorValue>z1[0])&&(m.colorValue<z1[1])){B1=true}else if(!A1.isLeftOpen&&(m.colorValue===z1[0])){B1=true}else if(!A1.isRightOpen&&(m.colorValue===z1[1])){B1=true}if(B1){y1=z1;break}if((m.colorValue>=z1[0])&&(m.colorValue<z1[1])){y1=z1;break}}m.color=c1(y1)}}else{m.color=A.emptycolor}}else{m.colorValue=Number.MAX_VALUE;var C1=b.sap32().range();m.color=C1[0]}}};var u1=function(d,j,k){var m=function(_,w1){var x1={drawingEffect:'normal',fillColor:w1.color};var y1=a1.register(x1);var i;for(i=0;i<_.length;i++){_[i].setAttribute('fill',y1)}};s.applyConditons(d,j,k,m)};function v1(d){Y=d;R.startToInit();if(A.border&&A.border.visible){L=1}else{L=0}c1=o1();var i=X[0].dimensions.length;var j=s1(X,0,i,0,X.length);q1(j);p1(j);n1(d,j);u1(A.formatRules,d,F);return v1}v1.dataLabel=function(_){};v1.afterUIComponentAppear=function(){R.initialized()};v1.mouseover=function(d){if(r1(d)){Y.selectAll('.v-axis-item').attr('opacity',0);d.setAttribute("opacity",1);d.setAttribute("class","v-labelarea v-axis-item v-hovershadow");d.setAttribute("fill",v)}};v1.mouseout=function(d){if(r1(d)){d.setAttribute("class","v-labelarea v-axis-item");d.setAttribute("opacity",0)}if(A.tooltip.enabled){R.hideTooltip()}k1(d)};v1.cleanLabelAreas=function(){if(Y){Y.selectAll(".v-labelarea").attr("class","v-labelarea v-axis-item").attr("opacity",0)}};v1.mouseup=function(d){if(r1(d)){d.setAttribute("opacity",1);d.setAttribute("class","v-labelarea v-axis-item v-hovershadow");d.setAttribute("fill",v)}};v1.mousedown=function(d){d.setAttribute("opacity",1);d.setAttribute("class","v-labelarea v-axis-item v-hovershadow-mousedown");d.setAttribute("fill",w)};v1.parent=function(){return Y};v1.highlight=function(d,i){D.highlightProperties.hoverBorderColor='#999999';D.highlightProperties.selectedBorderColor='#000000';D.nodesHighlight(d,{factor:0.7,constant:0},a1,i);D.resetHighlightProperties();if(d1){g.clearSelectionInfo(Y,true,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(h,false);d3.selectAll(d).classed(n,true)}else{d3.selectAll(d).classed(h,true);d3.selectAll(d).classed(n,false)}};v1.unhighlight=function(d,i,j){D.highlightProperties.hoverBorderColor='#999999';D.highlightProperties.selectedBorderColor='#000000';D.nodesUnhighlight(d,i,j);D.resetHighlightProperties();if(d1){g.clearSelectionInfo(Y,false,d)}if(!T.isArray(d)){d=[d]}if(i){d3.selectAll(d).classed(h,true);d3.selectAll(d).classed(n,false)}else{d3.selectAll(d).classed(h,false);d3.selectAll(d).classed(n,false)}};v1.clear=function(d){if(!d){var i=Y.selectAll('.v-datapoint');i.attr('fill-opacity',1);if(d1){g.clearSelectionInfo(Y,false,i)}}else{Y.selectAll('.v-datapoint').attr('fill-opacity',0.4)}Y.selectAll('.v-datapoint').classed(h,false).classed(n,false)};v1.width=function(_){if(!arguments.length){return y}y=_;return v1};v1.height=function(_){if(!arguments.length){return z}z=_;return v1};v1.data=function(d){if(!arguments.length){return F}F=d;H=true;U=F.getAnalysisAxisDataByIdx(0);V=F.getMeasureValuesGroupDataByIdx(0);W=F.getMeasureValuesGroupDataByIdx(1);d1=false;if(V.values[0].rows[0][0].info&&V.values[0].rows[0][0].info.defaultSelection){d1=true}if(W){if(W.values[0].rows[0][0].info&&W.values[0].rows[0][0].info.defaultSelection){d1=true}}var k=F.getAnalysisAxisDataByIdx(0);var m=F.getMeasureValuesGroupDataByIdx(0);var _=F.getMeasureValuesGroupDataByIdx(1);X=[];var w1=m.values[0].rows[0];var i,x1;for(i=0;i<w1.length;i++){x1={};var y1={};y1.col=m.values[0].col;y1.row=w1[i];x1.weight=y1;X.push(x1)}if(_){w1=_.values[0].rows[0];for(i=0;i<X.length;i++){x1=X[i];var z1={};z1.col=_.values[0].col;z1.row=w1[i];x1.color=z1}}w1=k.values;for(i=0;i<X.length;i++){x1=X[i];var A1=[];var B1=w1.length;if(B1>b1){B1=b1}for(var j=0;j<B1;j++){var C1={};C1.col=k.values[j].col;C1.row=k.values[j].rows[i];A1.push(C1)}x1.dimensions=A1}return v1};v1.properties=function(d){if(!arguments.length){return B}e.extend(true,A,d);e.extend(true,B,d);H=true;return v1};v1.getDatapointsByRange=function(d){var j=Y.selectAll('.v-datapoint')[0],k=[],m=d.ctx.ranges,_;for(var i=0,w1=j.length;i<w1;i++){_=j[i].__data__.colorValue;if(d.val==="N/A"){if(N.isNoValue(_)){k.push(j[i])}}else{if(_<m.endValue&&_>m.startValue){k.push(j[i])}else{if(!m.isLeftOpen&&_===m.startValue){k.push(j[i])}else if(!m.isRightOpen&&_===m.endValue){k.push(j[i])}}}}return k};v1.mbcLegendInfo=function(){var d=o1();var i="";if(W){i=W.values[0].col}return{'colorScale':d,'title':i}};v1.getPreferredSize=function(){};v1.dispatch=function(_){if(!arguments.length){return R}R=_;return v1};v1.destroy=function(){if(P){P.domain([0,1]).range([0,1])}if(Q){Q.domain([0,1]).range([0,1])}if(Y){Y.selectAll('.v-datapoint').remove()}Q=null;P=null;U=null;V=null;W=null;X=null;Y=null;Z=null;$=null;c1=null;f1=null;x=null;G=null;if(q){q.destroy();q=null}};return v1};return o});define('sap/viz/feeds/TreeMap',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var r={'id':'rectangleTitle','name':'IDS_RECTANGLETITLE','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'maxStackedDims':6};var a={'id':'rectangleWeight','name':'IDS_RECTANGLEWEIGHT','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1};var b={'id':'rectangleColor','name':'IDS_RECTANGLECOLOR','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2};var f={id:"treeMap",feeds:[r,b,a]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/TreeMap',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/treemap','sap/viz/feeds/TreeMap'],function Setup(M,C,f,T){var m={'id':'sap.viz.modules.treemap','type':C.Type.Chart,'name':'treemap','properties':{'border':{'name':'border','description':'Settings for the border','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the zone edge'},},},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data loading animation is enabled'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the data updating animation is enabled'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the resizing animation is enabled'}},'description':'Settings for animations in the plot area','example':"<a href='"+C.DocExample.SnippetUrl+"8535' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set the starting color of the tree map'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set the end color of the tree map'},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':undefined,'description':'Set the color palette for the various sectors. For example, ["#748CB2", "#9CC677", "#EACF5E", "#F9AD79", "#D16A7C"].'},'legendValues':{'name':'legendValues','supportedValueType':'IntArray','defaultValue':undefined,'description':'Set the MBC legend values. For example, [10,11,12,13,14,15]. '+'The values in the array should be in ascending order. If the number of values in the array is smaller than the MBC legend segment number, '+'the MBC legend automatically calculates the values according to the data. If the number of values in the legendValues array is larger than MBC legend segment number, '+'then only the first "segment number + 1" values are used.'},'formatRules':{'name':'formatRules','supportedValueType':'Array','isExported':true,'description':'Sample value for formatRules:\
  [{condition: [{Key1:Value1, Key2:Value2}], color:"#00ff00"}, {condition: [{Key3:Value3}], color:"#00ffff"}]. \
  Each rule has two properties: the "condition" and the "color". \
  Value1, Value2 and Value3 are values. <br />\
  The value of a dimension may be <br />\
  1, Single value (string), like "China" . <br />\
  2. Array (enumeration), like ["UK","USA"] . <br />\
  The value of a measure may be <br />\
  1, Single value (number), like 20 . <br />\
  2. Arry (enumeration), like [121,122] . <br />\
  3. Object (range), like {min:100, max 200} . Min and max are inclusive. \
  If users want to inlcude 200, but not 100 in the range, they may use {min:100.00001, max:200}. \
  If users want values larger than 100, they may write {min:100}. <br /> \
  The color is applied if one or more conditions in the condition array is met. \
  If multiple rules could apply on the same data point, it is the last rule that takes effect.','example':"<a href='"+C.DocExample.SnippetUrl+"8751' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'tooltip':{'name':'tooltip','description':'Settings for tooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'},},'isExported':false}},'events':{'initialized':C.Event.Initialized.desc,'selectData':C.Event.SelectData.desc,'deselectData':C.Event.DeSelectData.desc,'showTooltip':C.Event.TooltipShow.desc,'hideTooltip':C.Event.TooltipHide.desc},'feeds':{id:"treeMap"},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[].concat(T.feeds)};return a});define('sap/viz/manifests/TreeMapChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/modules/manifests/RootContainer','sap/viz/manifests/BaseSingleChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/TreeMap','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,C,R,B,T,a,I){var c={id:'viz/treemap',name:'IDS_TREEMAPCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/base/single',modules:{root:{configure:{properties:{layout:{adjustPolicy:C.LAYOUT_ADJUST_POLICY.RELAYOUT}},propertiesOverride:{layout:{hideAxisTitleFirst:{isExported:false}}}},modules:{legends:{modules:{legend:{id:'sap.viz.modules.legend.common',configure:{'description':'Settings for the measure-based coloring legend. The measure-based coloring legend is a bar containing various colors and a value scale indicating the relationship between the values and those colors. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false},formatString:{isExported:true}}}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'treemap',orientation:'bottom'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:"main",propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart'],handlers:[{triggerKey:'hover_on_axis_label',fn:function(d,e,p){p['main.plot'].mouseover(d.data.currentTarget)}},{triggerKey:'hover_on_non_axis_label',fn:function(d,e,p){p['main.plot'].cleanLabelAreas()}}],decorations:[{name:'focusAxisLabel',fn:function(t,p){if(p){p['main.plot'].mousedown(t)}}},{name:'defocusAxisLabel',fn:function(t,p){if(p){p['main.plot'].mouseup(t)}}},{name:'unhoverOnAxisLabel',fn:function(t,p){if(p){p['main.plot'].cleanLabelAreas()}}}]}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,isTreeMap:true,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.treemap',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.legends.legend',target:'mbcLegendInfo',sourceModule:'root.main.plot',source:'mbcLegendInfo'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,T.module,a.module,I.module),feeds:[].concat(B.feeds,R.feeds,T.feeds,a.feeds)};return m});define('sap/viz/impls/TreeMapChart',['sap/viz/manifests/TreeMapChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/DivContainer',['sap/viz/base/utils/oo','sap/viz/modules/BaseContainer','sap/viz/util/EffectManager'],function Setup(o,B,E){var D=function(m,c){D.superclass.constructor.apply(this,arguments);c.effectManager=new E();this._div_container=null};o.extend(D,B);D.prototype.drawBackground=function(p){};D.prototype.container=function(x){if(!arguments.length){return this._div_container}this._div_container=x;return this};D.prototype.destroy=function(){D.superclass.destroy.apply(this,arguments);this._div_container=null};return D});define('sap/viz/modules/manifests/DivContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/DivContainer','sap/viz/modules/manifests/BaseContainer'],function Setup(M,C,f,B){var m={id:"sap.viz.modules.divcontainer",base:"sap.viz.modules.basecontainer",renderto:C.RenderTo.DIV,name:"DivContainer",description:"Settings for the modular unit of the div container.",fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/modules/plotContainer',['jquery','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout','sap/viz/modules/util/DimensionalInfoHandler','sap/viz/data/handler/MultiChartDataHandler','sap/viz/modules/manifests/Module','sap/viz/data/MultiAxesDataAdapter','sap/viz/data/handler/MeasureDataHandler','sap/viz/modules/dispatch','sap/viz/modules/util/BoundUtil','sap/viz/util/ignite','sap/viz/util/fn/createContext','sap/viz/modules/util/dataUtil'],function Setup($,T,O,F,l,D,M,a,b,c,d,e,f,g,h){var r=function(m,k){var w,n,p={},o=null,q={},s={},t=[],u=[],v=null,x=null,y=new d('initialized','showTooltip','hideTooltip');var z=0,A=0;var B={pending:0,finished:0};var C={width:200,height:100};var E={width:0,height:0};var G={left:0,top:0,right:0,bottom:0};var H=1;var I=1;var J=0;var K={};var L=0;var N={startGap:0,endGap:0};function P(i,j){var _=o.dataHandler;var j1=o.contexts[i][j];return _.getSubDataAdapter(j1)}function Q(){B.finished++;if(B.pending===B.finished){B.pending=0;B.finished=0;y.initialized()}}function R(i){y.showTooltip(i)}function S(i){y.hideTooltip(i)}function U(i,j){if(K[i+'-'+j]===undefined){K[i+'-'+j]=L;L++}return K[i+'-'+j]}function V(i,j){return K[i+'-'+j]}function W(i,j){var _=U(i,j);s.background[_]=e1('background');s['background['+_+']']=s.background[_];var j1=P(i,j);if(!j1){return}var k1=q.modules.plot;var l1=a.get(k1.id);var m1=g(l1,k,"v-m-plot");var n1=f(l1,m1);s.plot[_]=n1;s['plot['+_+']']=n1;s.dataLabel[_]=e1('dataLabel');s.plot[_].dataLabel(s.dataLabel[_]);s.dataLabel[_].plot(s.plot[_]);s['dataLabel['+_+']']=s.dataLabel[_];var o1=n1.dispatch();if(o1.initialized){o1.on('initialized.plotContainer',Q);o1.on('initialized.datalabel',function(){s.dataLabel[_].showLabel()})}if(o1.startToInit){o1.on('startToInit.datalabel',function(){s.dataLabel[_].removeLabel()})}if(o1.showTooltip){o1.on('showTooltip.plotContainer',R)}if(o1.hideTooltip){o1.on('hideTooltip.plotContainer',S)}n1.data(j1);var p1={};var q1=d1('plot');var r1=k1.configure.properties||{};O.extend(true,p1,r1,q1);n1.properties(p1)}function X(i,j){var _=V(i,j);var j1=s.plot[_];var k1=x.append('g');Y(i,j,j1,k1,_);return k1}function Y(i,j,_,j1,k1){var l1=b1(i,j);j1.attr('class','v-m-plot-'+i+'-'+j).attr('transform','translate('+l1.x+','+l1.y+')');var x=d3.select(j1.node().parentNode);var m1=x.select('.v-m-background-'+i+'-'+j);if(m1.empty()){m1=x.insert('g','.v-m-plot-'+i+'-'+j).attr('class','v-m-background-'+i+'-'+j)}m1.attr('transform','translate('+l1.x+','+l1.y+')');s.background[k1].width(C.width-G.left-G.right).height(C.height-G.top-G.bottom);s.background[k1].properties(p.background);m1.call(s.background[k1]);u[k1]=m1;if(!_){return}_.width(C.width-G.left-G.right);_.height(C.height-G.top-G.bottom);_.properties(p.plotArea);j1.datum(_.data()).call(_)}function Z(z,A){var i=Math.floor(z/C.width);var j=Math.min(I,Math.ceil((z+E.width)/C.width));var _=Math.floor(A/C.height);var j1=Math.min(H,Math.ceil((A+E.height)/C.height));for(var k1=_;k1<j1;k1++){for(var l1=i;l1<j;l1++){if(s.plot[V(k1,l1)]===undefined){continue}else{B.pending++}}}return{rowStart:_,rowEnd:j1,colStart:i,colEnd:j}}function a1(z,A){var _=Z(z,A);var j1;for(var i=0;i<H;i++){for(var j=0;j<I;j++){j1=V(i,j);if(!t[j1]){continue}if(i>=_.rowStart&&i<_.rowEnd&&j>=_.colStart&&j<_.colEnd){continue}$(t[j1].node()).detach();if(u[j1]){$(u[j1].node()).detach()}}}for(var k1=_.rowStart;k1<_.rowEnd;k1++){for(var l1=_.colStart;l1<_.colEnd;l1++){j1=V(k1,l1);var m1=t[j1];if(!m1){t[j1]=X(k1,l1)}else{var n1=m1.node();if(!n1.parentNode){$(n1).appendTo(x.node())}var o1=s.plot[j1];Y(k1,l1,o1,m1,j1)}}}}function b1(i,j){return{x:j*C.width+G.left,y:i*C.height+G.top}}function c1(z,A){if(s.interaction){s.interaction.module(i1)}a1(z,A)}function d1(i){var j=q.modules[i];var _=j.configure.propertyCategory;return p[_]}function e1(i){var j=q.modules[i];var m=a.get(j.id);var _=g(m,k,"v-m-"+i);var j1=f(m,_);var k1={};var l1=d1(i);var m1=j.configure.properties||{};O.extend(true,k1,m1,l1);j1.properties(k1);return j1}function f1(){s.plot=[];s.dataLabel=[];s.background=[];K={};L=0;B.pending=0;B.finished=0;var i=q.modules.plot;var j=a.get(i.id);var _=g(j,k,"v-m-plot");for(var j1=0;j1<H;j1++){for(var k1=0;k1<I;k1++){W(j1,k1)}}if(q.modules.interaction){s.interaction=e1('interaction');s.interaction.module(i1)}g1()}function g1(){if(!s.plot){return}var j=d1('plot');var _=d1('dataLabel');var j1=d1('background');for(var i=0;i<s.plot.length;i++){if(s.plot[i]){s.plot[i].properties(O.extend(true,{},j));s.dataLabel[i].properties(O.extend(true,{},_))}s.background[i].properties(O.extend(true,{},j1))}if(s.interaction){var k1=O.extend(true,{},d1('interaction'));s.interaction.properties(k1)}}function h1(){if(!s.plot){return}for(var i=0;i<H;i++){for(var j=0;j<I;j++){var _=V(i,j);if(s.plot[_]){s.plot[_].data(P(i,j))}}}}function i1(i){var j=C.width*I;var _=C.height*H;x.attr('width',j).attr('height',_);i.each(function(o){if(T.isEmptyObject(s)){f1()}if(s.tooltip){s.tooltip.zone({'width':E.width-J,'height':E.height})}c1(z,A)});return i1}i1.scrollLeft=function(i){if(!arguments.length){return z}if(i>=0){z=i;c1(z,A)}};i1.scrollTop=function(i){if(!arguments.length){return A}if(i>=0){A=i;c1(z,A)}};i1.scrollBarSize=function(_){if(!arguments.length){return J}J=_;return i1};i1.axisGap=function(_){if(!arguments.length){return N}if(_.startGap>N.startGap){N.startGap=_.startGap}if(_.endGap>N.endGap){N.endGap=_.endGap}};i1.rowCount=function(_){if(!arguments.length){return H}H=_;return i1};i1.columnCount=function(_){if(!arguments.length){return I}I=_;return i1};i1.width=function(_){if(!arguments.length){return w}w=_;return i1};i1.height=function(_){if(!arguments.length){return n}n=_;return i1};i1.size=function(_){if(!arguments.length){return{'width':w,'height':n}}n=_.height;w=_.width;return i1};i1.cellSize=function(_){if(!arguments.length){return C}C=_;for(var i=0;i<s.plot.length;i++){if(!s.plot[i]){continue}s.plot[i].width(C.width-G.left-G.right);s.plot[i].height(C.height-G.top-G.bottom)}return i1};i1.visibleSize=function(_){if(!arguments.length){return E}E=_;return i1};i1.data=function(_){if(!arguments.length){return o}o=_;h1();return i1};i1.properties=function(_){if(!arguments.length){return p}O.extend(true,p,_);g1();return i1};i1.config=function(_){if(!arguments.length){return q}q=_;return i1};i1.parentDiv=function(_){if(!arguments.length){return v}v=_;x=v.append('svg');return i1};i1.reset=function(){s={};N={startGap:0,endGap:0};t=[];$(v.node()).empty();x=v.append('svg')};i1.parent=function(_){if(!arguments.length){return x}x=_;return i1};i1.modules=function(_){if(!arguments.length){if(T.isEmptyObject(s)){f1()}return s}s=_;return i1};i1.dispatch=function(_){if(!arguments.length){return y}y=_;return i1};i1.getPropertyZone=function(){var i=[];var j=v.node().getBoundingClientRect();if(j.width>1.5&&j.height>1.5){var _=[[]];_[0].push([j.left,j.top]);_[0].push([j.right,j.top]);_[0].push([j.right,j.bottom]);_[0].push([j.left,j.bottom]);i.push({"name":'mainPlot',"bound":_})}return i};i1.destroy=function(){if(k){k.destroy();k=null}};return i1};return r});define('sap/viz/modules/manifests/PlotContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/plotContainer','sap/viz/data/feed/Constants'],function Setup(M,m,f,a){var b={'id':'sap.viz.modules.plotContainer','type':m.Type.Container,'name':'plot container','description':'Settings for the layout of subcharts for trilles charts.','properties':{},'events':{'showTooltip':m.Event.TooltipShow.desc,'hideTooltip':m.Event.TooltipHide.desc},'css':null,'fn':f};var c={viz:[],module:[b],feeds:[]};return c});define('sap/viz/modules/manifests/axis/TrellisAxis',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/axis'],function Setup(M,C,U,f){var m={'id':'sap.viz.modules.axis.TrellisAxis','type':C.Type.Supplementary,'name':'TrellisAxis','base':"sap.viz.modules.axis",'abstract':true,'properties':{'isIndependentMode':{'name':'isIndependentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the axis works on independent mode. Currently it is used specially for boxplot charts.','isExported':false},'isPercentMode':{'name':'isPercentMode','supportedValueType':'Boolean','defaultValue':false,'description':"Show the label as a percentage. For example '0.1' would show as '10'.",'isExported':false},'lineSize':{'name':'lineSize','supportedValueType':'Int','defaultValue':'1','description':'Set the thickness of the axis line','isExported':false,'example':"<a href='"+C.DocExample.SnippetUrl+"88' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'title':{'name':'title','description':'Settings for the axis title','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the axis title','isExported':false},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set the text of the axis title','isExported':false},'applyAxislineColor':{'name':'applyAxislineColor','supportedValueType':'Boolean','defaultValue':false,'description':'Set the title color to match the color of the axis line','isExported':false,},},'isExported':false},'gridline':{'name':'gridline','description':'Settings for the gridlines on the axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the gridlines on the axis','isExported':false},showFirstLine:{'name':'showFirstLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the first gridline on the axis appears','isExported':false,},showLastLine:{'name':'showLastLine','supportedValueType':'Boolean','defaultValue':false,'description':'SSet whether the last gridline on the axis appears','isExported':false,},'type':{'name':'type','supportedValueType':'String','supportedValues':['line','dotted','incised'],'defaultValue':'line','description':'Set the line type of gridlines on the axis','isExported':true,},'color':{'name':'color','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Set the color of gridlines on the axis','isExported':true,},'size':{'name':'size','supportedValueType':'Int','defaultValue':'1','description':'Set line size of gridlines on the axis','isExported':true,},},'isExported':false},'color':{'name':'color','supportedValueType':'String','defaultValue':'#6c6c6c','description':'Set the color of the axis line','isExported':true,},'axisline':{'name':'axisline','description':'Settings for the axis line','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the axis line'},},'isExported':false},'type':{'name':'type','supportedValueType':'String','supportedValues':['value','category',],'defaultValue':'value','description':'Set the axis type','isExported':false,},'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the entire axis, including the axis line, gridlines, and labels','isExported':false},'label':{'name':'label','description':'Settings for the labels on this axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set the visibility of the labels on this axis','isExported':false},'numberFormat':{'name':'numberFormat','supportedValueType':'String','defaultValue':'','description':'Set the number format for the value axis','isExported':false},'formatString':{'name':'formatString','supportedValueType':'String | Two-Dimensions-Array','defaultValue':null,'description':'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The letter "u" is used at the end of a format string to format values in SI units. If the letter "u" is added to a value between 1e12 and 1e-3 before SI units are applied, the value is formatted in exponential style. The remaining syntax matches Excel format strings. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].','isExported':false}},'isExported':false},'indicator':{'name':'indicator','description':'Settings for the the axis indicator','supportedValueType':'Object','supportedValues':{'enable':{'name':'enable','supportedValueType':'Boolean','defaultValue':false,'description':'Set the visibility of the axis indicator','isExported':false}},'isExported':false},'position':{'name':'position','supportedValueType':'String','supportedValues':['left','right','top','bottom'],'defaultValue':'bottom','description':'Set the position of the axis','isExported':false,},'isTruncateAvailable':{'name':'isTruncateAvailable','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether truncation logic is available for the category axis','isExported':false,},'forceLabelArea':{'name':'forceLabelArea','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the label area is limited to the text area','isExported':false},'scale':{'name':'scale','description':'Set the scale of the value axis. This property only works on value type axes.','supportedValueType':'Object','supportedValues':{'fixedRange':{'name':'fixedRange','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether the axis range is limited to the range between the minValue and maxValue','isExported':false},'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':0,'description':'Set the minValue of the value axis','isExported':false},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':0,'description':'Set the maxValue of the value axis','isExported':false}},'isExported':false},'layoutInfo':{'name':'layoutInfo','description':'Settings for the layout of the category axis. This property only works for category type axes.','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'Number','defaultValue':0,'description':'Set the width of the xAxis','isExported':false},'height':{'name':'height','supportedValueType':'Number','defaultValue':0,'description':'Set the height of the xAxis','isExported':false}},'isExported':false},'enableLabelSelection':{'name':'enableLabelSelection','supportedValueType':'Boolean','defaultValue':true,'description':"Set whether the label selection effect is enabled. For mobile devices, the default value is 'false'.",'isExported':false},'axisTick':{'name':'axisTick','description':'Settings for the ticks on the axis','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':U.isMobile()?false:true,'description':"Set visibility of the ticks on the axis. For mobile devices, the default value is 'false'."},},'isExported':false}},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/axis/baseCategoryHelper',['jquery','sap/viz/util/TextUtils','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/util/NumberUtils','sap/viz/modules/dispatch','sap/viz/format/FormatManager','sap/viz/modules/threeD/matrix','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector'],function Setup(q,T,b,V,O,l,N,d,F,c,B,U){var r=function(f,g){var h=null;var n=null;var o;var p=null;var s=0;var t=0;var u=true;var v=-1;var w="viz-axis";var x="viz-axis-body";var y="viz-axis-title";var z={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label"};var A=11;var C={};var D={};var E=true;var G=f.props(null);var H=true;var I=new d('initialized');var J=G.color;var K=null;var L;if(g){L=g.effectManager}var M=null;var P={"realStyle":{},"defaultStyle":{}};var Q=function(){if(g){P.realStyle.title=O.extend(true,{},g.styleManager.query(z.axisTitle));P.realStyle.label=O.extend(true,{},g.styleManager.query(z.axisLabel));P.defaultStyle.title=O.extend(true,{},g.styleManager.queryDefault(z.axisTitle));P.defaultStyle.label=O.extend(true,{},g.styleManager.queryDefault(z.axisLabel));P.realStyle.titleString=g.styleManager.query(z.axisTitle).toString();P.realStyle.labelString=g.styleManager.query(z.axisLabel).toString();P.defaultStyle.titleString=g.styleManager.queryDefault(z.axisTitle).toString();P.defaultStyle.labelString=g.styleManager.queryDefault(z.axisLabel).toString();if(G.title.applyAxislineColor){P.realStyle.title.fill=G.color;P.defaultStyle.title.fill=G.color}}};var R=c(),S=null,W=null,X=null,Y=null;var Z=function(){if(!H){return false}else{if(!$()){return false}}return true};var $=function(){if(!u){return false}var a=K.range();var e=K.domain();var i=null;if(G.type==="category"){i=K.rangeBand()}var j=false;if(!G.isIndependentMode){if(D){j=true}}else{if(C){j=true}}return!(!G.visible||(a[0]===0&&a[a.length-1]===0&&a.length>=2)||(a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&G.type==="value")||((!i||!j)&&a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&G.type==="category"))};var a1=function(){var a=[];if(G.title.text!==undefined&&G.title.text!==null){a=G.title.text}else{var e=[];if(G.isIndependentMode){if(C){for(var i in C){if(C.hasOwnProperty(i)){e=C[i].values;break}}}}else{if(D){e=D.values}}for(var k=0;k<e.length;k++){if(e[k].type){if(e[k].type==="MND"){a.push(l.get('IDS_DEFAULTMND'))}}else{if(e[k].col.val){a.push(e[k].col.val)}else{a.push(l.get('IDS_ISNOVALUE'))}}}}M=a;return a};var b1=function(a,j){if(j){a.selectAll("*").remove();var k=a.append("svg");k.originalSelection=a;a=k}var m=b1.getPreferredSize();var _=(s<m.width)?s:m.width;var o1=(t<m.height)?t:m.height;B.drawBound(a,_,o1);a.attr('width',m.width).attr('height',m.height);p=a;var p1=a.select("."+w);var q1=K.range();var r1=K.domain();if(!Z()){p1.remove()}else{var s1=b1.getPreferredSize().spacings;var t1=s1[0];var u1=0;for(var i=1;i<s1.length;i++){u1+=s1[i]}if(v>=0&&v<(t1+u1)){E=false}n1();var v1;var w1;var re=m1();v1=re.core;w1=re.coreScale;var y1=M;o=v1().setTitle(y1).properties(G).style(P).position(G.position).axScale(w1).spaceLimit(v).matrix(R).labelAngle(S).labelAlign(W).angle(X).tickAngle(Y);var z1;if(p1.empty()){p1=a.append("g").attr("class",w+" "+z.axis);z1=p1.append("g").attr("class",x+" "+z.axisBody)}else{var e=p1.select("."+x).remove();z1=p1.append("g").attr("class",x+" "+z.axisBody);z1=p1.select("."+x)}if($()){o.call(this,a)}var A1=A;p1.select("."+y).remove();E=true}I.initialized();return b1};b1.style=function(_){if(!arguments.length){return P}P=_;return b1};b1.matrix=function(_){if(!arguments.length){return R}R=_;return b1};b1.setCoreModule=function(_){h=_;return b1};b1.labelAngle=function(_){if(!arguments.length){return S}S=c1(_,360);return b1};b1.tickAngle=function(_){if(!arguments.length){return Y}Y=c1(_,360);return b1};b1.angle=function(_){if(!arguments.length){return X}X=c1(_,360);return b1};function c1(a,m){var r=a%m;if(0>r)r+=m;return r}b1.labelAlign=function(_){if(!arguments.length){return W}W=_;return b1};b1.parent=function(_){if(!arguments.length)return p;p=_;return b1};b1.width=function(_){if(arguments.length==0){return s}else{s=_;if(G.position=="bottom"||G.position=="top"){if(t){v=t}}else if(G.position=="left"||G.position=="right"){if(s){v=s}}return b1}};b1.height=function(_){if(arguments.length==0)return t;t=_;if(G.position=="bottom"||G.position=="top"){if(t){v=t}}else if(G.position=="left"||G.position=="right"){if(s){v=s}}return b1};b1.gridlineLength=function(_){if(arguments.length==0)return G.gridline.length;G.gridline.length=_;return b1};b1.startPadding=function(){var a=0;if(G.type=="value"){}return a};b1.endPadding=function(){var a=0;if(G.type=="value"){}return a};b1.mouseover=function(a){if(G.enableLabelSelection&&G.type!=="value"){o.mouseover(a)}};b1.mouseout=function(a){if(G.enableLabelSelection&&G.type!=="value"){o.mouseout(a)}};b1.cleanLabelAreas=function(){if(G.enableLabelSelection&&G.type!=="value"&&o&&o.cleanLabelAreas){o.cleanLabelAreas()}};b1.mouseup=function(a){if(G.enableLabelSelection&&G.type!=="value"){o.mouseup(a)}};b1.mousedown=function(a){if(G.enableLabelSelection&&G.type!=="value"){o.mousedown(a)}};b1.size=function(_){if(arguments.length==0)return{"width":s,"height":t,};s=_.width;t=_.height;return b1};b1.independentData=function(_){if(G.isIndependentMode){if(arguments.length==0)return C;C=_}},b1.data=function(_){if(arguments.length==0)return C;if(!G.isIndependentMode){C=_;if(_.getAnalysisAxisDataByIdx){D=C.getAnalysisAxisDataByIdx(0)}}return b1};b1.title=function(_){if(arguments.length==0)return M;M=_;return b1};b1.properties=function(_){if(arguments.length==0){return G}var a=false,e=false;if(_.scale&&_.scale.fixedRange){a=isNaN(Number(_.scale.minValue));e=isNaN(Number(_.scale.maxValue))}O.extend(true,G,_);if(a){G.scale.minValue=NaN}if(e){G.scale.maxValue=NaN}if(_.color){G.customizedColor=_.color}if(_.label&&_.label.formatString&&b.isArray(_.label.formatString)){if(b.isArray(_.label.formatString[0])){G.label.formatString=_.label.formatString[0][0]}}return b1};b1.range=function(){var a=null,m=Number(G.scale.maxValue),e=Number(G.scale.minValue);if((G.type==="value")&&(G.scale.fixedRange)){if(isNaN(m)||isNaN(e)||m>e){a={max:m,min:e,from:'axis'}}}return a};b1.scale=function(_){if(arguments.length==0)return K;K=_;return b1};b1.isDrawBody=function(_){if(arguments.length==0)return u;u=_;return b1};b1.color=function(_){if(arguments.length==0)return G.color;if(_!==undefined){G.isAxisColorFixed=true}if(G.customizedColor){_=G.customizedColor}if(!_){_=J}G=O.extend(true,G,{"color":_});if(G.title.applyAxislineColor&&_){if(!P.realStyle.title){P.realStyle.title={}}if(!P.defaultStyle.title){P.defaultStyle.title={}}P.realStyle.title.fill=_;P.defaultStyle.title.fill=_}return b1};b1.drawable=function(_){if(arguments.length==0)return H;H=_;return b1};b1.getPreferredSize=function(){Q();var a=[0];var e=[0];if(K){a=K.range();e=K.domain()}if(!K||(!Z())){return{width:0,height:0,manual:false,}}else{var j=m1();var k=a1();var m=(j.core)().setTitle(k).properties(G).style(P).position(G.position).axScale(j.coreScale).spaceLimit(v);var _;var o1=0;var p1=0;var q1=0;var r1=[];var s1=m.getPreferredSize();if(G.position=="bottom"||G.position=="top"){if(!$()){s1.height=0;s1.spacings=[]}if(G.title.visible&&G.visible){if(k!==undefined&&k!==null&&k!==''){o1=d1(k,P.realStyle.title).height}else{o1=0}q1=o1==0?0:A}var t1=o1+q1;r1=r1.concat([t1]);r1=r1.concat(s1.spacings);var u1=0;for(var i=1;i<r1.length;i++){u1+=r1[i]}var v1=t1+u1;var w1=v1;if(v>=0&&v<v1){w1=s1.height}_={maxSizeConstant:1/3,width:s1.width,height:v1,realHeight:w1,spacings:r1,manual:false,minTruncateSize:s1.minTruncateSize}}else if(G.position=="left"||G.position=="right"){if(!$()){s1.width=0;s1.spacings=[]}if(G.title.visible&&G.visible){if(k!==undefined&&k!==null&&k!==''){p1=d1(k,P.realStyle.title).height}else{p1=0}q1=p1==0?0:A}var t1=p1+q1;r1=r1.concat([t1]);r1=r1.concat(s1.spacings);var u1=0;for(var i=1;i<r1.length;i++){u1+=r1[i]}var x1=u1+t1;var y1=x1;if(v>=0&&v<x1){y1=s1.width}_={maxSizeConstant:1/3,width:x1,realWidth:y1,height:s1.height,spacings:r1,manual:false,minTruncateSize:s1.minTruncateSize}}if((G.type=='category')&&(G.layoutInfo.width>0)&&(G.layoutInfo.height>0)){_.width=G.layoutInfo.width;_.realWidth=G.layoutInfo.width;_.height=G.layoutInfo.height;_.realHeight=G.layoutInfo.height;_.manual=true}V.normalizeNumbersCeil(_);return _}};b1.dispatch=function(_){if(!arguments.length)return I;I=_;return b1};b1.getPropertyZone=function(_){var a=null;if((typeof o.getPropertyZone)==='function'){a=o.getPropertyZone()}return a};b1.destroy=function(){if(g){g.destroy();g=null}if(o&&o.destroy){o.destroy()}z=null;if(R&&R.destroy){R.destroy()}R=null;p=null;o=null;D=null;C=null;if(K){K.domain([0,1]).range([0,1])}K=null};var d1=function(_,a){return T.superFastMeasure(_,a['font-size'],a['font-weight'],a['font-family'])};function e1(a){if(a[0].type==='MND'||a[a.length-1].type==='MND'){return true}else{return false}}function f1(a){if(a.length===1&&a[0].type==='MND'){return true}else{return false}}function g1(a){if(a[0].type==='MND'){return true}else{return false}}function h1(a){if(!e1(a)){return}if(g1(a)){return a[0]}else{return a[a.length-1]}}function i1(a){if(!e1(a)||f1(a)){return a}var e=[];var i,j,k;for(i=0;i<a.length;++i){e.push({col:a[i].col,rows:[]})}var m=h1(a);var _=m.rows.length;var o1;if(g1(a)){o1=a[1].rows.length;for(i=0;i<_;++i){for(j=0;j<o1;++j){e[0].rows.push(a[0].rows[i])}}for(i=1;i<a.length;++i){for(j=0;j<_;++j){for(k=0;k<a[i].rows.length;k++){var p1=O.extend(true,{},a[i].rows[k]);e[i].rows.push(p1)}}}for(i=1;i<e.length;++i){for(j=0;j<e[i].rows.length;++j){var q1=e[0].rows[j].ctx;var r1=e[i].rows[j].ctx;r1=O.extend(true,r1,q1);e[i].rows[j].ctx=r1}}}else{o1=a[0].rows.length;for(i=0;i<o1;++i){var s1;var t1=a[a.length-1].rows.length;for(s1=0;s1<t1;s1++){e[e.length-1].rows.push(O.extend(true,{},a[a.length-1].rows[s1]));if(a.length>=2){var q1=a[a.length-2].rows[i].ctx;var r1=O.extend(true,{},a[a.length-1].rows[s1].ctx);r1=O.extend(true,r1,q1);e[e.length-1].rows[i*t1+s1].ctx=r1}}}for(i=0;i<a.length-1;++i){for(j=0;j<o1;++j){for(k=0;k<_;++k){e[i].rows.push(a[i].rows[j])}}}}return e}function j1(a){var i,j;var e=[];var k,m,_;var o1,p1;for(i=0;i<a.length;++i){k=[];_=0;p1=0;o1=0;var q1=[];for(j=0;j<a[i].rows.length;++j){m={};if(i===a.length-1){m.value=a[i].rows[j];m.space=1}else{++_;++p1;if(i>0&&p1>=e[i-1][o1].space){m.value=a[i].rows[j];m.space=_;_=0;p1=0;++o1}else{if(j+1<a[i].rows.length&&a[i].rows[j].val===a[i].rows[j+1].val){if(a[i].rows[j].ctx){q1.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){q1=q1.concat(a[i].rows[j].contexts)}continue}else{m.value=a[i].rows[j];m.space=_;_=0}}}if(a[i].rows[j].ctx){q1.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){q1=q1.concat(a[i].rows[j].contexts)}m.value.labelContexts=q1;k.push(m);q1=[]}e.push(k)}return e}function k1(a){var e=i1(a);var i=j1(e);return i}function l1(a){for(var i=0;i<a.length;++i){a[i].reverse()}}var m1=function(){var a={};var e;var k;if(G.type=="category"){k=[];var m=[];if(G.isIndependentMode){for(dataObj in C){m=C[dataObj].values}}else{if(D){m=D.values}}var _=[];if(m&&m.length){_=k1(m)}var o1=K.range();if(o1[0]>o1[o1.length-1]){l1(_)}var p1=_.length===0?0:_[_.length-1].length;var q1=K.rangeBand(),r1=[];var s1=false;if(m&&m.length>0&&m[0].rows.length===0){s1=true;p1=1;var t1={value:{},space:1};var u1=[];if(D.values){var v1;for(v1=0;v1<D.values[0].rows.length;v1++){u1.push(D.values[0].rows[v1].ctx)}}t1.value={val:!D.values?null:D.values[0].col.val,labelContexts:u1};_=[[t1]]}var di;if(!K.noEqual){if(!f1(m)&&!s1){for(di=0;di<p1;di++){r1[di]=q1}}else{var x1=parseInt(o1.length/p1,10);for(di=0;di<p1;di++){r1[di]=q1*x1}}}else{for(di=0;di<p1;di++){r1[di]=Math.abs(o1[di]-o1[di+1])}}function y1(E1,D1,C1){var w1=E1;for(var ix=0;ix<C1;ix++){w1+=r1[D1+ix]}return w1};var z1={};var A1=[];var B1=[];var i,j,C1=0;var D1;var E1,F1;for(i=0;i<_.length;++i){A1=[];B1=[];C1=0;D1=0;for(j=0;j<_[i].length;++j){C1=0;A1.push(_[i][j].value);C1+=_[i][j].space;E1=j>0?B1[j-1][1]:0;F1=y1(E1,D1,C1);D1+=C1;B1.push([E1,F1])}var z1={"domain":A1,"range":B1,};k.push(z1)}e=h}else{k=K}a.core=e;a.coreScale=k;a.coreScale.noEqual=K.noEqual;return a};function n1(){if(!L)return;if(G.customizedColor){G.color=G.customizedColor}var a={drawingEffect:'normal',fillColor:G.color,};G.color=L.register(a);a={drawingEffect:'normal',fillColor:G.gridline.color,};G.gridline.color=L.register(a);a={drawingEffect:'normal',fillColor:P.defaultStyle.label.fill,};P.defaultStyle.label.fill=L.register(a);a={drawingEffect:'normal',fillColor:P.defaultStyle.title.fill,};P.defaultStyle.title.fill=L.register(a)}return b1};return r});define('sap/viz/modules/axis/baseCategoryCore',[],function Setup(){var r=function(){};return r});define('sap/viz/modules/axis/BaseCategory',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/dispatch','sap/viz/modules/axis/baseCategoryHelper','sap/viz/modules/axis/baseCategoryCore'],function Setup(o,B,d,b,a){var c=function(m,e){c.superclass.constructor.apply(this,arguments);this._axis_baseCategoryHelperModule=b(m,e);this._axis_props=null;c.prototype.initCustomFunList(c);c.prototype.initBaseCategoryHelper(this._axis_baseCategoryHelperModule,c);c.prototype.setCoreModule(a)};c.prototype.initCustomFunList=function(){if(c.prototype._axis_customFunList){return}else{c.prototype._axis_customFunList=[];var p;for(p in this){if(this.hasOwnProperty(p)){if(typeof(this[p])==="function"){c.prototype._axis_customFunList.push(p)}}}}};c.prototype.initBaseCategoryHelper=function(b,s){var p;for(p in b){if(b.hasOwnProperty(p)){if(typeof(b[p])==="function"){if(c.prototype._axis_customFunList&&c.prototype._axis_customFunList.indexOf(p)<0){s.prototype[p]=b[p]}}}}};o.extend(c,B);c.prototype.render=function(s){return this._axis_baseCategoryHelperModule.apply(this,arguments)};c.prototype.properties=function(_){if(arguments.length===0){return this._axis_props}else{this._axis_baseCategoryHelperModule.properties.apply(this,arguments);this._axis_props=this._axis_baseCategoryHelperModule.properties.apply(this)}};return c});define('sap/viz/modules/axis/trellisTopCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/format/FormatManager','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,l,a,P,m,F,U){var r=function(){var b;var c;var d;var e;var f;var g=5;var h=1;var j="#d8d8d8";var k="viz-axis-label";var n="#cccccc";var o="#808080";var p=10;var s=false;var t=null;var u={"title":{"visible":false,"text":undefined},"gridline":{"visible":false,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","forceLabelArea":false,"shapeRendering":true,"forceVerticalFont":false};var v=0;var w={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",gridLine:"v-gridline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var x=w.axisLabel+' '+k+' '+w.morphableLabel;var z=m(),A=null,B=null,C=null,D=null;var E=-1;var G="";J.spaceLimit=function(_){if(!arguments.length)return E;if(!s){E=_}return J};J.setTitle=function(_){G=_;return J};var H=function(i){var y=[];var _=c.length>1?true:false;f=45/2;for(var c1=0;c1<c.length;c1++){var d1=c[c1].domain;var e1=c[c1].range;var re=Y(d1,e1,true);var g1=re.isVertical;c[c1].labelsToDraw=V(d1,e1,g1,_,i);if(c1===0){y.push(c[c1]);if(i>=0){break}}else if(c[c1].labelsToDraw.length==c[c1].domain.length){y.push(c[c1])}else if(c[c1].labelsToDraw.length>0&&a.isExist(c.noEqual)&&c.noEqual===true){y.push(c[c1])}}return y};var I=function(i,y,_,x2,y2){var c1=i.append("line").attr("class",w.gridLine).attr("y1",_).attr("y2",y2).attr("x1",y).attr("x2",x2).attr("stroke",u.gridline.color).attr("stroke-width",u.gridline.size);if(u.gridline.type=="dotted"){c1.attr("stroke-dasharray","3, 2")}};function J(y){var _=H();var c1=false;var d1=_.length>1?true:false;d=y;m_baseOffset=45*_.length;var e1="v-trellisTopAxisTitle";var f1=y.node().parentNode;var g1=f1.parentNode;var h1=d3.select(g1).select("."+e1);if(h1.empty()){h1=d3.select(g1).append("div");h1.attr("class",e1)}h1.select("*").remove();var i1=h1.node().style;i1.width=f1.style.width;v=(i1.width).substring(0,(i1.width).length-2);i1.position=f1.style.position;i1.overflow="visible";i1.height=m_baseOffset+"px";i1.left=f1.style.left;i1.top="0px";h1=h1.append("svg");e=h1;if(E>=0){var j1=[];var k1=J.getPreferredSize();var l1=k1.spacings;var m1=k1.minTruncateSize;var n1=E;for(var i=0;i<l1.length;i++){if(n1>=l1[i]){j1.push(_[i]);n1-=l1[i];n1=N.precise(n1)}else{if(i===0&&m1>0&&n1>=m1){c1=true}break}}if(j1.length==0&&_.length>0&&!c1){var o1=[];for(var i=0;i<_[0].domain.length;i++){o1.push('')}j1.push({domain:o1,range:_[0].range})}_=j1;if(c1){_=H(E)}}if(b=="top"){var p1=0;_=_.slice(0,3);for(var q1=0;q1<_.length;q1++){if(!u.label.visible&&q1!=(_.length-1)){continue}var r1=_[q1].domain;var s1=_[q1].range;var re=Y(r1,s1);var u1=re.isVertical;var v1=c1?$(_[q1].labelsToDraw,u1).maxHeight:re.maxLabelTextHeight;var w1=0+2*f;if(!u.label.visible){v1=0;w1=0}var w1=c1?E:w1;if(q1==(_.length-1)){if(u.gridline.showFirstLine){I(y,s1[0][0],w1+p1,s1[0][0],w1+p1+u.gridline.length)}if(u.gridline.showLastLine){I(y,s1[s1.length-1][1],w1+p1,s1[s1.length-1][1],w1+p1+u.gridline.length)}}if(u.gridline.visible&&q1==(_.length-1)){for(var i=0;i<r1.length;i++){I(y,s1[i][0],p1+w1,s1[i][0],p1+w1+u.gridline.length);if((i==(r1.length-1))||(s1[i][1]!=s1[i+1][0])){I(y,s1[i][1],p1+w1,s1[i][1],p1+w1+u.gridline.length)}}}for(var i=1;i<r1.length;i++){if(u.label.visible){y.append("line").attr("class",w.axisLine).attr("x1",s1[i][0]).attr("x2",s1[i][0]).attr("y1",p1).attr("y2",w1+p1).attr("stroke",u.color).attr("stroke-width",u.lineSize).attr("shape-rendering","crispEdges")}}var x1=_[q1].labelsToDraw;W(y,x1,p1,v1,r1,u1,_.length!=1,q1);p1+=(0+2*f)}}};var K=function(i){if(U.isIE()){var _=t.realStyle.label['font-size'].toString();var c1=_.indexOf("px");if(c1>=0){_=_.substr(0,c1)}var y=i.attr("y");i.attr("y",Number(y)+_/2);i.attr("dominant-baseline","auto")}};var L=function(i){var r;if(i.info){var y=i.info.customlabel;if(y){if(y.type==='url'){r=i.val}else if(y.type==='string'){r=y.val}}else{r=i.val}}else{r=i.val}if(r===''){r=' '}r=b1(r)?l.get('IDS_ISNOVALUE'):r;r=F.format(r,u.label.formatString);return r};var Q=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var R=function(i,y){var _='font-weight: '+t.realStyle.label['font-weight']+'; font-family: '+t.realStyle.label['font-family']+'; font-size: '+t.realStyle.label['font-size']+';';return T.ellipsis(i,undefined,y,_)};var S=function(i,y){var _='font-weight: '+t.realStyle.title['font-weight']+'; font-family: '+t.realStyle.title['font-family']+'; font-size: '+t.realStyle.title['font-size']+';';return T.ellipsis(i,undefined,y,_)};var V=function(y,_,c1,d1,e1){var f1=0;var g1=[];for(var i=0;i<y.length;i++){var h1={};h1.text=L(y[i]);h1.custom=Q(y[i]);h1.labelContexts=y[i].labelContexts;h1.labelIsTruncated=false;if(e1>=0){h1.text=R(h1.text,e1-2*f)}var i1=a1(h1.text,t.realStyle.label);if(c1){h1.width=i1.height;h1.height=i1.width}else{h1.width=i1.width;h1.height=i1.height}var j1=_[i][0]+(_[i][1]-_[i][0])/2;var k1=20;h1.x=j1;h1.rectWidth=_[i][1]-_[i][0];h1.x1=j1-h1.rectWidth/2;h1.x2=j1+h1.rectWidth/2;h1.startX=_[i][0];h1.originalIndex=i;y[i].drawLabel=false;g1.push(h1);f1+=h1.rectWidth}var l1=[];var m1=g1.concat();for(var i=m1.length-1;i>-1;--i){if(_[0]&&_.length&&(N.precise(m1[i].x2)>N.precise(_[_.length-1][1])||N.precise(m1[i].x1)<N.precise(_[0][0]))){m1.splice(i,1)}}for(var n1=0;n1<=(m1.length-1);n1++){var o1=true;for(var i=0;i<m1.length;i+=(n1+1)){var h1=m1[i];if(h1.width>h1.rectWidth){h1.text=R(h1.text,h1.rectWidth-2*k1);h1.labelIsTruncated=true}l1.push(h1);y[h1.originalIndex].drawLabel=true}if(o1){break}else{l1=[]}}return l1};var W=function(y,_,c1,d1,e1,f1,g1,h1){if(_===undefined){return}for(var i=0;i<_.length;i++){var i1=a.isExist(_[i].text)?_[i].text:'';if(u.label.visible){var j1=y;var k1=1;if(_[i].labelContexts.length>0){var l1=u.forceLabelArea||_[i].width>_[i].rectWidth;var m1=l1?j1.append("rect").attr("x",_[i].x-_[i].width/2-k1).attr("y",c1+0+f/2-k1).attr("width",_[i].width+2*k1).attr("height",_[i].height+2*k1).attr("opacity",0).attr("class","v-labelarea"):j1.append("rect").attr("x",_[i].startX+k1).attr("y",c1).attr("width",_[i].rectWidth).attr("height",0+2*f).attr("opacity",0).attr("class","v-labelarea");m1.node().labelContexts=_[i].labelContexts}var n1=_[i].width/2;if(_[i].labelIsTruncated){n1=(_[i].text.length+3)*3}var o1=j1.append("g").attr("fill",t.defaultStyle.label.fill).attr("class",x).attr("font-size",t.defaultStyle.label['font-size']).attr("font-weight",t.defaultStyle.label['font-weight']).attr("font-family",t.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",_[i].x1+n1+p).attr("y",c1+1.35*f).attr("dominant-baseline","middle").attr("text-anchor","middle").text(i1);if(f1){if(!g1){if(b=='top'){o1.attr('text-anchor','start').attr("y",c1+0+f)}else if(b=='bottom'){o1.attr("y",c1+f).attr('text-anchor','end')}}var ac="-90";o1.attr("transform","rotate( "+ac+" "+o1.attr("x")+" "+o1.attr("y")+" )")}K(o1)}}var q1=a1(G,t.realStyle.title).width;var r1=10;var s1=G[h1]+"";s1=S(s1,v-r1);e.append("g").attr("fill",t.defaultStyle.title.fill).attr("font-size",t.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",t.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",r1).attr("y",c1+r1).attr("dominant-baseline","middle").attr("text-anchor","start").text(s1)};J.mouseover=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",n)};J.mouseout=function(i){i.setAttribute("class","v-labelarea");i.setAttribute("opacity",0)};J.cleanLabelAreas=function(){if(d){d.selectAll(".v-labelarea").attr("class","v-labelarea").attr("opacity",0)}};J.mouseup=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",n)};J.mousedown=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow-mousedown");i.setAttribute("fill",o)};J.position=function(_){if(!arguments.length)return b;b=_;return J};J.properties=function(_){if(arguments.length==0)return u;u=O.extend(true,u,_);return J};J.style=function(_){if(arguments.length==0)return t;t=O.extend(true,t,_);return J};J.axScale=function(_){if(!arguments.length)return c;c=_;return J};J.getPreferredSize=function(){var y=H();var _=0;var c1=0;var d1=[];var e1=0;for(var i=0;i<y.length;i++){if(!u.label.visible&&i!=(y.length-1)){continue}var f1=y[i].domain;var g1=y[i].range;if(f1.length===0||g1.length===0){continue}_=Math.abs(g1[g1.length-1][1]-g1[0][0])+h;var h1=0;if(u.label.visible){var i1;if(i===0){i1=Y(f1,g1,undefined,true);e1=i1.minTruncateSize}else{i1=Y(f1,g1)}h1+=i1.maxLabelTextHeight}h1=h1>0?0+2*f:h1;c1+=h1;d1.push(h1)}if(E>=0){var j1=d1;var k1=E;var l1=0;for(var i=0;i<j1.length;i++){if(k1>=j1[i]){l1+=j1[i];k1-=j1[i];k1=N.precise(k1)}else{break}}if(l1==0&&j1.length>0){if(e1&&e1+2*f<E){l1=E}else{l1+=j1[0]}}if(b=="bottom"||b=="top"){c1=l1}else if(b=="left"||b=="right"){_=l1}}if(!u.isTruncateAvailable){e1=0}else if(e1>0){e1+=2*f}return{width:_,height:c1,spacings:d1,minTruncateSize:e1}};J.matrix=function(_){if(!arguments.length){return z}z=_;return J};J.labelAngle=function(_){if(!arguments.length){return A}A=_;return J};J.tickAngle=function(_){if(!arguments.length){return D}D=_;return J};J.angle=function(_){if(!arguments.length){return C}C=_;return J};J.labelAlign=function(_){if(!arguments.length){return B}B=_;return J};J.getPropertyZone=function(_){var i=[];var y=e.selectAll('text');var c1=[];y.each(function(){var f1=[];var g1=this.getBoundingClientRect();if(g1.width>1.5&&g1.height>1.5){f1.push([g1.left,g1.top]);f1.push([g1.right,g1.top]);f1.push([g1.right,g1.bottom]);f1.push([g1.left,g1.bottom]);c1.push(f1)}});if(c1.length>0){i.push({"name":'columnAxis title',"bound":c1})}var d1=d.node().parentNode.getBoundingClientRect();if(d1.width>1.5&&d1.height>1.5){var e1=[[]];e1[0].push([d1.left,d1.top]);e1[0].push([d1.right,d1.top]);e1[0].push([d1.right,d1.bottom]);e1[0].push([d1.left,d1.bottom]);i.push({"name":'columnAxis',"bound":e1})}return i};J.destroy=function(){d=null;e=null;c=null};var X=function(y,_,c1,d1){var e1=[];var f1=[];var g1=false;var h1=0;for(var i=0;i<y.length;i++){var i1=0;var j1=0;if(y[i].drawLabel||c1){var k1=L(y[i]);var l1=a1(k1,t.realStyle.label);i1=l1.height;j1=l1.width;var m1=_[i][1]-_[i][0];if(d1){var n1;if(k1.length>3){n1=a1(k1.slice(0,3).concat('...'),t.realStyle.label).width;n1=n1>l1.width?l1.width:n1}else{n1=l1.width}h1=n1>h1?n1:h1}if((i1<j1)&&m1!=0&&j1>m1){if(b=="top"||b=="bottom"){g1=true}}}e1.push(i1);f1.push(j1)}return{'heights':e1,'widths':f1,'isVerticalFont':g1,'minTruncateSize':h1}};var Y=function(y,_,c1,d1){var re={"maxLabelTextHeight":0,"isVertical":false};var f1=0;var g1=false;var h1=X(y,_,c1,d1);g1=u.forceVerticalFont===true?true:h1.isVerticalFont;if(!u.forceVerticalFont){g1=false}for(var i=0;i<y.length;i++){if(y[i].drawLabel||c1){if(g1){if(f1<h1.widths[i]){f1=h1.widths[i]}}else{if(f1<h1.heights[i]){f1=h1.heights[i]}}}}re.maxLabelTextHeight=f1;re.isVertical=g1;re.minTruncateSize=re.isVertical?h1.minTruncateSize:-1;return re};var Z=function(y,_,c1){var re={"maxLabelTextWidth":0,"isVertical":false};var e1=0;var f1=false;var g1=X(y,_,undefined,c1);f1=u.forceVerticalFont===true?true:g1.isVerticalFont;if(!u.forceVerticalFont){f1=false}for(var i=0;i<y.length;i++){if(y[i].drawLabel){if(f1){if(e1<g1.heights[i]){e1=g1.heights[i]}}else{if(e1<g1.widths[i]){e1=g1.widths[i]}}}}re.maxLabelTextWidth=e1;re.isVertical=f1;re.minTruncateSize=g1.minTruncateSize;return re};var $=function(y,_){var c1=0,d1=0;for(var i=0;i<y.length;i++){var e1=a1(y[i].text,t.realStyle.label);c1=e1.width>c1?e1.width:c1;d1=e1.height>d1?e1.height:d1}return{maxWidth:_?d1:c1,maxHeight:_?c1:d1}};var a1=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var b1=function(i){if(typeof(i)!="string"&&N.isNoValue(i)){return true}return false};return J};return r});define('sap/viz/modules/axis/TrellisTop',['sap/viz/base/utils/oo','sap/viz/modules/axis/BaseCategory','sap/viz/modules/dispatch','sap/viz/modules/axis/trellisTopCore'],function Setup(o,B,d,t){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(t)};o.extend(a,B);a.prototype.render=function(s){return a.superclass.render.call(this,s,true)};return a});define('sap/viz/modules/manifests/axis/TrellisTop',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/TrellisTop'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.TrellisTop','type':C.Type.Supplementary,'name':'TrellisTop','base':"sap.viz.modules.axis.TrellisAxis",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/axis/trellisLeftCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/format/FormatManager','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,l,a,P,m,F,U){var r=function(){var b=[];var c=95;var d;var e;var f;var g;var h;var j=5;var k=10;var n=10;var o=10;var p=1;var s="#d8d8d8";var t="viz-axis-label";var u="#cccccc";var v="#808080";var w=false;var x=null;var z={"title":{"visible":false,"text":undefined},"gridline":{"visible":false,"color":s,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","forceLabelArea":false,"shapeRendering":true,"forceVerticalFont":false};var A={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",gridLine:"v-gridline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var B=A.axisLabel+' '+t+' '+A.morphableLabel;var C=m(),D=null,E=null,G=null,H=null;var I=-1;L.spaceLimit=function(_){if(!arguments.length)return I;if(!w){I=_}return L};var J=function(i){var y=[];var _=e.length>1?true:false;h=6;for(var e1=0;e1<e.length;e1++){var f1=e[e1].domain;var g1=e[e1].range;var re=$(f1,g1,true);var i1=re.isVertical;e[e1].labelsToDraw=X(f1,g1,_,i);if(e1===0){y.push(e[e1]);if(i>=0){break}}else if(e[e1].labelsToDraw.length==e[e1].domain.length){y.push(e[e1])}else if(e[e1].labelsToDraw.length>0&&a.isExist(e.noEqual)&&e.noEqual===true){y.push(e[e1])}}return y};var K=function(i,y,_,x2,y2){var e1=i.append("line").attr("class",A.gridLine).attr("y1",_).attr("y2",y2).attr("x1",y).attr("x2",x2).attr("stroke",z.gridline.color).attr("stroke-width",z.gridline.size);if(z.gridline.type=="dotted"){e1.attr("stroke-dasharray","3, 2")}};function L(y){f=y;var _="v-trellisLeftAxisTitle";var e1=y.node().parentNode;var f1=e1.parentNode;var g1=d3.select(f1).select("."+_);if(g1.empty()){g1=d3.select(f1).append("div");g1.attr("class",_)}g1.select("*").remove();g=g1;var h1=g1.node().style;h1.width=e1.style.width;h1.position=e1.style.position;h1.overflow="visible";h1.height=c/2+"px";h1.left=e1.style.left;var i1=parseInt(f.node().parentNode.style.top,10)-c/2+"px";h1.top=i1;g1=g1.append("svg");var j1=J();var k1=false;if(I>=0){var l1=[];var m1=L.getPreferredSize();var n1=m1.spacings;var o1=m1.minTruncateSize;var p1=I;for(var i=0;i<n1.length;i++){if(p1>=n1[i]){l1.push(j1[i]);p1-=n1[i];p1=N.precise(p1)}else{if(i===0&&o1>0&&p1>=o1){k1=true}break}}if(l1.length==0&&j1.length>0&&!k1){var q1=[];for(var i=0;i<j1[0].domain.length;i++){q1.push('')}l1.push({domain:q1,range:j1[0].range})}j1=l1;if(k1){j1=J(I)}}var r1=j1.length>1?true:false;var s1=0;for(var t1=0;t1<j1.length;t1++){if(!z.label.visible&&t1!=(j1.length-1)){continue}var u1=j1[t1].domain;var v1=j1[t1].range;var re=a1(u1,v1);var x1=k1?b1(j1[t1].labelsToDraw,false).maxWidth:re.maxLabelTextWidth;var y1=c;if(!z.label.visible){x1=0;y1=0}var y1=k1?I:y1;if(t1==(j1.length-1)){if(z.gridline.showFirstLine){K(y,s1+y1,v1[v1.length-1][1],s1+y1+z.gridline.length,v1[v1.length-1][1])}if(z.gridline.showLastLine){K(y,s1+y1,v1[0][0],s1+y1+z.gridline.length,v1[0][0])}}if(z.gridline.visible&&t1==(j1.length-1)){for(var i=0;i<u1.length;i++){K(y,s1+c,v1[i][0],s1+c+z.gridline.length,v1[i][0]);if((i==(u1.length-1))||(v1[i][1]!=v1[i+1][0])){K(y,s1+c,v1[i][1],s1+c+z.gridline.length,v1[i][1])}}}for(var i=0;i<u1.length;i++){if(j1.length==1||(j1.length!=1&&!z.label.visible)){if(i>0&&(v1[i][0]!=v1[i-1][1])){var z1=y.append("line").attr("class",A.axisLine).attr("x1",s1).attr("x2",s1+c).attr("y1",v1[i][0]).attr("y2",v1[i][0]).attr("stroke",z.color).attr("stroke-width",z.lineSize).attr("shape-rendering","crispEdges")}if(i!=(u1.length-1)){var A1=y.append("line").attr("class",A.axisLine).attr("x1",s1).attr("x2",s1+c).attr("y1",v1[i][1]).attr("y2",v1[i][1]).attr("stroke",z.color).attr("stroke-width",z.lineSize).attr("shape-rendering","crispEdges")}}if(j1.length>=2&&z.label.visible){y.append("line").attr("class",A.axisLine).attr("x1",s1).attr("x2",s1+c).attr("y1",v1[i][0]).attr("y2",v1[i][0]).attr("stroke",z.color).attr("stroke-width",z.lineSize).attr("shape-rendering","crispEdges");if((i==(u1.length-1))||(v1[i][1]!=v1[i+1][0])){y.append("line").attr("class",A.axisLine).attr("x1",s1).attr("x2",s1+c).attr("y1",v1[i][1]).attr("y2",v1[i][1]).attr("stroke",z.color).attr("stroke-width",z.lineSize).attr("shape-rendering","crispEdges")}}}var B1=j1[t1].labelsToDraw;var C1;for(var i=0;i<B1.length;i++){C1=B1[i].custom;if(C1&&C1.type==='url'){}else{var D1=a.isExist(B1[i].text)?B1[i].text:'';if(z.label.visible){var E1=y;var F1=1;var G1=s1+F1;var H1=z.forceLabelArea||B1[i].height>B1[i].rectHeight;var I1=E1.append("rect").attr("x",G1).attr("y",B1[i].startY+F1).attr("width",c).attr("height",(B1[i].rectHeight-F1)<0?0:(B1[i].rectHeight-F1)).attr("opacity",0).attr("class","v-labelarea");I1.node().labelContexts=B1[i].labelContexts;var J1=E1.append("g").attr("fill",x.defaultStyle.label.fill).attr("class",B).attr("font-size",x.defaultStyle.label['font-size']).attr("font-weight",x.defaultStyle.label['font-weight']).attr("font-family",x.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",s1+n).attr("y",B1[i].y).attr("dominant-baseline","middle").attr("text-anchor","start").text(D1);Q(J1)}}}var K1=c1(b[t1],x.realStyle.title).width;var L1=b[t1];if(K1>c){L1=W(L1,c-2*o)}var M1=20;g1.append("g").attr("fill",x.defaultStyle.title.fill).attr("font-size",x.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",x.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",s1+n).attr("y",5*h).attr("dominant-baseline","middle").attr("text-anchor","start").text(L1);s1+=c}};var Q=function(i){if(U.isIE()){var _=x.realStyle.label['font-size'].toString();var e1=_.indexOf("px");if(e1>=0){_=_.substr(0,e1)}var y=i.attr("y");i.attr("y",Number(y)+_/2);i.attr("dominant-baseline","auto")}};var R=function(i){var r;if(i.info){var y=i.info.customlabel;if(y){if(y.type==='url'){r=i.val}else if(y.type==='string'){r=y.val}}else{r=i.val}}else{r=i.val}if(r===''){r=' '}r=d1(r)?l.get('IDS_ISNOVALUE'):r;r=F.format(r,z.label.formatString);return r};var S=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var V=function(i,y){var _='font-weight: '+x.realStyle.label['font-weight']+'; font-family: '+x.realStyle.label['font-family']+'; font-size: '+x.realStyle.label['font-size']+';';return T.ellipsis(i,undefined,y,_)};var W=function(i,y){var _='font-weight: '+x.realStyle.title['font-weight']+'; font-family: '+x.realStyle.title['font-family']+'; font-size: '+x.realStyle.title['font-size']+';';return T.ellipsis(i,undefined,y,_)};var X=function(y,_,e1,f1){var g1=0;var h1=[];for(var i=0;i<y.length;i++){var i1={};i1.text=R(y[i]);i1.custom=S(y[i]);i1.labelContexts=y[i].labelContexts;i1.text=V(i1.text,c-2*h);var j1=c1(i1.text,x.realStyle.label);var k1=_[i][0]+k+j1.height/2;i1.width=j1.width;i1.height=j1.height;i1.startY=_[i][0];i1.rectHeight=_[i][1]-_[i][0];i1.y=k1;i1.y1=k1-i1.height/2;i1.y2=k1+i1.height/2;i1.originalIndex=i;y[i].drawLabel=false;h1.push(i1);g1+=i1.rectHeight}var l1=[];if(z.label.hideStrategy!='greedy'){var m1=h1.concat();for(var i=m1.length-1;i>-1;--i){if(_[0]&&_.length&&(m1[i].y2>_[_.length-1][1]||m1[i].y1<_[0][0])){m1.splice(i,1)}}for(var n1=0;n1<=(m1.length-1);n1++){var o1=true;for(var i=(m1.length-1);i>=0;i-=(n1+1)){var i1=m1[i];if(i!=(m1.length-1)){var p1=i+(n1+1);if(m1[i].y2>=m1[p1].y1){o1=false;break}}if(i1.height>g1){break}l1.push(i1);y[i1.originalIndex].drawLabel=true}if(o1){break}else{l1=[]}}}else{for(var p1=n1=(h1.length-1);n1>=0;n1--){var i1=h1[n1];if(p1===n1&&_[n1][1]!=_[n1][0]){if(e1&&i1.y1>_[n1][0]&&i1.y2<_[n1][1]){l1.push(i1);y[i1.originalIndex].drawLabel=true}else if(!e1){if(i1.height<=g1){l1.push(i1);y[i1.originalIndex].drawLabel=true}}}else{if(i1.y2<=h1[p1].y1&&_[n1][1]!=_[n1][0]){if(e1){if(i1.y1>_[n1][0]&&i1.y2<_[n1][1]){l1.push(i1);y[i1.originalIndex].drawLabel=true;p1=n1}}else{l1.push(i1);y[i1.originalIndex].drawLabel=true;p1=n1}}}}for(var i=l1.length-1;i>-1;--i){if(_[0]&&_.length&&(l1[i].y2>_[_.length-1][1]||l1[i].y1<_[0][0])){y[l1[i].originalIndex].drawLabel=false;l1.splice(i,1)}}}return l1};var Y=function(y,_,e1,f1,g1,h1,i1){if(_===undefined){return}for(var i=0;i<_.length;i++){var j1=a.isExist(_[i].text)?_[i].text:'';if(z.label.visible){if(G){var k1=2;var l1=G*Math.PI/180;var m1=Math.cos(l1);var n1=(45===G)?m1:Math.sin(l1);var o1=H*Math.PI/180;var p1=Math.cos(o1);var q1=Math.sin(o1);var r1=_[i].x*n1;tickStartY=-_[i].x*m1;var s1=r1+(j+h)*p1;var t1=tickStartY+e1+(h+j)*q1;var u1=s1-k1;var v1=t1-_[i].width/2-k1;var w1=_[i].height+2*k1;var x1=_[i].width+2*k1;if(H>90){u1-=(w1-2*k1)}var y1=y.append("g").attr("fill",x.defaultStyle.label.fill).attr("class",B).attr("font-size",x.defaultStyle.label['font-size']).attr("font-weight",x.defaultStyle.label['font-weight']).attr("font-family",x.defaultStyle.label['font-family']);var z1=y1.append("rect").attr("x",u1).attr("y",v1).attr("width",w1).attr("height",x1).attr("opacity",0).attr("class","v-labelarea");z1.node().labelContexts=_[i].labelContexts;var A1=y1.append("text").attr("x",s1).attr("y",t1).attr("dominant-baseline","middle").attr("text-anchor",'start').attr("pointer-events","none").text(j1);if(H>90){A1.attr("text-anchor",'end');y1.attr('transform','rotate( '+(H-180)+' '+s1+' '+t1+')')}else{y1.attr('transform','rotate( '+(H)+' '+s1+' '+t1+')')}}else{var B1=y;var C1=1;if(d==="bottom"){var D1=z.forceLabelArea||_[i].width>_[i].rectWidth;var E1=D1?B1.append("rect").attr("x",_[i].x-_[i].width/2-C1).attr("y",e1+f1/2-C1-h/2).attr("width",_[i].width+2*C1).attr("height",_[i].height+2*C1).attr("opacity",0).attr("class","v-labelarea"):B1.append("rect").attr("x",_[i].startX).attr("y",e1+C1).attr("width",_[i].rectWidth).attr("height",f1+2*h-C1).attr("opacity",0).attr("class","v-labelarea");E1.node().labelContexts=_[i].labelContexts}else if(d==="top"){if(_[i].labelContexts.length>0){var D1=z.forceLabelArea||_[i].width>_[i].rectWidth;var E1=D1?B1.append("rect").attr("x",_[i].x-_[i].width/2-C1).attr("y",e1+f1/2+h/2-C1).attr("width",_[i].width+2*C1).attr("height",_[i].height+2*C1).attr("opacity",0).attr("class","v-labelarea"):B1.append("rect").attr("x",_[i].startX).attr("y",e1).attr("width",_[i].rectWidth).attr("height",f1+2*h).attr("opacity",0).attr("class","v-labelarea");E1.node().labelContexts=_[i].labelContexts}}var y1=B1.append("g").attr("fill",x.defaultStyle.label.fill).attr("class",B).attr("font-size",x.defaultStyle.label['font-size']).attr("font-weight",x.defaultStyle.label['font-weight']).attr("font-family",x.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",_[i].x).attr("y",e1+f1/2+h).attr("dominant-baseline","middle").attr("text-anchor","middle").text(j1);if(h1){if(!i1){if(d=='top'){y1.attr('text-anchor','start').attr("y",e1+f1+h)}else if(d=='bottom'){y1.attr("y",e1+h).attr('text-anchor','end')}}var ac="-90";y1.attr("transform","rotate( "+ac+" "+y1.attr("x")+" "+y1.attr("y")+" )")}Q(y1)}}}};L.mouseover=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",u)};L.mouseout=function(i){i.setAttribute("class","v-labelarea");i.setAttribute("opacity",0)};L.cleanLabelAreas=function(){if(f){f.selectAll(".v-labelarea").attr("class","v-labelarea").attr("opacity",0)}};L.setTitle=function(_){b=_;return L};L.mouseup=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",u)};L.mousedown=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow-mousedown");i.setAttribute("fill",v)};L.position=function(_){if(!arguments.length)return d;d=_;return L};L.properties=function(_){if(arguments.length==0)return z;z=O.extend(true,z,_);return L};L.style=function(_){if(arguments.length==0)return x;x=O.extend(true,x,_);return L};L.axScale=function(_){if(!arguments.length)return e;e=_;return L};L.getPreferredSize=function(){var y=J();var _=0;var e1=0;var f1=[];var g1=0;for(var i=0;i<y.length;i++){if(!z.label.visible&&i!=(y.length-1)){continue}var h1=y[i].domain;var i1=y[i].range;if(h1.length===0||i1.length===0){continue}var j1=0;j1+=c;_+=j1;f1.push(j1);e1=Math.abs(i1[i1.length-1][1]-i1[0][0])+p}_=y.length*c;if(I>=0){var k1=f1;var l1=I;var m1=0;for(var i=0;i<k1.length;i++){if(l1>=k1[i]){m1+=k1[i];l1-=k1[i];l1=N.precise(l1)}else{break}}if(m1==0&&k1.length>0){if(g1&&g1+2*h<I){m1=I}else{m1+=k1[0]}}if(d=="bottom"||d=="top"){e1=m1}else if(d=="left"||d=="right"){_=m1}}if(!z.isTruncateAvailable){g1=0}else if(g1>0){g1+=2*h}return{width:_,height:e1,spacings:f1,minTruncateSize:g1}};L.matrix=function(_){if(!arguments.length){return C}C=_;return L};L.labelAngle=function(_){if(!arguments.length){return D}D=_;return L};L.tickAngle=function(_){if(!arguments.length){return H}H=_;return L};L.angle=function(_){if(!arguments.length){return G}G=_;return L};L.labelAlign=function(_){if(!arguments.length){return E}E=_;return L};L.destroy=function(){f=null;g=null;e=null};L.getPropertyZone=function(_){var i=[];var y=g.selectAll('text');var e1=[];y.each(function(){var h1=[];var i1=this.getBoundingClientRect();if(i1.width>1.5&&i1.height>1.5){h1.push([i1.left,i1.top]);h1.push([i1.right,i1.top]);h1.push([i1.right,i1.bottom]);h1.push([i1.left,i1.bottom]);e1.push(h1)}});if(e1.length>0){i.push({"name":'rowAxis title',"bound":e1})}var f1=f.node().parentNode.getBoundingClientRect();if(f1.width>1.5&&f1.height>1.5){var g1=[[]];g1[0].push([f1.left,f1.top]);g1[0].push([f1.right,f1.top]);g1[0].push([f1.right,f1.bottom]);g1[0].push([f1.left,f1.bottom]);i.push({"name":'rowAxis',"bound":g1})}return i};var Z=function(y,_,e1,f1){var g1=[];var h1=[];var i1=false;var j1=0;for(var i=0;i<y.length;i++){var k1=0;var l1=0;if(y[i].drawLabel||e1){var m1=R(y[i]);var n1=c1(m1,x.realStyle.label);k1=n1.height;l1=n1.width;var o1=_[i][1]-_[i][0];if(f1){var p1;if(m1.length>3){p1=c1(m1.slice(0,3).concat('...'),x.realStyle.label).width;p1=p1>n1.width?n1.width:p1}else{p1=n1.width}j1=p1>j1?p1:j1}if((k1<l1)&&o1!=0&&l1>o1){if(d=="top"||d=="bottom"){i1=true}}}g1.push(k1);h1.push(l1)}return{'heights':g1,'widths':h1,'isVerticalFont':i1,'minTruncateSize':j1}};var $=function(y,_,e1,f1){var re={"maxLabelTextHeight":0,"isVertical":false};var h1=0;var i1=false;var j1=Z(y,_,e1,f1);i1=z.forceVerticalFont===true?true:j1.isVerticalFont;for(var i=0;i<y.length;i++){if(y[i].drawLabel||e1){if(i1){if(h1<j1.widths[i]){h1=j1.widths[i]}}else{if(h1<j1.heights[i]){h1=j1.heights[i]}}}}re.maxLabelTextHeight=h1;re.isVertical=i1;re.minTruncateSize=re.isVertical?j1.minTruncateSize:-1;return re};var a1=function(y,_,e1){var re={"maxLabelTextWidth":0,"isVertical":false};var g1=0;var h1=false;var i1=Z(y,_,undefined,e1);h1=z.forceVerticalFont===true?true:i1.isVerticalFont;for(var i=0;i<y.length;i++){if(y[i].drawLabel){if(h1){if(g1<i1.heights[i]){g1=i1.heights[i]}}else{if(g1<i1.widths[i]){g1=i1.widths[i]}}}}re.maxLabelTextWidth=g1;re.isVertical=h1;re.minTruncateSize=i1.minTruncateSize;return re};var b1=function(y,_){var e1=0,f1=0;for(var i=0;i<y.length;i++){var g1=c1(y[i].text,x.realStyle.label);e1=g1.width>e1?g1.width:e1;f1=g1.height>f1?g1.height:f1}return{maxWidth:_?f1:e1,maxHeight:_?e1:f1}};var c1=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var d1=function(i){if(typeof(i)!="string"&&N.isNoValue(i)){return true}return false};return L};return r});define('sap/viz/modules/axis/TrellisLeft',['sap/viz/base/utils/oo','sap/viz/modules/axis/BaseCategory','sap/viz/modules/dispatch','sap/viz/modules/axis/trellisLeftCore'],function Setup(o,B,d,t){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(t)};o.extend(a,B);a.prototype.render=function(s){a.superclass.render.call(this,s,true);return this};return a});define('sap/viz/modules/manifests/axis/TrellisLeft',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/TrellisLeft'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.TrellisLeft','type':C.Type.Supplementary,'name':'TrellisLeft','base':"sap.viz.modules.axis.TrellisAxis",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/trellis/BaseTrellisChart',['sap/viz/manifests/Viz','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Title','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/Legend','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/legend/Common','sap/viz/modules/manifests/PlotContainer','sap/viz/modules/manifests/axis/TrellisAxis','sap/viz/modules/manifests/axis/TrellisTop','sap/viz/modules/manifests/axis/TrellisLeft'],function Setup(M,R,T,D,L,a,C,P,b,c,d){var e={id:'viz/base/trellis',name:'IDS_BASETRELLISCHART',isBuiltIn:true,base:'riv/base','abstract':true,modules:{root:{id:'sap.viz.modules.divcontainer',configure:{propertyCategory:'general'},modules:{main:{id:'sap.viz.modules.trelliscontainer',configure:{propertyCategory:'multiLayout',properties:{mergeDataRange:['primary'],layout:{position:'center',priority:1}}},modules:{trellisXAxis:{id:'sap.viz.modules.axis.TrellisTop',configure:{'description':'Settings for the column axis of multiple charts',propertyCategory:'columnAxis',properties:{title:{visible:false},gridline:{visible:true},color:'#d8d8d8',type:'category',position:'top'},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},indicator:{isExported:false}}}},trellisYAxis:{id:'sap.viz.modules.axis.TrellisLeft',configure:{description:'Settings for the row axis of multiple charts',propertyCategory:'rowAxis',properties:{type:'category',position:'left',title:{visible:false},color:'#d8d8d8',gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false},indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.plotContainer'}}}}}},feeds:{},dependencies:{}};var m={viz:[e],module:[].concat(R.module,T.module,D.module,L.module,a.module,C.module,P.module,b.module,c.module,d.module),feeds:[].concat(R.feeds,T.feeds,D.feeds,L.feeds,a.feeds,C.feeds,P.feeds,c.feeds,d.feeds)};return m});define('sap/viz/modules/trelliscontainer',['sap/viz/base/utils/TypeUtils','sap/viz/base/utils/Objects','sap/viz/base/utils/FunctionUtils','sap/viz/modules/layout','sap/viz/modules/util/DimensionalInfoHandler','sap/viz/data/handler/MultiChartDataHandler','sap/viz/modules/manifests/Module','sap/viz/data/MultiAxesDataAdapter','sap/viz/modules/dispatch','sap/viz/modules/util/BoundUtil','sap/viz/util/ignite','sap/viz/util/fn/createContext','sap/viz/modules/util/dataUtil'],function Setup(T,O,F,l,D,M,a,b,d,c,e,f,g){var r=function(m,h){var w=0,k=0,n=0,o=0,p={},q=m.props(null),s={},t={},u=[],v=[],x=null,y={},z={},A={},B=null,C=3,E=2,G=d3.scale.ordinal(),H=d3.scale.ordinal(),I=new d('initialized','showTooltip','hideTooltip'),J=0,K=0,L,N,P=95,Q=184,R=45,S=95;var U='multiLayout';var V=0;var W=true,X=false;var Y='plotArea';function Z(i){var j={};var _=(j[Y]={})}function $(){for(var i in s){if(s.hasOwnProperty(i)){delete s[i]}}}function a1(){if(T.isEmptyObject(y)){F.error('Container configuration missing')}b1();J=0,K=0;var i=t.dataHandler.getSubDataAdapter(t.contexts[0][0]);d1(y,'trellisXAxis',t.columnData);d1(y,'trellisYAxis',t.rowData);d1(y,'xAxis',i);d1(y,'yAxis',i);d1(y,'xAxis2',i);d1(y,'yAxis2',i);f1();h1("plot");h1("trellisXAxis");h1("trellisYAxis");i1();j1();K=K+J}function b1(){delete t.contexts;delete t.columnData;delete t.rowData;delete t.dataHandler;var _=D({'numberOfDimensionsInColumn':q.numberOfDimensionsInColumn},x.getAnalysisAxisDataByIdx(0));_.process();var y1=_.getRowDimensionData();var z1=_.getColumnDimensionData();var A1=_.getContexts();C=A1.length;E=C>0?A1[0].length:E;var B1=new b();B1.addAnalysisAxis({key:B1.key,index:0,values:z1.values});var C1=new b();C1.addAnalysisAxis({key:y1.key,index:0,values:y1.values});var D1;var E1;if(C1.getAnalysisAxisDataByIdx){D1=C1.getAnalysisAxisDataByIdx(0)}if(B1.getAnalysisAxisDataByIdx){E1=B1.getAnalysisAxisDataByIdx(0)}var i;var j;var F1=0;var G1=A1.length;if(G1>0){F1=A1[0].length}var H1=function(J1,K1){var i;for(i=0;i<J1.length;i++){J1[i].rows[K1].contexts=[]}};var I1=function(J1,K1,h){var i;for(i=0;i<J1.length;i++){J1[i].rows[K1].contexts.push(h)}};for(i=0;i<G1;i++){H1(D1.values,i);for(j=0;j<F1;j++){I1(D1.values,i,A1[i][j])}}for(i=0;i<F1;i++){if(E1.values.length>0){H1(E1.values,i);for(j=0;j<G1;j++){I1(E1.values,i,A1[j][i])}}}t.contexts=A1;t.columnData=B1;t.rowData=C1;t.dataHandler=new M(x)}function c1(i,j){if(i==='xAxis'||i==='yAxis'||i==='xAxis2'||i==='yAxis2'){if(j.hideTitleFirst===undefined){if(p.general&&p.general.layout&&p.general.layout.hideAxisTitleFirst!==undefined&&p.general.layout.hideAxisTitleFirst!==null){j.hideTitleFirst=p.general.layout.hideAxisTitleFirst}else{j.hideTitleFirst=true}}}}function d1(y,i,j){if(!y.modules[i]){return}var _=y.modules[i],y1=z[i]=e(_.id,h,'v-m-'+i);e1(i,j);var z1={},A1,B1;if(_.configure){A1=p[_.configure.propertyCategory]||{};B1=_.configure.properties||{};O.extend(true,z1,B1,A1);c1(i,z1);y1.properties(z1)}if(y1.dispatch&&y1.dispatch()['initialized']){K++;y1.dispatch().on('initialized.trelliscontainer',v1)}A[i]=B.append('div').attr('class','v-m-'+i)}function e1(i,j){if(z[i]&&j){z[i].data(j)}}function f1(){var i=y.modules.plot;if(!i){return}k1();l1();if(!L||!N){L=a.get(i.id);N=f(L,h,"v-m-plot")}if(!z.plot){z.plot=e(L,N);z.plot.config(i);A.plot=B.append('div').attr('class','v-m-plot');z.plot.parentDiv(A.plot)}else{z.plot.reset()}if(z.plot.dispatch&&z.plot.dispatch()['initialized']){if(W){K++}z.plot.dispatch().on('initialized.trelliscontainer',v1)}}function g1(){var i=z.plot;if(i){var j=y.modules.plot;if(!j){return}var _=null,y1,z1;var A1=j.configure;if(A1){z1={};if(A1.propertyCategory){z1[A1.propertyCategory]=A1.properties}y1=p;_={};O.extend(true,_,z1,y1)}else{_=p}if(_){i.properties(_)}}}function h1(i){if(i==='plot'){g1()}else{var j=z[i];if(j){var _=y.modules[i];if(!_){return}var y1;var z1=_.configure;if(z1){y1=O.extend(true,{},p[z1.propertyCategory])}else{y1=p}c1(i,y1);j.properties(y1)}}}function i1(){z.plot.rowCount(C);z.plot.columnCount(E);z.plot.data(t)}function j1(){var i=y.modules.plot;if(!i){return}var j=z.plot;if(j.modules){var _=j.modules();g().updateAxisFormatString(_,'xAxis',p,j);g().updateAxisFormatString(_,'yAxis',p,j);g().updateAxisFormatString(_,'xAxis2',p,j);g().updateAxisFormatString(_,'yAxis2',p,j)}}function k1(){for(var i=0,j=v.length;i<j;i++){delete z[v[i]]}v=[]}function l1(){for(var i=0,j=u.length;i<j;i++){delete z[u[i]]}u=[];if(N){N.styleManager.cleanChildren()}}function m1(){if(T.isEmptyObject(z)||!w||!k){return}var l=y.modules['layout'];l=e(l.id,h);var i=l(z,t,A,B,w,k,C,E);n=i.plot.pref.width;o=i.plot.pref.height;G.rangeBands([0,n]);H.rangeBands([0,o]);if(i.scrollable.vertical){z.plot.scrollBarSize(i.scrollsize)}}function n1(j){return function(_){if(!arguments.length){return s[j]}else{if(!s[j]){s[j]=_}else{var y1=s[j];if(_.distinctValuesObj){for(var i in _.distinctValuesObj){if(_.distinctValuesObj.hasOwnProperty(i)){y1.distinctValuesObj[i]=_.distinctValuesObj[i]}}}if(_.min<y1.min){y1.min=_.min}if(_.max>y1.max){y1.max=_.max}if(_.hasNoValue){y1.hasNoValue=true}}}}}function o1(j){for(var i=0,_=j.length;i<_;i++){s1[j[i]+'DataRange']=n1(j[i])}}function p1(i){p=i;if(i[U]){if(i[U].mergeDataRange){q.mergeDataRange=i[U].mergeDataRange;o1(q.mergeDataRange)}var j=q.numberOfDimensionsInColumn;O.extend(true,q,i[U]);if(z.plot&&j!==q.numberOfDimensionsInColumn){b1();$();var _=t.dataHandler.getSubDataAdapter(t.contexts[0][0]);f1();e1('trellisXAxis',t.columnData);e1('trellisYAxis',t.rowData);e1('xAxis',_);e1('yAxis',_);e1('xAxis2',_);e1('yAxis2',_);i1();j1()}}}function q1(){var j=[];for(var i=0;i<E;i++){j.push(i)}G.domain(j).rangeBands([0,n])}function r1(){var j=[];for(var i=0;i<C;i++){j.push(i)}H.domain(j).rangeBands([0,o])}function s1(i){m1();i.each(function(x){if(!W&&X){Z()}V=0;B=i;c.drawBound(i,w,k);if(A.plotRoot){c.drawBound(A.plotRoot,n,o)}if(T.isEmptyObject(z)){a1()}u1();if(!W&&X){Z(true)}});W=false,X=false;return s1}s1.width=function(_){if(!arguments.length){return w}w=_;$();m1();return s1};s1.height=function(_){if(!arguments.length){return k}k=_;$();m1();return s1};s1.size=function(_){if(!arguments.length){return{'width':w,'height':k}}k=_.height;w=_.width;$();m1();return s1};s1.data=function(_){if(!arguments.length){return x}X=true;var i=false;if(!g().hasSameSchema(x,_)){i=true}x=_;$();if(!T.isEmptyObject(z)){b1();if(i){var j=t.dataHandler.getSubDataAdapter(t.contexts[0][0]);K=K-J;e1('trellisXAxis',t.columnData);e1('trellisYAxis',t.rowData);e1('xAxis',j);e1('yAxis',j);e1('xAxis2',j);e1('yAxis2',j);J=0;f1();h1("plot");h1("trellisXAxis");h1("trellisYAxis");i1();j1();K=K+J}else{e1('trellisXAxis',t.columnData);e1('trellisYAxis',t.rowData);i1()}}return s1};s1.properties=function(_){if(!arguments.length){return q}if(!T.isEmptyObject(_)){p1(_)}if(!T.isEmptyObject(z)){h1("plot");h1("trellisXAxis");h1("trellisYAxis");h1("xAxis");h1("yAxis");h1("xAxis2");h1("yAxis2")}return s1};s1.config=function(_){if(!arguments.length){return y}y=_;return s1};s1.xCategoryScale=function(_){if(!arguments.length){q1();return G}G=_;return s1};s1.yCategoryScale=function(_){if(!arguments.length){r1();return H}H=_;return s1};s1.modules=function(_){if(!arguments.length){if(T.isEmptyObject(z)){a1()}return z}z=_;return s1};s1.parent=function(_){if(!arguments.length){return B}B=_;return s1};s1.dispatch=function(_){if(!arguments.length){return I}I=_;return s1};s1.infoForSizeLegend=function(){var _;for(var i=-1,j=z.plot.length;++i<j;){_=z.plot[i];if(_){break}}return{space:_?(w-n+_.infoForSizeLegend().space*E):0,number:E,plotHeight:_?_.height():0}};s1.plotRegion=function(){return{selection:A.plotRoot,width:n,height:o}};s1.destroy=function(){if(G){G.domain([0,1]).range([0,1])}if(H){H.domain([0,1]).range([0,1])}G=null;H=null;z=null;x=null;if(h){h.destroy();h=null}};function t1(i){if(A[i]){B.select('.v-m-'+i).datum(z[i].data()).call(z[i])}}function u1(){if(A.plot){A.plot.datum(z.plot.data()).call(z.plot)}t1('trellisXAxis');t1('trellisYAxis');t1('yAxis');t1('xAxis');t1('yAxis2');t1('xAxis2')}function v1(){if(++V===K){V=0;I.initialized()}}function w1(i){I.showTooltip(i)}function x1(i){I.hideTooltip(i)}return s1};return r});define('sap/viz/modules/manifests/TrellisContainer',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/trelliscontainer','sap/viz/data/feed/Constants'],function Setup(M,m,f,a){var b={'id':'multiplier','name':'Chart Multiplier','type':a.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':0};var c={'id':'sap.viz.modules.trelliscontainer','type':m.Type.Container,'name':'trellis container','renderto':m.RenderTo.DIV,'description':'Settings for the layout of subcharts in trellis charts.','properties':{'mergeDataRange':{'name':'mergeDataRange','supportedValueType':'String','supportedValues':['ANY DATA RANGE NAME'],'defaultValue':null,'description':'Set the mergeDataRange. Specify the names of the data ranges that you want to merge. A corresponding function will be generated in this module to do the real merge. For example, if \'primary\' and \'secondary\' are specified here, two functions will be generated: \'primaryDataRange\' and \'secondaryDataRange\'. Note that the names of the functions are the same as the names of the data ranges, but with \'DataRange\' appended to the end. These generated functions support both getter and setter. You can pass any number of ranges {min:NUM, max:NUM} to the setter for the setter to merge. Then you can get the merged result from the getter.','isExported':false},'numberOfDimensionsInColumn':{'name':'numberOfDimensionsInColumn','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set the number of dimensions that are retrieved from the end of the dimension list in the multiplier, and are put in the column when making a layout of multiple charts.'}},'events':{},'css':null,'feeds':[b],'fn':f};var d={viz:[],module:[c],feeds:[]};return d});define('sap/viz/modules/axis/baseValueHelper',['jquery','sap/viz/util/TextUtils','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/Objects','sap/viz/modules/axis/valueAxisCore','sap/viz/modules/axis/categoryAxisCore','sap/viz/lang/langManager','sap/viz/util/NumberUtils','sap/viz/modules/dispatch','sap/viz/format/FormatManager','sap/viz/modules/threeD/matrix','sap/viz/modules/util/BoundUtil','sap/viz/base/UADetector'],function Setup(q,T,b,V,O,v,c,l,N,d,F,f,B,U){var r=function(g,h){var n=null;var o=null;var p;var s=null;var t=0;var u=0;var w=true;var x=-1;var y="viz-axis";var z="viz-axis-body";var A="viz-axis-title";var C={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label"};var D=11;var E={};var G={};var H=true;var I=g.props(null);var J=true;var K=new d('initialized');var L=I.color;var M=null;var P;if(h){P=h.effectManager}var Q=null;var R={"realStyle":{},"defaultStyle":{}};var S=function(){if(h&&(Object.keys(R.realStyle).length===0)){R.realStyle.title=O.extend(true,{},h.styleManager.query(C.axisTitle));R.realStyle.label=O.extend(true,{},h.styleManager.query(C.axisLabel));R.defaultStyle.title=O.extend(true,{},h.styleManager.queryDefault(C.axisTitle));R.defaultStyle.label=O.extend(true,{},h.styleManager.queryDefault(C.axisLabel));R.realStyle.titleString=h.styleManager.query(C.axisTitle).toString();R.realStyle.labelString=h.styleManager.query(C.axisLabel).toString();R.defaultStyle.titleString=h.styleManager.queryDefault(C.axisTitle).toString();R.defaultStyle.labelString=h.styleManager.queryDefault(C.axisLabel).toString();if(I.title.applyAxislineColor){R.realStyle.title.fill=I.color;R.defaultStyle.title.fill=I.color}}};var W=f(),X=null,Y=null,Z=null,$=null;var a1=function(){if(!J){return false}else{if(!b1()){return false}}return true};var b1=function(){if(!w){return false}var a=M.range();var e=M.domain();var i=null;if(I.type==="category"){i=M.rangeBand()}var j=false;if(!I.isIndependentMode){if(G){j=true}}else{if(E){j=true}}return!(!I.visible||(a[0]===0&&a[a.length-1]===0&&a.length>=2)||(a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&I.type==="value")||((!i||!j)&&a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&I.type==="category"))};var c1=function(){var a=[];if(I.title.text!==undefined&&I.title.text!==null){a=I.title.text}else{var e=[];if(I.isIndependentMode){if(E){for(var i in E){if(E.hasOwnProperty(i)){e=E[i].values;break}}}}else{if(G){e=G.values}}if(e){for(var k=0;k<e.length;k++){if(e[k].type){if(e[k].type==="MND"){a.push(l.get('IDS_DEFAULTMND'))}}else{if(e[k].col.val){a.push(e[k].col.val)}else{a.push(l.get('IDS_ISNOVALUE'))}}}}}Q=a;return a};var d1=function(a,j){if(j){a=a.append("svg")}var k=d1.getPreferredSize();var m=(t<k.width)?t:k.width;var _=(u<k.height)?u:k.height;B.drawBound(a,m,_);s=a;var q1=a.select("."+y);var r1=M.range();var s1=M.domain();if(!a1()){q1.remove()}else{var t1=d1.getPreferredSize().spacings;var u1=t1[0];var v1=0;for(var i=1;i<t1.length;i++){v1+=t1[i]}if(x>=0&&x<(u1+v1)){H=false}p1();var w1;var x1;var re=o1();w1=re.core;x1=re.coreScale;var z1=Q;p=w1().setTitle(z1).properties(I).style(R).position(I.position).axScale(x1).spaceLimit(x).matrix(W).labelAngle(X).labelAlign(Y).angle(Z).tickAngle($);var A1;if(q1.empty()){q1=a.append("g").attr("class",y+" "+C.axis);A1=q1.append("g").attr("class",z+" "+C.axisBody)}else{var e=q1.select("."+z).remove();A1=q1.append("g").attr("class",z+" "+C.axisBody);A1=q1.select("."+z)}if(b1()){A1.call(p)}var B1=D;q1.select("."+A).remove();H=true}K.initialized();return d1};d1.matrix=function(_){if(!arguments.length){return W}W=_;return d1};d1.style=function(_){if(!arguments.length){S();return R}R=_;return d1};d1.setCoreModule=function(_){n=_;return d1};d1.labelAngle=function(_){if(!arguments.length){return X}X=e1(_,360);return d1};d1.tickAngle=function(_){if(!arguments.length){return $}$=e1(_,360);return d1};d1.angle=function(_){if(!arguments.length){return Z}Z=e1(_,360);return d1};function e1(a,m){var r=a%m;if(0>r)r+=m;return r}d1.labelAlign=function(_){if(!arguments.length){return Y}Y=_;return d1};d1.parent=function(_){if(!arguments.length)return s;s=_;return d1};d1.width=function(_){if(arguments.length==0){return t}else{t=_;if(I.position=="bottom"||I.position=="top"){if(u){x=u}}else if(I.position=="left"||I.position=="right"){if(t){x=t}}return d1}};d1.height=function(_){if(arguments.length==0)return u;u=_;if(I.position=="bottom"||I.position=="top"){if(u){x=u}}else if(I.position=="left"||I.position=="right"){if(t){x=t}}return d1};d1.gridlineLength=function(_){if(arguments.length==0)return I.gridline.length;I.gridline.length=_;return d1};d1.startPadding=function(){var a=0;if(I.type=="value"){a=v().properties(I).style(R).position(I.position).axScale(M).startPadding()}return a};d1.endPadding=function(){var a=0;if(I.type=="value"){a=v().properties(I).style(R).position(I.position).axScale(M).endPadding()}return a};d1.mouseover=function(a){if(I.enableLabelSelection&&I.type!=="value"){p.mouseover(a)}};d1.mouseout=function(a){if(I.enableLabelSelection&&I.type!=="value"){p.mouseout(a)}};d1.cleanLabelAreas=function(){if(I.enableLabelSelection&&I.type!=="value"&&p&&p.cleanLabelAreas){p.cleanLabelAreas()}};d1.mouseup=function(a){if(I.enableLabelSelection&&I.type!=="value"){p.mouseup(a)}};d1.mousedown=function(a){if(I.enableLabelSelection&&I.type!=="value"){p.mousedown(a)}};d1.size=function(_){if(arguments.length==0)return{"width":t,"height":u,};t=_.width;u=_.height;return d1};d1.independentData=function(_){if(I.isIndependentMode){if(arguments.length==0)return E;E=_}},d1.data=function(_){if(arguments.length==0)return E;if(!I.isIndependentMode){E=_;if(_.getAnalysisAxisDataByIdx){G=E.getAnalysisAxisDataByIdx(0)}}return d1};d1.title=function(_){if(arguments.length==0)return Q;Q=_;return d1};d1.properties=function(_){if(arguments.length==0){return I}var a=false,e=false;if(_.scale&&_.scale.fixedRange){a=isNaN(Number(_.scale.minValue));e=isNaN(Number(_.scale.maxValue))}O.extend(true,I,_);if(a){I.scale.minValue=NaN}if(e){I.scale.maxValue=NaN}if(_.color){I.customizedColor=_.color}if(_.label&&_.label.formatString&&b.isArray(_.label.formatString)){if(b.isArray(_.label.formatString[0])){I.label.formatString=_.label.formatString[0][0]}}return d1};d1.range=function(){var a=null,m=Number(I.scale.maxValue),e=Number(I.scale.minValue);if((I.type==="value")&&(I.scale.fixedRange)){if(isNaN(m)||isNaN(e)||m>e){a={max:m,min:e,from:'axis'}}}return a};d1.scale=function(_){if(arguments.length==0)return M;M=_;return d1};d1.isDrawBody=function(_){if(arguments.length==0)return w;w=_;return d1};d1.color=function(_){if(arguments.length==0)return I.color;if(_!==undefined){I.isAxisColorFixed=true}if(I.customizedColor){_=I.customizedColor}if(!_){_=L}I=O.extend(true,I,{"color":_});if(I.title.applyAxislineColor&&_&&R.realStyle.title){R.realStyle.title.fill=_;R.defaultStyle.title.fill=_}return d1};d1.drawable=function(_){if(arguments.length==0)return J;J=_;return d1};d1.getPreferredSize=function(){S();var a=[0];var e=[0];if(M){a=M.range();e=M.domain()}if(!M||(!a1())){return{width:0,height:0,manual:false,}}else{var j=o1();var k=c1();var m=(j.core)().setTitle(k).properties(I).style(R).position(I.position).axScale(j.coreScale).spaceLimit(x);var _;var q1=0;var r1=0;var s1=0;var t1=[];var u1=m.getPreferredSize();if(I.position=="bottom"||I.position=="top"){if(!b1()){u1.height=0;u1.spacings=[]}if(I.title.visible&&I.visible){if(k!==undefined&&k!==null&&k!==''){q1=f1(k,R.realStyle.title).height}else{q1=0}s1=q1==0?0:D}var v1=q1+s1;t1=t1.concat([v1]);t1=t1.concat(u1.spacings);var w1=0;for(var i=1;i<t1.length;i++){w1+=t1[i]}var x1=v1+w1;var y1=x1;if(x>=0&&x<x1){y1=u1.height}_={maxSizeConstant:1/3,width:u1.width,height:x1,realHeight:y1,spacings:t1,manual:false,minTruncateSize:u1.minTruncateSize}}else if(I.position=="left"||I.position=="right"){if(!b1()){u1.width=0;u1.spacings=[]}if(I.title.visible&&I.visible){if(k!==undefined&&k!==null&&k!==''){r1=f1(k,R.realStyle.title).height}else{r1=0}s1=r1==0?0:D}var v1=r1+s1;t1=t1.concat([v1]);t1=t1.concat(u1.spacings);var w1=0;for(var i=1;i<t1.length;i++){w1+=t1[i]}var z1=w1+v1;var A1=z1;if(x>=0&&x<z1){A1=u1.width}_={maxSizeConstant:1/3,width:z1,realWidth:A1,height:u1.height,spacings:t1,manual:false,minTruncateSize:u1.minTruncateSize}}if((I.type=='category')&&(I.layoutInfo.width>0)&&(I.layoutInfo.height>0)){_.width=I.layoutInfo.width;_.realWidth=I.layoutInfo.width;_.height=I.layoutInfo.height;_.realHeight=I.layoutInfo.height;_.manual=true}V.normalizeNumbersCeil(_);return _}};d1.dispatch=function(_){if(!arguments.length)return K;K=_;return d1};d1.destroy=function(){if(h){h.destroy();h=null}if(p&&p.destroy){p.destroy()}C=null;if(W&&W.destroy){W.destroy()}W=null;s=null;p=null;G=null;E=null;if(M){M.domain([0,1]).range([0,1])}M=null};var f1=function(_,a){return T.superFastMeasure(_,a['font-size'],a['font-weight'],a['font-family'])};function g1(a){if(a[0].type==='MND'||a[a.length-1].type==='MND'){return true}else{return false}}function h1(a){if(a.length===1&&a[0].type==='MND'){return true}else{return false}}function i1(a){if(a[0].type==='MND'){return true}else{return false}}function j1(a){if(!g1(a)){return}if(i1(a)){return a[0]}else{return a[a.length-1]}}function k1(a){if(!g1(a)||h1(a)){return a}var e=[];var i,j,k;for(i=0;i<a.length;++i){e.push({col:a[i].col,rows:[]})}var m=j1(a);var _=m.rows.length;var q1;if(i1(a)){q1=a[1].rows.length;for(i=0;i<_;++i){for(j=0;j<q1;++j){e[0].rows.push(a[0].rows[i])}}for(i=1;i<a.length;++i){for(j=0;j<_;++j){for(k=0;k<a[i].rows.length;k++){var r1=O.extend(true,{},a[i].rows[k]);e[i].rows.push(r1)}}}for(i=1;i<e.length;++i){for(j=0;j<e[i].rows.length;++j){var s1=e[0].rows[j].ctx;var t1=e[i].rows[j].ctx;t1=O.extend(true,t1,s1);e[i].rows[j].ctx=t1}}}else{q1=a[0].rows.length;for(i=0;i<q1;++i){var u1;var v1=a[a.length-1].rows.length;for(u1=0;u1<v1;u1++){e[e.length-1].rows.push(O.extend(true,{},a[a.length-1].rows[u1]));if(a.length>=2){var s1=a[a.length-2].rows[i].ctx;var t1=O.extend(true,{},a[a.length-1].rows[u1].ctx);t1=O.extend(true,t1,s1);e[e.length-1].rows[i*v1+u1].ctx=t1}}}for(i=0;i<a.length-1;++i){for(j=0;j<q1;++j){for(k=0;k<_;++k){e[i].rows.push(a[i].rows[j])}}}}return e}function l1(a){var i,j;var e=[];var k,m,_;var q1,r1;for(i=0;i<a.length;++i){k=[];_=0;r1=0;q1=0;var s1=[];for(j=0;j<a[i].rows.length;++j){m={};if(i===a.length-1){m.value=a[i].rows[j];m.space=1}else{++_;++r1;if(i>0&&r1>=e[i-1][q1].space){m.value=a[i].rows[j];m.space=_;_=0;r1=0;++q1}else{if(j+1<a[i].rows.length&&a[i].rows[j].val===a[i].rows[j+1].val){if(a[i].rows[j].ctx){s1.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){s1=s1.concat(a[i].rows[j].contexts)}continue}else{m.value=a[i].rows[j];m.space=_;_=0}}}if(a[i].rows[j].ctx){s1.push(a[i].rows[j].ctx)}if(a[i].rows[j].contexts){s1=s1.concat(a[i].rows[j].contexts)}m.value.labelContexts=s1;k.push(m);s1=[]}e.push(k)}return e}function m1(a){var e=k1(a);var i=l1(e);return i}function n1(a){for(var i=0;i<a.length;++i){a[i].reverse()}}var o1=function(){var a={};var e;var k;if(I.type=="category"){k=[];var m=[];if(I.isIndependentMode){for(dataObj in E){m=E[dataObj].values}}else{if(G){m=G.values}}var _=[];if(m&&m.length){_=m1(m)}var q1=M.range();if(q1[0]>q1[q1.length-1]){n1(_)}var r1=_.length===0?0:_[_.length-1].length;var s1=M.rangeBand(),t1=[];var u1=false;if(m&&m.length>0&&m[0].rows.length===0){u1=true;r1=1;var v1={value:{},space:1};var w1=[];if(G.values){var x1;for(x1=0;x1<G.values[0].rows.length;x1++){w1.push(G.values[0].rows[x1].ctx)}}v1.value={val:!G.values?null:G.values[0].col.val,labelContexts:w1};_=[[v1]]}var di;if(!M.noEqual){if(!h1(m)&&!u1){for(di=0;di<r1;di++){t1[di]=s1}}else{var z1=parseInt(q1.length/r1,10);for(di=0;di<r1;di++){t1[di]=s1*z1}}}else{for(di=0;di<r1;di++){t1[di]=Math.abs(q1[di]-q1[di+1])}}function A1(G1,F1,E1){var y1=G1;for(var ix=0;ix<E1;ix++){y1+=t1[F1+ix]}return y1};var B1={};var C1=[];var D1=[];var i,j,E1=0;var F1;var G1,H1;for(i=0;i<_.length;++i){C1=[];D1=[];E1=0;F1=0;for(j=0;j<_[i].length;++j){E1=0;C1.push(_[i][j].value);E1+=_[i][j].space;G1=j>0?D1[j-1][1]:0;H1=A1(G1,F1,E1);F1+=E1;D1.push([G1,H1])}var B1={"domain":C1,"range":D1,};k.push(B1)}e=n}else{e=n;k=M}a.core=e;a.coreScale=k;a.coreScale.noEqual=M.noEqual;return a};function p1(){if(!P)return;if(I.customizedColor){I.color=I.customizedColor}var a={drawingEffect:'normal',fillColor:I.color,};I.color=P.register(a);a={drawingEffect:'normal',fillColor:I.gridline.color,};I.gridline.color=P.register(a);a={drawingEffect:'normal',fillColor:R.defaultStyle.label.fill,};R.defaultStyle.label.fill=P.register(a);a={drawingEffect:'normal',fillColor:R.defaultStyle.title.fill,};R.defaultStyle.title.fill=P.register(a)}return d1};return r});define('sap/viz/modules/axis/baseValueCore',[],function Setup(){var r=function(){};return r});define('sap/viz/modules/axis/BaseValue',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/modules/dispatch','sap/viz/modules/axis/baseValueHelper','sap/viz/modules/axis/baseValueCore'],function Setup(o,B,d,b,a){var c=function(m,e){c.superclass.constructor.apply(this,arguments);this._axis_baseValueHelperModule=b(m,e);this._axis_props=null;c.prototype.initCustomFunList(c);c.prototype.initBaseValueHelper(this._axis_baseValueHelperModule,c);c.prototype.setCoreModule(a)};c.prototype.initCustomFunList=function(){if(!c.prototype._axis_customFunList){c.prototype._axis_customFunList=[];var p;for(p in this){if(this.hasOwnProperty(p)){if(typeof(this[p])==="function"){c.prototype._axis_customFunList.push(p)}}}}return this};c.prototype.initBaseValueHelper=function(b,s){var p;for(p in b){if(b.hasOwnProperty(p)){if(typeof(b[p])==="function"){if(c.prototype._axis_customFunList&&c.prototype._axis_customFunList.indexOf(p)<0){s.prototype[p]=b[p]}}}}};o.extend(c,B);c.prototype.render=function(s,i){this._axis_baseValueHelperModule.apply(this,arguments);return this};c.prototype.properties=function(_){if(arguments.length===0){return this._axis_props}else{this._axis_baseValueHelperModule.properties.apply(this,arguments);this._axis_props=this._axis_baseValueHelperModule.properties.apply(this)}};c.prototype.scale=function(_){if(arguments.length===0){return this._axis_scale}else{this._axis_baseValueHelperModule.scale.apply(this,arguments);this._axis_scale=_}};c.prototype.getPreferredSize=function(){return this._axis_baseValueHelperModule.getPreferredSize()};return c});define('sap/viz/modules/axis/simpleValueCore',[],function Setup(){var r=function(){};return r});define('sap/viz/modules/axis/SimpleValue',['sap/viz/base/utils/oo','sap/viz/modules/axis/BaseValue','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleValueCore'],function Setup(o,B,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,B);a.prototype.render=function(b,i){return a.superclass.render.call(this,b,i)};return a});define('sap/viz/modules/axis/simpleValueLeftCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,P,m,U){var r=function(){var a;var b;var c=null;var d=5;var e=6;var f=7;var g=1;var h="#6c6c6c";var j="#d8d8d8";var k="#ffffff";var l="#333333";var n="viz-axis-label";var o=null;var p={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":h,"axisline":{"visible":true},"shapeRendering":true};var s={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var t=s.axisLabel+' '+n+' '+s.morphableLabel;var u=m(),v=null,w=null,x=null,z=null;var A=-1;B.spaceLimit=function(_){if(!arguments.length)return A;A=_;return B};function B(y){var Q=c.range();var R=c.domain();if(Q[0]==0&&Q[1]==0){return}var S=H();S=D(S);var V=0;if(p.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}V=J(W)}if((A!=-1)&&(V+d+2*e+g/2>A)){S=[];V=0}var X=1;if(p.label.visible){X=2}for(var i=0;i<S.length;i++){var Y=y.append("line").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("x1",V+X*e).attr("x2",V+X*e+d).attr("y1",c(S[i].value)).attr("y2",c(S[i].value)).attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges");var Z=function(){var a1=y.append("line").attr("class",s.gridLine).attr("y1",c(S[i].value)).attr("y2",c(S[i].value)).attr("x1",V+X*e+d).attr("x2",V+X*e+d+p.gridline.length).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size);if(p.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(p.gridline.type=="incised"){var a1=y.append("line").attr("class",s.incisedGridLine).attr("y1",c(S[i].value)+1).attr("y2",c(S[i].value)+1).attr("x1",V+X*e+d).attr("x2",V+X*e+d+p.gridline.length).attr("stroke",k).attr("stroke-width",p.gridline.size)}};if(i==0&&p.gridline.showFirstLine){Z()}else if(i==(S.length-1)&&p.gridline.showLastLine){Z()}else if((i!=(S.length-1))&&(i!=0)&&p.gridline.visible){Z()}if(p.label.visible){var $=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",V+e).attr("y",c(S[i].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(S[i].text);C($)}}if(p.axisline.visible){var _=V+X*e+d;var x2=V+X*e+d;var y1=Q[0];var y2=Q[1];var d1=0;var e1="M"+(_-d1)+" "+y1;e1+="L"+_+" "+y1;e1+="L"+x2+" "+y2;e1+="L"+(x2-d1)+" "+y2;var f1=y.append("path").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("d",e1).attr("fill","none").attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges")}};var C=function(i){if(U.isIE()){var Q=o.realStyle.label['font-size'].toString();var R=Q.indexOf("px");if(R>=0){Q=Q.substr(0,R)}var y=i.attr("y");i.attr("y",Number(y)+Q/2);i.attr("dominant-baseline","auto")}};B.matrix=function(_){if(!arguments.length){return u}u=_;return B};B.labelAngle=function(_){if(!arguments.length){return v}v=_;return B};B.tickAngle=function(_){if(!arguments.length){return z}z=_;return B};B.angle=function(_){if(!arguments.length){return x}x=_;return B};B.labelAlign=function(_){if(!arguments.length){return w}w=_;return B};B.position=function(_){if(!arguments.length){return"left"}else{return B}};B.style=function(_){if(arguments.length==0)return o;o=O.extend(true,o,_);return B};B.properties=function(_){if(arguments.length==0)return p;p=L(p,_);return B};B.axScale=function(_){if(!arguments.length)return c;c=_;return B};B.startPadding=function(){if(c){var i=D(H());var y=0;if(i.length>0){y=K(i[0].text,o.realStyle.label)}if(y==0){return 0}return y.height/2}else{return 0}};B.setTitle=function(_){b=_;return B};B.endPadding=function(){if(c){var i=D(H());var y=0;if(i.length>0){y=K(i[i.length-1].text,o.realStyle.label)}if(y==0){return 0}return y.height/2}else{return 0}};B.getPreferredSize=function(){var y=c.domain();var Q=c.range();var R=0;var S=0;var V=[];if(!(Q[0]==0&&Q[1]==0)){var W=Math.abs(Q[0]-Q[1]);if(p.label.visible){var X=D(H());var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}if(K(Y[0],o.realStyle.label).height>W){R=d+2*e}else{R=J(Y)+d+2*e+g/2;}}else{R=d+e+g/2}V.push(R);S=W+g}return{width:R,height:S,spacings:V,}};B.destroy=function(){m_selection=null;c=null};var D=function(y){if(y.length>0){if(c(y[0].value)>c(y[y.length-1].value)){y.reverse()}}var Q=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var R={};R.value=y[i].value;R.text=y[i].text;var S=K(R.text,o.realStyle.label);var V=c(R.value);R.start=V-S.height/2;R.end=V+S.height/2;Q.push(R)}}var W=[];W=F(Q);return W};var E=function(y,Q,R,S){if(R.length==0){return}var V=D(R);for(var i=0;i<V.length;i++){if(x){var W=x*Math.PI/180;var X=Math.cos(W);var Y=(45===x)?X:Math.sin(W);var Z=z*Math.PI/180;var $=Math.cos(Z);var _=Math.sin(Z);var a1=c(V[i].value)*Y;tickStartY=-c(V[i].value)*X;var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append('text').attr('x',a1+(e+d)*$).attr('y',tickStartY+(e+d)*_).attr("dominant-baseline","middle").attr("text-anchor",'start').text(V[i].text);if(z>90){b1.attr("text-anchor",'end').attr('transform','rotate( '+(z-180)+' '+b1.attr("x")+' '+b1.attr("y")+')')}else{b1.attr('transform','rotate( '+(z)+' '+b1.attr("x")+' '+b1.attr("y")+')')}}else{var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",c(V[i].value)).attr("y",e+d).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(V[i].text);b1.attr("dominant-baseline","auto");b1.attr("y",S+e)}}};var F=function(y){var Q=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var R=[];var S=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){R.push(y[i])}if(y[i].value>=0){S.push(y[i])}}var V;var W=R.length;if(R[0].value<=R[W-1].value){V=R[0]}else{V=R[W-1]}var X;var Y=S.length;if(S[0].value<=S[Y-1].value){X=S[Y-1]}else{X=S[0]}R=G(R);S=G(S);if(R[0].value>R[R.length-1].value){R.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(R[R.length-1].value==0&&S[0].value==0){R.pop()}var Z=R.concat(S);if(V.value!==Z[0].value){Z.splice(0,0,V)}if(X.value!==Z[Z.length-1].value){Z.push(X)}if(Z[0].start>Z[Z.length-1].start){Z.reverse()}Q=G(Z)}else{Q=G(y)}}if(Q.length<=1){Q=[]}return Q};var G=function(y){var Q=[];for(var R=0;R<=(y.length-1);R++){var S=true;for(var i=0;i<y.length-1;i+=(R+1)){var V=y[i];if(i!=0){var W=Q[Q.length-1];if(y[i].start<=W.end){if(Q.length>1){S=false;break}}else{Q.push(V)}}else{Q.push(V)}}var X=y[y.length-1];if(X.start<Q[Q.length-1].end){Q.pop()}Q.push(X);if(S){break}else{Q=[]}}return Q};var H=function(){var y=c.domain();var Q=f;if(c.tickHint){Q=c.tickHint}var R=c.ticks(Q);var S=true;for(var i=0;i<R.length;i++){R[i]=N.precise(R[i],S)}var V=[];for(var i=0;i<R.length;i++){var W={};W.value=R[i];if(p.isPercentMode){W.text=N.precise(R[i]*100).toString()}else{W.text=N.precise(R[i]).toString()}V.push(W)}if(p.label){if(!p.label.formatString&&p.label.numberFormat){for(var i=0;i<R.length;i++){var X=d3.format(p.label.numberFormat);V[i].text=(X(R[i]))}}else if(p.label.formatString){if(!(p.isPercentMode&&p.label.formatString.indexOf('u')>=0)){var Y=p.label.formatString;for(var i=0;i<R.length;i++){V[i].text=(N.format(R[i],Y))}}}}return V};var I=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).width}else{S=K(y[i],o.realStyle.label).height}if(R<S){R=S}}return R};var J=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).height}else{S=K(y[i],o.realStyle.label).width}if(R<S){R=S}}return R};var K=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var L=function(i,y){for(var Q in y){if(typeof(y[Q])==="object"){if(i[Q]){i[Q]=L(i[Q],y[Q])}else{i[Q]=y[Q]}}else{i[Q]=y[Q]}}return i};return B};return r});define('sap/viz/modules/axis/SimpleValueLeft',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValue','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleValueLeftCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleValueLeft',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValueLeft','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(c,e){b.superclass.constructor.apply(this,arguments);this._multipleValue_axisNumber=3;this._multipleValue_className="v-multiValue";this._multipleValue_axisGap={};this._multipleValue_titleText="";this._multipleValue_maxTitleSize=96;this._multipleValue_titleContainer=[]};o.extend(b,S);b.prototype.data=function(_){if(_){this._multipleValue_axisGap={};return b.superclass.data(_)}return b.superclass.data()};b.prototype.getAxisGap=function(){var c=b.superclass.style.call(this);var e=c.realStyle.label["font-size"];e=parseFloat(e.substring(0,e.length-2));this._multipleValue_axisGap.startGap=e/2;this._multipleValue_axisGap.endGap=e/2;return this._multipleValue_axisGap};b.prototype.title=function(_){if(_&&this._multipleValue_titleContainer.indexOf(_)<0){this._multipleValue_titleContainer.push(_);this._multipleValue_titleText=this._multipleValue_titleContainer.join(' & ')}};b.prototype.render=function(s){var c=s;var r=this.scale().range();var e=Math.abs(r[r.length-1]-r[0]);var h=s.select("*");h.remove();s=s.append("svg");m=s;var j=this._axis_baseValueHelperModule.size();s.attr('width',j.width).attr('height',j.height);for(var i=0;i<this._multipleValue_axisNumber;i++){if(i===0){continue}var p=this.properties();var k=s.append('line').attr("x1",0).attr("x2",j.width).attr("y1",i*j.height/this._multipleValue_axisNumber).attr("y2",i*j.height/this._multipleValue_axisNumber).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size).attr("shape-rendering","crispEdges")}s=s.append("g").attr("class",this._multipleValue_className);var t=this._multipleValue_titleText+"";var l=b.superclass.getPreferredSize.apply(this,arguments);var n=parseFloat(l.width);var q=b.superclass.style.call(this);var u=f(t,q.realStyle.title).width;if(n>this._multipleValue_maxTitleSize&&u>n){this._multipleValue_maxTitleSize=n;u=n}else if(u>this._multipleValue_maxTitleSize&&n<this._multipleValue_maxTitleSize){u=this._multipleValue_maxTitleSize}if((n>0)&&(u>n)){s.attr("transform",'translate('+(u-n)+', 0)')}for(i=0;i<this._multipleValue_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(0)+','+(i*e)+')');b.superclass.render.call(this,I,false)}b.prototype.titleRender(this,c);this._multipleValue_titleContainer=[];return this};var g=function(_,t,l){var s='font-weight: '+_.realStyle.label['font-weight']+'; font-family: '+_.realStyle.label['font-family']+'; font-size: '+_.realStyle.label['font-size']+';';return T.ellipsis(t,undefined,l,s)};b.prototype.titleRender=function(c,e){var t="v-multipleValueLeftAxisTitle";var h=e.node();var p=h.parentNode;var i=d3.select(p).select("."+t);if(i.empty()){i=d3.select(p).append("div");i.attr("class",t)}a=i;i.select("*").remove();var j=c._multipleValue_titleText+"";var k=b.superclass.style.call(this);var l=f(j,k.realStyle.title).width;if(l>c._multipleValue_maxTitleSize){l=c._multipleValue_maxTitleSize;j=g(k,j,l)}var n=95;var q=i.node().style;q.width=m.attr('width')+"px";q.position=h.style.position;q.overflow="visible";q.height=n/2+"px";var s=h.style.left;s=parseFloat(s.substring(0,s.length-2));q.left=(s)+"px";q.top=parseInt(h.style.top,10)-n/2+'px';i=i.append("svg");var r=2;var u=c.properties();var v=k.defaultStyle.title.fill;if(u&&u.color&&u.title.applyAxislineColor){v=u.color}i.append("g").attr("fill",v).attr("font-size",k.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",k.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",0).attr("y",15*r).attr("dominant-baseline","middle").attr("text-anchor","start").text(j)};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleValue_axisNumber}this._multipleValue_axisNumber=_;return this};b.prototype.height=function(_){if(_){return b.superclass.height.call(this,_/this._multipleValue_axisNumber)}else{var c=b.superclass.height.apply(this,arguments);return c*this._multipleValue_axisNumber}};b.prototype.getPreferredSize=function(_){var t=this._multipleValue_titleText+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var c=parseFloat(p.width);var e=b.superclass.style.call(this);var h=f(t,e.realStyle.title).width;if(h>this._multipleValue_maxTitleSize){h=this._multipleValue_maxTitleSize}var i=c;if((c>0)&&(h>c)){i=h}if(i){p.width=i;p.realWidth=i;if(p.axisSpacings){p.axisSpacings[1]=i}}return p};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleValue_axisNumber;b.superclass.height.call(this,_);return this}else{var c=b.superclass.height.apply(this,arguments);c.height*=this._multipleValue_axisNumber;return c}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var c=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);c.push(i)}});if(c.length>0){r.push({"name":'yAxis title',"bound":c})}var e=m.node().parentNode.getBoundingClientRect();if(e.width>1.5&&e.height>1.5){var h=[[]];h[0].push([e.left,e.top]);h[0].push([e.right,e.top]);h[0].push([e.right,e.bottom]);h[0].push([e.left,e.bottom]);r.push({"name":'yAxis',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};var f=function(_,c){return T.superFastMeasure(_,c['font-size'],c['font-weight'],c['font-family'])};return b});define('sap/viz/modules/manifests/axis/MultipleValueLeft',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleValueLeft'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleValueLeft','type':C.Type.Supplementary,'name':'MultipleValueLeft','base':"sap.viz.modules.axis.TrellisAxis",'properties':{'color':{'name':'color','supportedValueType':'String','defaultValue':'#a6a6a6','description':'Set the color of the gridline.','isExported':true,},},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/axis/simpleCategoryCore',[],function Setup(){var r=function(){};return r});define('sap/viz/modules/axis/SimpleCategory',['sap/viz/base/utils/oo','sap/viz/modules/axis/BaseCategory','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleCategoryCore'],function Setup(o,B,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,B);a.prototype.render=function(b,i){return a.superclass.render.call(this,b,i)};return a});define('sap/viz/modules/axis/simpleCategoryBottomCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/format/FormatManager','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,l,a,P,m,F,U){var r=function(){var b=[];var c;var d;var e;var f;var g=5;var h=1;var j="#d8d8d8";var k="viz-axis-label";var n="#cccccc";var o="#808080";var p=false;var s=30;var t=null;var u={"title":{"visible":false,"text":undefined},"gridline":{"visible":false,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","forceLabelArea":false,"shapeRendering":true,"forceVerticalFont":false,"forceHorizontalFont":true};var v={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",gridLine:"v-gridline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var w=v.axisLabel+' '+k+' '+v.morphableLabel;var x=m(),z=null,A=null,B=null,C=null;var D=-1;var E=function(i){var y=[];var $=d.length>1?true:false;if($){f=6}else{f=11}for(var _=0;_<d.length;_++){var a1=d[_].domain;var b1=d[_].range;var re=V(a1,b1,true);var d1=re.isVertical;d[_].labelsToDraw=Q(a1,b1,d1,$,i);if(_===0||_===1){y.push(d[_]);if(i>=0){break}}else if(d[_].labelsToDraw.length===d[_].domain.length){y.push(d[_])}else if(d[_].labelsToDraw.length>0&&a.isExist(d.noEqual)&&d.noEqual===true){y.push(d[_])}}return y};var G=function(i,y,$,_,y2){var b1=i.append("line").attr("class",v.gridLine).attr("y1",$).attr("y2",y2).attr("x1",y).attr("x2",_).attr("stroke",u.gridline.color).attr("stroke-width",u.gridline.size);if(u.gridline.type==="dotted"){b1.attr("stroke-dasharray","3, 2")}};function H(y){e=y;var $=E();var _=false;var a1=45;var i;if(D>=0){var b1=[];var c1=H.getPreferredSize();var d1=c1.spacings;var e1=c1.minTruncateSize;var f1=D;for(i=0;i<d1.length;i++){if(f1>=d1[i]){b1.push($[i]);f1-=d1[i];f1=N.precise(f1)}else{if(i===0&&e1>0&&f1>=e1){_=true}break}}if(b1.length===0&&$.length>0&&!_){var g1=[];for(i=0;i<$[0].domain.length;i++){g1.push('')}b1.push({domain:g1,range:$[0].range})}$=b1;if(_){$=E(D)}}var h1=$.length>1?true:false;var i1,j1;var k1,l1,m1;var re,o1,p1,q1,r1;var x1,x2,y1,y2,w1;var z1,A1,B1;var C1,D1,E1,F1,G1,H1;j1=0;if($.length>2){$=$.slice(0,2)}for(k1=($.length-1);k1>=0;k1--){if(!u.label.visible&&k1!==($.length-1)){continue}l1=$[k1].domain;m1=$[k1].range;re=V(l1,m1);q1=re.isVertical;r1=_?X($[k1].labelsToDraw,q1).maxHeight:re.maxLabelTextHeight;p1=a1;if(!u.label.visible){r1=0;p1=0}p1=_?D:p1;if(k1===($.length-1)){if(u.gridline.showFirstLine){G(y,m1[0][0],j1,m1[0][0],j1-u.gridline.length)}if(u.gridline.showLastLine){G(y,m1[m1.length-1][0],j1,m1[m1.length-1][0],j1-u.gridline.length)}}var I1,J1,K1;if($.length===1){x1=m1[0][0];x2=m1[m1.length-1][1];y1=j1;y2=j1;w1="M"+x1+" "+(y1+g);w1+="L"+x1+" "+y1;w1+="L"+x2+" "+y2;w1+="L"+x2+" "+(y2+g);if(u.axisline.visible){z1=y.append("path");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("d",w1);this.setAttribute("fill","none");this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}}else if($.length>=2&&(k1===$.length-1)){z1=y.append("line");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",m1[0][0]);this.setAttribute("x2",m1[m1.length-1][1]);this.setAttribute("y1",j1);this.setAttribute("y2",j1);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}if(u.gridline.visible&&k1===($.length-1)){for(i=0;i<l1.length;i++){G(y,m1[i][0],j1+p1,m1[i][0],j1+p1+u.gridline.length);if((i===(l1.length-1))||(m1[i][1]!==m1[i+1][0])){G(y,m1[i][1],j1+p1,m1[i][1],j1+p1+u.gridline.length)}}}for(i=0;i<l1.length;i++){A1=y.append("line");A1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",m1[i][0]);this.setAttribute("x2",m1[i][0]);this.setAttribute("y1",0);this.setAttribute("y2",g);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")});B1=y.append("line");B1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",m1[i][1]);this.setAttribute("x2",m1[i][1]);this.setAttribute("y1",0);this.setAttribute("y2",g);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")});if($.length>=2&&u.label.visible){var L1=0;if(k1!==0){L1=g}if(i===0||k1!==($.length-1)){z1=y.append("line");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",m1[i][0]);this.setAttribute("x2",m1[i][0]);this.setAttribute("y1",0);this.setAttribute("y2",j1+p1);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}if((i===(l1.length-1))||(m1[i][1]!==m1[i+1][0])){z1=y.append("line");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",m1[i][1]);this.setAttribute("x2",m1[i][1]);this.setAttribute("y1",j1+L1);this.setAttribute("y2",j1+p1);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}}}C1=$[k1].labelsToDraw;R(y,C1,j1,r1,l1,q1,$.length!==1);j1+=a1}}H.spaceLimit=function(_){if(!arguments.length){return D}if(!p){D=_}return H};var I=function(i){if(U.isIE()){var $=t.realStyle.label['font-size'].toString();var _=$.indexOf("px");if(_>=0){$=$.substr(0,_)}var y=i.attr("y");i.attr("y",Number(y)+$/2);i.attr("dominant-baseline","auto")}};var J=function(i){var r;if(i.info){var y=i.info.customlabel;if(y){if(y.type==='url'){r=i.val}else if(y.type==='string'){r=y.val}}else{r=i.val}}else{r=i.val}if(r===''){r=' '}r=Z(r)?l.get('IDS_ISNOVALUE'):r;r=F.format(r,u.label.formatString);return r};var K=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var L=function(i,y){var $='font-weight: '+t.realStyle.label['font-weight']+'; font-family: '+t.realStyle.label['font-family']+'; font-size: '+t.realStyle.label['font-size']+';';return T.ellipsis(i,undefined,y,$)};var Q=function(y,$,_,a1,b1){var c1=0;var d1=[];var i,e1;for(i=0;i<y.length;i++){e1={};e1.text=J(y[i]);e1.custom=K(y[i]);e1.labelContexts=y[i].labelContexts;if(b1>=0){e1.text=L(e1.text,b1-2*f)}var f1=Y(e1.text,t.realStyle.label);if(_){e1.width=f1.height;e1.height=f1.width}else{e1.width=f1.width;e1.height=f1.height}var g1=$[i][0]+($[i][1]-$[i][0])/2;e1.x=g1;e1.x1=g1-e1.width/2;e1.x2=g1+e1.width/2;e1.startX=$[i][0];e1.rectWidth=$[i][1]-$[i][0];e1.originalIndex=i;y[i].drawLabel=false;d1.push(e1);c1+=e1.rectWidth}var h1=[],i1,j1;if(u.label.hideStrategy!=='greedy'){var k1=d1.concat();var l1=true;var m1=false;for(i=0;i<k1.length;i++){e1=k1[i];if(i!==0){i1=i-(j1+1)}var n1=1;var o1=Math.abs($[i][1]-$[i][0]);if(o1>s){e1.text=L(e1.text,o1-2*n1)}else if(e1.width>=o1){e1.text=""}if(e1.text===""){m1=true}h1.push(e1);y[e1.originalIndex].drawLabel=true}if(m1){for(i=0;i<h1.length;i++){h1[i].text=""}}}else{for(i1=j1=(d1.length-1);j1>=0;j1--){e1=d1[j1];if(i1===j1&&$[j1][1]!==$[j1][0]){if(a1&&e1.x1>$[j1][0]&&e1.x2<$[j1][1]){h1.push(e1);y[e1.originalIndex].drawLabel=true}else if(!a1){if(e1.width<=c1){h1.push(e1);y[e1.originalIndex].drawLabel=true}}}else{if(e1.x2<=d1[i1].x1&&$[j1][1]!==$[j1][0]){if(a1){if(e1.x1>$[j1][0]&&e1.x2<$[j1][1]){h1.push(e1);y[e1.originalIndex].drawLabel=true;i1=j1}}else{h1.push(e1);y[e1.originalIndex].drawLabel=true;i1=j1}}}}for(i=h1.length-1;i>-1;--i){if($[0]&&$.length&&(h1[i].x2>$[$.length-1][1]||h1[i].x1<$[0][0])){y[h1[i].originalIndex].drawLabel=false;h1.splice(i,1)}}}return h1};var R=function(y,$,_,a1,b1,c1,d1){if($===undefined){return}for(var i=0;i<$.length;i++){var e1=a.isExist($[i].text)?$[i].text:'';var f1;if(u.label.visible){if(B){var g1=2;var h1=B*Math.PI/180;var i1=Math.cos(h1);var j1=(45===B)?i1:Math.sin(h1);var k1=C*Math.PI/180;var l1=Math.cos(k1);var m1=Math.sin(k1);var n1=$[i].x*j1;var o1=-$[i].x*i1;var p1=n1+(g+f)*l1;var q1=o1+_+(f+g)*m1;var r1=p1-g1;var s1=q1-$[i].width/2-g1;var t1=$[i].height+2*g1;var u1=$[i].width+2*g1;if(C>90){r1-=(t1-2*g1)}f1=y.append("g");f1.each(function(){this.setAttribute("fill",t.defaultStyle.label.fill);this.setAttribute("class",w);this.setAttribute("font-size",t.defaultStyle.label['font-size']);this.setAttribute("font-weight",t.defaultStyle.label['font-weight']);this.setAttribute("font-family",t.defaultStyle.label['font-family'])});var v1=f1.append("rect");v1.each(function(){this.setAttribute("x",r1);this.setAttribute("y",s1);this.setAttribute("width",t1);this.setAttribute("height",u1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")});v1.node().labelContexts=$[i].labelContexts;var w1=f1.append("text").text(e1);w1.each(function(){this.setAttribute("x",p1);this.setAttribute("y",q1);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor",'start');this.setAttribute("pointer-events","none")});if(C>90){w1.attr("text-anchor",'end');f1.attr('transform','rotate( '+(C-180)+' '+p1+' '+q1+')')}else{f1.attr('transform','rotate( '+(C)+' '+p1+' '+q1+')')}}else{var x1=y;var y1=1,z1,A1;if(c==="bottom"){z1=u.forceLabelArea||$[i].width>$[i].rectWidth;A1=x1.append("rect");if(z1){A1.each(function(){this.setAttribute("x",$[i].x-$[i].width/2-y1);this.setAttribute("y",_+a1/2-y1-f/2);this.setAttribute("width",$[i].width+2*y1);this.setAttribute("height",$[i].height+2*y1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}else{A1.each(function(){this.setAttribute("x",$[i].startX);this.setAttribute("y",_+y1);this.setAttribute("width",$[i].rectWidth);this.setAttribute("height",a1+2*f-y1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}A1.node().labelContexts=$[i].labelContexts}else if(c==="top"){if($[i].labelContexts.length>0){z1=u.forceLabelArea||$[i].width>$[i].rectWidth;A1=x1.append("rect");if(z1){A1.each(function(){this.setAttribute("x",$[i].x-$[i].width/2-y1);this.setAttribute("y",_+a1/2+f/2-y1);this.setAttribute("width",$[i].width+2*y1);this.setAttribute("height",$[i].height+2*y1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}else{A1.each(function(){this.setAttribute("x",$[i].startX);this.setAttribute("y",_);this.setAttribute("width",$[i].rectWidth);this.setAttribute("height",a1+2*f);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}A1.node().labelContexts=$[i].labelContexts}}f1=x1.append("g");f1.each(function(){this.setAttribute("fill",t.defaultStyle.label.fill);this.setAttribute("class",w);this.setAttribute("font-size",t.defaultStyle.label['font-size']);this.setAttribute("font-weight",t.defaultStyle.label['font-weight']);this.setAttribute("font-family",t.defaultStyle.label['font-family'])});var B1=f1.append("text").text(e1);B1.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",$[i].x);this.setAttribute("y",_+a1/2+f);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","middle")});if(c1){if(!d1){if(c==='top'){B1.attr('text-anchor','start').attr("y",_+a1+f)}else if(c==='bottom'){B1.attr("y",_+f).attr('text-anchor','end')}}var ac="-90";B1.attr("transform","rotate( "+ac+" "+B1.attr("x")+" "+B1.attr("y")+" )")}I(B1)}}}};H.mouseover=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",n)};H.mouseout=function(i){i.setAttribute("class","v-labelarea");i.setAttribute("opacity",0)};H.cleanLabelAreas=function(){if(e){e.selectAll(".v-labelarea").attr("class","v-labelarea").attr("opacity",0)}};H.setTitle=function(_){b=_;return H};H.mouseup=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",n)};H.mousedown=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow-mousedown");i.setAttribute("fill",o)};H.position=function(_){if(!arguments.length){return c}c=_;return H};H.properties=function(_){if(arguments.length===0){return u}u=O.extend(true,u,_);return H};H.style=function(_){if(arguments.length===0){return t}t=O.extend(true,t,_);return H};H.axScale=function(_){if(!arguments.length){return d}d=_;return H};H.getPreferredSize=function(){var y=E();var $=0;var _=0;var a1=[];var b1=0;for(var i=0;i<y.length;i++){if(!u.label.visible&&i!==(y.length-1)){continue}var c1=y[i].domain;var d1=y[i].range;if(c1.length===0||d1.length===0){continue}$=Math.abs(d1[d1.length-1][1]-d1[0][0])+h;var e1=0;if(u.label.visible){var f1;if(i===0){f1=V(c1,d1,undefined,true);b1=f1.minTruncateSize}else{f1=V(c1,d1)}e1+=f1.maxLabelTextHeight}e1=e1>0?e1+2*f:e1;_+=e1;a1.push(e1)}if(D>=0){var g1=a1;var h1=D;var i1=0;for(i=0;i<g1.length;i++){if(h1>=g1[i]){i1+=g1[i];h1-=g1[i];h1=N.precise(h1)}else{break}}if(i1===0&&g1.length>0){if(b1&&b1+2*f<D){i1=D}else{i1+=g1[0]}}if(c==="bottom"||c==="top"){_=i1}else if(c==="left"||c==="right"){$=i1}}if(!u.isTruncateAvailable){b1=0}else if(b1>0){b1+=2*f}return{width:$,height:_,spacings:a1,minTruncateSize:b1}};H.matrix=function(_){if(!arguments.length){return x}x=_;return H};H.labelAngle=function(_){if(!arguments.length){return z}z=_;return H};H.tickAngle=function(_){if(!arguments.length){return C}C=_;return H};H.angle=function(_){if(!arguments.length){return B}B=_;return H};H.labelAlign=function(_){if(!arguments.length){return A}A=_;return H};H.destroy=function(){e=null;d=null};var S=function(y,$,_,a1){var b1=[];var c1=[];var d1=false;var e1=0;for(var i=0;i<y.length;i++){var f1=0;var g1=0;if(y[i].drawLabel||_){var h1=J(y[i]);var i1=Y(h1,t.realStyle.label);f1=i1.height;g1=i1.width;var j1=$[i][1]-$[i][0];if(a1){var k1;if(h1.length>3){k1=Y(h1.slice(0,3).concat('...'),t.realStyle.label).width;k1=k1>i1.width?i1.width:k1}else{k1=i1.width}e1=k1>e1?k1:e1}if((f1<g1)&&j1!==0&&g1>j1){if(c==="top"||c==="bottom"){d1=true}}}b1.push(f1);c1.push(g1)}return{'heights':b1,'widths':c1,'isVerticalFont':d1,'minTruncateSize':e1}};var V=function(y,$,_,a1){var re={"maxLabelTextHeight":0,"isVertical":false};var c1=0;var d1=false;var e1=S(y,$,_,a1);d1=u.forceVerticalFont===true?true:e1.isVerticalFont;if(u.forceHorizontalFont){d1=false}for(var i=0;i<y.length;i++){if(y[i].drawLabel||_){if(d1){if(c1<e1.widths[i]){c1=e1.widths[i]}}else{if(c1<e1.heights[i]){c1=e1.heights[i]}}}}re.maxLabelTextHeight=c1;re.isVertical=d1;re.minTruncateSize=re.isVertical?e1.minTruncateSize:-1;return re};var W=function(y,$,_){var re={"maxLabelTextWidth":0,"isVertical":false};var b1=0;var c1=false;var d1=S(y,$,undefined,_);c1=u.forceVerticalFont===true?true:d1.isVerticalFont;if(u.forceHorizontalFont){c1=false}for(var i=0;i<y.length;i++){if(y[i].drawLabel){if(c1){if(b1<d1.heights[i]){b1=d1.heights[i]}}else{if(b1<d1.widths[i]){b1=d1.widths[i]}}}}re.maxLabelTextWidth=b1;re.isVertical=c1;re.minTruncateSize=d1.minTruncateSize;return re};var X=function(y,$){var _=0,a1=0;for(var i=0;i<y.length;i++){var b1=Y(y[i].text,t.realStyle.label);_=b1.width>_?b1.width:_;a1=b1.height>a1?b1.height:a1}return{maxWidth:$?a1:_,maxHeight:$?_:a1}};var Y=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var Z=function(i){if(typeof(i)!=="string"&&N.isNoValue(i)){return true}return false};return H};return r});define('sap/viz/modules/axis/SimpleCategoryBottom',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleCategory','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleCategoryBottomCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleCategoryBottom',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleCategoryBottom','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(e,f){b.superclass.constructor.apply(this,arguments);this._multipleCategory_axisNumber=2;this._multipleCategory_className="v-multiCategory";this._multipleCategory_titleSelection=null};o.extend(b,S);b.prototype.render=function(s){var e=s;var r=b.prototype.scale().rangeBand();var f=b.prototype.scale().range();var h=r*f.length;var j=s.select("*");j.remove();s=s.append("svg");m=s;var k=this._axis_baseCategoryHelperModule;var l=k.size();s.attr('width',l.width).attr('height',l.height);s=s.append("g").attr("class",this._multipleCategory_className);var i;for(i=0;i<this._multipleCategory_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(i*h)+','+(0)+')');b.superclass.render.call(this,I,false)}b.prototype.titleRender(e,k);return this};b.prototype.getTitleSelection=function(e){var t="v-multipleCategoryBottomAxisTitle";var f=e.node();var p=f.parentNode;var h=d3.select(p).select("."+t);if(h.empty()){h=d3.select(p).append("div");h.attr("class",t)}return h};var g=function(_,t,l){var s='font-weight: '+_.realStyle.label['font-weight']+'; font-family: '+_.realStyle.label['font-family']+'; font-size: '+_.realStyle.label['font-size']+';';return T.ellipsis(t,undefined,l,s)};var c=function(_,t,l){var s='font-weight: '+_.realStyle.title['font-weight']+'; font-family: '+_.realStyle.title['font-family']+'; font-size: '+_.realStyle.title['font-size']+';';return T.ellipsis(t,undefined,l,s)};b.prototype.titleRender=function(e,h){var p=b.prototype.getPreferredSize();var t=p.spacings;if(t){t=t.reverse()}var l=45;var f=b.prototype.title();f=f.reverse();var j=f.length;var k=b.prototype.getTitleSelection(e);a=k;k.select("*").remove();var n=e.node();var q=k.node().style;q.width=n.style.width;var r=(q.width).substring(0,(q.width).length-2);var s=l*2;if(j===1){s=l}q.width=r*2+"px";q.position=n.style.position;q.overflow="hidden";q.height=s+"px";var u=n.style.left;var v=n.style.top;u=parseFloat(u.substring(0,u.length-2));v=parseFloat(v.substring(0,v.length-2));q.left=(u)+"px";q.top=(v)+"px";k=k.append("svg");var w=k.node().style;w.height=h.size().height+"px";var x=32;var y=10;var z=b.superclass.style.call(this);var A=x;if(f.length>2){f=f.slice(f.length-2)}var i;for(i=0;i<f.length;i++){if(t&&t[i]>0){var B=c(z,f[i],r-y);k.append("g").attr("fill",z.defaultStyle.title.fill).attr("font-size",z.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",z.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",10).attr("y",A).attr("dominant-baseline","middle").attr("text-anchor","start").text(B);A+=l}}};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleCategory_axisNumber}this._multipleCategory_axisNumber=_;return this};b.prototype.height=function(_){if(_){b.superclass.height.call(this,_/this._multipleCategory_axisNumber);return this}else{var e=b.superclass.height.apply(this,arguments);return e*this._multipleCategory_axisNumber}};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleCategory_axisNumber;b.superclass.height.call(this,_);return this}else{var e=b.superclass.height.apply(this,arguments);e.height*=this._multipleCategory_axisNumber;return e}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var e=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);e.push(i)}});if(e.length>0){r.push({"name":'xAxis title',"bound":e})}var f=m.node().parentNode.getBoundingClientRect();if(f.width>1.5&&f.height>1.5){var h=[[]];h[0].push([f.left,f.top]);h[0].push([f.right,f.top]);h[0].push([f.right,f.bottom]);h[0].push([f.left,f.bottom]);r.push({"name":'xAxis',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};return b});define('sap/viz/modules/manifests/axis/MultipleCategoryBottom',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleCategoryBottom'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleCategoryBottom','type':C.Type.Supplementary,'name':'MultipleCategoryBottom','base':"sap.viz.modules.axis.TrellisAxis",'properties':{'color':{'name':'color','supportedValueType':'String','defaultValue':'#a6a6a6','description':'Set the color of the gridline.','isExported':true,},},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/layout/trellis/trellislayout',['sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector'],function Setup(T,U){var l=function(){};l.MINPLOTHEIGHT=95;l.MINPLOTWIDTH=184;l.FIXEDCOLUMNHEIGHT=45;l.FIXEDROWWIDTH=95;l.place=function(s,m,a){m.plot.width(a.plot.pref.width).height(a.plot.pref.height);m.plot.visibleSize({width:a.plot.size.width,height:a.plot.size.height});if(m.yAxis){m.yAxis.width(a.yAxis.pref.width).height(a.yAxis.pref.height)}if(m.xAxis){m.xAxis.width(a.xAxis.pref.width).height(a.xAxis.pref.height)}if(m.yAxis2){m.yAxis2.width(a.yAxis2.pref.width).height(a.yAxis2.pref.height)}if(m.xAxis2){m.xAxis2.width(a.xAxis2.pref.width).height(a.xAxis2.pref.height)}};l.getScrollbarSize=function(p){var t=p.append('div');var a=p.append('div').style('overflow','scroll');var r;if(U.isIE()){a.style('width',t.style('width'));var w=t.style('width');var b=a.style('width');w=w.indexOf('px')>0?w.slice(0,w.indexOf('px')):w;b=b.indexOf('px')>0?b.slice(0,b.indexOf('px')):b;r=w-b}else{r=t.node().clientWidth-a.node().clientWidth}t.remove();a.remove();return r};return l});define('sap/viz/modules/layout/trellis/vertical',['sap/viz/base/utils/TypeUtils','sap/viz/modules/layout/trellis/trellislayout'],function Setup(T,l){return function(){function v(m,a,s,b,w,h,r,c){var t={},d={},x={},y={},e={},f={},g={},i={vertical:false,horizontal:false},j=l.getScrollbarSize(b),k={width:w-j,height:h-j};var n=a.rowData.getAnalysisAxisDataByIdx(0);var o=a.columnData.getAnalysisAxisDataByIdx(0);var q=a.dataHandler.getSubDataAdapter(a.contexts[0][0]).getAnalysisAxisDataByIdx(0);var u=o.values.length>0?o.values.length:1;t.pref={width:0,height:(u>3?3:u)*l.FIXEDCOLUMNHEIGHT};t.size={width:0,height:(u>3?3:u)*l.FIXEDCOLUMNHEIGHT};d.pref={width:n.values.length*l.FIXEDROWWIDTH,height:0};d.size={width:(n.values.length>3?3:n.values.length)*l.FIXEDROWWIDTH,height:0};x.pref={width:0,height:q.values.length*l.FIXEDCOLUMNHEIGHT};x.size={width:0,height:(q.values.length>2?2:q.values.length)*l.FIXEDCOLUMNHEIGHT};f.size={width:0,height:k.height-t.size.height-x.size.height};if(l.MINPLOTHEIGHT*r<=f.size.height){g.height=f.size.height/r}else{var z=Math.floor(f.size.height/l.MINPLOTHEIGHT);g.height=f.size.height/(z>0?z:1);i.vertical=true}f.pref={width:0,height:g.height*r};y.pref={width:0,height:f.pref.height};y.size={width:0,height:f.size.height};e.pref={width:0,height:f.pref.height};e.size={width:0,height:f.size.height};m.plot.cellSize({width:g.width,height:g.height});m.xAxis.axisnumber(c);m.yAxis.axisnumber(r);var p=m.yAxis.getPreferredSize();y.size.width=p.realWidth?p.realWidth:0;y.pref.width=p.realWidth?p.realWidth:0;if(m.yAxis2){m.yAxis2.axisnumber(r);var A=m.yAxis2.getPreferredSize();e.size.width=A.realWidth?A.realWidth:0;e.pref.width=A.realWidth?A.realWidth:0}if(i.vertical){if(s.yAxis2){e.size.width+=j}}f.size.width=k.width-d.size.width-y.size.width-e.size.width;var B=i.vertical&&!s.yAxis2?f.size.width-j:f.size.width;if(l.MINPLOTWIDTH*c<=B){g.width=B/c}else{var C=Math.floor(B/l.MINPLOTWIDTH);g.width=B/(C>0?C:1);i.horizontal=true}f.pref.width=g.width*c;m.plot.cellSize({width:g.width,height:g.height});t.pref.width=f.pref.width;t.size.width=B;d.size.height=f.size.height;d.pref.height=y.pref.height;x.pref.width=f.pref.width;x.size.width=B;if(i.horizontal){x.size.height+=j}var D=0,E=0,F=0,G=0;if(d.size){D+=d.size.width}if(y.size){D+=y.size.width}if(y.size){E+=e.size.width}if(t.size){F+=t.size.height}if(x.size){G+=x.size.height}t.pos={left:D,top:0};d.pos={left:0,top:F};x.pos={left:D,top:t.size.height+d.size.height};y.pos={left:d.size.width,top:F};f.pos={left:y.size.width+d.size.width,top:t.size.height};e.pos={left:f.pos.left+f.size.width,top:F};var H={trellisXAxis:t,trellisYAxis:d,xAxis:x,yAxis:y,yAxis2:e,plot:f,scrollable:i,scrollsize:j};s.trellisXAxis.style('position','absolute').style('overflow','hidden').style('width',t.size.width+'px').style('height',t.size.height+'px').style('left',t.pos.left+'px').style('top',t.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.trellisYAxis.style('position','absolute').style('overflow','hidden').style('width',d.size.width+'px').style('height',d.size.height+'px').style('left',d.pos.left+'px').style('top',d.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.xAxis.style('position','absolute').style('overflow-x',i.horizontal?'auto':'hidden').style('overflow-y','hidden').style('width',x.size.width+'px').style('height',x.size.height+'px').style('left',x.pos.left+'px').style('top',x.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd');s.yAxis.style('position','absolute').style('overflow','hidden').style('width',y.size.width+'px').style('height',y.size.height+'px').style('left',y.pos.left+'px').style('top',y.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.plot.style('position','absolute').style('overflow-x','hidden').style('overflow-y',i.vertical&&!s.yAxis2?'auto':'hidden').style('width',f.size.width+'px').style('height',f.size.height+'px').style('left',f.pos.left+'px').style('top',f.pos.top+'px');if(s.yAxis2&&e.size.width>0){s.yAxis2.style('position','absolute').style('overflow-x','hidden').style('overflow-y',i.vertical?'auto':'hidden').style('width',e.size.width+'px').style('height',e.size.height+'px').style('left',e.pos.left+'px').style('top',e.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd')}else{s.plot.style('border-right','1px solid #dddddd')}l.place(s,m,H);s.xAxis.node().onscroll=function(){var I=s.xAxis.node().scrollLeft;if(I>x.pref.width-x.size.width){I=x.pref.width-x.size.width}s.xAxis.node().scrollLeft=s.trellisXAxis.node().scrollLeft=s.plot.node().scrollLeft=I;m.plot.scrollLeft(I);var J=s.xAxis.node().scrollTop;var K=m.xAxis.getTitleSelection(s.xAxis);K.node().scrollTop=J};if(s.yAxis2){s.yAxis2.node().onscroll=function(){var I=s.yAxis2.node().scrollTop;if(I>f.pref.height-f.size.height){I=f.pref.height-f.size.height}s.trellisYAxis.node().scrollTop=s.yAxis.node().scrollTop=s.plot.node().scrollTop=I;m.plot.scrollTop(I)}}else{s.plot.node().onscroll=function(){var I=s.plot.node().scrollTop;if(I>f.pref.height-f.size.height){I=f.pref.height-f.size.height}s.plot.node().scrollTop=s.trellisYAxis.node().scrollTop=s.yAxis.node().scrollTop=I;m.plot.scrollTop(I)}}return H}return v}});define('sap/viz/modules/manifests/layout/trellis/Vertical',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/trellis/vertical','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.trellis.vertical",'name':"trellis_vertical",'base':"sap.viz.modules.layout.base",'description':"The trellis vertical layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/trellis/TrellisLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/BaseTrellisChart','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/axis/MultipleCategoryBottom','sap/viz/modules/manifests/xy/Line','sap/viz/modules/manifests/layout/trellis/Vertical'],function Setup(M,B,I,T,D,a,b,X,A,c,d,L,V){var t={id:'viz/trellis_line',name:'IDS_TRELLISLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/base/trellis',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_vertical',orientation:'left'}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},legends:{modules:{legend:{data:{aa:[3]}}}},main:{modules:{layout:{id:'sap.viz.modules.layout.trellis.vertical'},xAxis:{id:'sap.viz.modules.axis.MultipleCategoryBottom',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis.MultipleValueLeft',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:true}}}},plot:{modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(B.viz),module:[].concat(B.module,I.module,T.module,D.module,a.module,b.module,X.module,A.module,c.module,d.module,L.module,V.module),feeds:[].concat(B.feeds,I.feeds,T.feeds,D.feeds,a.feeds,b.feeds,X.feeds,A.feeds,c.feeds,d.feeds,L.feeds,V.feeds)};return m});define('sap/viz/manifests/trellis/TrellisAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisLineChart','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/xy/Area'],function Setup(M,T,a,A){var t={id:'viz/trellis_area',name:'IDS_TRELLISAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_line',modules:{root:{modules:{main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'vertical',automaticInOutside:false,outsidePosition:'down'}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,A.module),feeds:[].concat(T.feeds,a.feeds,A.feeds)};return m});define('sap/viz/impls/TrellisAreaChart',['sap/viz/manifests/trellis/TrellisAreaChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/chart/elements/behaviors/TrellisInteraction',['sap/viz/base/utils/oo','sap/viz/chart/elements/behaviors/BaseBehavior','sap/viz/chart/elements/behaviors/BehaviorManager','sap/viz/base/utils/ObjectUtils','sap/viz/modules/Constants','sap/viz/modules/util/flattenModules','sap/viz/chart/elements/utils/LassoDecoration','sap/viz/util/BoundingBox','sap/viz/chart/elements/utils/runtimeSelectionDataHandler','sap/viz/base/utils/TypeUtils','sap/viz/base/UADetector','sap/viz/base/utils/FunctionUtils','sap/viz/chart/elements/behaviors/Interaction'],function(o,B,a,O,C,f,L,b,r,T,U,F,I){var c=function(m,d){c.superclass.constructor.apply(this,arguments)};o.extend(c,I);c.prototype.getAxes=function(p){return[];var d=['xAxis','xAxis2','yAxis','yAxis2','trellisXAxis','trellisXAxis2','trellisYAxis','trellisYAxis2'];var e=[];d.forEach(function(n,i){n='main.'+n;if(p[n]){e.push(p[n])}});return e};c.prototype.getMainPlots=function(p){var m=[];for(var i=-1;++i<p['main.plot.plot'].length;){if(p['main.plot.plot['+i+']']){m.push(p['main.plot.plot['+i+']'])}}return m};return c});define('sap/viz/chart/elements/manifests/controller/TrellisInteraction',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/chart/elements/behaviors/TrellisInteraction','sap/viz/chart/elements/behaviors/Interaction'],function Setup(M,C,f,I){var m={'id':'sap.viz.chart.elements.behaviors.TrellisInteraction','name':'trellis selection','base':"sap.viz.modules.controller.interaction",'description':'Settings for user interaction with trellis charts','fn':f};var a={viz:[],module:[m].concat(I.module),feeds:[].concat(I.feeds)};return a});define('sap/viz/modules/axis/simpleValueBottomCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,P,m,U){var r=function(){var a;var b;var c=null;var d=5;var e=6;var f=7;var g=1;var h="#6c6c6c";var j="#d8d8d8";var k="#ffffff";var l="#333333";var n="viz-axis-label";var o=null;var p={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":h,"axisline":{"visible":true},"shapeRendering":true};var s={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var t=s.axisLabel+' '+n+' '+s.morphableLabel;var u=m(),v=null,w=null,x=null,z=null;var A=-1;B.spaceLimit=function(_){if(!arguments.length)return A;A=_;return B};function B(y){var Q=c.range();var R=c.domain();if(Q[0]==0&&Q[1]==0){return}var S=H();var V=0;if(p.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}V=I(W)}if((A!=-1)&&(V+d+2*e+g/2>A)){S=[];V=0}for(var i=0;i<S.length;i++){var X=y.append("line").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("x1",c(S[i].value)).attr("x2",c(S[i].value)).attr("y1",0).attr("y2",d+1).attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges");if(x){var Y=x*Math.PI/180;var Z=Math.cos(Y);var $=(45===x)?Z:Math.sin(Y);var _=z*Math.PI/180;var a1=Math.cos(_);var b1=Math.sin(_);var c1=c(S[i].value)*$;tickStartY=-c(S[i].value)*Z;var x2=c1+(d+1)*a1,y2=tickStartY+(d+1)*b1;X.attr('x1',c1).attr('y1',tickStartY).attr('x2',x2).attr('y2',y2)}var f1=function(){var d1=y.append("line").attr("class",s.gridLine).attr("x1",c(S[i].value)).attr("x2",c(S[i].value)).attr("y1",-p.gridline.length).attr("y2",0).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size);if(p.gridline.type=="dotted"){d1.attr("stroke-dasharray","3, 2")}if(p.gridline.type=="incised"){var d1=y.append("line").attr("class",s.incisedGridLine).attr("x1",c(S[i].value)-1).attr("x2",c(S[i].value)-1).attr("y1",-p.gridline.length).attr("y2",0).attr("stroke",k).attr("stroke-width",p.gridline.size)}};if(i==0&&p.gridline.showFirstLine){f1()}else if(i==(S.length-1)&&p.gridline.showLastLine){f1()}else if((i!=(S.length-1))&&(i!=0)&&p.gridline.visible){f1()}}if(p.label.visible){E(y,"bottom",S,V)}if(p.axisline.visible){var x1=Q[0];var x2=Q[1];var y1=0;var y2=0;var i1=0;var j1="M"+x1+" "+(y1+i1);j1+="L"+x1+" "+y1;j1+="L"+x2+" "+y2;j1+="L"+x2+" "+(y2+i1);var k1=y.append("path").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("d",j1).attr("fill","none").attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges");if(x){var Y=x*Math.PI/180;var Z=Math.cos(Y);var $=(45==x)?Z:Math.sin(Y);j1='M '+Q[0]+' '+y1;j1+='L'+(Q[0]+Q[1]*$)+' '+(y2-Q[1]*Z);j1+='Z';k1.attr('d',j1)}}};var C=function(i){if(U.isIE()){var Q=o.realStyle.label['font-size'].toString();var R=Q.indexOf("px");if(R>=0){Q=Q.substr(0,R)}var y=i.attr("y");i.attr("y",Number(y)+Q/2);i.attr("dominant-baseline","auto")}};B.matrix=function(_){if(!arguments.length){return u}u=_;return B};B.labelAngle=function(_){if(!arguments.length){return v}v=_;return B};B.tickAngle=function(_){if(!arguments.length){return z}z=_;return B};B.angle=function(_){if(!arguments.length){return x}x=_;return B};B.labelAlign=function(_){if(!arguments.length){return w}w=_;return B};B.position=function(_){if(!arguments.length)return a;a=_;return B};B.style=function(_){if(arguments.length==0)return o;o=O.extend(true,o,_);return B};B.properties=function(_){if(arguments.length==0)return p;p=L(p,_);return B};B.axScale=function(_){if(!arguments.length)return c;c=_;return B};B.startPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[0].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.setTitle=function(_){b=_;return B};B.endPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[i.length-1].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.getPreferredSize=function(){var y=c.domain();var Q=c.range();var R=0;var S=0;var V=[];if(!(Q[0]==0&&Q[1]==0)){var W=Math.abs(Q[0]-Q[1]);if(a=="bottom"||a=="top"){R=W+g;if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}S=I(Y)+d+2*e+g/2}else{S=d+e+g/2}V.push(S)}else if(a=="left"||a=="right"){if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}if(K(Y[0],o.realStyle.label).height>W){R=d+2*e}else{R=J(Y)+d+2*e+g/2;}}else{R=d+e+g/2}V.push(R);S=W+g}}return{width:R,height:S,spacings:V,}};B.destroy=function(){m_selection=null;c=null};var D=function(y,Q){if(y.length>0){if(c(y[0].value)>c(y[y.length-1].value)){y.reverse()}}var R=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var S={};S.value=y[i].value;S.text=y[i].text;var V=K(S.text,o.realStyle.label);var W=c(S.value);if(Q=='left'||Q=='right'){S.start=W-V.height/2;S.end=W+V.height/2}else{S.start=W-V.width/2;S.end=W+V.width/2}R.push(S)}}var X=[];X=F(R);return X};var E=function(y,Q,R,S){if(R.length==0){return}var V=D(R,Q);for(var i=0;i<V.length;i++){if(x){var W=x*Math.PI/180;var X=Math.cos(W);var Y=(45===x)?X:Math.sin(W);var Z=z*Math.PI/180;var $=Math.cos(Z);var _=Math.sin(Z);var a1=c(V[i].value)*Y;tickStartY=-c(V[i].value)*X;var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append('text').attr('x',a1+(e+d)*$).attr('y',tickStartY+(e+d)*_).attr("dominant-baseline","middle").attr("text-anchor",'start').text(V[i].text);if(z>90){b1.attr("text-anchor",'end').attr('transform','rotate( '+(z-180)+' '+b1.attr("x")+' '+b1.attr("y")+')')}else{b1.attr('transform','rotate( '+(z)+' '+b1.attr("x")+' '+b1.attr("y")+')')}}else{var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",c(V[i].value)).attr("y",e+d).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(V[i].text);b1.attr("dominant-baseline","auto");b1.attr("y",S+e)}}};var F=function(y){var Q=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var R=[];var S=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){R.push(y[i])}if(y[i].value>=0){S.push(y[i])}}var V;var W=R.length;if(R[0].value<=R[W-1].value){V=R[0]}else{V=R[W-1]}var X;var Y=S.length;if(S[0].value<=S[Y-1].value){X=S[Y-1]}else{X=S[0]}R=G(R);S=G(S);if(R[0].value>R[R.length-1].value){R.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(R[R.length-1].value==0&&S[0].value==0){R.pop()}var Z=R.concat(S);if(V.value!==Z[0].value){Z.splice(0,0,V)}if(X.value!==Z[Z.length-1].value){Z.push(X)}if(Z[0].start>Z[Z.length-1].start){Z.reverse()}Q=G(Z)}else{Q=G(y)}}if(Q.length<=1){Q=[]}return Q};var G=function(y){var Q=[];for(var R=0;R<=(y.length-1);R++){var S=true;for(var i=0;i<y.length-1;i+=(R+1)){var V=y[i];if(i!=0){var W=Q[Q.length-1];if(y[i].start<=W.end){if(Q.length>1){S=false;break}}else{Q.push(V)}}else{Q.push(V)}}var X=y[y.length-1];if(X.start<Q[Q.length-1].end){Q.pop()}Q.push(X);if(S){break}else{Q=[]}}return Q};var H=function(){var y=c.domain();var Q=f;if(c.tickHint){Q=c.tickHint}var R=c.ticks(Q);var S=true;for(var i=0;i<R.length;i++){R[i]=N.precise(R[i],S)}var V=[];for(var i=0;i<R.length;i++){var W={};W.value=R[i];if(p.isPercentMode){W.text=N.precise(R[i]*100).toString()}else{W.text=N.precise(R[i]).toString()}V.push(W)}if(p.label){if(!p.label.formatString&&p.label.numberFormat){for(var i=0;i<R.length;i++){var X=d3.format(p.label.numberFormat);V[i].text=(X(R[i]))}}else if(p.label.formatString){if(!(p.isPercentMode&&p.label.formatString.indexOf('u')>=0)){var Y=p.label.formatString;for(var i=0;i<R.length;i++){V[i].text=(N.format(R[i],Y))}}}}return V};var I=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).width}else{S=K(y[i],o.realStyle.label).height}if(R<S){R=S}}return R};var J=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).height}else{S=K(y[i],o.realStyle.label).width}if(R<S){R=S}}return R};var K=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var L=function(i,y){for(var Q in y){if(typeof(y[Q])==="object"){if(i[Q]){i[Q]=L(i[Q],y[Q])}else{i[Q]=y[Q]}}else{i[Q]=y[Q]}}return i};return B};return r});define('sap/viz/modules/axis/SimpleValueBottom',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValue','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleValueBottomCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleValueBottom',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValueBottom','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(c,e){b.superclass.constructor.apply(this,arguments);this._multipleValue_axisNumber=3;this._multipleValue_className="v-multiValue";this._multipleValue_axisGap={};this._multipleValue_titleText="";this._multipleValue_titleContainer=[]};o.extend(b,S);b.prototype.data=function(_){if(_){this._multipleValue_axisGap={};return b.superclass.data(_)}return b.superclass.data()};b.prototype.getAxisGap=function(){if(!this._multipleValue_axisGap.startGap){var c=b.superclass.style.call(this);var i=this.properties().isPercentMode;var e=this.scale().domain();var h=(i?e[0]*100:e[0])+"";var l=(i?e[e.length-1]*100:e[e.length-1])+"";this._multipleValue_axisGap.startGap=0;var s=f(h,c.realStyle.label).width;this._multipleValue_axisGap.endGap=0;var j=f(l,c.realStyle.label).width;this._multipleValue_axisGap.startGap=s*2/3;this._multipleValue_axisGap.endGap=j*2/3}return this._multipleValue_axisGap};b.prototype.render=function(s){var c=s;var r=this.scale().range();var e=Math.abs(r[r.length-1]-r[0]);var h=s.select("*");h.remove();var j=s.append("svg");m=j;var k=this._axis_baseValueHelperModule.size();j.attr('width',k.width).attr('height',k.height);s=j.append("g").attr("class",this._multipleValue_className);var i,l=45;var p=this.properties();for(i=0;i<this._multipleValue_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(i*e)+','+(0)+')');b.superclass.render.call(this,I,false);if(i>0){j.append('line').attr("x1",i*e).attr("x2",i*e).attr("y1",0).attr("y2",l).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size).attr("shape-rendering","crispEdges")}}b.prototype.titleRender(this,c);this._multipleValue_titleContainer=[];return this};b.prototype.title=function(_){if(_&&this._multipleValue_titleContainer.indexOf(_)<0){this._multipleValue_titleContainer.push(_);this._multipleValue_titleText=this._multipleValue_titleContainer.join(' & ')}};b.prototype.titleRender=function(c,e){var t="v-multipleValueBottomAxisTitle";var h=e.node();var p=h.parentNode;var i=d3.select(p).select("."+t);if(i.empty()){i=d3.select(p).append("div");i.attr("class",t)}a=i;i.select("*").remove();var j=c._multipleValue_titleText+"";var k=b.superclass.style.call(this);var l=f(j,k.realStyle.title).width;var n=c._multipleValue_titleText;var q=95;var r=i.node().style;r.position=h.style.position;r.overflow="visible";r.height=q/2+"px";var s=10;var u=parseInt(h.style.width,10);if(l>u-s){r.width=h.style.width;n=g(k.realStyle.title,n,u-s)}else{r.width=l*2+"px"}var v=h.style.left;var w=h.style.top;v=parseFloat(v.substring(0,v.length-2));w=parseFloat(w.substring(0,w.length-2));r.left=(v)+"px";r.top=(w)+"px";i=i.append("svg");var x=c.properties();var y=k.defaultStyle.title.fill;if(x&&x.color&&x.title.applyAxislineColor){y=x.color}i.append("g").attr("fill",y).attr("font-size",k.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",k.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",s).attr("y",3*s).attr("dominant-baseline","middle").attr("text-anchor","start").text(n)};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleValue_axisNumber}this._multipleValue_axisNumber=_;return this};b.prototype.height=function(_){if(_){return b.superclass.height.call(this,_/this._multipleValue_axisNumber)}else{var c=b.superclass.height.apply(this,arguments);return c*this._multipleValue_axisNumber}};b.prototype.getPreferredSize=function(_){var t=this._multipleValue_titleText+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var c=parseFloat(p.width);var e=b.superclass.style.call(this);var h=f(t,e.realStyle.title).width;var i=c;if((c>0)&&(h>c)){i=h}if(i){p.width=i;p.realWidth=i;if(p.axisSpacings){p.axisSpacings[1]=i}}return p};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleValue_axisNumber;b.superclass.height.call(this,_);return this}else{var c=b.superclass.height.apply(this,arguments);c.height*=this._multipleValue_axisNumber;return c}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var c=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);c.push(i)}});if(c.length>0){r.push({"name":'xAxis title',"bound":c})}var e=m.node().parentNode.getBoundingClientRect();if(e.width>1.5&&e.height>1.5){var h=[[]];h[0].push([e.left,e.top]);h[0].push([e.right,e.top]);h[0].push([e.right,e.bottom]);h[0].push([e.left,e.bottom]);r.push({"name":'xAxis',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};var f=function(_,c){return T.superFastMeasure(_,c['font-size'],c['font-weight'],c['font-family'])};var g=function(_,t,l){var s='font-weight: '+_['font-weight']+'; font-family: '+_['font-family']+'; font-size: '+_['font-size']+';';return T.ellipsis(t,undefined,l,s)};return b});define('sap/viz/modules/manifests/axis/MultipleValueBottom',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleValueBottom'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleValueBottom','type':C.Type.Supplementary,'name':'MultipleValueBottom','base':"sap.viz.modules.axis.TrellisAxis",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/axis/simpleCategoryLeftCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/format/FormatManager','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,l,a,P,m,F,U){var r=function(){var b=[];var c;var d;var e;var f;var g=5;var h=10;var j=1;var k="#d8d8d8";var n="viz-axis-label";var o="#cccccc";var p="#808080";var s=false;var t=null;var u={"title":{"visible":false,"text":undefined},"gridline":{"visible":false,"color":k,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","forceLabelArea":false,"shapeRendering":true,"forceVerticalFont":false};var v={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-categoryaxisline",gridLine:"v-gridline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var w=v.axisLabel+' '+n+' '+v.morphableLabel;var x=m(),z=null,A=null,B=null,C=null;var D=-1;var E=function(i){var y=[];var Z=d.length>1?true:false;if(Z){f=6}else{f=11}for(var $=0;$<Math.min(2,d.length);$++){var _=d[$].domain;var a1=d[$].range;var re=S(_,a1,true);var c1=re.isVertical;d[$].labelsToDraw=Q(_,a1,Z,i,($===d.length-1));if($===0){y.push(d[$]);if(i>=0){break}}else{if(d[$].labelsToDraw.length!==d[$].domain.length){d[$].labelsToDraw=[]}y.push(d[$])}}return y};var G=function(i,y,Z,$,_){var a1=i.append("line").attr("class",v.gridLine).attr("y1",Z).attr("y2",_).attr("x1",y).attr("x2",$).attr("stroke",u.gridline.color).attr("stroke-width",u.gridline.size);if(u.gridline.type==="dotted"){a1.attr("stroke-dasharray","3, 2")}};function H(y){e=y;var Z=E();var $=false;var i;if(D>=0){var _=[];var a1=H.getPreferredSize();var b1=a1.spacings;var c1=a1.minTruncateSize;var d1=D;for(i=0;i<b1.length;i++){if(d1>=b1[i]){_.push(Z[i]);d1-=b1[i];d1=N.precise(d1)}else{if(i===0&&c1>0&&d1>=c1){$=true}break}}if(_.length===0&&Z.length>0&&!$){var e1=[];for(i=0;i<Z[0].domain.length;i++){e1.push('')}_.push({domain:e1,range:Z[0].range})}Z=_;if($){Z=E(D)}}var f1=Z.length>1?true:false;var g1,h1;var i1,j1,k1,l1;var re,n1,o1,p1,q1;var x1,x2,y1,y2,v1;var w1,z1,A1;var B1,C1,D1,E1,F1,G1;if(c==="left"){g1=0;l1=[];for(i1=0;i1<Z.length;i1++){if(!u.label.visible&&i1!==(Z.length-1)){continue}j1=Z[i1].domain;k1=Z[i1].range;re=V(j1,k1);n1=$?W(Z[i1].labelsToDraw,false).maxWidth:re.maxLabelTextWidth;o1=n1+2*f;if(!u.label.visible){n1=0;o1=0}o1=$?D:o1;if(i1===(Z.length-1)){if(u.gridline.showFirstLine){G(y,g1+o1,k1[k1.length-1][1],g1+o1+u.gridline.length,k1[k1.length-1][1])}if(u.gridline.showLastLine){G(y,g1+o1,k1[0][0],g1+o1+u.gridline.length,k1[0][0])}}if(Z.length===1){x1=g1+o1;x2=g1+o1;y1=k1[0][0];y2=k1[k1.length-1][1];if(u.axisline.visible){v1="M"+x1+" "+y1;v1+="L"+x2+" "+y2;w1=y.append("path");w1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("d",v1);this.setAttribute("fill","none");this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}}else if(Z.length>=2&&(i1===Z.length-1)){w1=y.append("line");w1.each(function(){this.setAttribute("x1",g1+o1);this.setAttribute("x2",g1+o1);this.setAttribute("y1",k1[0][0]);this.setAttribute("y2",k1[k1.length-1][1]);this.setAttribute("class",v.axisLine+" "+"domain");this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize)})}if(u.gridline.visible&&i1===(Z.length-1)){for(i=0;i<j1.length;i++){G(y,g1+o1,k1[i][0],g1+o1+u.gridline.length,k1[i][0]);if((i===(j1.length-1))||(k1[i][1]!==k1[i+1][0])){G(y,g1+o1,k1[i][1],g1+o1+u.gridline.length,k1[i][1])}}G(y,g1+o1+u.gridline.length,k1[0][0],g1+o1+u.gridline.length,k1[i-1][1])}for(i=0;i<j1.length;i++){if(Z.length===1||(Z.length!==1&&!u.label.visible)){if(i>0&&(k1[i][0]!==k1[i-1][1])){z1=y.append("line");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",o1-g);this.setAttribute("x2",o1);this.setAttribute("y1",k1[i][0]);this.setAttribute("y2",k1[i][0]);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}if(i===0){z1=y.append("line");z1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",0);this.setAttribute("x2",o1);this.setAttribute("y1",k1[i][0]);this.setAttribute("y2",k1[i][0]);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}if(i!==(j1.length-1)){A1=y.append("line");A1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",o1-g);this.setAttribute("x2",o1);this.setAttribute("y1",k1[i][1]);this.setAttribute("y2",k1[i][1]);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}}if(Z.length>=2&&u.label.visible){if(l1.indexOf(k1[i][0])<0){if(i1<Z.length-1){w1=y.append("line");w1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",g1);this.setAttribute("x2",o1*Z.length-g1);this.setAttribute("y1",k1[i][0]);this.setAttribute("y2",k1[i][0]);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")});l1.push(k1[i][0])}else{w1=y.append("line");w1.each(function(){this.setAttribute("class",v.axisLine);this.setAttribute("x1",g1+o1-g);this.setAttribute("x2",g1+o1);this.setAttribute("y1",k1[i][0]);this.setAttribute("y2",k1[i][0]);this.setAttribute("stroke",u.color);this.setAttribute("stroke-width",u.lineSize);this.setAttribute("shape-rendering","crispEdges")})}}}}B1=Z[i1].labelsToDraw;for(i=0;i<B1.length;i++){C1=B1[i].custom;if(!(C1&&C1.type==='url')){D1=a.isExist(B1[i].text)?B1[i].text:'';if(u.label.visible){E1=y;var H1=1;var I1=g1+H1;var J1=u.forceLabelArea||B1[i].height>B1[i].rectHeight;var K1=E1.append("rect");if(J1){K1.each(function(){this.setAttribute("x",g1+n1-B1[i].width+f-H1);this.setAttribute("y",B1[i].y-B1[i].height/2-H1);this.setAttribute("width",B1[i].width+2*H1);this.setAttribute("height",B1[i].height+2*H1);this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}else{K1.each(function(){this.setAttribute("x",I1);this.setAttribute("y",B1[i].startY+H1);this.setAttribute("width",o1-H1);this.setAttribute("height",(B1[i].rectHeight-H1)<0?0:(B1[i].rectHeight-H1));this.setAttribute("opacity",0);this.setAttribute("class","v-labelarea")})}K1.node().labelContexts=B1[i].labelContexts;F1=E1.append("g");F1.each(function(){this.setAttribute("fill",t.defaultStyle.label.fill);this.setAttribute("class",w);this.setAttribute("font-size",t.defaultStyle.label['font-size']);this.setAttribute("font-weight",t.defaultStyle.label['font-weight']);this.setAttribute("font-family",t.defaultStyle.label['font-family'])});G1=F1.append("text").text(D1);G1.each(function(){this.setAttribute("pointer-events","none");this.setAttribute("x",g1+n1+f);this.setAttribute("y",B1[i].y);this.setAttribute("dominant-baseline","middle");this.setAttribute("text-anchor","end")});I(G1)}}}g1+=(n1+2*f)}}}H.spaceLimit=function(_){if(!arguments.length){return D}if(!s){D=_}return H};var I=function(i){if(U.isIE()){var Z=t.realStyle.label['font-size'].toString();var $=Z.indexOf("px");if($>=0){Z=Z.substr(0,$)}var y=i.attr("y");i.attr("y",Number(y)+Z/2);i.attr("dominant-baseline","auto")}};var J=function(i){var r;if(i.info){var y=i.info.customlabel;if(y){if(y.type==='url'){r=i.val}else if(y.type==='string'){r=y.val}}else{r=i.val}}else{r=i.val}if(r===''){r=' '}r=Y(r)?l.get('IDS_ISNOVALUE'):r;r=F.format(r,u.label.formatString);return r};var K=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var L=function(i,y){var Z='font-weight: '+t.realStyle.label['font-weight']+'; font-family: '+t.realStyle.label['font-family']+'; font-size: '+t.realStyle.label['font-size']+';';return T.ellipsis(i,undefined,y,Z)};var Q=function(y,Z,$,_,a1,b1){var c1=0;var d1=[];var i,e1;for(i=0;i<y.length;i++){e1={};e1.text=J(y[i]);e1.custom=K(y[i]);e1.labelContexts=y[i].labelContexts;if(_>=0){e1.text=L(e1.text,_-2*f)}var f1=X(e1.text,t.realStyle.label);var g1=b1?Z[i][0]+(Z[i][1]-Z[i][0])/2:Z[i][0]+h+f1.height/2;e1.width=f1.width;e1.height=f1.height;e1.startY=Z[i][0];e1.rectHeight=Z[i][1]-Z[i][0];e1.y=g1;e1.y1=g1-e1.height/2;e1.y2=g1+e1.height/2;e1.originalIndex=i;y[i].drawLabel=false;d1.push(e1);c1+=e1.rectHeight}var h1=[],i1,j1;if(u.label.hideStrategy!=='greedy'){var k1=d1.concat();for(i=k1.length-1;i>-1;--i){if(Z[0]&&Z.length&&(k1[i].y2>Z[Z.length-1][1]||k1[i].y1<Z[0][0])){k1.splice(i,1)}}for(j1=0;j1<=(k1.length-1);j1++){var l1=true;for(i=(k1.length-1);i>=0;i-=(j1+1)){e1=k1[i];if(i!==(k1.length-1)){i1=i+(j1+1);if(k1[i].y2>=k1[i1].y1){l1=false;break}}if(e1.height>c1){break}h1.push(e1);y[e1.originalIndex].drawLabel=true}if(l1){break}else{h1=[]}}}else{for(i1=j1=(d1.length-1);j1>=0;j1--){e1=d1[j1];if(i1===j1&&Z[j1][1]!==Z[j1][0]){if($&&e1.y1>Z[j1][0]&&e1.y2<Z[j1][1]){h1.push(e1);y[e1.originalIndex].drawLabel=true}else if(!$){if(e1.height<=c1){h1.push(e1);y[e1.originalIndex].drawLabel=true}}}else{if(e1.y2<=d1[i1].y1&&Z[j1][1]!==Z[j1][0]){if($){if(e1.y1>Z[j1][0]&&e1.y2<Z[j1][1]){h1.push(e1);y[e1.originalIndex].drawLabel=true;i1=j1}}else{h1.push(e1);y[e1.originalIndex].drawLabel=true;i1=j1}}}}for(i=h1.length-1;i>-1;--i){if(Z[0]&&Z.length&&(h1[i].y2>Z[Z.length-1][1]||h1[i].y1<Z[0][0])){y[h1[i].originalIndex].drawLabel=false;h1.splice(i,1)}}}return h1};H.mouseover=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",o)};H.mouseout=function(i){i.setAttribute("class","v-labelarea");i.setAttribute("opacity",0)};H.cleanLabelAreas=function(){if(e){e.selectAll(".v-labelarea").attr("class","v-labelarea").attr("opacity",0)}};H.setTitle=function(_){b=_;return H};H.mouseup=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow");i.setAttribute("fill",o)};H.mousedown=function(i){i.setAttribute("opacity",1);i.setAttribute("class","v-labelarea v-hovershadow-mousedown");i.setAttribute("fill",p)};H.position=function(_){if(!arguments.length){return c}c=_;return H};H.properties=function(_){if(arguments.length===0){return u}u=O.extend(true,u,_);return H};H.style=function(_){if(arguments.length===0){return t}t=O.extend(true,t,_);return H};H.axScale=function(_){if(!arguments.length){return d}d=_;return H};H.getPreferredSize=function(){var y=E();var Z=0;var $=0;var _=[];var a1=0;for(var i=0;i<y.length;i++){if(!u.label.visible&&i!==(y.length-1)){continue}var b1=y[i].domain;var c1=y[i].range;if(b1.length===0||c1.length===0){continue}if(c==="left"||c==="right"){var d1=0;if(u.label.visible){var e1;if(i===0){e1=V(b1,c1,true);a1=e1.minTruncateSize}else{e1=V(b1,c1)}d1+=e1.maxLabelTextWidth}d1=d1>0?d1+2*f:d1;Z+=d1;_.push(d1);$=Math.abs(c1[c1.length-1][1]-c1[0][0])+j}}if(D>=0){var f1=_;var g1=D;var h1=0;for(i=0;i<f1.length;i++){if(g1>=f1[i]){h1+=f1[i];g1-=f1[i];g1=N.precise(g1)}else{break}}if(h1===0&&f1.length>0){if(a1&&a1+2*f<D){h1=D}else{h1+=f1[0]}}if(c==="left"||c==="right"){Z=h1}}if(!u.isTruncateAvailable){a1=0}else if(a1>0){a1+=2*f}return{width:Z,height:$,spacings:_,minTruncateSize:a1}};H.matrix=function(_){if(!arguments.length){return x}x=_;return H};H.labelAngle=function(_){if(!arguments.length){return z}z=_;return H};H.tickAngle=function(_){if(!arguments.length){return C}C=_;return H};H.angle=function(_){if(!arguments.length){return B}B=_;return H};H.labelAlign=function(_){if(!arguments.length){return A}A=_;return H};H.destroy=function(){e=null;d=null};var R=function(y,Z,$,_){var a1=[];var b1=[];var c1=false;var d1=0;for(var i=0;i<y.length;i++){var e1=0;var f1=0;if(y[i].drawLabel||$){var g1=J(y[i]);var h1=X(g1,t.realStyle.label);e1=h1.height;f1=h1.width;var i1=Z[i][1]-Z[i][0];if(_){var j1;if(g1.length>3){j1=X(g1.slice(0,3).concat('...'),t.realStyle.label).width;j1=j1>h1.width?h1.width:j1}else{j1=h1.width}d1=j1>d1?j1:d1}if((e1<f1)&&i1!==0&&f1>i1){if(c==="top"||c==="bottom"){c1=true}}}a1.push(e1);b1.push(f1)}return{'heights':a1,'widths':b1,'isVerticalFont':c1,'minTruncateSize':d1}};var S=function(y,Z,$,_){var re={"maxLabelTextHeight":0,"isVertical":false};var b1=0;var c1=false;var d1=R(y,Z,$,_);c1=u.forceVerticalFont===true?true:d1.isVerticalFont;for(var i=0;i<y.length;i++){if(y[i].drawLabel||$){if(c1){if(b1<d1.widths[i]){b1=d1.widths[i]}}else{if(b1<d1.heights[i]){b1=d1.heights[i]}}}}re.maxLabelTextHeight=b1;re.isVertical=c1;re.minTruncateSize=re.isVertical?d1.minTruncateSize:-1;return re};var V=function(y,Z,$){var _={"maxLabelTextWidth":0,"isVertical":false};var a1=0;var b1=false;var c1=R(y,Z,undefined,$);b1=u.forceVerticalFont===true?true:c1.isVerticalFont;for(var i=0;i<y.length;i++){if(y[i].drawLabel){if(b1){if(a1<c1.heights[i]){a1=c1.heights[i]}}else{if(a1<c1.widths[i]){a1=c1.widths[i]}}}}_.maxLabelTextWidth=a1;_.isVertical=b1;_.minTruncateSize=c1.minTruncateSize;return _};var W=function(y,Z){var $=0,_=0;for(var i=0;i<y.length;i++){var a1=X(y[i].text,t.realStyle.label);$=a1.width>$?a1.width:$;_=a1.height>_?a1.height:_}return{maxWidth:Z?_:$,maxHeight:Z?$:_}};var X=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var Y=function(i){if(typeof(i)!=="string"&&N.isNoValue(i)){return true}return false};return H};return r});define('sap/viz/modules/axis/SimpleCategoryLeft',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleCategory','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleCategoryLeftCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleCategoryLeft',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleCategoryLeft','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(c,e){b.superclass.constructor.apply(this,arguments);this._multipleCategory_axisNumber=2;this._multipleCategory_className="v-multiCategory";this._multipleCategory_titleSelection=null};o.extend(b,S);b.prototype.render=function(s){var c=s;var r=b.prototype.scale().rangeBand();var e=b.prototype.scale().range();var h=r*e.length;var j=s.select("*");j.remove();s=s.append("svg");m=s;var k=this._axis_baseCategoryHelperModule;var l=k.size();s.attr('width',l.width).attr('height',l.height);s=s.append("g").attr("class",this._multipleCategory_className);var i;for(i=0;i<this._multipleCategory_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(0)+','+(i*h)+')');b.superclass.render.call(this,I,false)}b.prototype.titleRender(c);return this};b.prototype.getTitleSelection=function(c){var t="v-multipleCategoryLeftAxisTitle";var e=c.node();var p=e.parentNode;var h=d3.select(p).select("."+t);if(h.empty()){h=d3.select(p).append("div");h.attr("class",t)}return h};b.prototype.titleRender=function(c){var t=b.prototype.getTitleSelection(c);a=t;t.select("*").remove();var e=b.prototype.title()+"";var h=b.superclass.style.call(this);var p=b.prototype.getPreferredSize();var j=p.spacings;var k=95;var l=t.node().style;l.width=c.node().style.width;l.position=c.node().style.position;l.overflow="hidden";l.height=k/2+"px";var s=c.node().style.left;var n=parseInt(c.node().style.top,10)-k/2+"px";s=parseFloat(s.substring(0,s.length-2));l.left=(s)+"px";l.top=n;t=t.append("svg");var q=b.prototype.title();var r=2;var i;var u=0;for(i=0;i<q.length;i++){var v=g(h,q[i],j?j[i]-2*r:0);t.append("g").attr("fill",h.defaultStyle.title.fill).attr("font-size",h.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",h.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",u+r).attr("y",15*r).attr("dominant-baseline","middle").attr("text-anchor","start").text(v);u+=j?j[i]:0}};var g=function(_,t,l){var s='font-weight: '+_.realStyle.label['font-weight']+'; font-family: '+_.realStyle.label['font-family']+'; font-size: '+_.realStyle.label['font-size']+';';return T.ellipsis(t,undefined,l,s)};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleCategory_axisNumber}this._multipleCategory_axisNumber=_;return this};b.prototype.height=function(_){if(_){b.superclass.height.call(this,_/this._multipleCategory_axisNumber);return this}else{var c=b.superclass.height.apply(this,arguments);return c*this._multipleCategory_axisNumber}};b.prototype.getPreferredSize=function(){var p=b.superclass.getPreferredSize.apply(this);if(p&&p.spacings&&p.spacings.length>1){p.spacings.splice(0,1)}return p};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleCategory_axisNumber;b.superclass.height.call(this,_);return this}else{var c=b.superclass.height.apply(this,arguments);c.height*=this._multipleCategory_axisNumber;return c}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var c=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);c.push(i)}});if(c.length>0){r.push({"name":'yAxis title',"bound":c})}var e=m.node().parentNode.getBoundingClientRect();if(e.width>1.5&&e.height>1.5){var h=[[]];h[0].push([e.left,e.top]);h[0].push([e.right,e.top]);h[0].push([e.right,e.bottom]);h[0].push([e.left,e.bottom]);r.push({"name":'yAxis',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};var f=function(_,c){return T.superFastMeasure(_,c['font-size'],c['font-weight'],c['font-family'])};return b});define('sap/viz/modules/manifests/axis/MultipleCategoryLeft',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleCategoryLeft'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleCategoryLeft','type':C.Type.Supplementary,'name':'MultipleCategoryLeft','base':"sap.viz.modules.axis.TrellisAxis",'properties':{'color':{'name':'color','supportedValueType':'String','defaultValue':'#dddddd','description':'Set the color of the axis line.','isExported':true,},},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/modules/layout/trellis/horizontal',['sap/viz/base/utils/TypeUtils','sap/viz/modules/layout/trellis/trellislayout'],function Setup(T,l){return function(){function h(m,a,s,b,w,c,r,d){var t={},e={},x={},f={},y={},g={},i={},j={vertical:false,horizontal:false},k=l.getScrollbarSize(b),v={width:w-k,height:c-k};var n=a.rowData.getAnalysisAxisDataByIdx(0);var o=a.columnData.getAnalysisAxisDataByIdx(0);var q=a.dataHandler.getSubDataAdapter(a.contexts[0][0]).getMeasureValuesGroupDataByIdx(1);var u=0;if(m.xAxis2){u=1}var z=(o.values.length+u)>0?o.values.length:1;t.pref={width:0,height:(z>3?3:z)*l.FIXEDCOLUMNHEIGHT};t.size={width:0,height:(z>3?3:z)*l.FIXEDCOLUMNHEIGHT};e.pref={width:n.values.length*l.FIXEDROWWIDTH,height:0};e.size={width:(n.values.length>3?3:n.values.length)*l.FIXEDROWWIDTH,height:0};x.pref={width:0,height:(s.xAxis2&&q||!s.xAxis2)?l.FIXEDCOLUMNHEIGHT:0};x.size={width:0,height:(s.xAxis2&&q||!s.xAxis2)?l.FIXEDCOLUMNHEIGHT:0};f.pref={width:0,height:s.xAxis2?l.FIXEDCOLUMNHEIGHT:0};f.size={width:0,height:s.xAxis2?l.FIXEDCOLUMNHEIGHT:0};g.size={width:0,height:v.height-t.size.height-x.size.height-f.size.height};if(l.MINPLOTHEIGHT*r<=g.size.height){i.height=g.size.height/r}else{var A=Math.floor(g.size.height/l.MINPLOTHEIGHT);i.height=g.size.height/(A>0?A:1);j.vertical=true}g.pref={width:0,height:i.height*r};y.pref={width:0,height:g.pref.height};y.size={width:0,height:g.size.height};m.plot.cellSize({width:i.width,height:i.height});m.xAxis.axisnumber(d);m.yAxis.axisnumber(r);if(m.xAxis2){m.xAxis2.axisnumber(d)}var p=m.yAxis.getPreferredSize();if(p.spacings&&p.spacings.length>2){y.size.width=p.spacings[0]+p.spacings[1];y.pref.width=p.width}else{y.size.width=p.width?p.width:0;y.pref.width=y.size.width}g.size.width=v.width-e.size.width-y.size.width;if(l.MINPLOTWIDTH*d<=g.size.width){i.width=g.size.width/d}else{var B=Math.floor(g.size.width/l.MINPLOTWIDTH);i.width=g.size.width/(B>0?B:1);j.horizontal=true}g.pref.width=i.width*d;m.plot.cellSize({width:i.width,height:i.height});t.pref.width=g.pref.width;t.size.width=g.size.width;e.size.height=g.size.height;e.pref.height=y.pref.height;x.pref.width=g.pref.width;x.size.width=g.size.width;f.pref.width=g.pref.width;f.size.width=g.size.width;if(j.vertical){g.size.width+=k}if(j.horizontal){x.size.height+=k}var C=0,D=0,E=0;if(e.size){C+=e.size.width}if(y.size){C+=y.size.width}if(t.size){D+=t.size.height}if(x.size){E+=x.size.height}if(f.size){D+=f.size.height}t.pos={left:C,top:0};e.pos={left:0,top:D};x.pos={left:C,top:D+e.size.height};f.pos={left:C,top:t.size.height};y.pos={left:e.size.width,top:D};g.pos={left:C,top:D};var F={trellisXAxis:t,trellisYAxis:e,xAxis:x,xAxis2:f,yAxis:y,plot:g,scrollable:j,scrollsize:k};s.trellisXAxis.style('position','absolute').style('overflow','hidden').style('width',t.size.width+'px').style('height',t.size.height+'px').style('left',t.pos.left+'px').style('top',t.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd');s.trellisYAxis.style('position','absolute').style('overflow','hidden').style('width',e.size.width+'px').style('height',e.size.height+'px').style('left',e.pos.left+'px').style('top',e.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.xAxis.style('position','absolute').style('overflow-y','hidden').style('overflow-x',j.horizontal?'auto':'hidden').style('width',x.size.width+'px').style('height',x.size.height+'px').style('left',x.pos.left+'px').style('top',x.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd');if(s.xAxis2&&f.size.height>0){s.xAxis2.style('position','absolute').style('overflow','hidden').style('width',f.size.width+'px').style('height',f.size.height+'px').style('left',f.pos.left+'px').style('top',f.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd')}else{s.trellisXAxis.style('border-bottom','1px solid #dddddd')}s.yAxis.style('position','absolute').style('overflow-x','hidden').style('overflow-y','hidden').style('width',y.size.width+'px').style('height',y.size.height+'px').style('left',y.pos.left+'px').style('top',y.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.plot.style('position','absolute').style('overflow-x','hidden').style('overflow-y',j.vertical?'auto':'hidden').style('width',g.size.width+'px').style('height',g.size.height+'px').style('left',g.pos.left+'px').style('top',g.pos.top+'px').style('border-right','1px solid #dddddd');l.place(s,m,F);s.xAxis.node().onscroll=function(){var G=s.xAxis.node().scrollLeft;if(G>x.pref.width-x.size.width){G=x.pref.width-x.size.width}s.xAxis.node().scrollLeft=s.trellisXAxis.node().scrollLeft=s.plot.node().scrollLeft=G;if(s.xAxis2){s.xAxis2.node().scrollLeft=G}m.plot.scrollLeft(G)};s.plot.node().onscroll=function(){var G=s.plot.node().scrollTop;if(G>g.pref.height-g.size.height){G=g.pref.height-g.size.height}s.plot.node().scrollTop=s.trellisYAxis.node().scrollTop=s.yAxis.node().scrollTop=G;m.plot.scrollTop(G)};return F}return h}});define('sap/viz/modules/manifests/layout/trellis/Horizontal',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/trellis/horizontal','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.trellis.horizontal",'name':"trellis_horizontal",'base':"sap.viz.modules.layout.base",'description':"The trellis horizontal layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/trellis/TrellisBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/BaseTrellisChart','sap/viz/chart/elements/manifests/controller/TrellisInteraction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/axis/MultipleCategoryLeft','sap/viz/modules/manifests/xy/Bar','sap/viz/modules/manifests/layout/trellis/Horizontal'],function Setup(M,B,I,T,D,a,b,A,c,d,e,H){var t={id:'viz/trellis_bar',name:'IDS_TRELLISBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/base/trellis',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_horizontal',orientation:'left'}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},legends:{modules:{legend:{data:{aa:[3]}}}},main:{modules:{layout:{id:'sap.viz.modules.layout.trellis.horizontal'},yAxis:{id:'sap.viz.modules.axis.MultipleCategoryLeft',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}}}},xAxis:{id:'sap.viz.modules.axis.MultipleValueBottom',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:true}}}},plot:{modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'horizontal',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'right'}}},plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{isRoundCorner:{isExported:false},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(B.viz),module:[].concat(B.module,I.module,T.module,D.module,a.module,b.module,A.module,c.module,d.module,e.module,H.module),feeds:[].concat(B.feeds,I.feeds,T.feeds,D.feeds,a.feeds,b.feeds,A.feeds,c.feeds,d.feeds,e.feeds,H.feeds)};return m});define('sap/viz/impls/TrellisBarChart',['sap/viz/manifests/trellis/TrellisBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisScatterChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/BaseTrellisChart','sap/viz/chart/elements/manifests/controller/TrellisInteraction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/Scatter','sap/viz/modules/manifests/layout/trellis/Horizontal'],function Setup(M,B,I,T,D,a,A,b,c,S,H){var t={id:'viz/trellis_scatter',name:'IDS_TRELLISSCATTERCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/base/trellis',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'scatter',orientation:'left'}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'plota',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:'BubbleColorLegend'},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false}}}}}},main:{id:'sap.viz.modules.trelliscontainer',configure:{propertyCategory:'multiLayout',properties:{mergeDataRange:['valueAxis1','valueAxis2'],layout:{position:'center',priority:1}}},modules:{layout:{id:'sap.viz.modules.layout.trellis.horizontal'},xAxis:{id:'sap.viz.modules.axis.MultipleValueBottom',data:null,configure:{'description':'Settings for the x axis of a normal bubble or scatter plot',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:true}}}},yAxis:{id:'sap.viz.modules.axis.MultipleValueLeft',data:{aa:[1]},configure:{'description':'Settings for the y axis of a normal bubble or scatter plot',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:false}}}},plot:{modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:false,orientation:'vertical',position:'outside',outsideVisible:true}}},plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{axisTooltip:{visible:false},animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'},{targetModule:'root.main',target:'valueAxis1DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main',source:'valueAxis1DataRange'},{targetModule:'root.main',target:'valueAxis2DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main',source:'valueAxis2DataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis1Scale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis1Title'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis2Scale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis2Title'},{targetModule:'root.main.plot.plot',target:'setXAxisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setYAxisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(B.viz),module:[].concat(B.module,I.module,T.module,D.module,a.module,A.module,b.module,c.module,S.module,H.module),feeds:[].concat(B.feeds,I.feeds,T.feeds,D.feeds,a.feeds,A.feeds,b.feeds,c.feeds,S.feeds,H.feeds)};return m});define('sap/viz/manifests/trellis/TrellisBubbleChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisScatterChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/Bubble','sap/viz/modules/manifests/layout/trellis/Horizontal'],function Setup(M,T,a,D,b,B,H){var t={id:'viz/trellis_bubble',name:'IDS_TRELLISBUBBLECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_scatter',modules:{root:{modules:{legends:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:'BubbleColorLegend',layout:{order:1}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false}}}},sizeLegend:{id:'sap.viz.modules.legend.common',configure:{description:'Settings for the size legend.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend',layout:{order:0}},propertiesOverride:{isHierarchical:{isExported:false},isScrollable:{isExported:false}}}}}},main:{id:'sap.viz.modules.trelliscontainer',configure:{propertyCategory:'multiLayout',properties:{mergeDataRange:['valueAxis1','valueAxis2','bubbleWidth','bubbleHeight']}},modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:true,position:'inside'}}},plot:{id:'sap.viz.modules.bubble',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{axisTooltip:{visible:false},animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapes'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'},{targetModule:'root.main',target:'valueAxis1DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis1DataRange',sourceModule:'root.main',source:'valueAxis1DataRange'},{targetModule:'root.main',target:'valueAxis2DataRange',sourceModule:'root.main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'root.main.plot.plot',target:'valueAxis2DataRange',sourceModule:'root.main',source:'valueAxis2DataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis1Scale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis1Title'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'valueAxis2Scale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'valueAxis2Title'},{targetModule:'root.main.plot.plot',target:'setXAxisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setYAxisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main',target:'bubbleWidthDataRange',sourceModule:'root.main.plot.plot',source:'bubbleWidthDataRange'},{targetModule:'root.main.plot.plot',target:'bubbleWidthDataRange',sourceModule:'root.main',source:'bubbleWidthDataRange'},{targetModule:'root.main',target:'bubbleHeightDataRange',sourceModule:'root.main.plot.plot',source:'bubbleHeightDataRange'},{targetModule:'root.main.plot.plot',target:'bubbleHeightDataRange',sourceModule:'root.main',source:'bubbleHeightDataRange'},{targetModule:'root.legends.sizeLegend',target:'sizeLegendInfo',sourceModule:'root.main.plot.plot',source:'sizeLegend'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,D.module,b.module,B.module,H.module),feeds:[].concat(T.feeds,a.feeds,D.feeds,b.feeds,B.feeds,H.feeds)};return m});define('sap/viz/impls/TrellisBubbleChart',['sap/viz/manifests/trellis/TrellisBubbleChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/BaseTrellisChart','sap/viz/chart/elements/manifests/controller/Interaction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/axis/MultipleCategoryBottom','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/modules/manifests/layout/trellis/Vertical'],function Setup(M,B,I,T,D,a,b,A,c,d,V,e){var t={id:'viz/trellis_column',name:'IDS_TRELLISCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/base/trellis',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_vertical',orientation:'left'}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true}}},legends:{modules:{legend:{data:{aa:[3]}}}},main:{modules:{layout:{id:'sap.viz.modules.layout.trellis.vertical'},xAxis:{id:'sap.viz.modules.axis.MultipleCategoryBottom',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis.MultipleValueLeft',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:true}}}},plot:{modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{isRoundCorner:{isExported:false},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(B.viz),module:[].concat(B.module,I.module,T.module,D.module,a.module,b.module,A.module,c.module,d.module,V.module,e.module),feeds:[].concat(B.feeds,I.feeds,T.feeds,D.feeds,a.feeds,b.feeds,A.feeds,c.feeds,d.feeds,V.feeds,e.feeds)};return m});define('sap/viz/impls/TrellisColumnChart',['sap/viz/manifests/trellis/TrellisColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/layout/trellis/withoutaxis',['sap/viz/base/utils/TypeUtils','sap/viz/modules/layout/trellis/trellislayout'],function Setup(T,l){return function(){function w(m,a,s,p,b,h,r,c){var t={},d={},e={},f={},g={vertical:false,horizontal:false},i=l.getScrollbarSize(p),v={width:b-i,height:h-i};var j=a.rowData.getAnalysisAxisDataByIdx(0);var k=a.columnData.getAnalysisAxisDataByIdx(0);var n=a.dataHandler.getSubDataAdapter(a.contexts[0][0]).getAnalysisAxisDataByIdx(0);var o=k.values.length>0?k.values.length:1;t.pref={width:0,height:(o>3?3:o)*l.FIXEDCOLUMNHEIGHT};t.size={width:0,height:(o>3?3:o)*l.FIXEDCOLUMNHEIGHT};d.pref={width:j.values.length*l.FIXEDROWWIDTH,height:0};d.size={width:(j.values.length>3?3:j.values.length)*l.FIXEDROWWIDTH,height:0};e.size={width:0,height:v.height-t.size.height};if(l.MINPLOTHEIGHT*r<=e.size.height){f.height=e.size.height/r}else{var q=Math.floor(e.size.height/l.MINPLOTHEIGHT);f.height=e.size.height/(q>0?q:1);g.vertical=true}e.pref={width:0,height:f.height*r};m.plot.cellSize({width:f.width,height:f.height});e.size.width=v.width-d.size.width;if(l.MINPLOTWIDTH*c<=e.size.width){f.width=e.size.width/c}else{var u=Math.floor(e.size.width/l.MINPLOTWIDTH);f.width=e.size.width/(u>0?u:1);g.horizontal=true}e.pref.width=f.width*c;m.plot.cellSize({width:f.width,height:f.height});t.pref.width=e.pref.width;t.size.width=e.size.width;d.size.height=e.size.height;d.pref.height=e.pref.height;if(g.vertical){e.size.width+=i}if(g.horizontal){e.size.height+=i}var x={width:0,height:0},y={width:0,height:0},z={width:0,height:0};if(d.size){x.width+=d.size.width}if(t.size){y.height+=t.size.height}t.pos={left:x.width,top:0};d.pos={left:0,top:y.height};e.pos={left:d.size.width,top:t.size.height};var A={trellisXAxis:t,trellisYAxis:d,plot:e,scrollable:g,scrollsize:i};s.trellisXAxis.style('position','absolute').style('overflow','hidden').style('width',t.size.width+'px').style('height',t.size.height+'px').style('left',t.pos.left+'px').style('top',t.pos.top+'px').style('border-right','1px solid #dddddd').style('border-left','1px solid #dddddd');s.trellisYAxis.style('position','absolute').style('overflow','hidden').style('width',d.size.width+'px').style('height',d.size.height+'px').style('left',d.pos.left+'px').style('top',d.pos.top+'px').style('border-top','1px solid #dddddd').style('border-bottom','1px solid #dddddd');s.plot.style('position','absolute').style('overflow-x',g.horizontal?'auto':'hidden').style('overflow-y',g.vertical?'auto':'hidden').style('width',e.size.width+'px').style('height',e.size.height+'px').style('left',e.pos.left+'px').style('top',e.pos.top+'px').style('border','1px solid #dddddd');l.place(s,m,A);s.plot.node().onscroll=function(){var B=s.plot.node().scrollTop;var C=g.horizontal?e.size.height-i:e.size.height;if(B>e.pref.height-C){B=e.pref.height-C}s.plot.node().scrollTop=s.trellisYAxis.node().scrollTop=B;m.plot.scrollTop(B);var D=s.plot.node().scrollLeft;if(D>t.pref.width-t.size.width){D=t.pref.width-t.size.width}s.trellisXAxis.node().scrollLeft=s.plot.node().scrollLeft=D;m.plot.scrollLeft(D)};return A}return w}});define('sap/viz/modules/manifests/layout/trellis/Withoutaxis',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/trellis/withoutaxis','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.trellis.withoutaxis",'name':"trellis_withoutaxis",'base':"sap.viz.modules.layout.base",'description':"The trellis withoutaxis layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/trellis/TrellisPieChart',['sap/viz/manifests/Viz','sap/viz/data/feed/Constants','sap/viz/manifests/trellis/BaseTrellisChart','sap/viz/chart/elements/manifests/controller/TrellisInteraction','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/XYContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/Pie','sap/viz/modules/manifests/layout/trellis/Withoutaxis'],function Setup(M,c,B,I,D,a,T,b,X,A,P,W){var t={id:'viz/trellis_pie',name:'IDS_TRELLISPIECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/base/trellis',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'scatter',orientation:'left'}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'plota',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart'],holdSelection:true}}},legends:{modules:{legend:{data:{aa:[2]}}}},main:{modules:{layout:{id:'sap.viz.modules.layout.trellis.withoutaxis'},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'polarCoordinate',visible:false,type:'label and value',formatString:[['0.00%'],[]],automaticInOutside:false,outsideVisible:true},propertiesOverride:{position:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background'}},plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{valign:"center",animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:c.Constraints.INF}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(B.viz),module:[].concat(B.module,I.module,b.module,D.module,a.module,T.module,X.module,A.module,P.module,W.module),feeds:[].concat(B.feeds,I.feeds,D.feeds,a.feeds,T.feeds,X.feeds,A.feeds,P.feeds,W.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDonutChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisPieChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/Pie'],function Setup(M,T,D,P){var t={id:'viz/trellis_donut',name:'IDS_TRELLISDONUTCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_pie',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isDonut:true}}},plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{isDonut:true}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,P.module),feeds:[].concat(T.feeds,D.feeds,P.feeds)};return m});define('sap/viz/impls/TrellisDonutChart',['sap/viz/manifests/trellis/TrellisDonutChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/axis/simpleValueTopCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,P,m,U){var r=function(){var a;var b;var c=null;var d=5;var e=6;var f=7;var g=1;var h="#6c6c6c";var j="#d8d8d8";var k="#ffffff";var l="#333333";var n="viz-axis-label";var o=null;var p={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":h,"axisline":{"visible":true},"shapeRendering":true};var s={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var t=s.axisLabel+' '+n+' '+s.morphableLabel;var u=m(),v=null,w=null,x=null,z=null;var A=-1;B.spaceLimit=function(_){if(!arguments.length)return A;A=_;return B};function B(y){var Q=c.range();var R=c.domain();if(Q[0]==0&&Q[1]==0){return}var S=H();if(a=="top"){var V=0;if(p.label.visible){var W=[];for(var i=0;i<S.length;i++){W.push(S[i].text)}V=I(W)}if((A!=-1)&&(V+d+2*e+g/2>A)){S=[];V=0}var X=1;if(p.label.visible){X=2}for(var i=0;i<S.length;i++){var Y=y.append("line").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("x1",c(S[i].value)).attr("x2",c(S[i].value)).attr("y1",V+X*e).attr("y2",V+X*e+d).attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges");var Z=function(){var a1=y.append("line").attr("class",s.gridLine).attr("x1",c(S[i].value)).attr("x2",c(S[i].value)).attr("y1",V+d+X*e).attr("y2",V+d+X*e+p.gridline.length).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size);if(p.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(p.gridline.type=="incised"){var a1=y.append("line").attr("class",s.incisedGridLine).attr("x1",c(S[i].value)-1).attr("x2",c(S[i].value)-1).attr("y1",V+d+X*e).attr("y2",V+d+X*e+p.gridline.length).attr("stroke",k).attr("stroke-width",p.gridline.size)}};if(i==0&&p.gridline.showFirstLine){Z()}else if(i==(S.length-1)&&p.gridline.showLastLine){Z()}else if((i!=(S.length-1))&&(i!=0)&&p.gridline.visible){Z()}}if(p.label.visible){E(y,"top",S,V)}if(p.axisline.visible){var $=Q[0];var _=Q[1];var y1=V+d+X*e;var y2=V+d+X*e;var c1="M"+$+" "+y1;c1+="L"+_+" "+y2;var d1=y.append("path").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("d",c1).attr("fill","none").attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges")}}};var C=function(i){if(U.isIE()){var Q=o.realStyle.label['font-size'].toString();var R=Q.indexOf("px");if(R>=0){Q=Q.substr(0,R)}var y=i.attr("y");i.attr("y",Number(y)+Q/2);i.attr("dominant-baseline","auto")}};B.matrix=function(_){if(!arguments.length){return u}u=_;return B};B.labelAngle=function(_){if(!arguments.length){return v}v=_;return B};B.tickAngle=function(_){if(!arguments.length){return z}z=_;return B};B.angle=function(_){if(!arguments.length){return x}x=_;return B};B.labelAlign=function(_){if(!arguments.length){return w}w=_;return B};B.position=function(_){if(!arguments.length)return a;a=_;return B};B.style=function(_){if(arguments.length==0)return o;o=O.extend(true,o,_);return B};B.properties=function(_){if(arguments.length==0)return p;p=L(p,_);return B};B.axScale=function(_){if(!arguments.length)return c;c=_;return B};B.startPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[0].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.setTitle=function(_){b=_;return B};B.endPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[i.length-1].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.getPreferredSize=function(){var y=c.domain();var Q=c.range();var R=0;var S=0;var V=[];if(!(Q[0]==0&&Q[1]==0)){var W=Math.abs(Q[0]-Q[1]);if(a=="bottom"||a=="top"){R=W+g;if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}S=I(Y)+d+2*e+g/2}else{S=d+e+g/2}V.push(S)}else if(a=="left"||a=="right"){if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}if(K(Y[0],o.realStyle.label).height>W){R=d+2*e}else{R=J(Y)+d+2*e+g/2;}}else{R=d+e+g/2}V.push(R);S=W+g}}return{width:R,height:S,spacings:V,}};B.destroy=function(){m_selection=null;c=null};var D=function(y,Q){if(y.length>0){if(c(y[0].value)>c(y[y.length-1].value)){y.reverse()}}var R=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var S={};S.value=y[i].value;S.text=y[i].text;var V=K(S.text,o.realStyle.label);var W=c(S.value);if(Q=='left'||Q=='right'){S.start=W-V.height/2;S.end=W+V.height/2}else{S.start=W-V.width/2;S.end=W+V.width/2}R.push(S)}}var X=[];X=F(R);return X};var E=function(y,Q,R,S){if(R.length==0){return}var V=D(R,Q);for(var i=0;i<V.length;i++){if(x){var W=x*Math.PI/180;var X=Math.cos(W);var Y=(45===x)?X:Math.sin(W);var Z=z*Math.PI/180;var $=Math.cos(Z);var _=Math.sin(Z);var a1=c(V[i].value)*Y;tickStartY=-c(V[i].value)*X;var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append('text').attr('x',a1+(e+d)*$).attr('y',tickStartY+(e+d)*_).attr("dominant-baseline","middle").attr("text-anchor",'start').text(V[i].text);if(z>90){b1.attr("text-anchor",'end').attr('transform','rotate( '+(z-180)+' '+b1.attr("x")+' '+b1.attr("y")+')')}else{b1.attr('transform','rotate( '+(z)+' '+b1.attr("x")+' '+b1.attr("y")+')')}}else{var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",c(V[i].value)).attr("y",e+d).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(V[i].text);b1.attr("dominant-baseline","auto");b1.attr("y",S+e)}}};var F=function(y){var Q=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var R=[];var S=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){R.push(y[i])}if(y[i].value>=0){S.push(y[i])}}var V;var W=R.length;if(R[0].value<=R[W-1].value){V=R[0]}else{V=R[W-1]}var X;var Y=S.length;if(S[0].value<=S[Y-1].value){X=S[Y-1]}else{X=S[0]}R=G(R);S=G(S);if(R[0].value>R[R.length-1].value){R.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(R[R.length-1].value==0&&S[0].value==0){R.pop()}var Z=R.concat(S);if(V.value!==Z[0].value){Z.splice(0,0,V)}if(X.value!==Z[Z.length-1].value){Z.push(X)}if(Z[0].start>Z[Z.length-1].start){Z.reverse()}Q=G(Z)}else{Q=G(y)}}if(Q.length<=1){Q=[]}return Q};var G=function(y){var Q=[];for(var R=0;R<=(y.length-1);R++){var S=true;for(var i=0;i<y.length-1;i+=(R+1)){var V=y[i];if(i!=0){var W=Q[Q.length-1];if(y[i].start<=W.end){if(Q.length>1){S=false;break}}else{Q.push(V)}}else{Q.push(V)}}var X=y[y.length-1];if(X.start<Q[Q.length-1].end){Q.pop()}Q.push(X);if(S){break}else{Q=[]}}return Q};var H=function(){var y=c.domain();var Q=f;if(c.tickHint){Q=c.tickHint}var R=c.ticks(Q);var S=true;for(var i=0;i<R.length;i++){R[i]=N.precise(R[i],S)}var V=[];for(var i=0;i<R.length;i++){var W={};W.value=R[i];if(p.isPercentMode){W.text=N.precise(R[i]*100).toString()}else{W.text=N.precise(R[i]).toString()}V.push(W)}if(p.label){if(!p.label.formatString&&p.label.numberFormat){for(var i=0;i<R.length;i++){var X=d3.format(p.label.numberFormat);V[i].text=(X(R[i]))}}else if(p.label.formatString){if(!(p.isPercentMode&&p.label.formatString.indexOf('u')>=0)){var Y=p.label.formatString;for(var i=0;i<R.length;i++){V[i].text=(N.format(R[i],Y))}}}}return V};var I=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).width}else{S=K(y[i],o.realStyle.label).height}if(R<S){R=S}}return R};var J=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).height}else{S=K(y[i],o.realStyle.label).width}if(R<S){R=S}}return R};var K=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var L=function(i,y){for(var Q in y){if(typeof(y[Q])==="object"){if(i[Q]){i[Q]=L(i[Q],y[Q])}else{i[Q]=y[Q]}}else{i[Q]=y[Q]}}return i};return B};return r});define('sap/viz/modules/axis/SimpleValueTop',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValue','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleValueTopCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleValueTop',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValueTop','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(c,e){b.superclass.constructor.apply(this,arguments);this._multipleValue_axisNumber=3;this._multipleValue_className="v-multiValue";this._multipleValue_axisGap={};this._multipleValue_titleText="";this._multipleValue_titleContainer=[]};o.extend(b,S);b.prototype.data=function(_){if(_){this._multipleValue_axisGap={};return b.superclass.data(_)}return b.superclass.data()};b.prototype.getAxisGap=function(){if(!this._multipleValue_axisGap.startGap){var c=b.superclass.style.call(this);var i=this.properties().isPercentMode;var e=this.scale().domain();var h=(i?e[0]*100:e[0])+"";var l=(i?e[e.length-1]*100:e[e.length-1])+"";this._multipleValue_axisGap.startGap=0;var s=f(h,c.realStyle.label).width;this._multipleValue_axisGap.endGap=0;var j=f(l,c.realStyle.label).width;this._multipleValue_axisGap.startGap=s*2/3;this._multipleValue_axisGap.endGap=j*2/3}return this._multipleValue_axisGap};b.prototype.render=function(s){var c=s;var r=this.scale().range();var e=Math.abs(r[r.length-1]-r[0]);var h=s.select("*");h.remove();var j=s.append("svg");m=j;var k=this._axis_baseValueHelperModule.size();j.attr('width',k.width).attr('height',k.height);s=j.append("g").attr("class",this._multipleValue_className);var t=this._multipleValue_axisNumber+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var l=parseFloat(p.height);var n=b.superclass.style.call(this);var q=45;if((l>0)&&(q>l)){s.attr("transform",'translate(0, '+(q-l)+')')}var i;var u=this.properties();for(i=0;i<this._multipleValue_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(i*e)+','+(0)+')');b.superclass.render.call(this,I,false);if(i>0){j.append('line').attr("x1",i*e).attr("x2",i*e).attr("y1",0).attr("y2",k.height).attr("stroke",u.gridline.color).attr("stroke-width",u.gridline.size).attr("shape-rendering","crispEdges")}}b.prototype.titleRender(this,c);this._multipleValue_titleContainer=[];return this};b.prototype.titleRender=function(c,e){var t="v-multipleValueTopAxisTitle";var h=e.node();var p=h.parentNode;var i=d3.select(p).select("."+t);if(i.empty()){i=d3.select(p).append("div");i.attr("class",t)}a=i;i.select("*").remove();var j=c._multipleValue_titleText+"";var k=b.superclass.style.call(this);var l=f(j,k.realStyle.title).width;var n=c._multipleValue_titleText;var q=95;var r=i.node().style;r.position=h.style.position;r.overflow="visible";r.height=q/2+"px";var s=10;var u=parseInt(h.style.width,10);if(l>u-s){r.width=h.style.width;n=g(k.realStyle.title,n,u-s)}else{r.width=l*2+"px"}var v=h.style.left;var w=h.style.top;v=parseFloat(v.substring(0,v.length-2));w=parseFloat(w.substring(0,w.length-2));r.left=(v)+"px";r.top=(w)+"px";i=i.append("svg");var x=c.properties();var y=k.defaultStyle.title.fill;if(x&&x.color&&x.title.applyAxislineColor){y=x.color}i.append("g").attr("fill",y).attr("font-size",k.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",k.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",s).attr("y",0.6*45/2).attr("dominant-baseline","middle").attr("text-anchor","start").text(n)};b.prototype.title=function(_){if(_&&this._multipleValue_titleContainer.indexOf(_)<0){this._multipleValue_titleContainer.push(_);this._multipleValue_titleText=this._multipleValue_titleContainer.join(' & ')}};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleValue_axisNumber}this._multipleValue_axisNumber=_;return this};b.prototype.height=function(_){if(_){return b.superclass.height.call(this,_/this._multipleValue_axisNumber)}else{var c=b.superclass.height.apply(this,arguments);return c*this._multipleValue_axisNumber}};b.prototype.getPreferredSize=function(_){var t=this._multipleValue_titleText+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var c=parseFloat(p.width);var e=b.superclass.style.call(this);var h=f(t,e.realStyle.title).width;var i=c;if((c>0)&&(h>c)){i=h}if(i){p.width=i;p.realWidth=i;if(p.axisSpacings){p.axisSpacings[1]=i}}return p};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleValue_axisNumber;b.superclass.height.call(this,_);return this}else{var c=b.superclass.height.apply(this,arguments);c.height*=this._multipleValue_axisNumber;return c}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var c=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);c.push(i)}});if(c.length>0){r.push({"name":'xAxis2 title',"bound":c})}var e=m.node().parentNode.getBoundingClientRect();if(e.width>1.5&&e.height>1.5){var h=[[]];h[0].push([e.left,e.top]);h[0].push([e.right,e.top]);h[0].push([e.right,e.bottom]);h[0].push([e.left,e.bottom]);r.push({"name":'xAxis2',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};var f=function(_,c){return T.superFastMeasure(_,c['font-size'],c['font-weight'],c['font-family'])};var g=function(_,t,l){var s='font-weight: '+_['font-weight']+'; font-family: '+_['font-family']+'; font-size: '+_['font-size']+';';return T.ellipsis(t,undefined,l,s)};return b});define('sap/viz/modules/manifests/axis/MultipleValueTop',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleValueTop'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleValueTop','type':C.Type.Supplementary,'name':'MultipleValueTop','base':"sap.viz.modules.axis.TrellisAxis",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/trellis/TrellisDualBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisBarChart','sap/viz/modules/manifests/DivContainer','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/axis/MultipleValueTop','sap/viz/modules/manifests/axis/MultipleCategoryLeft','sap/viz/modules/manifests/xy/Bar','sap/viz/modules/manifests/layout/trellis/Horizontal'],function Setup(M,T,D,a,b,c,d,B,H){var t={id:'viz/trellis_dual_bar',name:'IDS_TRELLISDUALBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_bar',modules:{root:{modules:{main:{id:'sap.viz.modules.trelliscontainer',configure:{propertyCategory:'multiLayout',properties:{mergeDataRange:['primary','second'],layout:{position:'center',priority:1}}},modules:{xAxis:{configure:{properties:{title:{applyAxislineColor:true}}}},xAxis2:{id:'sap.viz.modules.axis.MultipleValueTop',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis2',properties:{type:'value',position:'top',gridline:{visible:false},title:{applyAxislineColor:true}}}},plot:{modules:{plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'secondScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.xAxis2',source:'getAxisGap'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.plot',source:'axisGap'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.xAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'}],events:[]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,a.module,b.module,c.module,d.module,B.module,H.module),feeds:[].concat(T.feeds,D.feeds,a.feeds,b.feeds,c.feeds,d.feeds,B.feeds,H.feeds)};return m});define('sap/viz/impls/TrellisDualBarChart',['sap/viz/manifests/trellis/TrellisDualBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/modules/axis/simpleValueRightCore',['jquery','sap/viz/modules/Constants','sap/viz/util/TextUtils','sap/viz/util/NumberUtils','sap/viz/base/utils/Objects','sap/viz/modules/threeD/Point','sap/viz/modules/threeD/matrix','sap/viz/base/UADetector'],function Setup(q,M,T,N,O,P,m,U){var r=function(){var a;var b;var c=null;var d=5;var e=6;var f=7;var g=1;var h="#6c6c6c";var j="#d8d8d8";var k="#ffffff";var l="#333333";var n="viz-axis-label";var o=null;var p={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":j,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":h,"axisline":{"visible":true},"shapeRendering":true};var s={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",axisLine:"v-valueaxisline",gridLine:"v-gridline",incisedGridLine:"v-incised-gridline",fixedAxisLine:"v-fixed-valueaxisline",morphableLabel:M.CSS.CLASS.MORPHABLELABEL};var t=s.axisLabel+' '+n+' '+s.morphableLabel;var u=m(),v=null,w=null,x=null,z=null;var A=-1;B.spaceLimit=function(_){if(!arguments.length)return A;A=_;return B};function B(y){var Q=c.range();var R=c.domain();if(Q[0]==0&&Q[1]==0){return}var S=H();if(a=="right"){S=D(S,a);if(p.label.visible){var V=[];for(var i=0;i<S.length;i++){V.push(S[i].text)}maxTextWidth=J(V)}if((A!=-1)&&(maxTextWidth+d+2*e+g/2>A)){S=[];maxTextWidth=0}for(var i=0;i<S.length;i++){var W=y.append("line").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("x1",0).attr("x2",d).attr("y1",c(S[i].value)).attr("y2",c(S[i].value)).attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges");var X=function(){var a1=y.append("line").attr("class",s.gridLine).attr("y1",c(S[i].value)).attr("y2",c(S[i].value)).attr("x1",-p.gridline.length).attr("x2",0).attr("stroke",p.gridline.color).attr("stroke-width",p.gridline.size);if(p.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(p.gridline.type=="incised"){var a1=y.append("line").attr("class",s.incisedGridLine).attr("y1",c(S[i].value)+1).attr("y2",c(S[i].value)+1).attr("x1",-p.gridline.length).attr("x2",0).attr("stroke",k).attr("stroke-width",p.gridline.size)}};if(i==0&&p.gridline.showFirstLine){X()}else if(i==(S.length-1)&&p.gridline.showLastLine){X()}else if((i!=(S.length-1))&&(i!=0)&&p.gridline.visible){X()}if(p.label.visible){var Y=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",d+e).attr("y",c(S[i].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(S[i].text);C(Y)}}if(p.axisline.visible){var Z=0;var $=0;var _=Q[0];var y2=Q[1];var b1="M"+Z+" "+_;b1+="L"+$+" "+y2;var c1=y.append("path").attr("class",p.isAxisColorFixed?s.fixedAxisLine:s.axisLine).attr("d",b1).attr("fill","none").attr("stroke",p.color).attr("stroke-width",p.lineSize).attr("shape-rendering","crispEdges")}}};var C=function(i){if(U.isIE()){var Q=o.realStyle.label['font-size'].toString();var R=Q.indexOf("px");if(R>=0){Q=Q.substr(0,R)}var y=i.attr("y");i.attr("y",Number(y)+Q/2);i.attr("dominant-baseline","auto")}};B.matrix=function(_){if(!arguments.length){return u}u=_;return B};B.labelAngle=function(_){if(!arguments.length){return v}v=_;return B};B.tickAngle=function(_){if(!arguments.length){return z}z=_;return B};B.angle=function(_){if(!arguments.length){return x}x=_;return B};B.labelAlign=function(_){if(!arguments.length){return w}w=_;return B};B.position=function(_){if(!arguments.length)return a;a=_;return B};B.style=function(_){if(arguments.length==0)return o;o=O.extend(true,o,_);return B};B.properties=function(_){if(arguments.length==0)return p;p=L(p,_);return B};B.axScale=function(_){if(!arguments.length)return c;c=_;return B};B.startPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[0].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.setTitle=function(_){b=_;return B};B.endPadding=function(){if(c){var i=D(H(),a);var y=0;if(i.length>0){y=K(i[i.length-1].text,o.realStyle.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};B.getPreferredSize=function(){var y=c.domain();var Q=c.range();var R=0;var S=0;var V=[];if(!(Q[0]==0&&Q[1]==0)){var W=Math.abs(Q[0]-Q[1]);if(a=="bottom"||a=="top"){R=W+g;if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}S=I(Y)+d+2*e+g/2}else{S=d+e+g/2}V.push(S)}else if(a=="left"||a=="right"){if(p.label.visible){var X=D(H(),a);var Y=[];for(var i=0;i<X.length;i++){Y.push(X[i].text)}if(K(Y[0],o.realStyle.label).height>W){R=d+2*e}else{R=J(Y)+d+2*e+g/2;}}else{R=d+e+g/2}V.push(R);S=W+g}}return{width:R,height:S,spacings:V,}};B.destroy=function(){m_selection=null;c=null};var D=function(y,Q){if(y.length>0){if(c(y[0].value)>c(y[y.length-1].value)){y.reverse()}}var R=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var S={};S.value=y[i].value;S.text=y[i].text;var V=K(S.text,o.realStyle.label);var W=c(S.value);if(Q=='left'||Q=='right'){S.start=W-V.height/2;S.end=W+V.height/2}else{S.start=W-V.width/2;S.end=W+V.width/2}R.push(S)}}var X=[];X=F(R);return X};var E=function(y,Q,R,S){if(R.length==0){return}var V=D(R,Q);for(var i=0;i<V.length;i++){if(x){var W=x*Math.PI/180;var X=Math.cos(W);var Y=(45===x)?X:Math.sin(W);var Z=z*Math.PI/180;var $=Math.cos(Z);var _=Math.sin(Z);var a1=c(V[i].value)*Y;tickStartY=-c(V[i].value)*X;var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append('text').attr('x',a1+(e+d)*$).attr('y',tickStartY+(e+d)*_).attr("dominant-baseline","middle").attr("text-anchor",'start').text(V[i].text);if(z>90){b1.attr("text-anchor",'end').attr('transform','rotate( '+(z-180)+' '+b1.attr("x")+' '+b1.attr("y")+')')}else{b1.attr('transform','rotate( '+(z)+' '+b1.attr("x")+' '+b1.attr("y")+')')}}else{var b1=y.append("g").attr("fill",o.defaultStyle.label.fill).attr("class",t).attr("font-size",o.defaultStyle.label['font-size']).attr("font-weight",o.defaultStyle.label['font-weight']).attr("font-family",o.defaultStyle.label['font-family']).append("text").attr("x",c(V[i].value)).attr("y",e+d).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(V[i].text);b1.attr("dominant-baseline","auto");b1.attr("y",S+e)}}};var F=function(y){var Q=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var R=[];var S=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){R.push(y[i])}if(y[i].value>=0){S.push(y[i])}}var V;var W=R.length;if(R[0].value<=R[W-1].value){V=R[0]}else{V=R[W-1]}var X;var Y=S.length;if(S[0].value<=S[Y-1].value){X=S[Y-1]}else{X=S[0]}R=G(R);S=G(S);if(R[0].value>R[R.length-1].value){R.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(R[R.length-1].value==0&&S[0].value==0){R.pop()}var Z=R.concat(S);if(V.value!==Z[0].value){Z.splice(0,0,V)}if(X.value!==Z[Z.length-1].value){Z.push(X)}if(Z[0].start>Z[Z.length-1].start){Z.reverse()}Q=G(Z)}else{Q=G(y)}}if(Q.length<=1){Q=[]}return Q};var G=function(y){var Q=[];for(var R=0;R<=(y.length-1);R++){var S=true;for(var i=0;i<y.length-1;i+=(R+1)){var V=y[i];if(i!=0){var W=Q[Q.length-1];if(y[i].start<=W.end){if(Q.length>1){S=false;break}}else{Q.push(V)}}else{Q.push(V)}}var X=y[y.length-1];if(X.start<Q[Q.length-1].end){Q.pop()}Q.push(X);if(S){break}else{Q=[]}}return Q};var H=function(){var y=c.domain();var Q=f;if(c.tickHint){Q=c.tickHint}var R=c.ticks(Q);var S=true;for(var i=0;i<R.length;i++){R[i]=N.precise(R[i],S)}var V=[];for(var i=0;i<R.length;i++){var W={};W.value=R[i];if(p.isPercentMode){W.text=N.precise(R[i]*100).toString()}else{W.text=N.precise(R[i]).toString()}V.push(W)}if(p.label){if(!p.label.formatString&&p.label.numberFormat){for(var i=0;i<R.length;i++){var X=d3.format(p.label.numberFormat);V[i].text=(X(R[i]))}}else if(p.label.formatString){if(!(p.isPercentMode&&p.label.formatString.indexOf('u')>=0)){var Y=p.label.formatString;for(var i=0;i<R.length;i++){V[i].text=(N.format(R[i],Y))}}}}return V};var I=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).width}else{S=K(y[i],o.realStyle.label).height}if(R<S){R=S}}return R};var J=function(y){var Q=p.forceVerticalFont===true?true:false;var R=0;for(var i=0;i<y.length;i++){var S=0;if(Q){S=K(y[i],o.realStyle.label).height}else{S=K(y[i],o.realStyle.label).width}if(R<S){R=S}}return R};var K=function(_,i){return T.superFastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var L=function(i,y){for(var Q in y){if(typeof(y[Q])==="object"){if(i[Q]){i[Q]=L(i[Q],y[Q])}else{i[Q]=y[Q]}}else{i[Q]=y[Q]}}return i};return B};return r});define('sap/viz/modules/axis/SimpleValueRight',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValue','sap/viz/modules/dispatch','sap/viz/modules/axis/simpleValueRightCore'],function Setup(o,S,d,s){var a=function(m,c){a.superclass.constructor.apply(this,arguments);a.prototype.setCoreModule(s)};o.extend(a,S);return a});define('sap/viz/modules/axis/MultipleValueRight',['sap/viz/base/utils/oo','sap/viz/modules/axis/SimpleValueRight','sap/viz/modules/dispatch','sap/viz/util/TextUtils'],function Setup(o,S,d,T){var m;var a;var b=function(c,e){b.superclass.constructor.apply(this,arguments);this._multipleValue_axisNumber=3;this._multipleValue_className="v-multiValue";this._multipleValue_axisGap={};this._multipleValue_titleText="";this._multipleValue_maxTitleSize=96;this._multipleValue_titleContainer=[]};o.extend(b,S);b.prototype.data=function(_){if(_){this._multipleValue_axisGap={};return b.superclass.data(_)}return b.superclass.data()};b.prototype.getAxisGap=function(){var c=b.superclass.style.call(this);var e=c.realStyle.label["font-size"];e=parseFloat(e.substring(0,e.length-2));this._multipleValue_axisGap.startGap=e/2;return this._multipleValue_axisGap};b.prototype.title=function(_){if(_&&this._multipleValue_titleContainer.indexOf(_)<0){this._multipleValue_titleContainer.push(_);this._multipleValue_titleText=this._multipleValue_titleContainer.join(' & ')}};b.prototype.render=function(s){var c=s;var r=this.scale().range();var e=Math.abs(r[r.length-1]-r[0]);var h=s.select("*");h.remove();s=s.append("svg");m=s;var j=this._axis_baseValueHelperModule.size();s.attr('width',j.width).attr('height',j.height);s=s.append("g").attr("class",this._multipleValue_className);var t=this._multipleValue_titleText+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var k=parseFloat(p.width);var l=b.superclass.style.call(this);var n=f(t,l.realStyle.title).width;if(k>this._multipleValue_maxTitleSize&&n>k){this._multipleValue_maxTitleSize=k;n=k}else if(n>this._multipleValue_maxTitleSize&&k<this._multipleValue_maxTitleSize){n=this._multipleValue_maxTitleSize}var i;for(i=0;i<this._multipleValue_axisNumber;i++){var I=s.append("g");I.attr("class","v-subaxis"+(i+1));I.attr('transform','translate('+(1)+','+(i*e)+')');b.superclass.render.call(this,I,false)}b.prototype.titleRender(this,c);this._multipleValue_titleContainer=[];return this};var g=function(_,t,l){var s='font-weight: '+_.realStyle.label['font-weight']+'; font-family: '+_.realStyle.label['font-family']+'; font-size: '+_.realStyle.label['font-size']+';';return T.ellipsis(t,undefined,l,s)};b.prototype.titleRender=function(c,e){var t="v-multipleValueRightAxisTitle";var h=e.node();var p=h.parentNode;var i=d3.select(p).select("."+t);if(i.empty()){i=d3.select(p).append("div");i.attr("class",t)}a=i;i.select("*").remove();var j=c._multipleValue_titleText+"";var k=b.superclass.style.call(this);var l=f(j,k.realStyle.title).width;if(l>c._multipleValue_maxTitleSize){l=c._multipleValue_maxTitleSize;j=g(k,j,l)}var n=95;var q=i.node().style;q.width=m.attr('width')+"px";q.position=h.style.position;q.overflow="visible";q.height=n/2+"px";var s=h.style.left;s=parseFloat(s.substring(0,s.length-2));q.left=(s)+"px";q.top=parseInt(h.style.top,10)-n/2+'px';i=i.append("svg");var r=2;var u=c.properties();var v=k.defaultStyle.title.fill;if(u&&u.color&&u.title.applyAxislineColor){v=u.color}i.append("g").attr("fill",v).attr("font-size",k.defaultStyle.label['font-size']).attr("font-weight","bold").attr("font-family",k.defaultStyle.label['font-family']).append("text").attr("pointer-events","none").attr("x",2*r).attr("y",15*r).attr("dominant-baseline","middle").attr("text-anchor","start").text(j)};b.prototype.axisnumber=function(_){if(!arguments.length){return this._multipleValue_axisNumber}this._multipleValue_axisNumber=_;return this};b.prototype.height=function(_){if(_){return b.superclass.height.call(this,_/this._multipleValue_axisNumber)}else{var c=b.superclass.height.apply(this,arguments);return c*this._multipleValue_axisNumber}};b.prototype.getPreferredSize=function(_){var t=b.prototype.title()+"";var p=b.superclass.getPreferredSize.apply(this,arguments);var c=parseFloat(p.width);var e=b.superclass.style.call(this);var h=f(this._multipleValue_titleText,e.realStyle.title).width;if(h>this._multipleValue_maxTitleSize){h=this._multipleValue_maxTitleSize}var i=c;if((c>0)&&(h>c)){i=h}if(i){p.width=i;p.realWidth=i;if(p.axisSpacings){p.axisSpacings[1]=i}}return p};b.prototype.startPadding=function(){return 0};b.prototype.endPadding=function(){return 0};b.prototype.size=function(_){if(_){_.height=_.height/this._multipleValue_axisNumber;b.superclass.height.call(this,_);return this}else{var c=b.superclass.height.apply(this,arguments);c.height*=this._multipleValue_axisNumber;return c}};b.prototype.getPropertyZone=function(_){var r=[];var t=a.selectAll('text');var c=[];t.each(function(){var i=[];var j=this.getBoundingClientRect();if(j.width>1.5&&j.height>1.5){i.push([j.left,j.top]);i.push([j.right,j.top]);i.push([j.right,j.bottom]);i.push([j.left,j.bottom]);c.push(i)}});if(c.length>0){r.push({"name":'yAxis2 title',"bound":c})}var e=m.node().parentNode.getBoundingClientRect();if(e.width>1.5&&e.height>1.5){var h=[[]];h[0].push([e.left,e.top]);h[0].push([e.right,e.top]);h[0].push([e.right,e.bottom]);h[0].push([e.left,e.bottom]);r.push({"name":'yAxis2',"bound":h})}return r};b.prototype.destroy=function(){b.superclass.height.call(this);m=null;a=null};var f=function(_,c){return T.superFastMeasure(_,c['font-size'],c['font-weight'],c['font-family'])};return b});define('sap/viz/modules/manifests/axis/MultipleValueRight',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/axis/MultipleValueRight'],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis.MultipleValueRight','type':C.Type.Supplementary,'name':'MultipleValueRight','base':"sap.viz.modules.axis.TrellisAxis",'properties':{},'css':{},'configure':null,fn:f};var a={viz:[],module:[m],feeds:[]};return a});define('sap/viz/manifests/trellis/TrellisDualColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisColumnChart','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/axis/MultipleValueRight','sap/viz/modules/manifests/xy/VerticalBar','sap/viz/modules/manifests/layout/trellis/Vertical'],function Setup(M,T,a,b,c,V,d){var t={id:'viz/trellis_dual_column',name:'IDS_TRELLISDUALCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_column',modules:{root:{modules:{main:{id:'sap.viz.modules.trelliscontainer',configure:{propertyCategory:'multiLayout',properties:{mergeDataRange:['primary','second'],layout:{position:'center',priority:1}}},modules:{yAxis:{configure:{properties:{title:{applyAxislineColor:true}}}},yAxis2:{id:'sap.viz.modules.axis.MultipleValueRight',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false},title:{applyAxislineColor:true}}}},plot:{modules:{plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'secondScale'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.yAxis2',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.plot',source:'axisGap'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'}],events:[]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,b.module,c.module,V.module,d.module),feeds:[].concat(T.feeds,a.feeds,b.feeds,c.feeds,V.feeds,d.feeds)};return m});define('sap/viz/impls/TrellisDualColumnChart',['sap/viz/manifests/trellis/TrellisDualColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualHorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualBarChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/Line'],function Setup(M,T,D,L){var t={id:'viz/trellis_dual_horizontal_line',name:'IDS_TRELLISDUALHORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_bar',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'horizontal',outsidePosition:'right',positionPreference:true}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'horizontal',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'secondaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.xAxis2',source:'getAxisGap'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.plot',source:'axisGap'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.xAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.xAxis',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'}],events:[]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,L.module),feeds:[].concat(T.feeds,D.feeds,L.feeds)};return m});define('sap/viz/impls/TrellisDualHorizontalLineChart',['sap/viz/manifests/trellis/TrellisDualHorizontalLineChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualColumnChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/Line'],function Setup(M,T,D,L){var t={id:'viz/trellis_dual_line',name:'IDS_TRELLISDUALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_column',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main',target:'secondDataRange',sourceModule:'root.main.plot.plot',source:'secondDataRange'},{targetModule:'root.main.plot.plot',target:'secondDataRange',sourceModule:'root.main',source:'secondDataRange'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot.plot',source:'secondaryScale'},{targetModule:'root.main.yAxis2',target:'title',sourceModule:'root.main.plot.plot',source:'secondAxisTitle'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main.plot',target:'axisGap',sourceModule:'root.main.yAxis2',source:'getAxisGap'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.plot',source:'axisGap'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'},{targetModule:'root.main.yAxis',target:'color',sourceModule:'root.main.plot.plot',source:'primaryAxisColor'},{targetModule:'root.main.yAxis2',target:'color',sourceModule:'root.main.plot.plot',source:'secondAxisColor'}]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,L.module),feeds:[].concat(T.feeds,D.feeds,L.feeds)};return m});define('sap/viz/impls/TrellisDualLineChart',['sap/viz/manifests/trellis/TrellisDualLineChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualBarChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_dual_stacked_bar',name:'IDS_TRELLISDUALSTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_bar',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualPercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualStackedBarChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_100_dual_stacked_bar',name:'IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_stacked_bar',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_horizontal',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{xAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},xAxis2:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isPercentMode:true,isStackMode:true,showZero:true},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/impls/TrellisDualPercentageStackedBarChart',['sap/viz/manifests/trellis/TrellisDualPercentageStackedBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualStackedColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualColumnChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedVerticalBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_dual_stacked_column',name:'IDS_TRELLISDUALSTACKEDCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_column',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/manifests/trellis/TrellisDualPercentageStackedColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisDualStackedColumnChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedVerticalBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_100_dual_stacked_column',name:'IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_dual_stacked_column',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_vertical',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{yAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},yAxis2:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isPercentMode:true,isStackMode:true,showZero:true},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/impls/TrellisDualPercentageStackedColumnChart',['sap/viz/manifests/trellis/TrellisDualPercentageStackedColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisDualStackedBarChart',['sap/viz/manifests/trellis/TrellisDualStackedBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisDualStackedColumnChart',['sap/viz/manifests/trellis/TrellisDualStackedColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisHorizontalLineChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisLineChart','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/Axis','sap/viz/modules/manifests/axis/MultipleCategoryLeft','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/xy/Line','sap/viz/modules/manifests/layout/trellis/Horizontal'],function Setup(M,T,a,D,b,A,c,d,L,H){var t={id:'viz/trellis_horizontal_line',name:'IDS_TRELLISHORIZONTALLINECHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_line',modules:{root:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_horizontal',orientation:'left'}}},modules:{main:{modules:{layout:{id:'sap.viz.modules.layout.trellis.horizontal'},yAxis:{id:'sap.viz.modules.axis.MultipleCategoryLeft',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}}}},xAxis:{id:'sap.viz.modules.axis.MultipleValueBottom',data:null,configure:{'description':'Settings for the value axis of an XY chart',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:true}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'horizontal',outsidePosition:'right',positionPreference:true}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'horizontal'}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'getColorPalette'},{targetModule:'root.legends.legend',target:'shapes',sourceModule:'root.main.plot.plot',source:'shapePalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.xAxis',source:'getAxisGap'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,D.module,b.module,A.module,c.module,d.module,L.module,H.module),feeds:[].concat(T.feeds,a.feeds,D.feeds,b.feeds,A.feeds,c.feeds,d.feeds,L.feeds,H.feeds)};return m});define('sap/viz/manifests/trellis/TrellisHorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisHorizontalLineChart','sap/viz/modules/manifests/TrellisContainer','sap/viz/modules/manifests/xy/Area'],function Setup(M,T,a,A){var t={id:'viz/trellis_horizontal_area',name:'IDS_TRELLISHORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_horizontal_line',modules:{root:{modules:{main:{configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'horizontal',automaticInOutside:false,outsidePosition:'left'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{orientation:'horizontal'}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,A.module),feeds:[].concat(T.feeds,a.feeds,A.feeds)};return m});define('sap/viz/impls/TrellisHorizontalAreaChart',['sap/viz/manifests/trellis/TrellisHorizontalAreaChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisHorizontalLineChart',['sap/viz/manifests/trellis/TrellisHorizontalLineChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisLineChart',['sap/viz/manifests/trellis/TrellisLineChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisPercentageAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisAreaChart','sap/viz/modules/manifests/TrellisContainer','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/xy/Area'],function Setup(M,T,a,b,c,A){var t={id:'viz/trellis_100_area',name:'IDS_TRELLISPERCENTAGEAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_area',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_vertical',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{yAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,a.module,b.module,c.module,A.module),feeds:[].concat(T.feeds,a.feeds,b.feeds,c.feeds,A.feeds)};return m});define('sap/viz/impls/TrellisPercentageAreaChart',['sap/viz/manifests/trellis/TrellisPercentageAreaChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisPercentageHorizontalAreaChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisHorizontalAreaChart','sap/viz/modules/manifests/DataLabel','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/xy/Area'],function Setup(M,T,D,a,b,A){var t={id:'viz/trellis_100_horizontal_area',name:'IDS_TRELLISPERCENTAGEHORIZONTALAREACHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_horizontal_area',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_horizontal',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{xAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',orientation:'horizontal'}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,a.module,b.module,A.module),feeds:[].concat(T.feeds,D.feeds,a.feeds,b.feeds,A.feeds)};return m});define('sap/viz/impls/TrellisPercentageHorizontalAreaChart',['sap/viz/manifests/trellis/TrellisPercentageHorizontalAreaChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisBarChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_stacked_bar',name:'IDS_TRELLISSTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_bar',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/manifests/trellis/TrellisPercentageStackedBarChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisStackedBarChart','sap/viz/modules/manifests/DataLabel','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/axis/MultipleValueBottom','sap/viz/modules/manifests/xy/StackedBar'],function Setup(M,T,D,a,b,S){var t={id:'viz/trellis_100_stacked_bar',name:'IDS_TRELLISPERCENTAGESTACKEDBARCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_stacked_bar',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_horizontal',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{xAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,a.module,b.module,S.module),feeds:[].concat(T.feeds,D.feeds,a.feeds,b.feeds,S.feeds)};return m});define('sap/viz/impls/TrellisPercentageStackedBarChart',['sap/viz/manifests/trellis/TrellisPercentageStackedBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/manifests/trellis/TrellisStackedColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisColumnChart','sap/viz/modules/manifests/DataLabel','sap/viz/modules/manifests/xy/StackedVerticalBar'],function Setup(M,T,D,S){var t={id:'viz/trellis_stacked_column',name:'IDS_TRELLISSTACKEDCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_column',modules:{root:{modules:{main:{modules:{plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{drawingEffect:{isExported:false},animation:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'root.main.trellisXAxis',target:'scale',sourceModule:'root.main',source:'xCategoryScale'},{targetModule:'root.main.trellisYAxis',target:'scale',sourceModule:'root.main',source:'yCategoryScale'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot.plot',source:'colorPalette'},{targetModule:'root.main',target:'primaryDataRange',sourceModule:'root.main.plot.plot',source:'primaryDataRange'},{targetModule:'root.main.plot.plot',target:'primaryDataRange',sourceModule:'root.main',source:'primaryDataRange'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot.plot',source:'primaryAxisTitle'},{targetModule:'root.main.plot.plot',target:'setAxisGap',sourceModule:'root.main.yAxis',source:'getAxisGap'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot.plot',source:'categoryScale'}],events:[]}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,S.module),feeds:[].concat(T.feeds,D.feeds,S.feeds)};return m});define('sap/viz/manifests/trellis/TrellisPercentageStackedColumnChart',['sap/viz/manifests/Viz','sap/viz/manifests/trellis/TrellisStackedColumnChart','sap/viz/modules/manifests/DataLabel','sap/viz/chart/elements/manifests/Tooltip','sap/viz/modules/manifests/axis/MultipleValueLeft','sap/viz/modules/manifests/xy/StackedVerticalBar'],function Setup(M,T,D,a,b,S){var t={id:'viz/trellis_100_stacked_column',name:'IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'viz/trellis_stacked_column',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'trellis_vertical',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},interaction:{id:'sap.viz.chart.elements.behaviors.TrellisInteraction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:true,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)}}}}},main:{modules:{yAxis:{configure:{properties:{isPercentMode:true},propertiesOverride:{label:{unitFormatType:{isExported:false},formatString:{description:'Set the format strings for labels on the value axis. If a single format string is entered, it is applied to all measures. A two-dimensional array of format strings can be entered for scatter matrix charts and multiple charts with measureNamesDimension, to apply different formats to each sub-chart. For all other chart types, the first value of the first dimension of a two-dimensional array is used as a global format string. The following characters are reserved as tokens for format code: MDYHSAmdyhsa#?%0@. The following is a simple example of a two-dimensional array for a chart with two measures: [["#,##0.00 DM;-#,##.00 DM","#,##.00;-#,##.00"]].'}}}}},plot:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{mode:'percentage',animation:{dataLoading:false,dataUpdating:false,resizing:false}},propertiesOverride:{animation:{isExported:false}}}}}}}}}}}};var m={viz:[t].concat(T.viz),module:[].concat(T.module,D.module,a.module,b.module,S.module),feeds:[].concat(T.feeds,D.feeds,a.feeds,b.feeds,S.feeds)};return m});define('sap/viz/impls/TrellisPercentageStackedColumnChart',['sap/viz/manifests/trellis/TrellisPercentageStackedColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisPieChart',['sap/viz/manifests/trellis/TrellisPieChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisScatterChart',['sap/viz/manifests/trellis/TrellisScatterChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisStackedBarChart',['sap/viz/manifests/trellis/TrellisStackedBarChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/TrellisStackedColumnChart',['sap/viz/manifests/trellis/TrellisStackedColumnChart'],function Setup(T){var m={viz:[].concat(T.viz),module:[].concat(T.module),feeds:[].concat(T.feeds)};return m});define('sap/viz/impls/VerticalBarChart',['sap/viz/manifests/xy/VerticalBarChart'],function Setup(V){var m={viz:[].concat(V.viz),module:[].concat(V.module),feeds:[].concat(V.feeds)};return m});define('sap/viz/modules/verticalboxplot',['sap/viz/base/utils/oo','sap/viz/modules/BaseBoxplot','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/modules/util/MNDHandler','sap/viz/util/ColorSeriesGenerator','sap/viz/util/Scaler','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/modules/util/tooltipDataHandler','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/modules/util/defaultSelectionUtil','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/UADetector','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,T,a,M,C,S,N,l,t,O,b,c,G,e,U,D,s){var f='v-datashapesgroup';var g='v-datapoint';var h=l.get('IDS_ISNOVALUE');var K={'Maximum':'Maximum','ThirdQuartile':'3Quartile','Median':'Median','FirstQuartile':'1Quartile','Minimum':'Minimum'};var V=function(m,d){V.superclass.constructor.apply(this,arguments);this._box_dimensions={'sap.viz.modules.verticalboxplot.dimension':{'key':'sap.viz.modules.verticalboxplot.dimension','values':null}};this._dimensionScale=d3.scale.ordinal();this._box_boxWidth=undefined;this._box_axisList.xAxis.axis=this._dimensionScale;this._box_axisList.xAxis.type='category';this._box_axisList.yAxis.axis=this._valueAxis1.scale;this._box_axisList.yAxis.type='value'};o.extend(V,B);V.prototype.render=function(i,j){var k=this;i.each(function(){b.drawBound(i,k._width,k._height);if(U.isMobile()){var m=e.drawClippath(i,k._width,k._height);i.attr('clip-path',"url(#"+m+")")}var n=1;k._box_boxWidth=8*(k._categoryScale.rangeBand())/(9*n+7);k._d3root=d3.select(this);var p=k._d3root;if(k._box_defsEnter===null){k._box_defsEnter=p.append('defs').append('clipPath').attr('id','clipPlot_'+k._box_id).append('rect').attr('width',k._width).attr('height',k._height)}else{k._box_defsEnter.attr('width',k._width).attr('height',k._height)}var q=p.selectAll('g.v-datashapesgroup');if(!T.isExist(q[0][0])){if(U.isMobile()){k._datashapesgroup=q=p.append('g').attr('class','v-datashapesgroup').attr("fill","none")}else{q=p.append('g').attr('class','v-datashapesgroup').attr("clip-path","url(#clipPlot_"+k._box_id+")").attr("fill","none")}}var r=q.selectAll('g.'+g);if(!r.empty()&&!k._isPinching){r.remove()}var u=null;r=q.selectAll('g.'+g);if(r.empty()&&!k._isPinching){u=q.selectAll('g.'+g).data(k._box_seriesData);u.enter().append('g').attr('class',g)}else{u=q.selectAll('.'+g)}u.each(function(v,w){if(v.length===0){k._box_boxplotData.push({});return}v=v.sort(function(d,x){return d.val-x.val});var z=v.length,A=v[0],E=v[z-1];k._boxfn_setDistribution(v);var F=d3.select(this).selectAll('circle.v-outliers');if(F.empty()&&!k._isPinching){F=d3.select(this).selectAll('circle.v-outliers').data(k._box_outLiersObj);F.enter().append('circle')}F.attr('cx',function(d){var x=k._categoryScale(w)+k._box_boxWidth;return x}).attr('cy',function(d,x){var y=k._valueAxis1.scale(d.val);return y}).attr('r',k._box_outlierLayout.radius).attr('stroke',function(d){var x={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(x)}).attr('stroke-width',k._box_outlierLayout.strokeWidth).attr('fill','transparent').attr('class','v-morphable-datapoint v-outliers');if(!k._isPinching){F.exit().remove()}var H=d3.select(this).selectAll('rect.v-quartile');if(H.empty()&&!k._isPinching){H=d3.select(this).selectAll('rect.v-quartile').data(k._box_quartilesObj);H.enter().append('rect')}H.attr('x',function(d){var x=k._categoryScale(w)+k._box_boxWidth/2;return x}).attr('y',function(d,x){var y=k._valueAxis1.scale(d.pair[0].val);return y}).attr('width',k._box_boxWidth).attr('height',function(d,x){var y=0;var c1=d.pair[1].val-d.pair[0].val;if(c1===0){y=1}else{y=k._valueAxis1.scale(d.pair[1].val)-k._valueAxis1.scale(d.pair[0].val)}return y}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:k._box_drawingEffect,fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length],direction:'horizontal'};return k._box_effectManager.register(x)}).attr('stroke-width',k._box_quartileLayout.width).attr('class','v-morphable-datapoint v-quartile');if(k._box_quartilesObj.length===2){var I=k._categoryScale(w)+k._box_boxWidth/2;var J=I+k._box_boxWidth;var L=k._valueAxis1.scale(k._box_quartilesObj[0].midLine.val);var P=L;var Q=d3.select(this).selectAll('.v-boxplotmidline');if(Q.empty()&&!k._isPinching){Q=d3.select(this).append('line')}Q.attr('x1',I).attr('y1',P).attr('x2',J).attr('y2',L).attr('stroke','#333333').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-boxplotmidline')}if(!k._isPinching){H.exit().remove()}var R=0,W=0,X=0,Y=0;var Z=0,$=0,_=0,a1=0;var b1=d3.select(this).selectAll('rect.v-rectlowwhisker');if(b1.empty()&&!k._isPinching){b1=d3.select(this).selectAll('rect.v-rectlowwhisker').data(k._box_lowWhiskerObj);b1.enter().append('rect')}b1.attr('x',function(d){var x=k._categoryScale(w)+k._box_boxWidth/2;Z=x;_=x+k._box_boxWidth;R=X=x+k._box_boxWidth/2;return x}).attr('y',function(d){var x=d.pair;var y=k._valueAxis1.scale(x[0].val);W=y;$=a1=k._valueAxis1.scale(x[1].val);return y}).attr('width',k._box_boxWidth).attr('height',function(x){var y=k._valueAxis1.scale(x.pair[1].val)-k._valueAxis1.scale(x.pair[0].val);Y=k._valueAxis1.scale(x.pair[1].val);var Q=d3.select(this.parentNode).selectAll('.v-lineverticallowwhisker');if(Q.empty()&&!k._isPinching){Q=d3.select(this.parentNode).append('line')}Q.attr('x1',R).attr('y1',W).attr('x2',X).attr('y2',Y).attr('stroke','#808080').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-lineverticallowwhisker v-innerwhisker');Q=d3.select(this.parentNode).selectAll('.v-linehorizontallowwhisker');if(Q.empty()&&!k._isPinching){Q=d3.select(this.parentNode).append('line')}Q.attr('x1',Z).attr('y1',$).attr('x2',_).attr('y2',a1).attr('stroke',function(d){var c1={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(c1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-linehorizontallowwhisker');return y}).attr('shape-rendering','crispEdges').attr('fill','transparent').attr('stroke-width','0').attr('class','v-morphable-datapoint v-rectlowwhisker');if(!k._isPinching){b1.exit().remove()}R=0,W=0,X=0,Y=0;Z=0,$=0,_=0,a1=0;b1=d3.select(this).selectAll('rect.v-recthighwhisker');if(b1.empty()&&!k._isPinching){b1=d3.select(this).selectAll('rect.v-recthighwhisker').data(k._box_highWhiskerObj);b1.enter().append('rect')}b1.attr('x',function(d){var x=k._categoryScale(w)+k._box_boxWidth/2;Z=x;_=x+k._box_boxWidth;R=X=x+k._box_boxWidth/2;return x}).attr('y',function(d,x){var c1=d.pair;var y=k._valueAxis1.scale(c1[0].val);W=y;$=a1=k._valueAxis1.scale(c1[0].val);return y}).attr('width',k._box_boxWidth).attr('height',function(x,y){var c1=k._valueAxis1.scale(x.pair[1].val)-k._valueAxis1.scale(x.pair[0].val);Y=W+c1;var Q=d3.select(this.parentNode).selectAll('.v-lineverticalhighwhisker');if(Q.empty()&&!k._isPinching){Q=d3.select(this.parentNode).append('line')}Q.attr('x1',R).attr('y1',W).attr('x2',X).attr('y2',Y).attr('stroke','#808080').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-lineverticalhighwhisker v-innerwhisker');Q=d3.select(this.parentNode).selectAll('.v-linehorizontalhighwhisker');if(Q.empty()&&!k._isPinching){Q=d3.select(this.parentNode).append('line')}Q.attr('x1',Z).attr('y1',$).attr('x2',_).attr('y2',a1).attr('stroke',function(d){var d1={drawingEffect:'normal',fillColor:k._box_boxColorPalette[w%k._box_boxColorPalette.length]};return k._box_effectManager.register(d1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','v-linehorizontalhighwhisker');return c1}).attr('shape-rendering','crispEdges').attr('fill','transparent').attr('stroke-width','0').attr('class','v-morphable-datapoint v-recthighwhisker');if(!k._isPinching){b1.exit().remove()}k._boxfn_clearBoxData()});if(U.isMobile()&&!j&&i){k._datashapesgroup.attr('transform',null)}if(j&&j.isPinching){k._eDispatch.initialized({eventSource:'pinch'})}else{k._eDispatch.initialized()}if(!k._isPinching){u.exit().remove()}k.applyFormatConditions(k._props.formatRules,p.selectAll('g.v-datashapesgroup'),k._box_data,k);k._box_lastHovered=null});return this};V.prototype.applyFormatConditions=function(j,k,m,n){var p=function(q,r){var i;for(i=0;i<q.length;++i){var u=d3.select(q[i]).selectAll('circle.v-outliers');u.attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)});var v=d3.select(q[i]).selectAll('rect.v-quartile');v.attr('fill',function(d){var w={drawingEffect:n._box_drawingEffect,fillColor:r.color,direction:'horizontal'};return n._box_effectManager.register(w)});d3.select(q[i]).selectAll('.v-linehorizontallowwhisker').attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)});d3.select(q[i]).selectAll('.v-linehorizontalhighwhisker').attr('stroke',function(d){var w={drawingEffect:'normal',fillColor:r.color};return n._box_effectManager.register(w)})}};s.applyConditons(j,k,m,p)};V.prototype.parent=function(){return this._d3root};V.prototype.categoryScale=function(d){if(!arguments.length){return this._dimensionScale}this._dimensionScale=d;return this};V.prototype.primaryScale=function(d){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=d;return this};V.prototype.primaryDataRange=function(r){if(!arguments.length){return{min:this._box_scaleMinMax.min,max:this._box_scaleMinMax.max}}var d,i;if(r!==null){if(!isNaN(r.max)){d=r.max}else{d=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(r.min)){i=r.min}else{i=this._valueAxis1.scale.perfectDomainBegin}if(d>i){this._box_scaleMinMax.max=d;this._box_scaleMinMax.min=i;if(r.from==='axis'){this._box_scaleManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._boxfn_makeScales()}}}else{if(this._box_scaleManualRange===true){this._box_scaleMinMax.max=this._box_scaleMinMax.initMax;this._box_scaleMinMax.min=this._box_scaleMinMax.initMin;this._box_scaleManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._boxfn_makeScales()}}}return this};V.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._dimensionScale){this._dimensionScale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll('.v-datapoint').remove()}this._dimensionScale=null;this._categoryScale=null;this._valueAxis1.scale=null;this._box_defsEnter=null;this._d3root=null;this._box_lastHovered=null;this._box_dimensionGroup=null;this._box_dimensionDomain=null;this._box_seriesData=null;this._box_legendData=null;this._box_regionData=null;this._box_dimensionData=null;this._box_boxplotData=null;this._box_colorPalette=null;this._box_boxColorPalette=null;this._box_dimensions['sap.viz.modules.verticalboxplot.dimension'].values=null;this._box_dimensions=null;this._box_data=null};V.prototype._boxfn_makeScales=function(){var d=[];for(var i=0;i<this._box_seriesData.length;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._width]);this._dimensionScale.domain(this._box_dimensionDomain).rangeBands([0,this._width]);if(!this._box_scaleMinMax||(this._box_scaleMinMax.min===0&&this._box_scaleMinMax.max===0)){this._valueAxis1.scale.domain([0,1]).range([this._height,0])}else{this._valueAxis1.scale.domain([this._box_scaleMinMax.min,this._box_scaleMinMax.max]).range([this._height,0])}if(!this._box_scaleManualRange){S.perfect(this._valueAxis1.scale)}else{S.getRoughTickNum(this._valueAxis1.scale)}};V.prototype._boxfn_generateDimensions=function(){if(this._box_dimensionGroup){var d=this._box_dimensionGroup.length,n=null;n=this._box_dimensionGroup[d-1].val;if(n.length===0){this._box_dimensionDomain.push(0);this._box_dimensionDomain.push(1)}else{for(var i=0,p=n.length;i<p;i++){this._box_dimensionDomain.push(i)}}if(n.length===0){this._box_dimensions['sap.viz.modules.verticalboxplot.dimension'].values=[{'col':{'val':this._box_dimensionGroup[d-1].col},'rows':[]}]}else{var q=[];for(var j=0;j<d;j++){var r={'col':{'val':''},'rows':[]};r.col.val=this._box_dimensionGroup[j].col;var u=this._box_dimensionGroup[j].val;for(var k=0,v=u.length;k<v;k++){var w=u[k].start,x=u[k].end,y=this._boxfn_caculateLeavesNum.call(this,w,x);for(var m=0;m<y;m++){r.rows.push({'val':this._boxfn_handleNull(u[k].val.val),'info':u[k].val.info,'contexts':u[k].val.contexts})}}q.push(r)}this._box_dimensions['sap.viz.modules.verticalboxplot.dimension'].values=q}}};V.prototype._boxfn_getBoxElements=function(d){var i=d3.select(d);var q=i.selectAll('.v-quartile');var j=i.selectAll('.v-linehorizontallowwhisker');var k=i.selectAll('.v-linehorizontalhighwhisker');var m=i.selectAll('.v-outliers');var n=i.selectAll('.v-boxplotmidline');var p=i.selectAll('.v-innerwhisker');return{outliers:m,quartiles:q,lowWhiskers:j,highWhiskers:k,midLine:n,connectLines:p}};return V});define('sap/viz/modules/manifests/xy/VerticalBoxplot',['sap/viz/modules/manifests/Module','sap/viz/modules/verticalboxplot','sap/viz/modules/manifests/xy/Base'],function Setup(M,f,B){var m={'id':'sap.viz.modules.verticalboxplot','name':'vertical boxplot',base:"sap.viz.modules.xy.base",'properties':{'primaryValuesColorPalette':{'isExported':false},'secondaryValuesColorPalette':{'isExported':false},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether the tooltip is enabled'}},'isExported':false,'description':'Settings for tooltip related properties'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},'css':{},fn:f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/viz/manifests/xy/VerticalBoxplotChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/VerticalBoxplot','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,R,V,B,I){var c={id:'viz/boxplot',name:'IDS_VERTICALBOXPLOTCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{modules:{tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalboxplot',orientation:'left'}}},interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousedown','mousemove','mouseover','mouseout','touchstart'],holdSelection:false,extensionPoints:{convertData:function(p,n){return p.getDataOfDataPoint(n)},getBoundingBoxes:function(n){var d=n.childNodes;var f=[];Array.prototype.forEach.call(d,function(g){var r=g.getBoundingClientRect();var h={x:r.left,y:r.top,height:r.height,width:r.width,right:r.right,bottom:r.bottom};f.push(h)});return f}}}}},main:{modules:{dataLabel:null,xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.verticalboxplot',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.xAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'},{targetModule:'root.legends.legend',target:'colorPalette',sourceModule:'root.main.plot',source:'colorPalette'},{targetModule:'root.legends.legend',target:'setSelectionMode',sourceModule:'root.interaction',source:'getSelectionMode'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,V.module,I.module),feeds:[].concat(B.feeds,R.feeds,V.feeds,I.feeds)};return b});define('sap/viz/impls/VerticalBoxplotChart',['sap/viz/manifests/xy/VerticalBoxplotChart'],function Setup(V){var m={viz:[].concat(V.viz),module:[].concat(V.module),feeds:[].concat(V.feeds)};return m});define('sap/viz/manifests/xy/WaterfallChart',['sap/viz/manifests/Viz','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/StackedWaterfall','sap/viz/manifests/xy/BaseVerticalChart','sap/viz/chart/elements/manifests/controller/Interaction'],function Setup(M,U,R,S,B,I){var c={id:'viz/waterfall',name:'IDS_WATERFALLCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/baseverticalchart',modules:{root:{modules:{interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}},legends:null,main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true,indicator:{enable:true}},propertiesOverride:{indicator:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{isShowTotal:{isExported:false}}}}}}}}},feeds:{'regionColor':null},dependencies:{attributes:[{targetModule:'root.main.plot',target:'primaryDataRange',sourceModule:'root.main.yAxis',source:'range'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.xAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},null,{targetModule:'root.main.yAxis',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},{targetModule:'root.main.xAxis',target:'independentData',sourceModule:'root.main.plot',source:'dimensionData'}],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'},{targetModule:'root.main.dataLabel',listener:'showLabel',sourceModule:'root.main.plot',type:'initialized.datalabel'},{targetModule:'root.main.dataLabel',listener:'removeLabel',sourceModule:'root.main.plot',type:'startToInit.datalabel'},{targetModule:'root.interaction',listener:'defaultSelection',sourceModule:'root.main.plot',type:'initialized.defaultSelection'}]},categoryAxis:['xAxis'],valueAxis:['yAxis']};if(U.isMobile()){var m=c.modules.root.modules;m.pinch={id:'sap.viz.modules.controller.pinch',configure:{clientID:'main',propertyCategory:'pinch',properties:{}}};var a=c.dependencies.attributes;var e=c.dependencies.events;a.push({targetModule:'root.pinch',target:'targetPlot',sourceModule:'root.main.plot',source:'self'});e.push({targetModule:'root.pinch',listener:'registerEvent',sourceModule:'root.main.plot',type:'initialized.pinch'});e.push({targetModule:'root.main.yAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.xAxis',listener:'showIndicator',sourceModule:'root.pinch',type:'touchStart.pinch'});e.push({targetModule:'root.main.yAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.xAxis',listener:'hideIndicator',sourceModule:'root.pinch',type:'touchEnd.pinch'});e.push({targetModule:'root.main.yAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'redraw',sourceModule:'root.main.plot',type:'scale.xAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchFromPlot',sourceModule:'root.main.plot',type:'stretch.yAxis'});e.push({targetModule:'root.main.xAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.xAxis'});e.push({targetModule:'root.main.yAxis',listener:'stretchEnd',sourceModule:'root.main.plot',type:'stretchEnd.yAxis'})}var b={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,S.module,I.module),feeds:[].concat(B.feeds,R.feeds,S.feeds,I.feeds)};return b});define('sap/viz/impls/WaterfallChart',['sap/viz/manifests/xy/WaterfallChart'],function Setup(W){var m={viz:[].concat(W.viz),module:[].concat(W.module),feeds:[].concat(W.feeds)};return m});define('sap/viz/modules/bullet',['sap/viz/base/utils/oo','sap/viz/modules/BaseGesture','sap/viz/base/utils/TypeUtils','sap/viz/modules/dispatch','sap/viz/lang/langManager','sap/viz/util/NumberUtils','sap/viz/util/Scaler','sap/viz/util/ColorSeriesGenerator','sap/viz/base/utils/Objects','sap/viz/modules/util/BoundUtil','sap/viz/base/utils/ObjectUtils','sap/viz/modules/Constants','sap/viz/modules/util/GestureUtil','sap/viz/modules/util/ClippathUtil','sap/viz/base/UADetector','sap/viz/util/DrawUtil','sap/viz/modules/util/selectionUtil'],function Setup(o,B,T,a,l,N,S,C,O,b,e,f,G,g,U,D,s){var h=function(c,d){if(d&&d.isPinching){c.initialized({eventSource:'pinch'})}else{c.initialized()}};var k=f.CSS.CLASS.DATAPOINTSELECTED,m=f.CSS.CLASS.DATAPOINTHOVER,n="v-datapoint",p=f.CSS.CLASS.MORPHABLEDATAPOINT;var q=n+' '+p;var r="v-datashapesgroup";var t=l.get('IDS_ISNOVALUE');var u=function(c,d){u.superclass.constructor.apply(this,arguments);this._bullet_originData=null;this._bullet_chartData=null;this._bullet_primaryAxisMinValue=null;this._bullet_primaryAxisMaxValue=null;this._bullet_categoryLen=null;this._bullet_primaryAxisManualRange=false;this._bullet_barInfo=null;this._bullet_dimensionData=null;this._bullet_measureData=null;this._bullet_effectManager=d.effectManager;this._bullet_styleManager=d.styleManager;this._bullet_drawingEffect='normal';this._d3root=null;O.extend(true,this._props,c.props(null));this._bullet_defsEnter=null;this._bullet_colorPalette=C.sap32().range();this._bullet_id=Math.floor(Math.random()*10000)};o.extend(u,B);u.prototype.render=function(c,y){b.drawBound(c,this._width,this._height);if(U.isMobile()){var z=g.drawClippath(c,this._width,this._height);c.attr('clip-path',"url(#"+z+")")}this._eDispatch.startToInit();var A=this;c.each(function(){A._bullet_barInfo=A._bullet_getBarInfo();var E=A._bullet_barInfo.barSize;A._d3root=d3.select(this);var F=A._d3root;if(!T.isExist(A._bullet_defsEnter)){A._bullet_defsEnter=F.append('defs').append('clipPath').attr('id','clipPlot_'+A._bullet_id).append('rect').attr('width',A._width).attr('height',A._height)}else{A._bullet_defsEnter.attr('width',A._width).attr('height',A._height)}var H=A._d3root.selectAll('g.v-datashapesgroup');if(H.empty()){if(U.isMobile()){H=A._datashapesgroup=A._d3root.append('g').attr('class','v-datashapesgroup')}else{H=A._datashapesgroup=A._d3root.append('g').attr('class','v-datashapesgroup').attr("clip-path","url(#clipPlot_"+A._bullet_id+")")}}H.selectAll("g.v-bulletgroup").remove();var I=H.selectAll('g.v-bulletgroup').data(A._bullet_groupData);I.enter().append('g').attr('class','v-bulletgroup '+n);I.exit().remove();I.attr('transform',function(d,i){var J=d3.select(this);var K=[];var L=0;var M=0;var P=A._bullet_referenceData;if(P&&P.values[2]){K=[P.values[2].rows[0][i]];L=Math.max(L,K[0].val)}var Q=J.selectAll("rect.v-maxReference").data(K);Q.enter().append("rect").attr('class','v-maxReference');Q.exit().remove();Q.attr('transform',function(v,j){d3.select(this).attr("x","0").attr("y",""+(A._categoryScale(i)+A._bullet_barInfo.barGap)).attr("width",""+A._valueAxis1.scale(v.val)).attr("height",A._bullet_barInfo.barSize).attr("fill",A._props.referenceValuesColorPalette[2])});K=[];if(P&&P.values[1]){K=[P.values[1].rows[0][i]];L=Math.max(L,K[0].val)}Q=J.selectAll("rect.v-midReference").data(K);Q.enter().append("rect").attr('class','v-midReference');Q.exit().remove();Q.attr('transform',function(v,j){d3.select(this).attr("x","0").attr("y",""+(A._categoryScale(i)+A._bullet_barInfo.barGap)).attr("width",""+A._valueAxis1.scale(v.val)).attr("height",A._bullet_barInfo.barSize).attr("fill",A._props.referenceValuesColorPalette[1])});K=[];if(P&&P.values[0]){K=[P.values[0].rows[0][i]];L=Math.max(L,K[0].val)}Q=J.selectAll("rect.v-minReference").data(K);Q.enter().append("rect").attr('class','v-minReference');Q.exit().remove();Q.attr('transform',function(v,j){d3.select(this).attr("x","0").attr("y",""+(A._categoryScale(i)+A._bullet_barInfo.barGap)).attr("width",""+A._valueAxis1.scale(v.val)).attr("height",A._bullet_barInfo.barSize).attr("fill",A._props.referenceValuesColorPalette[0])});K=[];if(A._bullet_measureData.values.length>1){K=[A._bullet_measureData.values[1].rows[0][i]];M=Math.max(M,K[0].val)}Q=J.selectAll('rect.v-forecast').data(K);Q.enter().append("rect").attr('class',"v-forecast");Q.exit().remove();Q.attr("transform",function(v,j){d3.select(this).attr("x","0").attr("y",""+(A._categoryScale(i)+A._bullet_barInfo.barGap+A._bullet_barInfo.barSize/2-A._bullet_barInfo.primaryBarSize/2)).attr("width",""+A._valueAxis1.scale(v.val)).attr("height",A._bullet_barInfo.primaryBarSize).attr("fill",A._props.colorPalette[1])});M=Math.max(A._bullet_measureData.values[0].rows[0][i].val,M);Q=J.selectAll("rect.v-datashape").data([A._bullet_measureData.values[0].rows[0][i]]);Q.enter().append("rect").attr('class','v-datashape ');Q.exit().remove();Q.attr('transform',function(v,j){d3.select(this).attr("x","0").attr("y",""+(A._categoryScale(i)+A._bullet_barInfo.barGap+A._bullet_barInfo.barSize/2-A._bullet_barInfo.primaryBarSize/2)).attr("width",""+A._valueAxis1.scale(v.val)).attr("height",A._bullet_barInfo.primaryBarSize).attr("fill",A._props.colorPalette[0])});var R=Math.max(M,L);K=[];if(A._bullet_targetData&&A._bullet_targetData.values[0]&&A._bullet_targetData.values[0].rows[0]){K=[A._bullet_targetData.values[0].rows[0][i]];R=Math.max(K[0].val,R)}Q=J.selectAll("line.v-target").data(K);var V=A._bullet_styleManager.queryDefault('v-target');Q.enter().append("line").attr('class','v-target');Q.exit().remove();Q.attr('transform',function(v,j){d3.select(this).attr("x1",""+A._valueAxis1.scale(v.val)).attr("y1",""+(A._categoryScale(i)+A._categoryScale.rangeBand()/2-A._bullet_barInfo.targetWidth/2)).attr("x2",""+A._valueAxis1.scale(v.val)).attr("y2",""+(A._categoryScale(i)+A._categoryScale.rangeBand()/2+A._bullet_barInfo.targetWidth/2)).attr("stroke-width","2").attr("stroke",V["stroke"])});K=[];var W=A._valueAxis1.scale(R)+0.15*A._categoryScale.rangeBand();if(W>A._width){W=A._width}if(U.isMobile()){K=[1]}Q=J.selectAll("rect.v-eventArea").data(K);Q.enter().append("rect").attr('class',"v-eventArea");Q.exit().remove();Q.attr('transform',function(){this.setAttribute("x","0");this.setAttribute("y",""+A._categoryScale(i));this.setAttribute("width",""+W);this.setAttribute("height",""+A._categoryScale.rangeBand());this.setAttribute("visibility","visible");this.setAttribute("fill","transparent");this.setAttribute("stroke","transparent")});var X=A._categoryScale.rangeBand()/2-A._bullet_barInfo.targetWidth/2;if(X>3){X=3}Q=J.append('rect').attr("class","v-effect").attr("x","0").attr("y",""+(A._categoryScale(i)+A._categoryScale.rangeBand()/2-A._bullet_barInfo.targetWidth/2)-X).attr("width",""+(A._valueAxis1.scale(R)+3>=A._width?A._width-1:A._valueAxis1.scale(R)+3)).attr("height",A._bullet_barInfo.targetWidth+2*X).attr("fill","none").attr("stroke","none")});if(U.isMobile()&&!y&&A._d3root){A._datashapesgroup.attr('transform',null)}});this.applyFormatConditions(this._props.formatRules,this._datashapesgroup,this._bullet_originData,this);this._eDispatch.initialized()};u.prototype.afterUIComponentAppear=function(){this._eDispatch.initialized()};function w(c){var d=c.toString(16);return d.length===1?"0"+d:d}function x(c){return"#"+w(c.r)+w(c.g)+w(c.b)}u.prototype.highlight=function(c,j){if(!T.isArray(c)){c=[c]}var v=D.colorLinerTransform(this._bullet_effectManager,{factor:0.7,constant:0},this._props.colorPalette[0]);v=x(v);d3.selectAll(c).each(function(d,i){this.setAttribute("fill-opacity",1)});d3.selectAll(c).selectAll(".v-target").attr("stroke-opacity",1);if(j){d3.selectAll(c).selectAll(".v-effect").each(function(d,i){this.setAttribute("stroke",v);this.setAttribute("stroke-width","2")});d3.selectAll(c).classed(k,false);d3.selectAll(c).classed(m,true)}else{d3.selectAll(c).selectAll(".v-effect").each(function(d,i){this.setAttribute("stroke",v);this.setAttribute("stroke-width","1")});d3.selectAll(c).classed(k,true);d3.selectAll(c).classed(m,false)}};u.prototype.unhighlight=function(c,j,v){var y=D.colorLinerTransform(this._bullet_effectManager,{factor:0.7,constant:0},this._props.colorPalette[0]);y=x(y);if(!T.isArray(c)){c=[c]}if(j){d3.selectAll(c).selectAll(".v-effect").each(function(d,i){this.setAttribute("stroke",y);this.setAttribute("stroke-width","1")});d3.selectAll(c).classed(k,true);d3.selectAll(c).classed(m,false)}else{d3.selectAll(c).classed(k,false);d3.selectAll(c).classed(m,false);if(!v){d3.selectAll(c).each(function(d,i){this.setAttribute("fill-opacity",0.4)});d3.selectAll(c).selectAll(".v-target").attr("stroke-opacity",0.4)}d3.selectAll(c).selectAll(".v-effect").each(function(d,i){this.removeAttribute("stroke");this.removeAttribute("stroke-width")})}};u.prototype.clear=function(c){var d=this._d3root.selectAll('.'+n);if(c===null||c===false||c===undefined){d.attr('fill-opacity',1);d.classed(k,false).classed(m,false);d.selectAll(".v-effect").each(function(){this.removeAttribute('stroke');this.removeAttribute("stroke-width")});d.selectAll(".v-target").attr('stroke-opacity',1)}else{d.attr('fill-opacity',0.4).attr('stroke','none');d.selectAll(".v-target").attr('stroke-opacity',0.4);d.classed(k,false).classed(m,false);d.selectAll(".v-effect").each(function(){this.removeAttribute('stroke');this.removeAttribute("stroke-width")})}};u.prototype.parent=function(){return this._d3root};u.prototype.data=function(_){if(!arguments.length){return this._bullet_originData}this._bullet_originData=_;this._bulletfn_parseOriginData(_);if(T.isExist(this._width)&&T.isExist(this._height)){this._bulletfn_makeScale()}return this};u.prototype.properties=function(c){if(!arguments.length){return this._props}O.extend(true,this._props,c);return this};u.prototype.width=function(_){if(!arguments.length){return this._width}this._width=_;if(T.isExist(this._bullet_originData)&&T.isExist(this._width)&&T.isExist(this._height)){this._bulletfn_makeScale()}return this};u.prototype.height=function(_){if(!arguments.length){return this._height}this._height=_;if(T.isExist(this._bullet_originData)&&T.isExist(this._width)&&T.isExist(this._height)){this._bulletfn_makeScale()}return this};u.prototype.dispatch=function(_){if(!arguments.length){return this._eDispatch}this._eDispatch=_;return this};u.prototype.categoryScale=function(c){if(!arguments.length){return this._categoryScale}this._categoryScale=c;return this};u.prototype.datalabelData=function(){return this._bullet_datalabelData};u.prototype.primaryScale=function(c){if(!arguments.length){return this._valueAxis1.scale}this._valueAxis1.scale=c;return this};u.prototype.primaryAxisTitle=function(_){if(this._bullet_measureData.values[0].col!==null&&this._bullet_measureData.values[0].col!==undefined){return this._bullet_measureData.values[0].col}else{return l.get('IDS_ISNOVALUE')}};u.prototype.colorPalette=function(_){if(!arguments.length){return this._bullet_colorPalette}this._bullet_colorPalette=_;return this};u.prototype.primaryDataRange=function(c){if(!arguments.length){return{min:this._bullet_primaryAxisMinValue,max:this._bullet_primaryAxisMaxValue}}var d,i;if(c!==null){if(!isNaN(c.max)){d=c.max}else{d=this._valueAxis1.scale.perfectDomainEnd}if(!isNaN(c.min)){i=c.min}else{i=this._valueAxis1.scale.perfectDomainBegin}if(d>i){this._bullet_primaryAxisMaxValue=d;this._bullet_primaryAxisMinValue=i;if(c.from==='axis'){this._bullet_primaryAxisManualRange=true}if(T.isExist(this._width)&&T.isExist(this._height)){this._bulletfn_makeScale()}}}else{if(this._bullet_primaryAxisManualRange===true){this._bullet_primaryAxisMaxValue=this._valueAxis1.scale.perfectDomainEnd;this._bullet_primaryAxisMinValue=this._valueAxis1.scale.perfectDomainBegin;this._bullet_primaryAxisManualRange=false;if(T.isExist(this._width)&&T.isExist(this._height)){this._bulletfn_makeScale()}}}return this};u.prototype.destroy=function(){if(this._categoryScale){this._categoryScale.domain([0,1]).range([0,1])}if(this._valueAxis1.scale){this._valueAxis1.scale.domain([0,1]).range([0,1])}if(this._d3root){this._d3root.selectAll('.'+n).remove()}this._categoryScale=null;this._bullet_dimensionData=null;this._bullet_defsEnter=null;this._bullet_chartData=null;this._bullet_primaryAxisManualRange=null;this._bullet_primaryAxisMaxValue=null;this._bullet_primaryAxisMinValue=null;this._valueAxis1.scale=null;this._d3root=null;if(this._bullet_effectManager&&this._bullet_effectManager.destroy){this._bullet_effectManager.destroy()}if(this._bullet_styleManager&&this._bullet_styleManager.destroy){this._bullet_styleManager.destroy()}};u.prototype._bullet_getBarInfo=function(){var d=this._categoryScale.rangeBand()*0.63;var c=this._categoryScale.rangeBand()*0.37;var i=this._props.barGap;var j=c,v=d;if(i!==undefined){var y=this._categoryScale.rangeBand()-i;if(!(i<5||y<0)){v=y;j=i}}return{'primaryBarSize':this._categoryScale.rangeBand()*0.42,'barSize':v,'barGap':j/2,'targetWidth':this._categoryScale.rangeBand()*0.82}};u.prototype._bulletfn_makeScale=function(){var d=[];for(var i=0;i<this._bullet_categoryLen;i++){d.push(i)}this._categoryScale.domain(d).rangeBands([0,this._height]);if(this._bullet_primaryAxisMinValue===0&&this._bullet_primaryAxisMaxValue===0){this._valueAxis1.scale.domain([0,1]).range([0,this._width])}else{this._valueAxis1.scale.domain([this._bullet_primaryAxisMinValue,this._bullet_primaryAxisMaxValue]).range([0,this._width])}S.perfect(this._valueAxis1.scale)};u.prototype._bulletfn_parseOriginData=function(d){this._bullet_dimensionData=d.getAnalysisAxisDataByIdx(0);this._bullet_measureData=d.getMeasureValuesGroupDataByIdx(0);this._bullet_targetData=d.getMeasureValuesGroupDataByIdx(1);this._bullet_referenceData=d.getMeasureValuesGroupDataByIdx(2);this._bullet_categoryLen=this._bullet_dimensionData.values[0].rows.length;this._bullet_primaryAxisMinValue=this._bullet_primaryAxisMaxValue=0;this._bullet_datalabelData=e.extend(true,{},this._bullet_dimensionData);this._bullet_datalabelData.values[0].col.name=this._bullet_measureData.values[0].col.name;this._bullet_datalabelData={"bulletdatalabel":this._bullet_datalabelData};this._bullet_groupData=[];var i,j;for(i=0;i<this._bullet_categoryLen;++i){var c={ctx:[],val:[]};c.ctx.push(this._bullet_measureData.values[0].rows[0][i].ctx);c.val.push(this._bullet_measureData.values[0].rows[0][i].val);this._bullet_datalabelData["bulletdatalabel"].values[0].rows[i].ctx=this._bullet_measureData.values[0].rows[0][i].ctx;this._bullet_datalabelData["bulletdatalabel"].values[0].rows[i].val=this._bullet_measureData.values[0].rows[0][i].val;if(this._bullet_measureData.values[0].rows[0][i].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_measureData.values[0].rows[0][i].val}if(this._bullet_measureData.values[0].rows[0][i].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_measureData.values[0].rows[0][i].val}if(this._bullet_measureData.values.length>1){c.ctx.push(this._bullet_measureData.values[1].rows[0][i].ctx);c.val.push(this._bullet_measureData.values[1].rows[0][i].val);if(this._bullet_measureData.values[1].rows[0][i].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_measureData.values[1].rows[0][i].val}if(this._bullet_measureData.values[1].rows[0][i].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_measureData.values[1].rows[0][i].val}}if(this._bullet_targetData&&this._bullet_targetData.values&&this._bullet_targetData.values.length>0){c.ctx.push(this._bullet_targetData.values[0].rows[0][i].ctx);c.val.push(this._bullet_targetData.values[0].rows[0][i].val);if(this._bullet_targetData.values[0].rows[0][i].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_targetData.values[0].rows[0][i].val}if(this._bullet_targetData.values[0].rows[0][i].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_targetData.values[0].rows[0][i].val}}if(this._bullet_referenceData&&this._bullet_referenceData.values&&this._bullet_referenceData.values.length){for(j=0;j<this._bullet_referenceData.values.length;++j){c.ctx.push(this._bullet_referenceData.values[j].rows[0][i].ctx);c.val.push(this._bullet_referenceData.values[j].rows[0][i].val);if(this._bullet_referenceData.values[j].rows[0][i].val<this._bullet_primaryAxisMinValue){this._bullet_primaryAxisMinValue=this._bullet_referenceData.values[j].rows[0][i].val}if(this._bullet_referenceData.values[j].rows[0][i].val>this._bullet_primaryAxisMaxValue){this._bullet_primaryAxisMaxValue=this._bullet_referenceData.values[j].rows[0][i].val}}}this._bullet_groupData.push(c)}};u.prototype.applyFormatConditions=function(c,d,j,v){var y=function(z,A){var E={drawingEffect:v._props.drawingEffect,fillColor:A.color,direction:v._props.isHorizontal===false?"horizontal":"vertical"};var F=v._bullet_effectManager.register(E);var i;for(i=0;i<z.length;i++){z[i].setAttribute('fill',F)}};s.applyConditons(c,d,j,y)};return u});define('sap/viz/feeds/Bullet',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"bullet",feeds:[{'id':'axisLabels','name':'IDS_AXISLABELS','type':c.Type.Dimension,'min':1,'max':1,'acceptMND':-1,'maxStackedDims':1,'aaIndex':1},{'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':1,'max':2,'mgIndex':1},{'id':'targetValues','name':'IDS_TARGETVALUES','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2},{'id':'referenceValues','name':'IDS_REFERENCEVALUES','type':c.Type.Measure,'min':0,'max':3,'mgIndex':3}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/xy/Bullet',['sap/viz/modules/manifests/Module','sap/viz/modules/bullet','sap/viz/modules/manifests/xy/BaseBar','sap/viz/modules/Constants','sap/viz/feeds/Bullet'],function Setup(M,f,B,C,a){var m={'id':'sap.viz.modules.bullet','name':'bullet',base:"sap.viz.modules.xy.bar.base",'properties':{'isRoundCorner':{'isExported':false},'animation':null,'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':["#2479BC","#d6d6d6"],'description':'Set the color palette for the chart.','example':"<a href='"+C.DocExample.SnippetUrl+"4449' target='_blank'>"+C.DocExample.TryThisValue+"</a>"},'primaryValuesColorPalette':{'isExported':false},'secondaryValuesColorPalette':{'isExported':false},'referenceValuesColorPalette':{'name':'referenceValuesColorPalette','supportedValueType':'StringArray','defaultValue':["#FCDCDA","#FEECDA","#DDF3E4"],'description':'Set the color palette reference value color in bullet chart.','isExported':true},},'css':{'.v-target':{'description':'Define the style for the target line in bullet','value':{'stroke':'#333333'}},},fn:f,'feeds':{id:'bullet'}};var b={viz:[],module:[m].concat(a.module),feeds:[].concat(a.feeds)};return b});define('sap/viz/manifests/xy/BulletChart',['sap/viz/manifests/Viz','sap/viz/modules/Constants','sap/viz/base/UADetector','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/xy/Bullet','sap/viz/modules/manifests/controller/Pinch','sap/viz/manifests/xy/BaseHorizontalChart'],function Setup(M,C,U,R,B,P,a){var i=function(d,b){return d3.select(d).datum()===d3.select(b).datum()};var c={id:'viz/bullet',name:'IDS_BULLETCHART',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',base:'riv/basehorizontalchart',modules:{root:{modules:{legends:null,interaction:{id:'sap.viz.modules.controller.interaction',configure:{clientID:'main',propertyCategory:'interaction',properties:{dataPointsCacheable:false,holdSelection:false,extensionPoints:{isEqual:i}},propertiesOverride:{selectability:{"legendSelection":{isExported:false}},pan:{isExported:false}}}},tooltip:{id:'sap.viz.chart.elements.Tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'pie_with_depth'}}},main:{modules:{dataLabel:null,xAxis:null,xAxis2:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis2',properties:{type:'value',position:'top',title:{visible:true},gridline:{visible:true},indicator:{enable:false}},propertiesOverride:{label:{"hideSubLevels":{isExported:false}},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'yAxis',properties:{title:{visible:true},indicator:{enable:false}},propertiesOverride:{label:{"hideSubLevels":{isExported:false},isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis on the right or top side of an XY chart with two value axes',propertyCategory:'yAxis2',properties:{isIndependentMode:true,type:'category',position:'right',isTruncateAvailable:false,gridline:{visible:false},label:{hideStrategy:'greedy'},axisline:{visible:false},axisTick:{visible:false}},propertiesOverride:{color:{isExported:false},lineSize:{isExported:false},title:{isExported:false},label:{"visible":{isExported:false},"formatString":{isExported:false},"unitFormatType":{isExported:false},"hideSubLevels":{isExported:false},numberFormat:{isExported:false},isExported:false},gridline:{isExported:false},axisline:{isExported:false},scale:{fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false},isExported:false}}}},plot:{id:'sap.viz.modules.bullet',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',propertiesOverride:{drawingEffect:{isExported:false}}}}}}}}},dependencies:{attributes:[{targetModule:'root.main.xAxis2',target:'scale',sourceModule:'root.main.plot',source:'primaryScale'},{targetModule:'root.main.yAxis',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis2',target:'scale',sourceModule:'root.main.plot',source:'categoryScale'},{targetModule:'root.main.yAxis2',target:'independentData',sourceModule:'root.main.plot',source:'datalabelData'},{targetModule:'root.main.xAxis2',target:'title',sourceModule:'root.main.plot',source:'primaryAxisTitle'},null],events:[{targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'}]}};var m={viz:[c].concat(a.viz),module:[].concat(a.module,R.module,B.module,P.module),feeds:[].concat(a.feeds,R.feeds,B.feeds,P.feeds)};return m});define('sap/viz/impls/BulletChart',['sap/viz/manifests/xy/BulletChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/manifests/scatter/TimeValueBubbleChart',['sap/viz/manifests/Viz','sap/viz/manifests/scatter/BubbleChart'],function Setup(M,B){var c={id:'viz/time_bubble',name:'IDS_TIMEVALUEBUBBLECHART',base:'viz/bubble',modules:{root:{modules:{main:{modules:{plot:{id:'sap.viz.modules.bubble',configure:{description:'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea',properties:{timeBased:true}}},xAxis:{id:'sap.viz.modules.axis',configure:{propertyCategory:'xAxis',properties:{type:'timeValue'},propertiesOverride:{label:{formatString:{isExported:false},unitFormatType:{isExported:false}},scale:{fixedTicks:{isExported:true},fixedRange:{isExported:false},minValue:{isExported:false},maxValue:{isExported:false}}}}}}}}}},valueAxis:null};var m={viz:[c].concat(),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/impls/TimeValueBubbleChart',['sap/viz/manifests/scatter/TimeValueBubbleChart'],function Setup(B){var m={viz:[].concat(B.viz),module:[].concat(B.module),feeds:[].concat(B.feeds)};return m});define('sap/viz/modules/number',['sap/viz/base/utils/oo','sap/viz/modules/Base','sap/viz/util/TextUtils','sap/viz/modules/dispatch','sap/viz/base/utils/Objects','sap/viz/util/NumberUtils','sap/viz/lang/langManager','sap/viz/modules/util/BoundUtil'],function Setup(o,B,T,d,O,N,l,a){var C="v-valuepoint";var b=function(m,c){this._width=null;this._height=null;this._sizeChanged=false;this._data=null;this._dataChanged=false;this._props={};this._propsChanged=false;this._formatString="";this._formatChanged=false;this._parent=undefined;this._dispatch=d("initialized",'startToInit');this._valuePointSelection=undefined;this._valueNode=undefined;if(m){this.properties(m.props(null))}};o.extend(b,B);b.prototype.render=function(s){if(!s){return}a.drawBound(s,this._width,this._height);this._parent=s;if(!this._valuePointSelection){this._valuePointSelection=s.append("g").attr("class",C)}this._dispatch.startToInit();this._drawValuePoint(this._valuePointSelection);this._dispatch.initialized()};b.prototype._drawValuePoint=function(s){var m,f,c,e,g,h,v,r=this._dataChanged||this._propsChanged||this._sizeChanged,i;if(!this._valueNode){this._valueNode=s.append("text").attr("dominant-baseline","middle").attr("text-anchor","middle")}if(this._dataChanged&&this._data||this._formatChanged){m=this._data.getMeasureValuesGroupDataByIdx(0);this._value=m&&m.values&&m.values[0]&&m.values[0].rows?m.values[0].rows[0][0].val:'';v=this._formatString?this._formatString:'';var j=N.format(this._value,v);this._value=j?j.replace(/#minus#/g,'-'):j;this._dataChanged=false;this._formatChanged=false}if(this._propsChanged){f=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontSize:70;c=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontColor:'black';e=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontFamily:"'Open Sans',Arial,Helvetica,sans-serif";g=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontWeight:'normal';h=this._props.valuePoint&&this._props.valuePoint.label?this._props.valuePoint.label.fontStyle:'normal';this._valueNode.attr("font-size",f).attr("fill",c).attr("font-family",e).attr("font-weight",g).attr("font-style",h);this._propsChanged=false}if(this._sizeChanged){this._valueNode.attr("x",this._width/2).attr("y",this._height/2);this._sizeChanged=false}if(r){T.ellipsis(this._value,this._valueNode.node(),this._width)}};b.prototype.data=function(v){if(arguments.length>0){this._data=v;this._dataChanged=true;return this}return this._data};b.prototype.parent=function(){return this._parent};b.prototype.properties=function(v){if(arguments.length>0){O.extend(true,this._props,v);this._propsChanged=true;if(v&&v.valuePoint&&v.valuePoint.label&&v.valuePoint.label.formatString!==this._formatString){this._formatString=v.valuePoint.label.formatString;this._formatChanged=true}return this}return this._props};b.prototype.width=function(v){if(arguments.length>0){this._width=Number(v);this._sizeChanged=true;return this}return this._width};b.prototype.height=function(v){if(arguments.length>0){this._height=Number(v);this._sizeChanged=true;return this}return this._height};b.prototype.size=function(v){if(arguments.length>0){v=!v?{}:v;this._width=v.width;this._height=v.height;this._sizeChanged=true;return this}return{width:this._width,height:this._height}};b.prototype.dispatch=function(_){return this._dispatch};b.prototype.destroy=function(){if(this._parent){this._parent=null}if(this._valuePointSelection){this._valuePointSelection=null}if(this._valueNode){this._valueNode=null}};return b});define('sap/viz/feeds/Number',['sap/viz/feeds/Manifest','sap/viz/data/feed/Constants'],function Setup(M,c){var f={id:"number",feeds:[{'id':'value','name':'IDS_NUMBERCHART_VALUE','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1}]};var m={viz:[],module:[],feeds:[f]};return m});define('sap/viz/modules/manifests/Number',['sap/viz/modules/manifests/Module','sap/viz/modules/Constants','sap/viz/modules/number','sap/viz/feeds/Number'],function Setup(M,C,f,N){var m={'id':'sap.viz.modules.number','type':C.Type.Chart,'name':'number','properties':{'valuePoint':{'name':'valuePoint','supportedValueType':'Object','supportedValues':{'label':{'name':'label','supportedValueType':'Object','supportedValues':{'fontColor':{'name':'fontColor','supportedValueType':'String','defaultValue':'black'},'fontFamily':{'name':'fontFamily','supportedValueType':'String','defaultValue':"Arial"},'fontSize':{'name':'fontSize','supportedValueType':'Number','defaultValue':72},'fontWeight':{'name':'fontWeight','supportedValueType':'String','defaultValue':'normal'},'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':''}}}}}},'events':{'initialized':C.Event.Initialized.desc},'feeds':{'id':"number"},fn:f};var a={viz:[],module:[m],feeds:[].concat(N.feeds)};return a});define('sap/viz/manifests/NumberChart',['sap/viz/manifests/Viz','sap/viz/manifests/BaseSingleChart','sap/viz/modules/manifests/RootContainer','sap/viz/modules/manifests/Number'],function Setup(M,B,R,N){var c={id:'viz/number',name:'IDS_NUMBERCHART',base:'riv/base/single',isBuiltIn:true,legacyDataAdapter:true,dataModel:'sap.viz.api.data.CrosstableDataset',modules:{root:{modules:{title:{id:'sap.viz.modules.title',configure:{propertiesOverride:{layout:{isExported:true}}}},legends:null,main:{modules:{plot:{id:'sap.viz.modules.number',configure:{'description':'Settings for the appearance of the chart and plot areas, as well as other chart options',propertyCategory:'plotArea'}}}}}}}};var m={viz:[c].concat(B.viz),module:[].concat(B.module,R.module,N.module),feeds:[].concat(B.feeds,R.feeds,N.feeds)};return m});define('sap/viz/impls/NumberChart',['sap/viz/manifests/NumberChart'],function Setup(N){var m={viz:[].concat(N.viz),module:[].concat(N.module),feeds:[].concat(N.feeds)};return m});define('sap/viz/load',['sap/viz/impls/InfoBarChart','sap/viz/impls/InfoColumnChart','sap/viz/impls/InfoDualBarChart','sap/viz/impls/InfoDualColumnChart','sap/viz/impls/InfoLineChart','sap/viz/impls/InfoHorizontalLineChart','sap/viz/impls/InfoDualLineChart','sap/viz/impls/InfoDualHorizontalLineChart','sap/viz/impls/InfoStackedBarChart','sap/viz/impls/InfoStackedColumnChart','sap/viz/impls/InfoDualStackedBarChart','sap/viz/impls/InfoDualStackedColumnChart','sap/viz/impls/InfoPercentageStackedBarChart','sap/viz/impls/InfoPercentageStackedColumnChart','sap/viz/impls/InfoDualPercentageStackedBarChart','sap/viz/impls/InfoDualPercentageStackedColumnChart','sap/viz/impls/InfoScatterChart','sap/viz/impls/InfoBubbleChart','sap/viz/impls/InfoTimeValueBubbleChart','sap/viz/impls/InfoPieChart','sap/viz/impls/InfoDonutChart','sap/viz/impls/InfoCombinationChart','sap/viz/impls/InfoBulletChart','sap/viz/impls/AreaChart','sap/viz/impls/Bar3DChart','sap/viz/impls/BarChart','sap/viz/impls/BubbleChart','sap/viz/impls/Column3DChart','sap/viz/impls/CombinationChart','sap/viz/impls/DonutChart','sap/viz/impls/DonutWithDepthChart','sap/viz/impls/DualBarChart','sap/viz/impls/DualCombinationChart','sap/viz/impls/DualHorizontalCombinationChart','sap/viz/impls/DualHorizontalLineChart','sap/viz/impls/DualLineChart','sap/viz/impls/DualPercentageStackedBarChart','sap/viz/impls/DualPercentageStackedVerticalBarChart','sap/viz/impls/DualStackedBarChart','sap/viz/impls/DualStackedVerticalBarChart','sap/viz/impls/DualVerticalBarChart','sap/viz/impls/HeatMapChart','sap/viz/impls/HorizontalAreaChart','sap/viz/impls/HorizontalBoxplotChart','sap/viz/impls/HorizontalCombinationChart','sap/viz/impls/HorizontalLineChart','sap/viz/impls/HorizontalMekkoChart','sap/viz/impls/HorizontalStackedWaterfallChart','sap/viz/impls/HorizontalWaterfallChart','sap/viz/impls/ImageBarChart','sap/viz/impls/LineChart','sap/viz/impls/MekkoChart','sap/viz/impls/MultiAreaChart','sap/viz/impls/MultiBarChart','sap/viz/impls/MultiBubbleChart','sap/viz/impls/MultiDonutChart','sap/viz/impls/MultiDonutWithDepthChart','sap/viz/impls/MultiDualBarChart','sap/viz/impls/MultiDualHorizontalLineChart','sap/viz/impls/MultiDualLineChart','sap/viz/impls/MultiDualPercentageStackedBarChart','sap/viz/impls/MultiDualPercentageStackedVerticalBarChart','sap/viz/impls/MultiDualStackedBarChart','sap/viz/impls/MultiDualStackedVerticalBarChart','sap/viz/impls/MultiDualVerticalBarChart','sap/viz/impls/MultiHorizontalAreaChart','sap/viz/impls/MultiHorizontalLineChart','sap/viz/impls/MultiLineChart','sap/viz/impls/MultiPercentageAreaChart','sap/viz/impls/MultiPercentageHorizontalAreaChart','sap/viz/impls/MultiPercentageStackedBarChart','sap/viz/impls/MultiPercentageStackedVerticalBarChart','sap/viz/impls/MultiPieChart','sap/viz/impls/MultiPieWithDepthChart','sap/viz/impls/MultiRadarChart','sap/viz/impls/MultiScatterChart','sap/viz/impls/MultiStackedBarChart','sap/viz/impls/MultiStackedVerticalBarChart','sap/viz/impls/MultiVerticalBarChart','sap/viz/impls/NetworkChart','sap/viz/impls/PercentageAreaChart','sap/viz/impls/PercentageHorizontalAreaChart','sap/viz/impls/PercentageHorizontalMekkoChart','sap/viz/impls/PercentageMekkoChart','sap/viz/impls/PercentageStackedBarChart','sap/viz/impls/PercentageStackedVerticalBarChart','sap/viz/impls/PieChart','sap/viz/impls/PieWithDepthChart','sap/viz/impls/RadarChart','sap/viz/impls/ScatterChart','sap/viz/impls/ScatterMatrixChart','sap/viz/impls/SimpleChart','sap/viz/impls/StackedBarChart','sap/viz/impls/StackedVerticalBarChart','sap/viz/impls/StackedWaterfallChart','sap/viz/impls/TagCloudChart','sap/viz/impls/TreeChart','sap/viz/impls/TreeMapChart','sap/viz/impls/TrellisAreaChart','sap/viz/impls/TrellisBarChart','sap/viz/impls/TrellisBubbleChart','sap/viz/impls/TrellisColumnChart','sap/viz/impls/TrellisDonutChart','sap/viz/impls/TrellisDualBarChart','sap/viz/impls/TrellisDualColumnChart','sap/viz/impls/TrellisDualHorizontalLineChart','sap/viz/impls/TrellisDualLineChart','sap/viz/impls/TrellisDualPercentageStackedBarChart','sap/viz/impls/TrellisDualPercentageStackedColumnChart','sap/viz/impls/TrellisDualStackedBarChart','sap/viz/impls/TrellisDualStackedColumnChart','sap/viz/impls/TrellisHorizontalAreaChart','sap/viz/impls/TrellisHorizontalLineChart','sap/viz/impls/TrellisLineChart','sap/viz/impls/TrellisPercentageAreaChart','sap/viz/impls/TrellisPercentageHorizontalAreaChart','sap/viz/impls/TrellisPercentageStackedBarChart','sap/viz/impls/TrellisPercentageStackedColumnChart','sap/viz/impls/TrellisPieChart','sap/viz/impls/TrellisScatterChart','sap/viz/impls/TrellisStackedBarChart','sap/viz/impls/TrellisStackedColumnChart','sap/viz/impls/VerticalBarChart','sap/viz/impls/VerticalBoxplotChart','sap/viz/impls/WaterfallChart','sap/viz/impls/BulletChart','sap/viz/impls/TimeValueBubbleChart','sap/viz/impls/NumberChart'],function Setup(){return});define('sap/viz/data/handler/BaseDataHandler',['sap/viz/base/utils/FunctionUtils','sap/viz/base/utils/TypeUtils','sap/viz/lang/langManager'],function Setup(F,T,l){function d(f){var e=[];var g=true;var i=0;for(;i<f.length;i++){var h=f[i];if(h.type()==="Dimension"&&h.acceptMND()>=0){if(h.hasMNDFeeded()){return h.feedId()}else if(h.getDataCount()<h.max()){e[h.acceptMND()]=h;if(g){g=h.hasFeeded()}}}}if(e.length===0){return""}if(g){return e[e.length-1].feedId()}for(i=e.length-1;i>=0;i--){if(e[i]&&!e[i].hasFeeded()){return e[i].feedId()}}return""}function v(e){if(T.isString(e)){return e}else if(T.isNumber(e)){return e.toString()}else{return null}}function a(e){if(T.isString(e)||T.isNumber(e)){return e}else{return null}}function b(e){if(T.isNumber(e)){return parseFloat(e)}else{return null}}function c(r,u){var e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var f=r.getDataPointCount();if(u===Number.POSITIVE_INFINITY||!T.isNumber(u)||u>=f){return e}var m=0;var g=r.getMeasureValuesGroupCount();for(var i=0;i<g;i++){m+=r.getMeasureValuesGroupByIdx(i).getMeasureValues().length}var h=Math.floor(u/m);var j=r.getAnalysisAxisCount();if(j===0||j===1){e[0]=h}else if(j===2){var k=r.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var n=k.getValues()[0].length;if(h/n<1){e[0]=h;e[1]=1}else{e[1]=Math.floor(h/n)}}return e}function B(f,r,u){this._feeder=f;this._feeds=f.getFeeds();this._mndFeed=d(this._feeds);this._limit=c(r,u)}B.prototype.getFeedValues=function(f){var e=this._feeder.findFeed(f);if(!e){F.error(l.getLogMessage('IDS_ERROR_NOT_FIND_FEED_DEFINITION',f))}if(e.type()==="Dimension"){return this.getDimensionFeedValues(e)}else if(e.type()==="Measure"){return this.getMeasureFeedValues(e)}};B.prototype.getDimensionFeedValues=function(f){var e=[];var h=false;var g=f.data();var o;var m=l.get('IDS_DEFAULTMND');if(g.length>0){for(var i=0;i<g.length;i++){var n=g[i];if(n){if(n.getType()==="measureNamesDimension"){o={};o['col']={'val':m};o['type']='MND';o['rows']=this.getMeasureNamesValues();e.push(o);h=true}else if(n.getType()==="analysisAxis"){var p=n.getDimensionLabels();var q=this._feeder.getAnalysisAxisIndex(f);for(var j=0;j<p.length;j++){o={};o['col']={'val':a(p[j].getId())};var r=[];var s=p[j].getValues();var t=p[j].infos();var u=s.length;if(this._limit[q]!==Number.POSITIVE_INFINITY){u=this._limit[q]}for(var k=0;k<u;k++){var w={'val':a(s[k]),'ctx':{'type':'Dimension','path':{'aa':q,'di':j,'dii':k}}};if(T.isExist(t)){w.info=t[k]}r.push(w)}o['rows']=r;e.push(o)}}else{F.error(l.getLogMessage('IDS_ERROR_WRONG_TYPE'))}}}}if(f.feedId()===this._mndFeed&&h===false){o={};o['col']={'val':m};o['type']='MND';o['rows']=this.getMeasureNamesValues();e.unshift(o)}return e.length>0?e:null};B.prototype.getMeasureFeedValues=function(f){var e=[];var m=f.getMeasureValues();var g=this._feeder.getMeasureValuesGroupIndex(f);for(var i=0;i<m.length;i++){var o={};o['col']=a(m[i].getId());var r=[];var h=m[i].getValues();var n=m[i].infos();var p=h.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){p=this._limit[1]}for(var j=0;j<p;j++){var q=h[j];var s=[],t={};var u=q.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){u=this._limit[0]}for(var k=0;k<u;k++){t={'val':b(q[k]),'ctx':{'type':'Measure','path':{'mg':g,'mi':i,'dii_a1':k,'dii_a2':j}}};if(T.isExist(n)){if(n[j]){t.info=n[j][k]}}s.push(t)}r.push(s)}o['rows']=r;e.push(o)}return e.length>0?e:null};B.prototype.getMeasureNamesValues=function(){var e=[];var m=this._feeder.getMeasureValuesGroupFeeds();for(var i=0;i<m.length;i++){if(m[i].hasFeeded()){var f=m[i].getMeasureValues();for(var j=0;j<f.length;j++){e.push({'val':a(f[j].getId()),'ctx':{'path':{'mg':i,'mi':j}}})}}}return e};return B});define('sap/viz/chart/mvc/ChartApplication',['sap/viz/base/utils/Objects','sap/viz/mvc/VizApplication','sap/viz/TemplateManager','sap/viz/chart/mvc/ChartController','sap/viz/manifest','sap/viz/load','sap/viz/data/feed/feeder','sap/viz/data/handler/BaseDataHandler','sap/viz/data/MultiAxesDataAdapter','sap/viz/config','sap/viz/base/utils/log/Analyzer','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager','sap/viz/data/CrosstableDataset','sap/viz/api/data/FlatTableDataset','sap/viz/api/manifest/Viz','sap/viz/base/utils/TypeUtils','sap/viz/data/utils/DatasetUtils'],function(O,V,T,C,m,l,F,B,M,g,A,a,L,b,c,d,e,D){var f=V.extend({RootControllerClass:C,appDidFinishLaunching:function(o){var h=o.launchOptions;this.vizFrame.suppressMouseOnMobile(false);A.pnrProfiling("Property:merge_with_template");var t=T.current();var i=h.vizType;var j=O.extend(true,null,t.props(i),h.options);A.pnrProfiling("Property:merge_with_template");this._vc_vizType=h.vizType;this._vc_dataset=h.data.rawData;this._vc_feeding=h.feeding;this._vc_properties=j;this._vc_css=(t.css||"")+(h.css||"");var v=g.get(this._vc_vizType)?g.get(this._vc_vizType):{};this.max_canvas=g.enableCanvg()&&v.max_canvas?v.max_canvas:Number.POSITIVE_INFINITY;A.pnrProfiling("Data:turn_to_adapter");var k,r=this._vc_dataset;if(this._vc_dataset instanceof b&&d.get(this._vc_vizType)[0].legacyDataAdapter){k=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas)}else if(this._vc_dataset instanceof c){D.checkFlatTableFeedingAcceptable(this._vc_dataset,this._vc_feeding,m.viz.get(this._vc_vizType).allFeeds());k={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType};r=this._vc_dataset._FlatTableD}else if(this._vc_dataset instanceof b&&!d.get(this._vc_vizType)[0].legacyDataAdapter){k={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType}}else{k=this._vc_dataset}A.pnrProfiling("Data:turn_to_adapter");this.controller.initUIComponent({vizType:this._vc_vizType,dataset:k,option:this._vc_properties,css:this._vc_css,events:h.events,rawData:r})},_vc_createAdapter:function(v,r,h,u){var j=F(m.viz.get(v).allFeeds(true),r,h);var k=new B(j,r,u);var n=j.getFeeds();var o=new M(j.getBindingInfo());o.fakeData(r.hasFakeData());o.emptyDataset(r.isEmptyDataset());o.dataPointCount(r.getDataPointCount());var p,q;for(var i=0,s=n.length;i<s;i++){p=n[i].feedId();q=k.getFeedValues(p);if(q!==null){if(n[i].type()==="Dimension"){o.addAnalysisAxis({values:q,index:n[i].getIndex()-1})}else{o.addMeasureValuesGroup({values:q,index:n[i].getIndex()-1})}}}return o},css:function(){return this.controller.css.apply(this.controller,arguments)},cssProperty:function(){return this.controller.cssProperty.apply(this.controller,arguments)},size:function(s){if(s!==undefined){if(s.width&&s.height&&!s.auto){this.vizFrame.size(s)}if(typeof s.auto==="boolean"){this.vizFrame.autoResize(s.auto)}return this}else{return this.vizFrame.size()}},getSelectedObjects:function(o){return this.controller.getSelectedObjects(o)},setSelectedObjects:function(i,o){return this.controller.setSelectedObjects(i,o)},selectedPropertyZone:function(s){var r=this.controller.selectedPropertyZone.apply(this.controller,arguments);return arguments.length?this:r},getAllFeedingZone:function(){return this.controller.getAllFeedingZone()},getPropertyZone:function(){return this.controller.getPropertyZone()},update:function(u){if(u){var n=false;if(u.properties){if(this.controller){this._vc_properties=u.properties;this.controller.updateProperties(this._vc_properties);n=true}}if(u.css){this.controller.css(u.css);n=true}if(u.cssProperty){this.controller.cssProperty(u.cssProperty);n=true}if(u.data||u.feeding){if(u.data){this._vc_dataset=u.data}if(u.feeding||u.feeding===null){this._vc_feeding=u.feeding}var h;if(this._vc_dataset instanceof b&&d.get(this._vc_vizType)[0].legacyDataAdapter){h=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas)}else if((this._vc_dataset instanceof c)||(this._vc_dataset instanceof b&&!d.get(this._vc_vizType)[0].legacyDataAdapter)){h={dataset:this._vc_dataset,feeding:this._vc_feeding,vizType:this._vc_vizType}}else{h=this._vc_dataset}this.controller.setDataset(h);if(u.data instanceof b){this.controller.updateRawData(u.data)}n=true}if(n){this.controller.render()}}},getSupportedEvents:function(){return this.controller.getSupportedEvents()},setDataset:function(h){this._vc_dataset=h;var n=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this.controller.setDataset(n)},getDataset:function(){return this._vc_dataset},updateProperties:function(p){if(this._controller){this._vc_properties=p;this.controller.updateProperties(this._vc_properties)}},getProperties:function(){return this.controller.getProperties()},exportToSVGString:function(o){return this.controller.exportToSVGString(o)}});return f});define('sap/viz/core',['jquery','sap/viz/data/CrosstableDataset','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/log/Analyzer','sap/viz/chart/mvc/ChartApplication','sap/viz/manifest','sap/viz/config','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager','sap/viz/manifests/util/ManifestRegister','sap/viz/data/FlatTableDataset'],function Setup($,C,T,O,P,a,m,c,F,l,M,b){var r={constructor:function(){},instances:[],createViz:function(u){M.registerAll();var _={},d=u.feeding,e=this;if(!u.data){u.data=new C();var f=m.viz.get(u.type).allFeeds(true);var g=[];var h=[];var i=0;var j=0;if(f!==undefined&&f!==null&&f.length>0){for(;i<f.length;i++){var t=f[i].type;if(t==="Dimension"){j=0;for(;j<f[i].min;j++){g.push({'index':g.length+1,'data':[{'values':[''],'infos':[{}]}]})}}if(t==="Measure"){j=0;for(;j<f[i].min;j++){h.push({'index':h.length+1,'data':[{'values':[['']]}]})}}}}else{g.push({'index':1,'data':[{'values':[''],'infos':[{}]}]});h.push({'index':1,'data':[{'values':[['']]}]})}u.data.setData({'analysisAxis':g,'measureValuesGroup':h})}if(u.options!==undefined&&u.properties===undefined){u.properties=u.options}P.pnrContext(':creation:'+O.size(u.properties)+':'+O.size(u.css));var v={constructor:function(){},on:function(o,p,s){_[o]={callback:p,scope:s};this.app.controller.rootUIComponent.attachEvent(o,p,s);return this},size:function(s){if(!arguments.length){return this.app.size()}this.app.size(s);return this},selection:function(){var o=null;var s=null;var p=false;if(arguments.length<=0){p=true}else if(arguments.length<=1){if(arguments[0]instanceof Array){p=false;o=arguments[0]}else{p=true;s=arguments[0]}}else{p=false;o=arguments[0];s=arguments[1]}var q;if(p){q=this.app.getSelectedObjects(s)}else{q=this.app.setSelectedObjects(o,s)}return q},data:function(o){if(!arguments.length){return this.app.getDataset()}this.update({'data':o});for(var p in _){if(_.hasOwnProperty(p)){this.on(p,_[p].callback,_[p].scope)}}return this},properties:function(p){if(!arguments.length){return this.app.getProperties()}P.pnrContext(':updateProperty:'+O.size(p));this.update({properties:p});return this},css:function(o){if(!arguments.length){return this.app.css()}this.update({css:o});return this},feeding:function(o){if(!arguments.length){return d}d=o;this.update({feeding:o});return this},feedingZone:function(){return this.app.getAllFeedingZone()},update:function(o){if(o){if(T.isDefined(o.feeding)){d=o.feeding}this.app.update(o)}return this},destroy:function(){e.instances.splice(e.instances.indexOf(this),1);this.app.destroy();this.app=null},toJSON:function(){var o={};o.type=u.type;o.data={type:"crosstable",val:this.app.getDataset().data()};o.properties=this.properties();o.css=this.css();o.feeding=d;o.size=this.app.size();return o}};var k=u.data instanceof b;c.register({id:'isFlatTable',value:k});var n=u.data instanceof C;c.register({id:'isCrossTable',value:n});v.app=new a({holder:u.container,launchOptions:{vizType:u.type,options:u.properties,css:u.css,data:{rawData:u.data},feeding:u.feeding||u.dataFeeding,events:u.events}});Object.defineProperty(v,"type",{value:u.type,enumerable:true});e.instances.push(v);return v},destroyViz:function(){for(var i=-1,j=arguments.length;++i<j;){arguments[i].destroy()}},exportViz:function(d){return d.toJSON()}};return r});define('sap/viz/ccl',['sap/viz/core','sap/viz/data/CrosstableDataset'],function Setup(C,a){var c={constructor:function(){return},loadViz:function(d,b){var o={};o.container=b;o.type=d.type;o.options=d.properties;o.data=new a();o.data.setData(d.data.val);o.css=d.css;o.feeding=d.feeding;return C.createViz(o)}};return c});define('sap/viz/extapi/core',['sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(T,L,l){var c={};c._actionMap={};c.registerVizAction=function(k,h){if(T.isString(k)&&T.isString(h)){c._actionMap[k]=h}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};c.unregisterVizAction=function(k){if(T.isString(k)){if(c._actionMap[k]){c._actionMap[k]=undefined;delete c._actionMap[k]}}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};c.registerBundle=function(b){var d=define;var n=b.id.split(".");var m=n[n.length-1]+"-bundle";d(m,function(){return b});return b};return c});define('sap/viz/data/utils/TF2CTFConvertUtil',['sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/FunctionUtils'],function(O,F){var b=function(t,f,e,m){if(t==='analysisAxis'){e.push(f);return e.length}else if(t==='measureValuesGroup'){m.push(f);return m.length}};var g=function(f,e){for(var i=0;i<e.length;i++){if(e[i].id===f){if(e[i].semanticType!=='Dimension'&&e[i].semanticType!=='Measure'){F.error('no such semantic type');return}return e[i].semanticType}else if(i===(e.length-1)){F.error('no such field');return}}};var c=function(f,e){var s;for(var i=0;i<f.length;i++){if(i>0&&s!==g(f[i],e)){F.error('dimensions and measures should not be built in one group');return}s=g(f[i],e)}return s};var a=function(e,f,h,j){var s=c(f,h);for(var i=0;i<j.length;i++){if(j[i].id===e){if(s!==j[i].type){F.error('semantic type not matching feedDef id');return}if(f.length<j[i].minStackedDimension||f.length>j[i].maxStackedDimension){F.error('not matching binding dims quantity');return}break}else if(i===(j.length-1)){F.error('not matching any def');return}}return s};var d=function(s,f){for(var i=0;i<s.length;i++){if(s[i]!=='measureNamesDimension'){f.push(s[i])}}return s.length>f.length};var T=function(f,e,h){var i=[];var m=[];var j=[];var k={};var C=0;for(var l in h){var n=[];if(h[l].length===0){continue}var o=d(h[l],n);var s=a(l,n,f,e);if(s===undefined){return}j[C]={feedId:l};var p;var q=[];var r={};if(s==='Dimension'){p=b('analysisAxis',n,i,m);r.type='analysisAxis'}else if(s==='Measure'){p=b('measureValuesGroup',n,i,m);r.type='measureValuesGroup'}r.index=p;q.push(r);if(o){q.push({type:'measureNamesDimension'})}j[C].binding=q;C++}k.ctBinding=j;k.analysisAxis=i;k.measureValuesGroup=m;return k};return T});define('sap/viz/data/utils/TB2CTBConvertUtil',["sap/viz/data/utils/TF2CTFConvertUtil"],function(T){var c=function(v,a,i){v.splice(i,0,a)};var f=function(a,A,b){var j=0;var k='';var t='';var u=0;var v=A.length>0?A[0].values.length:0;var w;for(var i=0;i<A.length;i++){w=h(A[i].values,a[b[i]],u,v);u=w.front;v=w.length;j=w.index;t+='\0'+A[i].values[j-1];k+='\0'+a[b[i]];c(A[i].values,a[b[i]],j)}var x=g(t,k,A,j);var y={};y.duplicateAA=x;y.indexInAA=j;return y};var d=function(v,a,b){for(var i=0;i<v.values.length;i++){if(i!==b){c(v.values[i],null,a)}}};var e=function(a,b,M,t,u,v,w){for(var i=0;i<M.length;i++){for(var j=0;j<M[i].length;j++){if(!v&&!u){var x=[];if(b>0){for(var k=0;k<M[i][j].values[b-1].length;k++){x.push(null)}}c(M[i][j].values,x,b);c(M[i][j].values[b],t[w[i][j]],a);d(M[i][j],a,b)}else if(v&&!u){if(b>0){c(M[i][j].values[b-1],t[w[i][j]],a);d(M[i][j],a,b-1)}else{c(M[i][j].values[b],t[w[i][j]],a)}}else if(!v&&u){var x=[];if(b>0){for(var k=0;k<M[i][j].values[b-1].length;k++){x.push(null)}}c(M[i][j].values,x,b);M[i][j].values[b][a-1]=t[w[i][j]]}else{if(typeof M[i][j].values[b-1][a-1]==='number'){M[i][j].values[b-1][a-1]+=t[w[i][j]]}else{M[i][j].values[b-1][a-1]=t[w[i][j]]}}}}};var g=function(a,b,j,k){if(a===b&&a!==''){for(var i=0;i<j.length;i++){j[i].values.splice(k,1)}return true}else if(j.length===0){return true}};var h=function(v,a,b,i){var j={};if(v.indexOf(a,b)>-1&&v.indexOf(a,b)<b+i){j.index=v.lastIndexOf(a,b+i-1)+1;j.front=v.indexOf(a,b);j.length=j.index-j.front}else{j.front=b+i;j.index=j.front;j.length=j.index-j.front}return j};var l=function(a,A,b,M,i,j){var k=f(a,A,i.AA1);var t=k.duplicateAA;var u=k.indexInAA;if(j===true&&b.length===0){var v=false;var w=0}else if(b.length===0){var v=true;var w=1}else{var x=f(a,b,i.AA2);var v=x.duplicateAA;var w=x.indexInAA}e(u,w,M,a,t,v,i.MGs)};var s=function(j){var k=[];k=j.filter(function(v,a,b){return b.indexOf(v)===a});for(var i=0;i<k.length;i++){var t={};t.index=j.indexOf(k[i]);t.value=k[i];t.length=(j.lastIndexOf(k[i])+1);k[i]=t}j.sort(function(a,b){if(a>b){return 1}else if(a<b){return-1}else{return 0}});k.sort(function(a,b){if(a.name>b.name){return 1}else if(a.name<b.name){return-1}else{return 0}});return k};var m=function(A){var a=[{index:0,length:A[0].values.length}];for(var i=0;i<A.length;i++){var b=[];for(var j=0;j<a.length;j++){var t=A[i].values.slice(a[i].index,a[i].length);t.sort();b=b.concat(t)}A[i].values=b;if(i+1<A.length){a=s(A[i].values)}}};var r=function(a,b,k,t){var u={};var A=[];var v=[];var M=[];for(var i=0;i<a.length;i++){if(b.indexOf(a[i])>-1){A[b.indexOf(a[i])]=i;continue}else if(k.indexOf(a[i])>-1){v[k.indexOf(a[i])]=i;continue}else{for(var j=0;j<t.length;j++){if(t[j].indexOf(a[i])>-1){if(M[j]===undefined){M[j]=[]}M[j][t[j].indexOf(a[i])]=i;continue}}}}u.AA1=A;u.AA2=v;u.MGs=M;return u};var n=function(a,b,t){var j={};j.index=b;j.data=[];for(var i=0;i<a.length;i++){var k={};k.type=t;k.name=a[i].metaData;k.values=a[i].values;j.data.push(k)}return j};var o=function(a,b,k,t,u){var v=a._data.length;var A=[];for(var i=0;i<b.length;i++){A[i]={};A[i].metaData=b[i];A[i].values=[]}var w=[];for(i=0;i<k.length;i++){w[i]={};w[i].metaData=k[i];w[i].values=[]}var M=[];for(i=0;i<t.length;i++){M[i]=[];for(var j=0;j<t[i].length;j++){M[i][j]={};M[i][j].metaData=t[i][j];M[i][j].values=[]}}var x=r(a._getAllColumnIds(),b,k,t);for(i=0;i<a._data.length;i++){var y=a._data[i];var z=false;if(i===0){z=true}l(y,A,w,M,x,z)}if(u){m(A);m(w)}var B={};var C=[];var D=[];C.push(n(A,1,'Dimension'));if(w.length>0){C.push(n(w,2,'Dimension'))}for(i=0;i<M.length;i++){D.push(n(M[i],i+1,'Measure'))}B.analysisAxis=C;B.measureValuesGroup=D;return B};var p=function(a,b){var t=[];for(var i=0;i<b.length;i++){var u=a.dataInFields(b[i]);var v=u[0].data.length;var w=[];for(var j=0;j<v;j++){var x=[];for(var k=0;k<u.length;k++){x[k]=u[k].data[j]}var y={type:'measure',name:b[i][j],values:[x]};w.push(y)}var z={index:i+1,data:w};t.push(z)}return t};var q=function(a,b,i){var j=a._dataset.metadata.fields;var k=T(j,b,i);if(k===undefined){return}var t=k.analysisAxis;var u=k.measureValuesGroup;if(t.length===0&&u.length===0){return}if(t.length===1){t.push([])}var v;if(t.length===0&&u.length!==0){v={};v.measureValuesGroup=p(a,u)}else{v=o(a,t[0],t[1],u)}var w=k.ctBinding;var x={};x.binding=w;x.crosstableDataset=v;return x};return q});define('sap/viz/api/core/VizInstance',['jquery','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/log/LogUtil','sap/viz/chart/mvc/ChartApplication','sap/viz/base/utils/FunctionUtils','sap/viz/api/data/CrosstableDataset','sap/viz/api/data/FlatTableDataset','sap/viz/extapi/core','sap/viz/base/utils/ObjectUtils','sap/viz/config','sap/viz/data/utils/TB2CTBConvertUtil','sap/viz/manifest','sap/viz/base/Logger'],function Setup($,T,O,L,C,F,a,b,E,c,d,e,m,f){var v=function(_,g,h){this.__className="sap.viz.api.core.VizInstance";this.app=null;this._eventsListeners=_;this._feeding=g;this._riv=h;this._description=null;this._dataType;this._data;this._usrOptions={}};v.prototype={on:function(g,h,s){this._eventsListeners[g]={callback:h,scope:s};this.app.controller.rootUIComponent.attachEvent(g,h,s);return this},size:function(s){if(!arguments.length){return this.app.size()}this.app.size(s);return this},selection:function(){var i=null;var s=null;var g=false;if(arguments.length<=0){g=true}else if(arguments.length<=1){if(arguments[0]instanceof Array){g=false;i=arguments[0]}else{g=true;s=arguments[0]}}else{g=false;i=arguments[0];s=arguments[1]}var r;if(g){r=this.app.getSelectedObjects(s)}else{r=this.app.setSelectedObjects(i,s)}return r},selectedPropertyZone:function(s){var r=this.app.selectedPropertyZone.apply(this.app,arguments);return arguments.length?this:r},data:function(g){if(!arguments.length){return c.clone(this._data)}if(!this._checkDataType(g)){F.error('Wrong Data Type')}this.update({'data':g});for(var h in this._eventsListeners){if(this._eventsListeners.hasOwnProperty(h)){this.on(h,this._eventsListeners[h].callback,this._eventsListeners[h].scope)}}return this},properties:function(p){if(!arguments.length){return c.clone(this.app.getProperties())}L.context(':updateProperty:'+O.size(p));this.update({properties:c.clone(p)});return this},css:function(g){if(!arguments.length||(arguments.length===1&&typeof(arguments[0])==='object')){return c.clone(this.app.css.apply(this.app,arguments))}this.update({css:c.clone(g)});return this},cssProperty:function(s,g,h){if(arguments.length===2){return c.clone(this.app.cssProperty(s,g))}if(arguments.length===3){this.update({cssProperty:c.clone({selector:s,style:g,value:h})})}return this},feeding:function(g){if(!arguments.length){return c.clone(this._feeding)}if(!this._checkFeedingType(g)){F.error('Wrong Feeding Type')}this.update({feeding:g});return this},feedingZone:function(){return this.app.getAllFeedingZone()},propertyZone:function(){return this.app.getPropertyZone()},update:function(u){if(u){var g=c.extend(true,u,{});if(this._checkDataType(u.data)){var h=this._getInsideDataset(g.data);this._data.data(h.data());this._data.info(h.info());g.data=this._getInsideDataset(this._data)}else{g.data=undefined}if(u.feeding===null){g.feeding=null}else if(this._checkFeedingType(u.feeding)){this._feeding=u.feeding}else{g.feeding=undefined}if(this._withFakeFlatTable){var i=m.viz.get(this.type).allFeeds(true);var j=e(this._data._FlatTableD,i,this._feeding);g.data=new a();g.data.data(j.crosstableDataset);g.data=this._getInsideDataset(g.data);g.feeding=j.binding}this.app.update(g)}return this},destroy:function(){this._riv.instances.splice(this._riv.instances.indexOf(this),1);this.app.destroy()},toJSON:function(o,g){var h={};h.type=this._usrOptions.type;if(this._usrOptions.type==="viz/ext/table"||this._usrOptions.type==="viz/ext/crosstab"){h.data={type:"JSON",val:o&&(o.emptyDataset===true)?{}:c.clone(this.app.getDataset())}}else{var i=this.app.getDataset().toJSON(o);var t;if(i.id==='sap.viz.data.CrosstableDataset'){t='Crosstable'}else if(i.id==='sap.viz.data.FlatTableDataset'){t='FlatTable'}h.data={type:t,val:i.data,info:i.info}}h.properties=this.properties();if(g===true){h.css=this.css(true)}else{h.css=this.css()}h.feeding=this.feeding();h.size=this.app.size();if(sap.viz.api.hasOwnProperty('VERSION')){h.version=sap.viz.api.VERSION}return h}};v.prototype._initializeViz=function(_,g){if(T.isString(g)){var i=g.substring(0,5)==='info/'}if(_ instanceof a){this._data=new a();this._data.data(_.data());this._data.info(_.info());this._dataType='CrosstableDataset'}else if(_ instanceof b){this._data=new b(_.data());this._data.info(_.info());this._dataType='FlatTableDataset';if(!i){this._withFakeFlatTable=true}}};v.prototype._getInsideDataset=function(g){var r;if(g instanceof a){r=g._crosstableDataset}else if(g instanceof b){r=g}return r};v.prototype._checkDataType=function(g){var r;if(this._dataType==='CrosstableDataset'){r=g instanceof a}else if(this._dataType==='FlatTableDataset'){r=g instanceof b}return r};v.prototype._checkFeedingType=function(g){var h;if(T.isArray(g)){h='CrosstableDataset'}else if(T.isPlainObject(g)){h='FlatTableDataset'}return h===this._dataType};v.prototype.off=function(g){if(g!=null){if(this._eventsListeners[g]!==undefined){this._eventsListeners[g]=undefined;this.app.controller.rootUIComponent.attachEvent(g,F.noop);delete this._eventsListeners[g]}}return this};v.prototype.setApp=function(u){this._usrOptions=c.extend(true,u,{});var i=u.data instanceof b;d.register({id:'isFlatTable',value:i});var g=u.data instanceof a;d.register({id:'isCrossTable',value:g});this._initializeViz(this._usrOptions.data,this._usrOptions.type);if(m.viz.get(this._usrOptions.type).legacyDataAdapter&&this._usrOptions.data instanceof b){if(!T.isPlainObject(this._usrOptions.feeding)){F.error('Binding Not Match')}var h=m.viz.get(this._usrOptions.type).allFeeds(true);var j=this._usrOptions.feeding;var k=e(this._usrOptions.data._FlatTableD,h,j);this._usrOptions.data=new a();this._usrOptions.data.data(k.crosstableDataset);this._usrOptions.feeding=k.binding}if(m.viz.get(this._usrOptions.type).legacyDataAdapter&&this._usrOptions.data instanceof a&&this._usrOptions.feeding&&!T.isArray(this._usrOptions.feeding)){F.error('Binding Not Match')}var r=this._getInsideDataset(this._usrOptions.data)||this._usrOptions.data;this.app=new C({holder:this._usrOptions.container,launchOptions:{vizType:this._usrOptions.type,options:this._usrOptions.properties,css:this._usrOptions.css,size:this._usrOptions.size,data:{rawData:r},feeding:this._usrOptions.feeding||this._usrOptions.dataFeeding,events:this._usrOptions.events}})};v.prototype.action=function(k,g){if(E._actionMap){var h=E._actionMap[k];if(h!=null){var i=this.app.controller.rootUIComponent._modules['root.main'];var s=true;var n=h.split('.');var l=i;var t=true;for(var j=0;j<n.length;++j){if(i[n[j]]!==undefined){l=i;i=i[n[j]]}else{t=false;break}}if(t){var r=null;if(g!==undefined){r=i.call(l,g)}else{r=i.call(l)}if(T.isPlainObject(r)||T.isArray(r)){r=JSON.parse(JSON.stringify(r))}return r}}}};v.prototype.description=function(g){if(arguments.length<=0){if(this._description===null){this._description={};if(this.app&&this.app.controller){this._description.type=this.app.controller._vizType;if(this.app.controller.rootUIComponent){this._description.classId=this.app.controller.rootUIComponent.id}}}}else{}return this._description};v.prototype.exportToSVGString=function(o){return this.app.exportToSVGString(o)};return v});define('sap/viz/migrate/BaseMigrator',['sap/viz/base/utils/Objects'],function(O){var h=Object.prototype.hasOwnProperty;function a(o){if(!o){return true}for(var k in o){if(h.call(o,k))return false}return true}function g(p,b){var d=b.split('.'),e=p,i;for(i=0;i<d.length;i++){if(e[d[i]]===undefined){return undefined}else{e=e[d[i]]}}return e}function s(p,b,v){var d=b.split('.'),e=p,i;for(i=0;i<d.length-1;i++){if(e[d[i]]===undefined){e[d[i]]={}}e=e[d[i]]}e[d[d.length-1]]=v}function r(p,b){var d=b.split('.'),e=p,i;for(i=0;i<d.length-1;i++){if(e[d[i]]===undefined){return}e=e[d[i]]}delete e[d[d.length-1]]}function c(p){for(var k in p){if(h.call(p,k)){if(!(p[k]instanceof Object)){continue}c(p[k]);if(a(p[k])){delete p[k]}}}}return{factory:function(m){var b={_model:m,_propertyMigrateActions:{rename:function(p,d,e,f){s(p,f.to,e);this.remove(p,d)},remove:function(p,d){r(p,d)}},fromVersion:function(){return this._model.fromVersion},migrate:function(j){var d=O.extend({},j),f=d.version,e=this._getTypeModel('all'),i=this._getTypeModel(d.type);this._doMigrate(d,i);this._doMigrate(d,e);d.version=this._model.toVersion;return d},_doMigrate:function(d,e){if(!e){return}this._migrateProperties(d.properties,e.properties)},_migrateProperties:function(p,d){var e,f,i;if(!d){return p}for(f in d){e=g(p,f);if(e){i=d[f];this._propertyMigrateActions[i.action](p,f,e,i)}}c(p);return p},_getTypeModel:function(d){return this._model.charts[d]}};return b}}});define('sap/viz/migrate/MigrationTool',['sap/viz/migrate/BaseMigrator'],function(B){var m=[],a={fromVersion:"4.0.10",toVersion:"4.0.12",charts:{"all":{properties:{"title.layout.width":{action:"rename",to:"title.layout.maxWidth",},"title.layout.height":{action:"rename",to:"title.layout.maxHeight",},"background.direction":{action:"rename",to:"background.gradientDirection"},"background.body.color":{action:"rename",to:"background.color"},"legend.layout.width":{action:"rename",to:"legend.layout.maxWidth"},"legend.layout.height":{action:"rename",to:"legend.layout.maxHeight"},"valueAxis.hideTitleFirst":{action:"remove"},"valueAxis.axisline":{action:"rename",to:"valueAxis.axisLine"},"valueAxis.lineSize":{action:"rename",to:"valueAxis.axisLine.size"},"valueAxis.unitFormatType":{action:"remove"},"valueAxis.layout.width":{action:"rename",to:"valueAxis.layout.maxWidth"},"valueAxis.layout.height":{action:"rename",to:"valueAxis.layout.maxHeigth"},"categoryAxis.hideTitleFirst":{action:"remove"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"categoryAxis.layout.width":{action:"rename",to:"categoryAxis.layout.maxWidth"},"categoryAxis.layout.height":{action:"rename",to:"categoryAxis.layout.maxHeigth"},"plotArea.dataLabel.hiddenWhenOverlap":{action:"rename",to:"plotArea.dataLabel.hideWhenOverlap"},"plotArea.fixedDatapointSize":{action:"rename",to:"plotArea.isFixedDataPointSize"},"plotArea.dataLabel.position":{action:"remove"},"plotArea.primaryScale.autoMinValue":{action:"remove"},"plotArea.primaryScale.autoMaxValue":{action:"remove"},"background":{action:"rename",to:"plotArea.background"},}},"info/100_stacked_bar":{properties:{"xAxis":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_bar":{properties:{"xAxis":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"categoryAxis"},"xAxis2":{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/100_stacked_column":{properties:{"yAxis":{action:"rename",to:"valueAxis"},"xAxis":{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_column":{properties:{"yAxis":{action:"rename",to:"valueAxis"},"xAxis":{action:"rename",to:"categoryAxis"},"yAxis2":{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/bubble":{properties:{"scale":{action:"remove"},"xAxis":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"valueAxis2"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/bullet":{properties:{"xAxis2":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"categoryAxis"},"yAxis2":{action:"rename",to:"categoryAxis2"},"plotArea.barSize.desktop":{action:"remove"},"plotArea.barSize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/combination":{properties:{"yAxis":{action:"rename",to:"valueAxis"},"xAxis":{action:"rename",to:"categoryAxis"},"plotArea.bar.barSize":{action:"remove"},"plotArea.bar.barSize.desktop":{action:"remove"},"plotArea.bar.barSize.mobile":{action:"remove"},"plotArea.line.categorySize.desktop":{action:"remove"},"plotArea.line.categorySize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"},"plotArea.dataShape.secondaryAxis":{action:"remove"}}},"info/donut":{properties:{"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/horizontal_line":{properties:{"xAxis":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_horizontal_line":{properties:{"xAxis":{action:"rename",to:"valueAxis"},"yAxis":{action:"rename",to:"categoryAxis"},"xAxis2":{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/line":{properties:{"yAxis":{action:"rename",to:"valueAxis"},"xAxis":{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_line":{properties:{"yAxis":{action:"rename",to:"valueAxis"},"xAxis":{action:"rename",to:"categoryAxis"},"yAxis2":{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"},}},}};a.charts["info/bar"]=a.charts["info/100_stacked_bar"];a.charts["info/dual_bar"]=a.charts["info/100_dual_stacked_bar"];a.charts["info/dual_column"]=a.charts["info/100_dual_stacked_column"];a.charts["info/pie"]=a.charts["info/donut"];a.charts["info/scatter"]=a.charts["info/bubble"];a.charts["info/stacked_bar"]=a.charts["info/100_stacked_bar"];a.charts["info/dual_stacked_bar"]=a.charts["info/100_dual_stacked_bar"];a.charts["info/stacked_column"]=a.charts["info/100_stacked_column"];a.charts["info/dual_stacked_column"]=a.charts["info/100_dual_stacked_column"];a.charts["info/column"]=a.charts["info/100_stacked_column"];m.push(a);return{_migrators:(function init(){var b={};m.forEach(function(c){var d=B.factory(c);b[d.fromVersion()]=d});return b}()),_getVersion:function(j){if(!j){return j}var v=j.version,b;if(v&&v.split){b=v.split('.');if(b.length===4){return b[0]+'.'+b[1]+'.'+b[2]}}return v},_getMigrator:function(f){return this._migrators[f]},migrate:function(j){var v=this._getVersion(j),b;while(v&&(b=this._getMigrator(v))){j=b.migrate(j);v=this._getVersion(j)}return j}}});define('sap/viz/api/core',['jquery','sap/viz/base/utils/TypeUtils','sap/viz/util/Objects','sap/viz/base/utils/log/Analyzer','sap/viz/chart/mvc/ChartApplication','sap/viz/manifest','sap/viz/api/core/VizInstance','sap/viz/api/data/CrosstableDataset','sap/viz/base/Logger','sap/viz/lang/langManager','sap/viz/data/utils/TB2CTBConvertUtil','sap/viz/base/utils/FunctionUtils','sap/viz/data/CrosstableDataset','sap/viz/api/data/FlatTableDataset','sap/viz/api/manifest/Viz','sap/viz/manifests/util/ManifestRegister','sap/viz/migrate/MigrationTool'],function Setup($,T,O,P,C,m,v,a,L,l,b,F,_,c,V,M,d){var r={instances:[],createViz:function(u){M.registerAll();var e={},f=u.feeding,g=this;if(!V.get(u.type)[0]){F.error(l.getLogMessage('IDS_ERROR_WRONG_TYPE'))}if(V.get(u.type)[0].legacyDataAdapter&&!u.data){u.data=new a();var h=m.viz.get(u.type).allFeeds(true);var k=[];var n=[];var i=0;var j=0;if(h!==undefined&&h!==null&&h.length>0){for(;i<h.length;i++){var t=h[i].type;if(t==="Dimension"){j=0;for(;j<h[i].min;j++){k.push({'index':k.length+1,'data':[{'values':[''],'infos':[{}]}]})}}if(t==="Measure"){j=0;for(;j<h[i].min;j++){n.push({'index':n.length+1,'data':[{'values':[['']]}]})}}}}else{k.push({'index':1,'data':[{'values':[''],'infos':[{}]}]});n.push({'index':1,'data':[{'values':[['']]}]})}u.data.data({'analysisAxis':k,'measureValuesGroup':n})}if(u.options!==undefined&&u.properties===undefined){u.properties=u.options}P.pnrContext(':creation:'+O.size(u.properties)+':'+O.size(u.css));var o=new v(e,f,g);o.setApp(u);Object.defineProperty(o,"type",{value:u.type,enumerable:true});g.instances.push(o);return o},destroyViz:function(){for(var i=-1,j=arguments.length;++i<j;){arguments[i].destroy()}},exportViz:function(e,o){return e.toJSON(o)},loadViz:function(e,f){if(arguments.length===2){var g=JSON.parse(JSON.stringify(e));g=d.migrate(g);g.container=f;var h=null;if(g.data.type==="JSON"&&(g.type==="viz/ext/table"||g.type==="viz/ext/crosstab")){h=g.data.val}else{h=g.data;h.data=h.val;if(g.data.type==="Crosstable"){h.id="sap.viz.data.CrosstableDataset";h=a.fromJSON(h)}else if(g.data.type==="FlatTable"){h.id="sap.viz.data.FlatTableDataset";h=c.fromJSON(h)}}g.data=h;return this.createViz(g)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}}};return r});define('sap/viz/api/serialization',['sap/viz/migrate/MigrationTool'],function(M){var s={migrate:function(j){return M.migrate(j)}};return s});define('sap/viz/api/env',['sap/viz/env','sap/viz/config','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/ObjectUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(e,c,T,O,L,l){var a={globalSettings:function(v){if(arguments.length===1&&T.isPlainObject(v)){var v=O.clone(v);if(v.enableCanvg){e.initialize(v)}if(v.enableCanvgConfig&&T.isPlainObject(v.enableCanvgConfig)){for(var i in v.enableCanvgConfig){c.register({id:i,value:v.enableCanvgConfig[i]})}}}else if(arguments.length===0){var v={};if(e.getEnvSetting()&&e.getEnvSetting().enableCanvg){v={enableCanvg:e.getEnvSetting().enableCanvg}}if(c.getConfigs()){var b={enableCanvgConfig:c.getConfigs()};v=O.extend(true,{},v,b)}return v}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}}};return a});define('sap/viz/api/env/Language',['sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger'],function Setup(l,T,L){var a={set:function(a,c,f){if(T.isString(a)&&(arguments.length===1||(arguments.length===2&&T.isFunction(c))||(arguments.length===3&&T.isFunction(c)&&T.isFunction(f)))){l.apply(a,c,f);return a}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},get:function(){return l.current()},getErrorMessage:function(c){if(T.isNumber(c)){return l.getLogMessageByID(c)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}}};return a});define('sap/viz/api/env/Locale',['sap/viz/Locale','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(L,T,a,b){var c={set:function(l,d){if(T.isString(l)&&(arguments.length===1||(arguments.length===2&&T.isFunction(d)))){L.locale(l,d);return c}else{a.warn(b.getLogMessage('IDS_WARN_LOCALE_NOT_CORRECT'));return}},get:function(){return L.locale()}};return c});define('sap/viz/ResourceManager',['sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/LinkedHashMap','sap/viz/lang/langManager','sap/viz/TemplateManager','sap/viz/base/utils/TypeUtils'],function Setup(O,L,l,T,a){var _=new L();var G='sap.viz.GeoManager.resourcePath';var b='sap.viz.api.env.Template.loadPaths';var c='sap.viz.api.env.Language.loadPaths';var d='sap.viz.extapi.env.Template.loadPaths';var e='sap.viz.extapi.env.Language.loadPaths';var f=[G,b,c,d,e];var S='window.sap.viz.GeoManager';var g='sap.viz.geo.geographicInfo.localStorage.resourcePath';var M='sap.viz.map.Resources';var h='sap.viz.env.Language.loadPaths.sdk';_.add(G,"../../resources");_.add(b,["../../../resources/templates"]);_.add(c,["../../../resources/langs/"]);_.add(h,["../../../resources/langs/sdk/"]);_.add(g,["../../resources/data/geo/"]);_.add(M,["../../resources"]);var j;function k(){var p=true;var u=S.split(".");var o=window;for(var i=0;i<u.length;i++){if(o[u[i]]){o=o[u[i]]}else{p=false;break}}if(p){j=window.sap.viz.GeoManager}return p}function r(o){var u=[],p;if(o instanceof Array){for(var i=0;i<o.length;i++){if(o[i].substring(o[i].length-1)==='/'){u.push(o[i].substring(0,o[i].length-1))}else{u.push(o[i])}}return u}else{if(o.substring(o.length-1)==='/'){return o.substring(0,o.length-1)}}}function m(o){var u=[],p;for(var i=0;i<o.length;i++){if(o[i].substring(o[i].length-1)!=='/'){u.push(o[i]+'/')}else{u.push(o[i])}}return u}var s={'sap.viz.api.env.Template.loadPaths':function(i,p){if(a.isArray(p)){p=p.slice(0);T.loadPath=r(p)}},'sap.viz.api.env.Language.loadPaths':function(i,p){if(a.isArray(p)){p=p.slice(0);if(p===["../../../resources/langs/"]){p=["../../../resources/langs/charts/","../../../resources/langs/sdk/"]}l.loadPath=m(p)}},'sap.viz.env.Language.loadPaths.sdk':function(i,p){if(a.isArray(p)){p=p.slice(0);l.loadPath=m(p);_.add(i,p)}},'sap.viz.GeoManager.resourcePath':function(i,p){if(k()){if(a.isString(p)){j.resourcePath(r(p))}}}};var n={'sap.viz.api.env.Template.loadPaths':function(){var p=T.loadPath;if(p instanceof Array){return T.loadPath.slice(0)}return T.loadPath},'sap.viz.api.env.Language.loadPaths':function(){var p=T.loadPath;if(p instanceof Array){return l.loadPath.slice(0)}return l.loadPath},'sap.viz.env.Language.loadPaths.sdk':function(){var p=T.loadPath;if(p instanceof Array){return l.loadPath.slice(0)}return l.loadPath},'sap.viz.GeoManager.resourcePath':function(){if(k()){return j.resourcePath()}}};function q(i){var o=i;if(o==d){o=b}else if(i==e){o=c}return o};var t={setPath:function(i,p){keyValue=q(i);if(f.indexOf(keyValue)>-1){s[keyValue](keyValue,p)}if(p instanceof Array){p=p.slice(0)}if(_.has(keyValue)){_.remove(keyValue)}_.add(keyValue,p)},getPath:function(i){keyValue=q(i);var p=_.get(keyValue);if(p instanceof Array){p=p.slice(0)}return p},};return t});define('sap/viz/api/env/Resource',['sap/viz/ResourceManager','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(R,T,L,l){var r={path:function(){if(arguments.length===1&&T.isString(arguments[0])){return R.getPath(arguments[0])}else if(arguments.length===2&&T.isString(arguments[0])){R.setPath(arguments[0],arguments[1]);return r}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}}};return r});define('sap/viz/api/env/Format',['sap/viz/format/FormatManager','sap/viz/base/utils/TypeUtils'],function Setup(F,T){var f={numericFormatter:function(a){F.formatFunc(a)},useDefaultFormatter:function(u){if(u===true||u===false){F.useDefaultFormatter(u)}},DEFAULT_FORMATTED_VALUE:F.DEFAULT_FORMATTED_VALUE};return f});define('sap/viz/api/log/Appender',['sap/viz/base/Logger'],function Setup(L){var a={};a.ConsoleAppender=L.ConsoleAppender;a.DivAppender=L.DivAppender;a.AjaxAppender=L.AjaxAppender;return a});define('sap/viz/api/log/Layout',['sap/viz/base/Logger'],function Setup(L){var l={};l.DefaultLayout=L.DefaultLayout;l.HTMLLayout=L.HTMLLayout;l.XMLLayout=L.XMLLayout;l.JSONLayout=L.JSONLayout});define('sap/viz/api/log/Logger',['sap/viz/base/Logger'],function Setup(L){var l={};l.LEVEL={};l.LEVEL.OFF=L.LEVEL.NO;l.LEVEL.TRACE=L.LEVEL.TRACE;l.LEVEL.DEBUG=L.LEVEL.DEBUG;l.LEVEL.INFO=L.LEVEL.INFO;l.LEVEL.WARN=L.LEVEL.WARN;l.LEVEL.ERROR=L.LEVEL.ERROR;l.appenders=function(v){if(arguments.length>0){for(var i=0;i<v.length;i++){L.addAppender(v[i])}return this}return L.getAppenders()};l.level=function(v){if(arguments.length>0){L.level=v}else{return L.level}};return l});define('sap/viz/api/env/Template',['sap/viz/TemplateManager','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(T,O,a,L,l){var t={set:function(i,c,f){if(a.isString(i)&&(arguments.length===1||(arguments.length===2&&a.isFunction(c))||(arguments.length===3&&a.isFunction(c)&&a.isFunction(f)))){T.apply(i,c,this,f);return t}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},get:function(){return T.current().id}};return t});define('sap/viz/api/manifest/Feed',['sap/viz/feeds/Manifest','sap/viz/base/utils/TypeUtils','sap/viz/manifests/util/ManifestRegister'],function Setup(F,T,M){var m={get:function(){M.registerAll();return F.getManifest.apply(this,arguments)}};return m});define('sap/viz/api/manifest/Module',['sap/viz/modules/manifests/Module','sap/viz/base/utils/TypeUtils','sap/viz/manifests/util/ManifestRegister'],function Setup(M,T,a){var m={get:function(){a.registerAll();return M.getManifest.apply(this,arguments)}};return m});define('sap/viz/flow/FlowConstant',[],function(){var f={CONST_DEFAULT_TYPE:'DIV',CONST_DEFAULT_ELEMENT_PATH:'root.modules.main.modules.plot',CONST_SVG_TYPE:'SVG',CONST_POSITION_LEFT:'left',CONST_POSITION_RIGHT:'right',CONST_POSITION_TOP:'top',CONST_POSITION_BOTTOM:'bottom',CONST_POSITION_CENTER:'center',CONST_TITLE_NAME:'sap.viz.modules.title',CONST_LEGEND_NAME:'sap.viz.modules.legend.common',CONST_LEGENDS_NAME:'sap.viz.modules.legend',CONST_LEGENDS_MODULE_KEY:'legends',CONST_INTERACTION_NAME:'sap.viz.modules.controller.interaction'};return f});define('sap/viz/flow/ElementMapping',['sap/viz/flow/FlowConstant'],function(F){var e={'sap.viz.chart.elements.Title':F.CONST_TITLE_NAME,'sap.viz.chart.elements.ColorLegend':F.CONST_LEGEND_NAME,'sap.viz.chart.elements.BubbleColorLegend':F.CONST_LEGEND_NAME,'sap.viz.chart.elements.SizeColorLegend':F.CONST_LEGEND_NAME,'sap.viz.chart.elements.MeasureBasedColoringLegend':F.CONST_LEGEND_NAME,'sap.viz.viz.modules.legend':F.CONST_LEGENDS_NAME,'sap.viz.modules.controller.interaction':F.CONST_INTERACTION_NAME};return e});define('sap/viz/flow/flowTemplate/DivTemplate',[],function(){var f={"id":"","name":"","modules":{"root":{"id":"sap.viz.modules.divcontainer","configure":{"propertyCategory":"root",},"modules":{"layout":{"id":"sap.viz.modules.layout.dock"},"main":{"id":"sap.viz.modules.divcontainer","modules":{"plot":{"id":"","configure":{"propertyCategory":"","properties":{"layout":{"position":"center","priority":5}}}}},"configure":{"properties":{"layout":{"position":"center","priority":5}}}}}}}};return f});define('sap/viz/flow/flowTemplate/SVGTemplate',[],function(){var S={"id":"","name":"","modules":{"root":{"id":"sap.viz.modules.rootContainer","configure":{"propertyCategory":"general"},"modules":{"layout":{"id":"sap.viz.modules.layout.dock"},"main":{"id":"sap.viz.modules.rootContainer","modules":{"plot":{"id":"","configure":{"propertyCategory":"","properties":{"layout":{"position":"center","priority":5}}}}},"configure":{"properties":{"layout":{"position":"center","priority":5}}}}}}}};return S});define('sap/viz/flow/flowTemplate/FlowTemplateManager',['sap/viz/flow/flowTemplate/DivTemplate','sap/viz/flow/flowTemplate/SVGTemplate'],function(d,S){var f=function(){};var t={BorderSVGFlow:S,BorderDIVFlow:d,SVG:S,DIV:d,};f.prototype.getTemplateByType=function(a){return t[a]};return new f()});define('sap/viz/flow/elementTemplate/ElementTemplate',[],function(){var E={id:'',name:'',feeds:[],renderto:'',configure:{propertyCategory:'',properties:{layout:{position:'',priority:1},}},type:'CHART',description:'',fn:null};return{template:E}});define('sap/viz/flow/elementTemplate/LegendTemplate',[],function(){var L={"id":"sap.viz.modules.legend.common","data":{"aa":[1]},"configure":{"propertyCategory":"legend","properties":{"layout":{"position":"","order":0,"priority":1},"isScrollable":true,"type":"","drawingEffect":""}}};var a={"targetModule":"","target":"colorPalette","sourceModule":"root.main.plot","source":"colorPalette"};var b={"id":"sap.viz.modules.legend","configure":{"propertyCategory":"legendGroup","properties":{"layout":{"position":"","priority":1,"alignment":"right"}}},"modules":{"layout":{"id":"sap.viz.modules.layout.stack"},"legend":{"id":"sap.viz.modules.legend.common","configure":{"propertyCategory":"legend","properties":{"layout":{"order":0}}},"data":{"aa":[1]}}}};var c={"targetModule":"root.legends.legend","target":"colorPalette","sourceModule":"root.main.plot","source":"colorPalette"};return{template:L,dependency:a,templateInteraction:b,dependencyInteraction:c}});define('sap/viz/flow/Flow',['sap/viz/flow/FlowConstant','sap/viz/flow/ElementMapping','sap/viz/flow/flowTemplate/FlowTemplateManager','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager','sap/viz/flow/elementTemplate/ElementTemplate','sap/viz/flow/elementTemplate/LegendTemplate','sap/viz/base/utils/TypeUtils'],function(F,E,a,O,L,l,b,c,T){var f=function(o,e){this.elements={};this._type=e;this.flowManifest=O.clone(a.getTemplateByType(e));if(this.flowManifest!==null&&this.flowManifest!==undefined){for(var i in o){this.flowManifest[i]=o[i]}}else{L.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'))}};var s=function(P){var M=E[P.id];if(!M){M=P.id}var n;var e;var g=false;if(M===F.CONST_LEGEND_NAME){n=O.clone(c.template);e=O.clone(c.dependency);var t=P.id.split('.').pop();n.configure.properties.type=t;g=true;if(parseInt(P.aaIndex)>0){n.data.aa=[P.aaIndex]}}else if(M===F.CONST_LEGENDS_NAME){n=O.clone(c.templateInteraction);e=O.clone(c.dependencyInteraction);var t=P.id.split('.').pop();n.configure.properties.type=t;g=true;if(parseInt(P.aaIndex)>0){n.modules.legend.data.aa=P.aaIndex}}else if(M===F.CONST_INTERACTION_NAME){g=true;e={targetModule:'root.interaction',listener:'initialize',sourceModule:'root.main.plot',type:'initialized.interaction'};n=O.clone(b.template)}else{n=O.clone(b.template)};n.configure.properties.layout.position=P.place;n.id=M;n.configure.propertyCategory=P.propertyCategory;return{'module':n,'dependency':e,'legacyDataAdapter':g}};var d=F.CONST_DEFAULT_ELEMENT_PATH;f.prototype.addElement=function(p){if(p!=null){var e=p.element;var g=p.propertyCategory;var h=p.place;if(!e.elmManifest.id){e.elmManifest.id=this.flowManifest.id+".element"};if(!e.elmManifest.name){e.elmManifest.name=this.flowManifest.name+".element"};if(this._type.indexOf(F.CONST_DEFAULT_TYPE)>=0){e.elmManifest.renderto=F.CONST_DEFAULT_TYPE}else if(this._type.indexOf(F.CONST_SVG_TYPE)>=0){e.elmManifest.renderto=F.CONST_SVG_TYPE}else{L.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'))};if(h!==undefined||e.elmManifest.id===F.CONST_INTERACTION_NAME){var j=s({place:h,id:e.elmManifest.id,propertyCategory:g,aaIndex:e.elmManifest.dimensionIndex});if(h!==F.CONST_POSITION_CENTER){var k=e.elmManifest.id.split('.').pop();idArray=null;if(e.elmManifest.id===F.CONST_LEGENDS_NAME){this.flowManifest.modules.root.modules[F.CONST_LEGENDS_MODULE_KEY]=j.module}else{this.flowManifest.modules.root.modules[k]=j.module}if(j.dependency&&!j.dependency.targetModule){j.dependency.targetModule='root.'+k}}else{this.flowManifest.modules.root.modules.main.modules.plot=j.module;e.elmManifest.configure.properties.layout.priority=5};this.elements[e.elmManifest.id]=e.elmManifest;if(j.dependency){if(!this.flowManifest.dependencies){this.flowManifest.dependencies={}};if(j.module.id===F.CONST_INTERACTION_NAME){if((!this.flowManifest.dependencies.events)||(!this.flowManifest.dependencies.events.push)){this.flowManifest.dependencies.events=[]}this.flowManifest.dependencies.events.push(j.dependency)}else{if((!this.flowManifest.dependencies.attributes)||(!this.flowManifest.dependencies.attributes.push)){this.flowManifest.dependencies.attributes=[]}this.flowManifest.dependencies.attributes.push(j.dependency)}};if(!this.flowManifest.legacyDataAdapter&&j.legacyDataAdapter!==undefined){this.flowManifest.legacyDataAdapter=j.legacyDataAdapter}}else{var m=d;this.elements[d]=e.elmManifest;var n=m.split('.');var o=this.flowManifest.modules;for(var i=0,q=n.length;i<q;i++){o=o[n[i]]}o.id=e.elmManifest.id;if(e.elmManifest.configure){o.configure=O.extend(true,{},o.configure,e.elmManifest.configure);if(g!=null){o.configure['propertyCategory']=g}}o.configure.properties.layout.position='center'}}};return f});define('sap/viz/flow/Element',['sap/viz/flow/elementTemplate/ElementTemplate','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/FunctionUtils','sap/viz/lang/langManager','sap/viz/elements/common/BaseGraphic'],function(E,O,T,L,l,B){var a=function(o){this.elmManifest=O.clone(E.template);if(this.elmManifest!==null&&this.elmManifest!==undefined){this.elmManifest.feeds=[];this.elmManifest.properties={};for(var i in o){if(i!=='type'){this.elmManifest[i]=o[i]}}}else{L.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'))}};var b={'sap.viz.elements.common.BaseGraphic':B};a.prototype.addFeed=function(f){if(T.isArray(f)){var g=f.length;for(var i=0;i<g;i++){this.elmManifest.feeds.push(f[i])}}else{this.elmManifest.feeds.push(f)}};var c=function(f,k){if(k!=undefined){var g=k.length;for(var i=0;i<g;i++){if(f[k[i]]===undefined){return false}}}return true};var p=['name','type','supportedValues'];var d=function(f){var i=O.clone(f);var r={};r.name=i.name;r.supportedValueType=i.type;r.supportedValues=i.supportedValues;return r};var e=function(t,f){if(b[t]){var s=b[t].prototype;var g=function(){s.constructor.apply(this,arguments)};for(var i in s){g.prototype[i]=s[i]};for(var i in f){g.prototype[i]=f[i]};return g}else{L.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'))}};a.prototype.implement=function(t,f){var g=e(t,f);if(this.elmManifest!=null){this.elmManifest.fn=g}};a.prototype.addProperty=function(f){if(c(f,p)){this.elmManifest.properties[f.name]=d(f)}else{L.error(l.getLogMessage('IDS_ERROR_CAN_NOT_FIND_CATEGORY'))}};return a});define('sap/viz/flow/FlowManager',['sap/viz/flow/FlowConstant','sap/viz/flow/Flow','sap/viz/flow/Element','sap/viz/modules/manifests/Module','sap/viz/manifests/Viz'],function(F,a,E,M,V){var b=function(){};var d=F.CONST_DEFAULT_TYPE;b.prototype.createElement=function(o){return new E(o)};b.prototype.createFlow=function(o){var f=(o&&o.type)?o.type:d;return new a(o,f)};b.prototype.register=function(f){for(var i in f.elements){if(!M.get(f.elements[i].id)){M.register(f.elements[i])}else{}};V.register(f.flowManifest)};b.prototype.unregister=function(f){V.unregister(f)};return new b()});define('sap/viz/extapi/Flow',['sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager','sap/viz/flow/FlowManager'],function Setup(T,L,l,F){var a={};a.createFlow=function(o){return F.createFlow(o)};a.createElement=function(o){return F.createElement(o)};a.registerFlow=function(f){F.register(f)};a.unregisterFlow=function(f){F.unregister(f)};return a});define('sap/viz/extapi/env/Language',['sap/viz/lang/langManager','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/LinkedHashMap','sap/viz/base/Logger'],function Setup(a,T,L,b){var _=new L();var c={get:function(){return a.current()},addListener:function(l){if(arguments.length===1&&T.isFunction(l)){var d={fn:l};a.addListener(d);_.add(l,d);return c}else{b.warn(a.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},removeListener:function(l){if(arguments.length===1&&T.isFunction(l)){a.removeListener(_.get(l));_.remove(l);return c}else{b.warn(a.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},register:function(l){if(arguments.length===1&&T.isPlainObject(l)){a.register(l);return c}else{b.warn(a.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},getErrorMessage:function(i){return a.getLogMessageByID(i)},getResourceString:function(i){return a.get(i)}};return c});define('sap/viz/extapi/env/Locale',['sap/viz/Locale','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/LinkedHashMap','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(L,T,a,b,c){var _=new a();var d={get:function(){return L.locale()},addListener:function(l){if(arguments.length===1&&T.isFunction(l)){var e={fn:l};L.addListener(e);_.add(l,e);return d}else{b.warn(c.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},removeListener:function(l){if(arguments.length===1&&T.isFunction(l)){L.removeListener(_.get(l));_.remove(l);return d}else{b.warn(c.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}}};return d});define('sap/viz/extapi/env/Resource',['sap/viz/ResourceManager','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(R,T,L,l){var r={path:function(){if(arguments.length===1&&T.isString(arguments[0])){return R.getPath(arguments[0])}else if(arguments.length===2&&T.isString(arguments[0])){R.setPath(arguments[0],arguments[1]);return r}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}}};return r});define('sap/viz/extapi/env/Template',['sap/viz/TemplateManager','sap/viz/base/utils/ObjectUtils','sap/viz/base/utils/TypeUtils','sap/viz/base/utils/LinkedHashMap','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(T,O,a,L,b,l){var _=new L();var t={get:function(){return T.current().id},current:function(){var c={};return O.extend(true,c,T.current())},addListener:function(f){if(arguments.length===1&&a.isFunction(f)){var c={fn:f};T.addListener(c);_.add(f,c);return t}else{b.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}},removeListener:function(f){if(arguments.length===1&&a.isFunction(f)){T.removeListener(_.get(f));_.remove(f);return t}else{b.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'));return}}};return t});define('sap/viz/extapi/manifest/Feed',['sap/viz/feeds/Manifest','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(F,T,L,l){var a={};a.register=F.register;a.unregister=function(i){if(T.isString(i)){return F.unregister(i)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};return a});define('sap/viz/extapi/manifest/Module',['sap/viz/modules/manifests/Module','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(M,T,L,l){var a={};a.register=M.register;a.unregister=function(i){if(T.isString(i)){return M.unregister(i)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};return a});define('sap/viz/extapi/manifest/Viz',['sap/viz/manifests/Viz','sap/viz/base/utils/TypeUtils','sap/viz/base/Logger','sap/viz/lang/langManager'],function Setup(V,T,L,l){var a={};a.register=V.register;a.unregister=function(i){if(T.isString(i)){return V.unregister(i)}else{L.warn(l.getLogMessage('IDS_WARN_PARAMETER_NOT_CORRECT'))}};return a});define('sap/viz/modules/layout/fix',['jquery','sap/viz/modules/Constants',"sap/viz/util/NumberUtils",'sap/viz/util/Objects'],function Setup($,r,N,O){var _=function(){var w,h,p;function f(){var d={};var e=arguments[0];var i=0;var g={};var t=w-(p[1]+p[3]);var j=h-(p[0]+p[2]);g.width=t;g.height=j;g.x=p[3];g.y=p[0];g.center={};g.center.used=false;g.center.width=undefined;g.center.height=undefined;var k={};k.hItems=[];k.vItems=[];var l=e.sort(function(a,b){return a.priority-b.priority});while(true){var m=l.shift();d[m.module.alias]={};var o=d[m.module.alias];var n=m.module.properties().layout;var v=m.module.visible?m.module.visible():true;if(m.position==="top"){o.x=g.x;o.y=g.y;if(!v){o.height=0}else if(n.height!=null){o.height=N.getSizeValue(n.height,j);o.height=o.height>g.height?g.height:o.height;if(g.center.used&&g.center.height&&o.height>g.height-g.center.height){o.height=g.height-g.center.height}}else{if(g.center.used&&g.center.height){o.height=g.height-g.center.height}else{o.height=g.height}}o.width=g.width;g.y=g.y+o.height;g.height=g.height-o.height;if(n.alignToCenter){k.hItems.push({alias:m.module.alias,module:m.module})}}else if(m.position==="bottom"){o.x=g.x;if(!v){o.height=0}else if(n.height!=null){o.height=N.getSizeValue(n.height,j);o.height=o.height>g.height?g.height:o.height;if(g.center.used&&g.center.height&&o.height>g.height-g.center.height){o.height=g.height-g.center.height}}else{if(g.center.used&&g.center.height){o.height=g.height-g.center.height}else{o.height=g.height}}o.y=g.y+g.height-o.height;o.width=g.width;g.height=g.height-o.height;if(n.alignToCenter){k.hItems.push({alias:m.module.alias,module:m.module})}}else if(m.position==="left"){o.x=g.x;o.y=g.y;if(!v){o.width=0}else if(n.width!=null){o.width=N.getSizeValue(n.width,t);o.width=o.width>g.width?g.width:o.width;if(g.center.used&&g.center.width&&o.width>g.width-g.center.width){o.width=g.width-g.center.width}}else{if(g.center.used&&g.center.width){o.width=g.width-g.center.width}else{o.width=g.width}}o.height=g.height;g.x=g.x+o.width;g.width=g.width-o.width;if(n.alignToCenter){k.vItems.push({alias:m.module.alias,module:m.module})}}else if(m.position==="right"){o.y=g.y;if(!v){o.width=0}else if(n.width!=null){o.width=N.getSizeValue(n.width,t);o.width=o.width>g.width?g.width:o.width;if(g.center.used&&g.center.width&&o.width>g.width-g.center.width){o.width=g.width-g.center.width}}else{if(g.center.used&&g.center.width){o.width=g.width-g.center.width}else{o.width=g.width}}o.x=g.x+g.width-o.width;o.height=g.height;g.width=g.width-o.width;if(n.alignToCenter){k.vItems.push({alias:m.module.alias,module:m.module})}}else if(m.position==="center"){var q,s;if(g.center.used){o.x=g.x;o.y=g.y;o.height=g.height;o.width=g.width}else{if(n.width){s=N.getSizeValue(n.width,t);if(s>=g.width){s=g.width}g.center.used=true;g.center.width=s}if(n.height){q=N.getSizeValue(n.height,j);if(q>=g.height){q=g.height}g.center.used=true;g.center.height=q}if(n.width||n.height){l.push(m)}else{o.x=g.x;o.y=g.y;o.height=g.height;o.width=g.width}}k.center=m.module.alias}var u=parseFloat(n.paddingTop),x=parseFloat(n.paddingBottom),y=parseFloat(n.paddingLeft),z=parseFloat(n.paddingRight);if(!isNaN(u)){o.y+=u;o.height-=u}if(!isNaN(x)){o.height-=x}if(!isNaN(y)){o.x+=y;o.width-=y}if(!isNaN(z)){o.width-=z}if(!n.alignToCenter){m.module.setSize({width:o.width,height:o.height})}if(l.length===0){break}}c(d,k);return d}function c(l,a){var b=l[a.center];if(!b){return}a.hItems.forEach(function(i){var t=l[i.alias];t.x=b.x;t.width=b.width;i.module.setSize({width:t.width,height:t.height})});a.vItems.forEach(function(i){var t=l[i.alias];t.y=b.y;t.height=b.height;i.module.setSize({width:t.width,height:t.height})})}f.padding=function(x){if(!arguments.length){return p}p=x;return f};f.width=function(x){if(!arguments.length){return w}w=x;return f};f.height=function(x){if(!arguments.length){return h}h=x;return f};f.properties=function(){return f};f.data=function(){return f};f.destroy=function(){};return f};return _});define('sap/viz/modules/manifests/layout/Fix',['sap/viz/modules/manifests/Module','sap/viz/modules/layout/fix','sap/viz/modules/manifests/layout/Base'],function Setup(M,f,B){var m={'id':"sap.viz.modules.layout.fix",'name':"fix",'base':"sap.viz.modules.layout.base",'description':"The fix layout algorithm",'properties':{},'configure':null,'fn':f};var a={viz:[],module:[m].concat(B.module),feeds:[].concat(B.feeds)};return a});define('sap/bi/framework/BundleLoader/ServicePlugin',[],function(){function S(k){this._kernel=k}S.prototype.load=function(n,p,o,c){var l=this._kernel.getInstance("core.logger");if(l){l("ServicePlugin is loading '"+n+"'")}o(this.getService(n))};S.prototype.getService=function(n){var c;if(n[0]==="*"){c="multiple";n=n.slice(1);return this._kernel.getAllInstances(n)}else{c="single";return this._kernel.getInstance(n)}};S.prototype.getServiceForBundle=function(b,s){return this.getService(s)};S.load=function(n,r,o,c){o({})};return S});define('sap/bi/framework/BundleLoader/ServiceMetadataPlugin',[],function(){function S(k){this._kernel=k}S.prototype.load=function(n,p,o,c){var l=this._kernel.getInstance("core.logger");if(l){l("ServiceMetadataPlugin is loading '"+n+"'")}o(this.getServiceMetadata(n))};S.prototype.getServiceMetadata=function(n){if(n[0]==="*"){n=n.slice(1);return this._kernel.getAll(n).map(function(c){return c.exportedMetadata})}else{var s=this._kernel.get(n);return s?s.exportedMetadata:undefined}};S.prototype.getServiceForBundle=function(b,s){return this.getService(s)};S.load=function(n,r,o,c){o({})};return S});define('sap/bi/framework/BundleLoader/CssPlugin',[],function(){function g(){return document.head||document.getElementsByTagName("head")[0]||document.documentElement}return{normalize:function(n,a){if(!/\.css$/.test(n)){n=n+".css"}return a(n)},load:function css_load(n,r,l,c){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=(r.toUrl?r.toUrl(n):n);a.onload=function(e){l(this.sheet);this.onerror=this.onload=null};a.onerror=function(e){l.error(new Error("Failed to load "+this.href));this.onerror=this.onload=null};g().appendChild(a);if(window.navigator.userAgent.indexOf("PhantomJS")!==-1){var h=a.href;var i=window.setInterval(function(){var s=Array.prototype.slice.call(document.styleSheets);var m=s.filter(function(b){return b.href===h});if(m.length>0){window.clearInterval(i);a.sheet=m[0];if(a.onload){a.onload()}}},10)}},pluginBuilder:"cssBuilder"}});define('sap/bi/framework/BundleLoader/BundleLoader',["require","./ServicePlugin","./ServiceMetadataPlugin","./CssPlugin"],function(p,S,a,C){var l=function(i){var u=this._kernel.getInstance("core.logger");if(u){u(i)}};var n=function(i,u){var v=this._kernel.getAllInstances("core.listener");if(v){v.forEach(function(w){w(i,u)})}};var c=function(i){return i.replace(/\./g,"/")};var b=function(i){var u=i.lastIndexOf(".");var v=i.substr(u+1,i.length);return v+"-bundle"};var d=function(u,i,v){var w=function(y,z){if(this._registeredUI5ModulePaths[y]){l.apply(this,["Warning: UI5 module '"+y+"' bound to path '"+this._registeredUI5ModulePaths[y]+"' is being replaced by '"+z+"' by bundle '"+i+"'"])}window.$.sap.registerModulePath(y,z)}.bind(this);if(window.$&&window.$.sap&&window.$.sap.registerModulePath){w(i,v);if(u&&u.moduleMapping){var x=Object.keys(u.moduleMapping);x.forEach(function(y){w(y,v+"/"+u.moduleMapping[y])})}}};var e=function(i,u,v){if(!u){u=this._requireConfig}for(var w in u){if(u.hasOwnProperty(w)){if(!i[w]||v===true){i[w]=u[w]}}}return i};var s=function(i,u){return i.indexOf(u)===0};var f=function(i,u){return i.indexOf(u,i.length-u.length)!==-1};var g=function(i,u){if(f(i,u)){i=i.substring(0,i.length-u.length)}return i};var h=function(i){var u=p.toUrl("").split("?")[0];if(i){var v=c(i)+"/foo";u=p.toUrl(v).split("?")[0];u=g(u,".js");u=g(u,v)}return g(u,"/")};var j=function(i,u){u=u||"";var v=i.toUrl(u).split("?")[0];return g(v,"/")};var k=function(i){return this._bundlePaths[j(i)]};var m=function(i){return this._bundleRequires[i]};var o=function(i,u,v){var w=h(v);w+=(i?"/"+i:"");w+=(u?"/"+u:"");return w};var q=function(){this._componentFactories={}};function B(i,u){var v=u.requireConfig||{};v.context=v.context||(new Date()).getTime();this._id=v.context;this._kernel=i;this._config=u;this._requireConfig=v;u.repoPath=u.repoPath||"";u.repoPath=s(u.repoPath,"http")?u.repoPath:o(u.baseUrl,u.repoPath);this._require=require.config(e.apply(this,[{baseUrl:o(u.baseUrl)}]));var w=new S(this._kernel);define("service",w);var x=new a(this._kernel);define("serviceMetadata",x);define("css",C);this._require([]);window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};window.sap.bi.framework.contexts=window.sap.bi.framework.contexts||{};window.sap.bi.framework.getService=window.sap.bi.framework.getService||function(y,z){return w.getServiceForBundle(y,z)};window.sap.bi.framework.getServiceMetadata=window.sap.bi.framework.getServiceMetadata||function(y){return x.getServiceMetadata(y)};window.sap.bi.framework.declareBundle=window.sap.bi.framework.declareBundle||function(y){return y};window.sap.bi.framework.capabilities=window.sap.bi.framework.capabilities||{};window.sap.bi.framework.capabilities.bundleLoading=window.sap.bi.framework.capabilities.bundleLoading||{};window.sap.bi.framework.capabilities.bundleLoading.hostBundle=true;this._bundles={};this._componentFactories={};this._bundleRequires={};this._registeredUI5ModulePaths={};this._bundlePaths={}}B.prototype._loadBundles=function(i,u,v){this._componentFactories={};var w=i.baseUrl;var x=function(){var A=[];if(i.bundles){i.bundles.forEach(function(D){A.push(this._createBundleContext(D,w))}.bind(this))}return Q.all(A)}.bind(this);var y=function(){var A=[];if(i.bundles){i.bundles.forEach(function(D){A.push(this._loadBundle(D,w))}.bind(this))}return Q.all(A)}.bind(this);var z=function(A){q.apply(this);u()};x().then(y.bind(this)).then(this._activateAllProviders.bind(this,w)).then(z.bind(this)).fail(v).done()};B.prototype._createBundleContext=function(i,u){if(this._bundleRequires[i]){l.apply(this,["Shortcut creating context: "+i]);return this._bundleRequires[i]}l.apply(this,["Creating context: "+i]);var v=Q.defer();var w=o(u,c(i),i);this._bundlePaths[w]=i;var x=require.config(e.apply(this,[{baseUrl:w,context:this._id+"_"+i}]));var y=new S(this._kernel);define("service",y);var z=new a(this._kernel);define("serviceMetadata",z);define("css",C);x([],function(){this._bundleRequires[i]=x;l.apply(this,["Context created: "+i]);v.resolve()}.bind(this),function(A){l.apply(this,["Error creating context: "+i]);v.reject()});return v.promise};B.prototype._resolveBundle=function(i){var u=Q.defer();var v=this._bundleRequires[i];var w=b(i);v([w],function(x){u.resolve(x)},function(x){u.reject(x)});return u.promise};B.prototype._parseBundle=function(i,u){var v=[];var w=o(u,c(i.id),i.id);var x={bundleId:i.id,bundleUrl:w,bundleVersion:i.version};d.apply(this,[i.ui5,i.id,w]);var y=this;(i.components||[]).forEach(function(z){z.framework=x;z.bundleId=i.id;z.dependencies=z.includedDependencies;if(!z.dependencies){z.dependencies=i.dependencies||[];z.dependencies=z.dependencies.concat(v)}v.push(z.provide);z.id=z.id||i.id+"."+z.provide;y._componentFactories[z.provide]=y._componentFactories[z.provide]||[];y._componentFactories[z.provide].push(z)});if(typeof i.onLoaded==="function"){i.onLoaded.apply(this)}};B.prototype._loadBundle=function(i,u){if(this._bundles[i]){l.apply(this,["Shortcut loading: "+i]);return this._bundles[i]}l.apply(this,["Loading: "+i]);n.call(this,"loadBundle",{bundleId:i});var v=this;var w=this._resolveBundle(i);w=w.then(function(x){var y=v._loadDependentBundles(x,u);var z;if(x.hostBundle){v._bundles[i]="ReloadingInHost";var A={};if(i==="sap.viz.geo.all"){A["all-bundle"]="../../../sap/viz/geo/all/all-bundle";A["sap.viz.geo.all"]="../../../sap/viz/geo/all/sap.viz.geo.all";A["resources/libs/jslinq"]="../../../sap/viz/geo/all/resources/libs/jslinq";A["resources/libs/dojo.has"]="../../../sap/viz/geo/all/resources/libs/dojo.has";A["resources/libs/dojo.i18n"]="../../../sap/viz/geo/all/resources/libs/dojo.i18n";A["resources/styles/esri"]="../../../sap/viz/geo/all/resources/styles/esri";A["resources/styles/map"]="../../../sap/viz/geo/all/resources/styles/map"}var D=require.config(e.apply(v,[{context:v._id+"_"+x.hostBundle,paths:A}]));v._bundleRequires[i]=D;z=v._resolveBundle(i);z.then(function(x){v._parseBundle(x,u)});return z}else{y.then(function(E){v._parseBundle(x,u)});return y}});this._bundles[i]=w;return w};B.prototype._loadDependentBundles=function(u,v){var w=[];n.call(this,"loadDependentBundles",{bundleId:u.id,bundle:u});var x=(u&&u.loadAfter)||[];var y=this;var z;for(var i=0;i<x.length;i++){var A=x[i];l.apply(y,["Loading dep '"+A+"' for '"+u.id+"'"]);if(!this._bundleRequires[A]){var D=this._createBundleContext(A,v);z=D.then(y._loadBundle.bind(this,A))}else{z=y._loadBundle(A)}w.push(z)}if(u.hostBundle){if(!y._bundleRequires[u.hostBundle]){throw"Bundle '"+u.id+"' specified an invalid hostBundle of '"+u.hostBundle+"'"}l.apply(y,["Loading host bundle '"+u.hostBundle+"' for '"+u.id+"'"]);z=y._loadBundle(u.hostBundle);w.push(z)}return Q.all(w)};B.prototype._activateAllProviders=function(i){var u=[];for(var v in this._componentFactories){if(this._componentFactories.hasOwnProperty(v)){u.push(this._activateProvider(v,i))}}return Q.all(u)};B.prototype._activateProvider=function(i,u){if(i[0]==="*"){i=i.slice(1)}if(!this._componentFactories[i]){return}if(this._componentFactories[i].activatedProviders){return this._componentFactories[i].activatedProviders}if(this._componentFactories[i].activateInProgress){throw"Infinity and beyond!"}this._componentFactories[i].activateInProgress=true;var v=[];var w=this;var x=this._componentFactories[i];x.forEach(function(z){(z.dependencies||[]).forEach(function(A){if(A!==i){v.push(w._activateProvider(A,u))}})});var y=Q.all(v).then(function(){var z;x.map(function(A){if(z){z=z.then(function(){return w._activateComponent(A,u)})}else{z=w._activateComponent(A,u)}});return z});this._componentFactories[i].activatedProviders=y;this._componentFactories[i].activateInProgress=false;return y};var R="require:";var r=function(i,u){u=u||[];if(typeof i==="string"){if(i.indexOf(R)===0){u.push(i.substring(R.length))}}else if(typeof i==="object"&&i!==null){if(Array.isArray(i)){i.forEach(function(v){r(v,u)})}else{Object.keys(i).forEach(function(v){r(i[v],u)})}}return u};var t=function(i,u){if(typeof i==="string"){if(i.indexOf(R)===0){var v=i.substring(R.length);return u[v]}}else if(typeof i==="object"){if(Array.isArray(i)){return i.map(function(w){return t(w,u)})}else{Object.keys(i).forEach(function(w){i[w]=t(i[w],u)})}}return i};B.prototype._activateComponent=function(i,u){l.apply(this,["Activating: "+i.provide+" | "+i.id]);if(i.module){i.instance=R+i.module}if(i.instance){var v=r(i.instance);if(v.length>0){var w=Q.defer();var x=function(){w.resolve(Array.prototype.slice.call(arguments))};var y=function(F){w.reject(F)};var z=this._bundleRequires[i.bundleId];z(v,x,y);var A=this;var D=w.promise.then(function(F){l.apply(A,["Registering: "+i.provide+" | "+i.id]);var G={};v.forEach(function(H,I){G[v[I]]=F[I]});i.instance=t(i.instance,G);A._kernel.register(i)});return D}}if(i.factory||i.instance){l.apply(this,["Registering: "+i.provide+" | "+i.id]);this._kernel.register(i);return}else{var E=i.id||"unknown";throw new Error("component "+E+" cannot be registered - valid module, factory, or instance not provided")}};B.prototype._getMetadata=function(){return{id:this._id,config:this._config,require:this._require}};B.prototype._getHelpers=function(){return{getBundleUrl:j.bind(this),getBundleId:k.bind(this),getRequireContext:m.bind(this),extendRequireConfig:e.bind(this)}};return{init:function(i,u){var v=new B(i,u);i.register({provide:"bundleLoader.loadBundles",instance:v._loadBundles.bind(v)});i.register({provide:"bundleLoader.getMetadata",instance:v._getMetadata.apply(v)});i.register({provide:"bundleLoader.getHelpers",instance:v._getHelpers.apply(v)})}}});define('sap/bi/framework/kernel/DIKernel',[],function(){function D(){this._componentsByService={};var k=this;this.register({provide:"kernel",instance:k})}D.prototype._getComponentsForService=function(s){var c=this._componentsByService[s];if(c===undefined){c=[];this._componentsByService[s]=c}return c};D.prototype.register=function(c){var s=c.provide;var a={service:s};if(c.factory){a.factory=c.factory}else if(c.instance){a.instance=c.instance}if(!a.factory&&!a.instance){throw new Error("component "+c.id+" cannot be registered - valid instance or factory not provided")}a.dependencies=(c.dependencies||[]).map(function(d){if(d[0]==="*"){return{service:d.slice(1),cardinality:"multiple"}}else{return{service:d,cardinality:"single"}}});a.exportedMetadata={id:c.id,framework:c.framework,customProperties:c.customProperties};this._getComponentsForService(s).push(a)};D.prototype._getDependency=function(d){if(d.cardinality==="single"){return this.getInstance(d.service)}else if(d.cardinality==="multiple"){return this.getAllInstances(d.service)}else{throw new Exception("Unrecognized cardinality: "+d.cardinality)}};D.prototype._getInstance=function(c){var i=c.instance;if(i===undefined){c.constructing=true;var r=c.dependencies.map(this._getDependency.bind(this));i=c.factory.apply(null,r);c.instance=i;delete c.constructing}return i};D.prototype.get=function(s){var c=this._getComponentsForService(s);var v=c.filter(function(a){return!a.constructing});if(v.length===0){return undefined}return v[v.length-1]};D.prototype.getAll=function(s){var c=this._getComponentsForService(s);return c.filter(function(a){return!a.constructing})};D.prototype.getInstance=function(s){var c=this.get(s);return c?this._getInstance(c):c};D.prototype.getAllInstances=function(s){var c=this.getAll(s);return c?c.map(this._getInstance.bind(this)):c};return D});define("sap.viz.aio",[],function(){return{}});window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};
window.sap.bi.framework.declareBundle=function(b){return b};
define('sap.viz.aio-bundle',["sap.viz.aio"],function(){return sap.bi.framework.declareBundle({"id":"sap.viz.aio","components":[{"id":"sap.viz.api","provide":"sap.viz.api","instance":sap.viz.api},{"id":"sap.viz.extapi","provide":"sap.viz.extapi","instance":sap.viz.extapi},{"id":"viz/area","provide":"sap.viz.impls","instance":"sap/viz/impls/AreaChart","customProperties":{"name":"Area Chart","description":"Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/3d_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/Bar3DChart","customProperties":{"name":"3D Bar Chart","description":"3D Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/bar","provide":"sap.viz.impls","instance":"sap/viz/impls/BarChart","customProperties":{"name":"Bar Chart","description":"Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/BubbleChart","customProperties":{"name":"Bubble Chart","description":"Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/3d_column","provide":"sap.viz.impls","instance":"sap/viz/impls/Column3DChart","customProperties":{"name":"3D Column Chart","description":"3D Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/combination","provide":"sap.viz.impls","instance":"sap/viz/impls/CombinationChart","customProperties":{"name":"Combined Column Line Chart","description":"Combined Column Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/donut","provide":"sap.viz.impls","instance":"sap/viz/impls/DonutChart","customProperties":{"name":"Donut Chart","description":"Donut Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/donut_with_depth","provide":"sap.viz.impls","instance":"sap/viz/impls/DonutWithDepthChart","customProperties":{"name":"Donut with Depth Chart","description":"Donut with Depth Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/DualBarChart","customProperties":{"name":"Bar Chart with 2 X-Axes","description":"Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_combination","provide":"sap.viz.impls","instance":"sap/viz/impls/DualCombinationChart","customProperties":{"name":"Combined Column Line Chart with 2 Y-Axes","description":"Combined Column Line Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_horizontal_combination","provide":"sap.viz.impls","instance":"sap/viz/impls/DualHorizontalCombinationChart","customProperties":{"name":"Combined Bar Line Chart with 2 X-Axes","description":"Combined Bar Line Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/DualHorizontalLineChart","customProperties":{"name":"Horizontal Line Chart with 2 X-Axes","description":"Horizontal Line Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_line","provide":"sap.viz.impls","instance":"sap/viz/impls/DualLineChart","customProperties":{"name":"Line Chart with 2 Y-Axes","description":"Line Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/DualPercentageStackedBarChart","customProperties":{"name":"100% Stacked Bar Chart with 2 X-Axes","description":"100% Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/DualPercentageStackedVerticalBarChart","customProperties":{"name":"100% Stacked Column Chart with 2 Y-Axes","description":"100% Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/DualStackedBarChart","customProperties":{"name":"Stacked Bar Chart with 2 X-Axes","description":"Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/DualStackedVerticalBarChart","customProperties":{"name":"Stacked Column Chart with 2 Y-Axes","description":"Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/dual_column","provide":"sap.viz.impls","instance":"sap/viz/impls/DualVerticalBarChart","customProperties":{"name":"Column Chart with 2 Y-Axes","description":"Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/heatmap","provide":"sap.viz.impls","instance":"sap/viz/impls/HeatMapChart","customProperties":{"name":"Heat Map","description":"Heat Map","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalAreaChart","customProperties":{"name":"Horizontal Area Chart","description":"Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_boxplot","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalBoxplotChart","customProperties":{"name":"Horizontal Box Plot","description":"Horizontal Box Plot","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_combination","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalCombinationChart","customProperties":{"name":"Combined Bar Line Chart","description":"Combined Bar Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalLineChart","customProperties":{"name":"Horizontal Line Chart","description":"Horizontal Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_mekko","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalMekkoChart","customProperties":{"name":"Horizontal Mekko Chart","description":"Horizontal Mekko Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_stacked_waterfall","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalStackedWaterfallChart","customProperties":{"name":"Horizontal Stacked Waterfall Chart","description":"Horizontal Stacked Waterfall Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/horizontal_waterfall","provide":"sap.viz.impls","instance":"sap/viz/impls/HorizontalWaterfallChart","customProperties":{"name":"Horizontal Waterfall Chart","description":"Horizontal Waterfall Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/image_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/ImageBarChart","customProperties":{"name":"Image Bar Chart","description":"Image Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/line","provide":"sap.viz.impls","instance":"sap/viz/impls/LineChart","customProperties":{"name":"Line Chart","description":"Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/mekko","provide":"sap.viz.impls","instance":"sap/viz/impls/MekkoChart","customProperties":{"name":"Mekko chart","description":"Mekko chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_area","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiAreaChart","customProperties":{"name":"Multiple Area Chart","description":"Multiple Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiBarChart","customProperties":{"name":"Multiple Bar Chart","description":"Multiple Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiBubbleChart","customProperties":{"name":"Multiple Bubble Chart","description":"Multiple Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_donut","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDonutChart","customProperties":{"name":"Multiple Donut Chart","description":"Multiple Donut Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_donut_with_depth","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDonutWithDepthChart","customProperties":{"name":"Multiple Donut with Depth Chart","description":"Multiple Donut with Depth Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualBarChart","customProperties":{"name":"Multiple Bar Chart with 2 X-Axes","description":"Multiple Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualHorizontalLineChart","customProperties":{"name":"Multiple Horizontal Line Chart with 2 X-Axes","description":"Multiple Horizontal Line Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_line","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualLineChart","customProperties":{"name":"Multiple Line Chart with 2 Y-Axes","description":"Multiple Line Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualPercentageStackedBarChart","customProperties":{"name":"Multiple 100% Stacked Bar Chart with 2 X-Axes","description":"Multiple 100% Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualPercentageStackedVerticalBarChart","customProperties":{"name":"Multiple 100% Stacked Column Chart with 2 Y-Axes","description":"Multiple 100% Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualStackedBarChart","customProperties":{"name":"Multiple Stacked Bar Chart with 2 X-Axes","description":"Multiple Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualStackedVerticalBarChart","customProperties":{"name":"Multiple Stacked Column Chart with 2 Y-Axes","description":"Multiple Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_dual_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiDualVerticalBarChart","customProperties":{"name":"Multiple Column Chart with 2 Y-Axes","description":"Multiple Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiHorizontalAreaChart","customProperties":{"name":"Multiple Horizontal Area Chart","description":"Multiple Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiHorizontalLineChart","customProperties":{"name":"Multiple Horizontal Line Chart","description":"Multiple Horizontal Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_line","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiLineChart","customProperties":{"name":"Multiple Line Chart","description":"Multiple Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_area","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPercentageAreaChart","customProperties":{"name":"Multiple 100% Area Chart","description":"Multiple 100% Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPercentageHorizontalAreaChart","customProperties":{"name":"Multiple 100% Horizontal Area Chart","description":"Multiple 100% Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPercentageStackedBarChart","customProperties":{"name":"Multiple 100% Stacked Bar Chart","description":"Multiple 100% Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_100_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPercentageStackedVerticalBarChart","customProperties":{"name":"Multiple 100% Stacked Column Chart","description":"Multiple 100% Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_pie","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPieChart","customProperties":{"name":"Multiple Pie Chart","description":"Multiple Pie Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_pie_with_depth","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiPieWithDepthChart","customProperties":{"name":"Multiple Pie with Depth Chart","description":"Multiple Pie with Depth Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_radar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiRadarChart","customProperties":{"name":"Multiple Radar Chart","description":"Multiple Radar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_scatter","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiScatterChart","customProperties":{"name":"Multiple Scatter Plot","description":"Multiple Scatter Plot","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiStackedBarChart","customProperties":{"name":"Multiple Stacked Bar Chart","description":"Multiple Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiStackedVerticalBarChart","customProperties":{"name":"Multiple Stacked Column Chart","description":"Multiple Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/multi_column","provide":"sap.viz.impls","instance":"sap/viz/impls/MultiVerticalBarChart","customProperties":{"name":"Multiple Column Chart","description":"Multiple Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/network","provide":"sap.viz.impls","instance":"sap/viz/impls/NetworkChart","customProperties":{"name":"Network Chart","description":"Network Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_area","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageAreaChart","customProperties":{"name":"100% Area Chart","description":"100% Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageHorizontalAreaChart","customProperties":{"name":"100% Horizontal Area Chart","description":"100% Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_horizontal_mekko","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageHorizontalMekkoChart","customProperties":{"name":"100% Horizontal Mekko Chart","description":"100% Horizontal Mekko Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_mekko","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageMekkoChart","customProperties":{"name":"100% Mekko Chart","description":"100% Mekko Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageStackedBarChart","customProperties":{"name":"100% Stacked Bar Chart","description":"100% Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/100_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/PercentageStackedVerticalBarChart","customProperties":{"name":"100% Stacked Column Chart","description":"100% Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/pie","provide":"sap.viz.impls","instance":"sap/viz/impls/PieChart","customProperties":{"name":"Pie Chart","description":"Pie Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/pie_with_depth","provide":"sap.viz.impls","instance":"sap/viz/impls/PieWithDepthChart","customProperties":{"name":"Pie with Depth Chart","description":"Pie with Depth Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/radar","provide":"sap.viz.impls","instance":"sap/viz/impls/RadarChart","customProperties":{"name":"Radar Chart","description":"Radar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/scatter","provide":"sap.viz.impls","instance":"sap/viz/impls/ScatterChart","customProperties":{"name":"Scatter Plot","description":"Scatter Plot","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/scatter_matrix","provide":"sap.viz.impls","instance":"sap/viz/impls/ScatterMatrixChart","customProperties":{"name":"Scatter Matrix Chart","description":"Scatter Matrix Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"riv/simple","provide":"sap.viz.impls","instance":"sap/viz/impls/SimpleChart","customProperties":{"name":"Simple Chart","description":"Simple Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/StackedBarChart","customProperties":{"name":"Stacked Bar Chart","description":"Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/StackedVerticalBarChart","customProperties":{"name":"Stacked Column Chart","description":"Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/stacked_waterfall","provide":"sap.viz.impls","instance":"sap/viz/impls/StackedWaterfallChart","customProperties":{"name":"Stacked Waterfall Chart","description":"Stacked Waterfall Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/tagcloud","provide":"sap.viz.impls","instance":"sap/viz/impls/TagCloudChart","customProperties":{"name":"Tag Cloud","description":"Tag Cloud","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/tree","provide":"sap.viz.impls","instance":"sap/viz/impls/TreeChart","customProperties":{"name":"Tree","description":"Tree","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/treemap","provide":"sap.viz.impls","instance":"sap/viz/impls/TreeMapChart","customProperties":{"name":"Tree Map","description":"Tree Map","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/column","provide":"sap.viz.impls","instance":"sap/viz/impls/VerticalBarChart","customProperties":{"name":"Column Chart","description":"Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/boxplot","provide":"sap.viz.impls","instance":"sap/viz/impls/VerticalBoxplotChart","customProperties":{"name":"Box Plot","description":"Box Plot","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/waterfall","provide":"sap.viz.impls","instance":"sap/viz/impls/WaterfallChart","customProperties":{"name":"Waterfall Chart","description":"Waterfall Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_area","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisAreaChart","customProperties":{"name":"Trellis Area Chart","description":"Trellis Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisBarChart","customProperties":{"name":"Trellis Bar Chart","description":"Trellis Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisBubbleChart","customProperties":{"name":"Trellis Bubble Chart","description":"Trellis Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisColumnChart","customProperties":{"name":"Trellis Column Chart","description":"Trellis Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_donut","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDonutChart","customProperties":{"name":"Trellis Donut Chart","description":"Trellis Donut Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualBarChart","customProperties":{"name":"Trellis Bar Chart with 2 X-Axes","description":"Trellis Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualColumnChart","customProperties":{"name":"Trellis Column Chart with 2 Y-Axes","description":"Trellis Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualHorizontalLineChart","customProperties":{"name":"Trellis Horizontal Line Chart with 2 X-Axes","description":"Trellis Horizontal Line Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_line","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualLineChart","customProperties":{"name":"Trellis Line Chart with 2 Y-Axes","description":"Trellis Line Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualPercentageStackedBarChart","customProperties":{"name":"Trellis 100% Stacked Bar Chart with 2 X-Axes","description":"Trellis 100% Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualPercentageStackedColumnChart","customProperties":{"name":"Trellis 100% Stacked Column Chart with 2 Y-Axes","description":"Trellis 100% Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualStackedBarChart","customProperties":{"name":"Trellis Stacked Bar Chart with 2 X-Axes","description":"Trellis Stacked Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisDualStackedColumnChart","customProperties":{"name":"Trellis Stacked Column Chart with 2 Y-Axes","description":"Trellis Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisHorizontalAreaChart","customProperties":{"name":"Trellis Horizontal Area Chart","description":"Trellis Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisHorizontalLineChart","customProperties":{"name":"Flag Bar Chart","description":"Bar chart showing flags","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_line","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisLineChart","customProperties":{"name":"Trellis Horizontal Line Chart","description":"Trellis Horizontal Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_area","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisPercentageAreaChart","customProperties":{"name":"Trellis 100% Area Chart","description":"Trellis 100% Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_horizontal_area","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisPercentageHorizontalAreaChart","customProperties":{"name":"Trellis 100% Horizontal Area Chart","description":"Trellis 100% Horizontal Area Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisPercentageStackedBarChart","customProperties":{"name":"Trellis 100% Stacked Bar Chart","description":"Trellis 100% Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_100_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisPercentageStackedColumnChart","customProperties":{"name":"Trellis 100% Stacked Column Chart","description":"Trellis 100% Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_pie","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisPieChart","customProperties":{"name":"Trellis Pie Chart","description":"Trellis Pie Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_scatter","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisScatterChart","customProperties":{"name":"Trellis Scatter Chart","description":"Trellis Scatter Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisStackedBarChart","customProperties":{"name":"Trellis Stacked Bar Chart","description":"Trellis Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/trellis_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/TrellisStackedColumnChart","customProperties":{"name":"Trellis Stacked Column Chart","description":"Trellis Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/line","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoLineChart","customProperties":{"name":"Info Line Chart","description":"Info Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/info_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoHorizontalLineChart","customProperties":{"name":"Info Horizontal Line Chart","description":"Info Horizontal Line Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/dual_line","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualLineChart","customProperties":{"name":"Info Line Chart with 2 Y-Axes","description":"Info Line Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/info_dual_horizontal_line","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualHorizontalLineChart","customProperties":{"name":"Info Horizontal Line Chart with 2 X-Axes","description":"Info Horizontal Line Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoColumnChart","customProperties":{"name":"Info Column Chart","description":"Info Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoBarChart","customProperties":{"name":"Info Bar Chart","description":"Info Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/bullet","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoBulletChart","customProperties":{"name":"Bullet Chart","description":"Bullet Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/dual_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualBarChart","customProperties":{"name":"Info Bar Chart with 2 X-Axes","description":"Info Bar Chart with 2 X-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/dual_column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualColumnChart","customProperties":{"name":"Info Column Chart with 2 Y-Axes","description":"Info Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoStackedColumnChart","customProperties":{"name":"Info Stacked Column Chart","description":"Info Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoStackedBarChart","customProperties":{"name":"Info Stacked Bar Chart","description":"Info Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualStackedColumnChart","customProperties":{"name":"Info Stacked Column Chart with 2 Y-Axes","description":"Info Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualStackedBarChart","customProperties":{"name":"Info Stacked Bar Chart with 2 Y-Axes","description":"Info Stacked Bar Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/100_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoPercentageStackedColumnChart","customProperties":{"name":"Info 100% Stacked Column Chart","description":"Info 100% Stacked Column Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/100_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoPercentageStackedBarChart","customProperties":{"name":"Info 100% Stacked Bar Chart","description":"Info 100% Stacked Bar Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/100_dual_stacked_column","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualPercentageStackedColumnChart","customProperties":{"name":"Info 100% Stacked Column Chart with 2 Y-Axes","description":"Info 100% Stacked Column Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/100_dual_stacked_bar","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDualPercentageStackedBarChart","customProperties":{"name":"Info 100% Stacked Bar Chart with 2 Y-Axes","description":"Info 100% Stacked Bar Chart with 2 Y-Axes","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoBubbleChart","customProperties":{"name":"Info Bubble Chart","description":"Info Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/time_bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoTimeValueBubbleChart","customProperties":{"name":"Info Time Value Bubble Chart","description":"Info Time Value Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/scatter","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoScatterChart","customProperties":{"name":"Info Scatter Chart","description":"Info Scatter Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/bullet","provide":"sap.viz.impls","instance":"sap/viz/impls/BulletChart","customProperties":{"name":"Bullet Chart","description":"Bullet Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/pie","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoPieChart","customProperties":{"name":"Info Pie Chart","description":"Info Pie Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/donut","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoDonutChart","customProperties":{"name":"Info Donut Chart","description":"Info Donut Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"info/combination","provide":"sap.viz.impls","instance":"sap/viz/impls/InfoCombinationChart","customProperties":{"name":"Info Combination Chart","description":"Info Combination Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},{"id":"viz/time_value_bubble","provide":"sap.viz.impls","instance":"sap/viz/impls/TimeValueBubbleChart","customProperties":{"name":"Time Value Bubble Chart","description":"Time Value Bubble Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}},,{"id":"viz/number","provide":"sap.viz.impls","instance":"sap/viz/impls/NumberChart","customProperties":{"name":"Number Chart","description":"Number Chart","resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/charts"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/langs/sdk"}]}}]})});define('sap.viz.aio-bundleloader',["sap/bi/framework/BundleLoader/BundleLoader","sap/bi/framework/kernel/DIKernel","sap/bi/framework/BundleLoader/CssPlugin","sap.viz.aio-bundle"],function(B,D,C,a){if(sap===undefined||sap.bi===undefined||sap.bi.framework===undefined||sap.bi.framework.getService===undefined){if(!window._cvom_kernel){window._cvom_kernel=new D()}B.init(window._cvom_kernel,{})}a.components.forEach(function(c){if(!c.instance){c.instance={}}});(a.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel));window.sap=window.sap||{};window.sap.viz=window.sap.viz||{};window.sap.viz.extapi=window.sap.viz.extapi||{};window.sap.viz.extapi.core=window.sap.viz.extapi.core||{};window.sap.viz.extapi.core.registerBundle=function(b){(b.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel))};define("css",C);return null});(function(g){var e=["sap/viz/data/description/DataContainer","sap/viz/data/description/MeasureValues","sap/viz/data/description/MeasureValuesGroup","sap/viz/data/description/DimensionLabels","sap/viz/data/description/AnalysisAxis","sap/viz/data/CrosstableDataset","sap/viz/data/FlatTableDataset","sap/viz/data/utils/CTB2TBConvertUtil","sap/viz/manifest","sap/viz/manifests/util/ManifestRegister","sap/viz/TemplateManager","sap/viz/config","sap/viz/Locale","sap/viz/lang/langManager","sap/viz/data/MultiAxesDataAdapter","sap/viz/format/FormatManager","sap/viz/data/handler/MeasureDataHandler","sap/viz/data/handler/SingleChartDataHandler","sap/viz/core","sap/viz/ccl","sap/viz/base/utils/log/Analyzer","sap/viz/base/utils/log/LogUtil","sap/viz/env","sap/viz/api/core/VizInstance","sap/viz/api/core","sap/viz/api/serialization","sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/api/log/Appender","sap/viz/api/log/Layout","sap/viz/api/log/Logger","sap/viz/extapi/core","sap/viz/extapi/Flow","sap/viz/api/env","sap/viz/api/env/Language","sap/viz/api/env/Locale","sap/viz/api/env/Resource","sap/viz/api/env/Template","sap/viz/api/env/Format","sap/viz/api/manifest/Feed","sap/viz/api/manifest/Module","sap/viz/api/manifest/Viz","sap/viz/extapi/env/Language","sap/viz/extapi/env/Locale","sap/viz/extapi/env/Resource","sap/viz/extapi/env/Template","sap/viz/extapi/manifest/Feed","sap/viz/extapi/manifest/Module","sap/viz/extapi/manifest/Viz"];var j=g.jQuery;if(j){if(jQuery.holdReady){jQuery.holdReady(true)}else{jQuery.readyWait+=1}}function m(t,b){var p;for(p in b){if(b.hasOwnProperty(p)){t[p]=b[p]}}return t}function a(){function c(b){if(!b){return b}var p={},f;for(f in b){if(b.hasOwnProperty(f)&&(typeof b[f])==='function'){if(f==="get"||f==="each"){p[f]=function(d){return function(){if(sap&&sap.viz&&sap.viz.manifests&&sap.viz.manifests.util&&sap.viz.manifests.util.ManifestRegister){sap.viz.manifests.util.ManifestRegister.registerAll()}return b[d].apply(this,arguments)}}(f)}else{p[f]=function(d){return function(){return b[d].apply(this,arguments)}}(f)}}}return p}if(sap&&sap.viz&&sap.viz.manifest){var s={};s.feeds=c(sap.viz.manifest.feeds);s.module=c(sap.viz.manifest.module);s.viz=c(sap.viz.manifest.viz);sap.viz.manifest=s}}require(e,function(){var b=arguments;e.forEach(function(d,i){var n=d.split("/");n.reduce(function(p,c,f){if(!p[c]){if(f<n.length-1){p[c]={}}else{p[c]=b[i]}}else if(f===n.length-1){p[c]=m(p[c],b[i])}return p[c]},g)});a();require(["sap.viz.aio-bundleloader"],function(){if(j){if(jQuery.holdReady){jQuery.holdReady(false)}else{jQuery.ready(true)}}})})})(this);Object.defineProperty(sap.viz.api,'VERSION',{value:'PI_bycheckin.1506',writable:false});Object.defineProperty(sap.viz.extapi,'VERSION',{value:'PI_bycheckin.1506',writable:false});sap.viz.extapi.env.Language.register({id:'en',value:{IDS_ALREADY_EXISTS:"already exists",IDS_FEED:"feed",IDS_ERROR_DIMENSION_NOT_ZERO:"Length of dimension cannot be zero.",IDS_ERROR_DIMENSION_WRONG_COUNT:"{0} is incorrect dimension count.",IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT:"{0} is incorrect dimension labels count.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2:"The values count {0} in the second analysis axis (aa2) should be {1}.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1:"The values count {0} in the first analysis axis (aa1) should be {1}.",IDS_ERROR_NOT_MEET_NUMBER_OF_FEED:"{0} : does not meet minimum or maximum number of feeds definition.",IDS_ERROR_WRONG_FEED_TYPE:"The feed type of {0} is incorrect.",IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION:"The feed type in the feed definition {0} is incorrect.",IDS_ERROR_WRONG_AXIS_INDEX:"The analysis axis index in the feed definition {0} is incorrect.",IDS_ERROR_WRONG_MEASURE_AXIS_INDEX:"The measure axis index in the feed definition {0} is incorrect.",IDS_ERROR_INVALID_FEEDING:"Invalid feeding: feed {0} has exceeded maximum stacked dimension number.",IDS_ERROR_NO_FEED_ID:"Invalid feeding: no feed id",IDS_ERROR_INVALID_FEEDING_NUMBER:"Invalid feeding: the correct number  is {0} feed.",IDS_ERROR_NO_AXIS:"Could not find axis {0} in data set {1} feed.",IDS_ERROR_FEED_NOT_ACCEPT_DATA:"Feed {0} could not accept more data containers.",IDS_ERROR_NOT_FIND_MEASURE_GROUP:"Could not find measure values group {0} in data set {1} feed.",IDS_ERROR_NOT_ACCEPT:"Could not accept",IDS_ERROR_INVALID_BINDING:"Invalid data binding",IDS_ERROR_NOT_FIND_FEED_DEFINITION:"Could not find feed definition of {0}.",IDS_ERROR_WRONG_TYPE:"Data type is incorrect.",IDS_ERROR_NOT_SUPPORTED:"Not supported",IDS_ERROR_NOT_DETERMINE_AXIS_INDEX:"Could not determine measure value axis index",IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES:"Could not accept more than 2 axes",IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2:"Axis index should be 1 or 2",IDS_ERROR_NOT_DETERMINE_DEMENSION:"Cannot determine the dimension after transform is applied",IDS_ERROR_UNKNOWN_STATE:"Unknown state",IDS_ERROR_INVALID_PATH_DEFINITION:"Invalid path definition: {0}.",IDS_ERROR_NODE_NOT_IN_SAME_ROOT:"Node is not in the same root",IDS_ERROR_NOT_ADD_SELF_AS_CHILD:"Cannot add self as a child",IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD:"Cannot add ancestor as a child",IDS_ERROR_NOT_CHILD_NODE_INSERT:"The node to be inserted is not a child of this node.",IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE:"Node is not a child of this node",IDS_ERROR_SELECTOR_NOT_NULL:"Selector string cannot be null.",IDS_ERROR_NOT_FIND_JQUERY:"Cannot find 'jQuery' library",IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE:"You must specify the chart or component options to initialize.",IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION:"The target <DIV> is not specified for rendering the visualization.",IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER:"Cannot initialize without a root UIController <DIV>.",IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME:"You must provide a container <DIV> for the visualization.",IDS_ERROR_CATEGORY_NAME_NOT_EMPTY:"The category name must be a non-empty string.",IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION:"The category factory must be a function.",IDS_ERROR_EXIST_CATEGORY_NAME:"There is already a category named {0}.",IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT:"Cannot register a undefined object.",IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID:"Cannot register without a valid id.",IDS_ERROR_UNKNOWN_ERROR:"Unknown error.",IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT:"Could not create a call chain for a non-function object.",IDS_ERROR_AXIS_ALREADY_EXIST:"Axis {0} already exists.",IDS_ERROR_CAN_NOT_FIND_CATEGORY:"Cannot find {0} in category {1}.",IDS_ERROR_ALREADY_EXIST_IN_CATEGORY:"There is already an item named {0} in category {1}.",IDS_ERROR_LOADING_TEMPLATE_FAIL:"Loading template {0} failed.",IDS_ERROR_PARSE_ERROR_EXPECT_TO:"Error occured when parsing {0} , it should be : {1}.",IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING:"The field index in feed definition {0} is missing.",IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING:"he field ids in manual feeding are missing or not in array format.",IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM:"Invalid parameter, parameter must have metadata and data.",IDS_WARN_PARAMETER_NOT_CORRECT:"Input parameter is not correct.",IDS_WARN_LOCALE_NOT_CORRECT:"Input locale is not correct.",}});sap.viz.extapi.env.Language.register({id:'en',value:{IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_VALUES_SELECTED:"values selected",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_TIMEVALUEBUBBLECHART:"Time Bubble Chart",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_TREECHART:"Tree",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut with Depth Chart",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Donut with Depth Chart",IDS_NETWORKCHART:"Network Chart",IDS_TRELLISPIECHART:"Trellis Pie Chart",IDS_TRELLISDONUTCHART:"Trellis Donut Chart",IDS_TRELLISBARCHART:"Trellis Bar Chart",IDS_TRELLISCOLUMNCHART:"Trellis Column Chart",IDS_TRELLISLINECHART:"Trellis Line Chart",IDS_TRELLISHORIZONTALLINECHART:"Trellis Horizontal Line Chart",IDS_TRELLISAREACHART:"Trellis Area Chart",IDS_TRELLISHORIZONTALAREACHART:"Trellis Horizontal Area Chart",IDS_TRELLISSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart",IDS_TRELLISSTACKEDBARCHART:"Trellis Stacked Bar Chart",IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart",IDS_TRELLISPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart",IDS_TRELLISPERCENTAGEAREACHART:"Trellis 100% Area Chart",IDS_TRELLISPERCENTAGEHORIZONTALAREACHART:"Trellis 100% Horizontal Area Chart",IDS_TRELLISDUALCOLUMNCHART:"Trellis Column Chart with 2 Y-Axes",IDS_TRELLISDUALBARCHART:"Trellis Bar Chart with 2 X-Axes",IDS_TRELLISDUALLINECHART:"Trellis Line Chart with 2 Y-Axes",IDS_TRELLISDUALHORIZONTALLINECHART:"Trellis Horizontal Line Chart with 2 X-Axes",IDS_TRELLISDUALSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart with 2 Y-Axes",IDS_TRELLISDUALSTACKEDBARCHART:"Trellis Stacked Bar Chart with 2 X-Axes",IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart with 2 X-Axes",IDS_TRELLISBUBBLECHART:"Trellis Bubble Chart",IDS_TRELLISSCATTERCHART:"Trellis Scatter Chart",IDS_NUMBERCHART:"Numeric Point",IDS_BULLETCHART:"Bullet Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TREENODE:"Tree Node",IDS_NETLINK:"Network Link",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_TARGETVALUES:"Target Values",IDS_REFERENCEVALUES:"Reference Values",IDS_NUMBERCHART_VALUE:"Value",IDS_SELECTABILITY:"Selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"Bar",IDS_LINE:"Line",IDS_WIDTH:"Width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"Marker",IDS_VISIBLE:"visible",IDS_SHAPE:"Shape",IDS_SIZE:"Size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"Label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"Markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"Mode",IDS_TITLE:"Title",IDS_TEXT:"Text",IDS_GRIDLINE:"Gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"Type",IDS_FORMAT:"Format",IDS_POSITION:"Position",IDS_BORDER:"Border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",IDS_SEMANTICCOLOROTHERS:"Others",IDS_SEMANTICCOLORRANGE:"Semantic Range",}});if(window.__sap_viz_internal_requirejs_nextTick__!==undefined){if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){requirejs.s.contexts._.nextTick=window.__sap_viz_internal_requirejs_nextTick__}window.__sap_viz_internal_requirejs_nextTick__=undefined}
